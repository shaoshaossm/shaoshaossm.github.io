<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>SpringCloudä¹‹GateWay</title>
      <link href="/2022-03-20-springcloud-zhi-gateway.html"/>
      <url>/2022-03-20-springcloud-zhi-gateway.html</url>
      
        <content type="html"><![CDATA[<p><a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-gateway/2.2.1.RELEASE/reference/html/">Gatewayå®˜ç½‘</a></p><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><ul><li><p>Gatewayæ˜¯åœ¨Springç”Ÿæ€ç³»ç»Ÿä¹‹ä¸Šæ„å»ºçš„APIç½‘å…³æœåŠ¡ï¼ŒåŸºäºSpring 5ï¼ŒSpring Boot 2å’ŒProject Reactorç­‰æŠ€æœ¯ã€‚</p></li><li><p>Gatewayæ—¨åœ¨æä¾›ä¸€ç§ç®€å•è€Œæœ‰æ•ˆçš„æ–¹å¼æ¥å¯¹APIè¿›è¡Œè·¯ç”±ï¼Œä»¥åŠæä¾›ä¸€äº›å¼ºå¤§çš„è¿‡æ»¤å™¨åŠŸèƒ½ï¼Œä¾‹å¦‚:ç†”æ–­ã€é™æµã€é‡è¯•ç­‰ã€‚</p></li><li><p>SpringCloud Gatewayæ˜¯Spring Cloudçš„ä¸€ä¸ªå…¨æ–°é¡¹ç›®ï¼ŒåŸºäºSpring 5.0+Spring Boot 2.0å’ŒProject Reactorç­‰æŠ€æœ¯å¼€å‘çš„ç½‘å…³ï¼Œå®ƒæ—¨åœ¨ä¸ºå¾®æœåŠ¡æ¶æ„æä¾›â€”ç§ç®€å•æœ‰æ•ˆçš„ç»Ÿä¸€çš„APIè·¯ç”±ç®¡ç†æ–¹å¼ã€‚</p></li><li><p>SpringCloud Gatewayä½œä¸ºSpring Cloud ç”Ÿæ€ç³»ç»Ÿä¸­çš„ç½‘å…³ï¼Œç›®æ ‡æ˜¯æ›¿ä»£Zuulï¼Œåœ¨Spring Cloud 2.0ä»¥ä¸Šç‰ˆæœ¬ä¸­ï¼Œæ²¡æœ‰å¯¹æ–°ç‰ˆæœ¬çš„Zul 2.0ä»¥ä¸Šæœ€æ–°é«˜æ€§èƒ½ç‰ˆæœ¬è¿›è¡Œé›†æˆï¼Œä»ç„¶è¿˜æ˜¯ä½¿ç”¨çš„Zuul 1.xéReactoræ¨¡å¼çš„è€ç‰ˆæœ¬ã€‚è€Œä¸ºäº†æå‡ç½‘å…³çš„æ€§èƒ½ï¼ŒSpringCloud Gatewayæ˜¯åŸºäºWebFluxæ¡†æ¶å®ç°çš„ï¼Œè€ŒWebFluxæ¡†æ¶åº•å±‚åˆ™ä½¿ç”¨äº†é«˜æ€§èƒ½çš„Reactoræ¨¡å¼é€šä¿¡æ¡†æ¶Nettyã€‚</p></li><li><p>Spring Cloud Gatewayçš„ç›®æ ‡æä¾›ç»Ÿä¸€çš„è·¯ç”±æ–¹å¼ä¸”åŸºäº Filteré“¾çš„æ–¹å¼æä¾›äº†ç½‘å…³åŸºæœ¬çš„åŠŸèƒ½ï¼Œä¾‹å¦‚:å®‰å…¨ï¼Œç›‘æ§/æŒ‡æ ‡ï¼Œå’Œé™æµã€‚</p></li></ul><p><strong>ä½œç”¨</strong></p><ul><li>æ–¹å‘ä»£ç†</li><li>é‰´æƒ</li><li>æµé‡æ§åˆ¶</li><li>ç†”æ–­</li><li>æ—¥å¿—ç›‘æ§</li></ul><p><strong>SpringCloud Gatewayå…·æœ‰å¦‚ä¸‹ç‰¹æ€§</strong></p><ul><li>åŸºäºSpring Framework 5ï¼ŒProject Reactorå’ŒSpring Boot 2.0è¿›è¡Œæ„å»ºï¼›</li><li>åŠ¨æ€è·¯ç”±ï¼šèƒ½å¤ŸåŒ¹é…ä»»ä½•è¯·æ±‚å±æ€§ï¼›</li><li>å¯ä»¥å¯¹è·¯ç”±æŒ‡å®šPredicate (æ–­è¨€)å’ŒFilter(è¿‡æ»¤å™¨)ï¼›</li><li>é›†æˆHystrixçš„æ–­è·¯å™¨åŠŸèƒ½ï¼›</li><li>é›†æˆSpring Cloud æœåŠ¡å‘ç°åŠŸèƒ½ï¼›</li><li>æ˜“äºç¼–å†™çš„Predicate (æ–­è¨€)å’ŒFilter (è¿‡æ»¤å™¨)ï¼›</li><li>è¯·æ±‚é™æµåŠŸèƒ½ï¼›</li><li>æ”¯æŒè·¯å¾„é‡å†™ã€‚</li></ul><h4 id="Gatewayæ¨¡å‹"><a href="#Gatewayæ¨¡å‹" class="headerlink" title="Gatewayæ¨¡å‹"></a>Gatewayæ¨¡å‹</h4><p>WebFluxæ˜¯ä»€ä¹ˆï¼Ÿå®˜æ–¹æ–‡æ¡£</p><p>ä¼ ç»Ÿçš„Webæ¡†æ¶ï¼Œæ¯”å¦‚è¯´: Struts2ï¼ŒSpringMVCç­‰éƒ½æ˜¯åŸºäºServlet APlä¸Servletå®¹å™¨åŸºç¡€ä¹‹ä¸Šè¿è¡Œçš„ã€‚</p><p>ä½†æ˜¯åœ¨Servlet3.1ä¹‹åæœ‰äº†å¼‚æ­¥éé˜»å¡çš„æ”¯æŒã€‚è€ŒWebFluxæ˜¯ä¸€ä¸ª<strong>å…¸å‹éé˜»å¡å¼‚æ­¥çš„æ¡†æ¶</strong>ï¼Œå®ƒçš„æ ¸å¿ƒæ˜¯åŸºäºReactorçš„ç›¸å…³APIå®ç°çš„ã€‚ç›¸å¯¹äºä¼ ç»Ÿçš„webæ¡†æ¶æ¥è¯´ï¼Œå®ƒå¯ä»¥è¿è¡Œåœ¨è¯¸å¦‚Nettyï¼ŒUndertowåŠæ”¯æŒServlet3.1çš„å®¹å™¨ä¸Šã€‚éé˜»å¡å¼+å‡½æ•°å¼ç¼–ç¨‹(Spring 5å¿…é¡»è®©ä½ ä½¿ç”¨Java 8)ã€‚</p><p>Spring WebFluxæ˜¯Spring 5.0 å¼•å…¥çš„æ–°çš„å“åº”å¼æ¡†æ¶ï¼ŒåŒºåˆ«äºSpring MVCï¼Œå®ƒä¸éœ€è¦ä¾èµ–Servlet APlï¼Œå®ƒæ˜¯<strong>å®Œå…¨å¼‚æ­¥éé˜»å¡</strong>çš„ï¼Œå¹¶ä¸”åŸºäºReactoræ¥å®ç°å“åº”å¼æµè§„èŒƒã€‚</p><h3 id="Gatewayå·¥ä½œæµç¨‹"><a href="#Gatewayå·¥ä½œæµç¨‹" class="headerlink" title="Gatewayå·¥ä½œæµç¨‹"></a>Gatewayå·¥ä½œæµç¨‹</h3><p><strong>ä¸‰å¤§æ ¸å¿ƒæ¦‚å¿µ</strong></p><ul><li>Route(è·¯ç”±) - è·¯ç”±æ˜¯æ„å»ºç½‘å…³çš„åŸºæœ¬æ¨¡å—,å®ƒç”±ID,ç›®æ ‡URI,ä¸€ç³»åˆ—çš„æ–­è¨€å’Œè¿‡æ»¤å™¨ç»„æˆ,å¦‚æ–­è¨€ä¸ºtrueåˆ™åŒ¹é…è¯¥è·¯ç”±ï¼›</li><li>Predicate(æ–­è¨€) - å‚è€ƒçš„æ˜¯Java8çš„java.util.function.Predicateï¼Œå¼€å‘äººå‘˜å¯ä»¥åŒ¹é…HTTPè¯·æ±‚ä¸­çš„æ‰€æœ‰å†…å®¹(ä¾‹å¦‚è¯·æ±‚å¤´æˆ–è¯·æ±‚å‚æ•°),å¦‚æœè¯·æ±‚ä¸æ–­è¨€ç›¸åŒ¹é…åˆ™è¿›è¡Œè·¯ç”±ï¼›</li><li>Filter(è¿‡æ»¤) - æŒ‡çš„æ˜¯Springæ¡†æ¶ä¸­GatewayFilterçš„å®ä¾‹,ä½¿ç”¨è¿‡æ»¤å™¨,å¯ä»¥åœ¨è¯·æ±‚è¢«è·¯ç”±å‰æˆ–è€…ä¹‹åå¯¹è¯·æ±‚è¿›è¡Œä¿®æ”¹ã€‚</li></ul><hr><ul><li><p>webè¯·æ±‚ï¼Œé€šè¿‡ä¸€äº›åŒ¹é…æ¡ä»¶ï¼Œå®šä½åˆ°çœŸæ­£çš„æœåŠ¡èŠ‚ç‚¹ã€‚å¹¶åœ¨è¿™ä¸ªè½¬å‘è¿‡ç¨‹çš„å‰åï¼Œè¿›è¡Œä¸€äº›ç²¾ç»†åŒ–æ§åˆ¶ã€‚</p></li><li><p>predicateå°±æ˜¯æˆ‘ä»¬çš„åŒ¹é…æ¡ä»¶ï¼›è€Œfliterï¼Œå°±å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæ— æ‰€ä¸èƒ½çš„æ‹¦æˆªå™¨ã€‚æœ‰äº†è¿™ä¸¤ä¸ªå…ƒç´ ï¼Œå†åŠ ä¸Šç›®æ ‡uriï¼Œå°±å¯ä»¥å®ç°ä¸€ä¸ªå…·ä½“çš„è·¯ç”±äº†</p></li></ul><h4 id="Gatewayå·¥ä½œæµç¨‹-1"><a href="#Gatewayå·¥ä½œæµç¨‹-1" class="headerlink" title="Gatewayå·¥ä½œæµç¨‹"></a>Gatewayå·¥ä½œæµç¨‹</h4><p><a href="https://cloud.spring.io/spring-cloud-static/spring-cloud-gateway/2.2.1.RELEASE/reference/html/#gateway-how-it-works">å®˜ç½‘æ€»ç»“</a></p><p><img src="https://img-blog.csdnimg.cn/cc5d777034524391b52c1d345d276cd2.png" alt="å·¥ä½œæµç¨‹"></p><p>å®¢æˆ·ç«¯å‘Spring Cloud Gatewayå‘å‡ºè¯·æ±‚ã€‚ç„¶ååœ¨Gateway Handler Mapping ä¸­æ‰¾åˆ°ä¸è¯·æ±‚ç›¸åŒ¹é…çš„è·¯ç”±ï¼Œå°†å…¶å‘é€åˆ°GatewayWeb Handlerã€‚</p><p>Handlerå†é€šè¿‡æŒ‡å®šçš„è¿‡æ»¤å™¨é“¾æ¥å°†è¯·æ±‚å‘é€åˆ°æˆ‘ä»¬å®é™…çš„æœåŠ¡æ‰§è¡Œä¸šåŠ¡é€»è¾‘ï¼Œç„¶åè¿”å›ã€‚</p><p>è¿‡æ»¤å™¨ä¹‹é—´ç”¨è™šçº¿åˆ†å¼€æ˜¯å› ä¸ºè¿‡æ»¤å™¨å¯èƒ½ä¼šåœ¨å‘é€ä»£ç†è¯·æ±‚ä¹‹å‰(â€œpreâ€)æˆ–ä¹‹å(â€œpostâ€ï¼‰æ‰§è¡Œä¸šåŠ¡é€»è¾‘ã€‚</p><p>Filteråœ¨â€œpreâ€ç±»å‹çš„è¿‡æ»¤å™¨å¯ä»¥åšå‚æ•°æ ¡éªŒã€æƒé™æ ¡éªŒã€æµé‡ç›‘æ§ã€æ—¥å¿—è¾“å‡ºã€åè®®è½¬æ¢ç­‰ï¼Œåœ¨â€œpostâ€ç±»å‹çš„è¿‡æ»¤å™¨ä¸­å¯ä»¥åšå“åº”å†…å®¹ã€å“åº”å¤´çš„ä¿®æ”¹ï¼Œæ—¥å¿—çš„è¾“å‡ºï¼Œæµé‡ç›‘æ§ç­‰æœ‰ç€éå¸¸é‡è¦çš„ä½œç”¨ã€‚</p><p><font color="red">æ ¸å¿ƒé€»è¾‘ï¼šè·¯ç”±è½¬å‘ + æ‰§è¡Œè¿‡æ»¤å™¨é“¾</font></p>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringCloud </tag>
            
            <tag> GateWay </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringCloudä¹‹Hystrix</title>
      <link href="/2022-03-19-springcloud-zhi-hystrix.html"/>
      <url>/2022-03-19-springcloud-zhi-hystrix.html</url>
      
        <content type="html"><![CDATA[<h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><h4 id="åˆ†å¸ƒå¼ç³»ç»Ÿé¢ä¸´çš„é—®é¢˜"><a href="#åˆ†å¸ƒå¼ç³»ç»Ÿé¢ä¸´çš„é—®é¢˜" class="headerlink" title="åˆ†å¸ƒå¼ç³»ç»Ÿé¢ä¸´çš„é—®é¢˜"></a>åˆ†å¸ƒå¼ç³»ç»Ÿé¢ä¸´çš„é—®é¢˜</h4><p>å¤æ‚åˆ†å¸ƒå¼ä½“ç³»ç»“æ„ä¸­çš„åº”ç”¨ç¨‹åºæœ‰æ•°åä¸ªä¾èµ–å…³ç³»ï¼Œæ¯ä¸ªä¾èµ–å…³ç³»åœ¨æŸäº›æ—¶å€™å°†ä¸å¯é¿å…åœ°å¤±è´¥ã€‚</p><h4 id="æœåŠ¡é›ªå´©"><a href="#æœåŠ¡é›ªå´©" class="headerlink" title="æœåŠ¡é›ªå´©"></a>æœåŠ¡é›ªå´©</h4><p>â€‹        å¤šä¸ªå¾®æœåŠ¡ä¹‹é—´è°ƒç”¨çš„æ—¶å€™ï¼Œå‡è®¾å¾®æœåŠ¡Aè°ƒç”¨å¾®æœåŠ¡Bå’Œå¾®æœåŠ¡Cï¼Œå¾®æœåŠ¡Bå’Œå¾®æœåŠ¡Cåˆè°ƒç”¨å…¶å®ƒçš„å¾®æœåŠ¡ï¼Œè¿™å°±æ˜¯æ‰€è°“çš„â€œæ‰‡å‡ºâ€ã€‚å¦‚æœæ‰‡å‡ºçš„é“¾è·¯ä¸ŠæŸä¸ªå¾®æœåŠ¡çš„è°ƒç”¨å“åº”æ—¶é—´è¿‡é•¿æˆ–è€…ä¸å¯ç”¨ï¼Œå¯¹å¾®æœåŠ¡Açš„è°ƒç”¨å°±ä¼šå ç”¨è¶Šæ¥è¶Šå¤šçš„ç³»ç»Ÿèµ„æºï¼Œè¿›è€Œå¼•èµ·ç³»ç»Ÿå´©æºƒï¼Œæ‰€è°“çš„â€œé›ªå´©æ•ˆåº”â€.<br>â€‹        å¯¹äºé«˜æµé‡çš„åº”ç”¨æ¥è¯´ï¼Œå•ä¸€çš„åé¿ä¾èµ–å¯èƒ½ä¼šå¯¼è‡´æ‰€æœ‰æœåŠ¡å™¨ä¸Šçš„æ‰€æœ‰èµ„æºéƒ½åœ¨å‡ ç§’é’Ÿå†…é¥±å’Œã€‚æ¯”å¤±è´¥æ›´ç³Ÿç³•çš„æ˜¯ï¼Œè¿™äº›åº”ç”¨ç¨‹åºè¿˜å¯èƒ½å¯¼è‡´æœåŠ¡ä¹‹é—´çš„å»¶è¿Ÿå¢åŠ ï¼Œå¤‡ä»½é˜Ÿåˆ—ï¼Œçº¿ç¨‹å’Œå…¶ä»–ç³»ç»Ÿèµ„æºç´§å¼ ï¼Œå¯¼è‡´æ•´ä¸ªç³»ç»Ÿå‘ç”Ÿæ›´å¤šçš„çº§è”æ•…éšœã€‚è¿™äº›éƒ½è¡¨ç¤ºéœ€è¦å¯¹æ•…éšœå’Œå»¶è¿Ÿè¿›è¡Œéš”ç¦»å’Œç®¡ç†ï¼Œä»¥ä¾¿å•ä¸ªä¾èµ–å…³ç³»çš„å¤±è´¥ï¼Œä¸èƒ½å–æ¶ˆæ•´ä¸ªåº”ç”¨ç¨‹åºæˆ–ç³»ç»Ÿã€‚</p><p>â€‹        æ‰€ä»¥ï¼Œé€šå¸¸å½“ä½ å‘ç°ä¸€ä¸ªæ¨¡å—ä¸‹çš„æŸä¸ªå®ä¾‹å¤±è´¥åï¼Œè¿™æ—¶å€™è¿™ä¸ªæ¨¡å—ä¾ç„¶è¿˜ä¼šæ¥æ”¶æµé‡ï¼Œç„¶åè¿™ä¸ªæœ‰é—®é¢˜çš„æ¨¡å—è¿˜è°ƒç”¨äº†å…¶ä»–çš„æ¨¡å—ï¼Œè¿™æ ·å°±ä¼šå‘ç”Ÿçº§è”æ•…éšœï¼Œæˆ–è€…å«é›ªå´©ã€‚</p><h4 id="Hystrixæ˜¯ä»€ä¹ˆ"><a href="#Hystrixæ˜¯ä»€ä¹ˆ" class="headerlink" title="Hystrixæ˜¯ä»€ä¹ˆ"></a>Hystrixæ˜¯ä»€ä¹ˆ</h4><p>â€‹        Hystrixæ˜¯ä¸€ä¸ªç”¨äºå¤„ç†åˆ†å¸ƒå¼ç³»ç»Ÿçš„<font color="red">å»¶è¿Ÿå’Œå®¹é”™</font>çš„å¼€æºåº“ï¼Œåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿé‡Œï¼Œè®¸å¤šä¾èµ–ä¸å¯é¿å…çš„ä¼šè°ƒç”¨å¤±è´¥ï¼Œæ¯”å¦‚è¶…æ—¶ã€å¼‚å¸¸ç­‰ï¼ŒHystrixèƒ½å¤Ÿä¿è¯åœ¨ä¸€ä¸ªä¾èµ–å‡ºé—®é¢˜çš„æƒ…å†µä¸‹ï¼Œ<font color="red">ä¸ä¼šå¯¼è‡´æ•´ä½“æœåŠ¡å¤±è´¥ï¼Œé¿å…çº§è”æ•…éšœï¼Œä»¥æé«˜åˆ†å¸ƒå¼ç³»ç»Ÿçš„å¼¹æ€§</font>ã€‚</p><p>â€‹        â€œæ–­è·¯å™¨â€æœ¬èº«æ˜¯ä¸€ç§å¼€å…³è£…ç½®ï¼Œå½“æŸä¸ªæœåŠ¡å•å…ƒå‘ç”Ÿæ•…éšœä¹‹åï¼Œé€šè¿‡æ–­è·¯å™¨çš„æ•…éšœç›‘æ§ï¼ˆç±»ä¼¼ç†”æ–­ä¿é™©ä¸)ï¼Œ<font color="red">å‘è°ƒç”¨æ–¹è¿”å›ä¸€ä¸ªç¬¦åˆé¢„æœŸçš„ã€å¯å¤„ç†çš„å¤‡é€‰å“åº”ï¼ˆFallBack)ï¼Œè€Œä¸æ˜¯é•¿æ—¶é—´çš„ç­‰å¾…æˆ–è€…æŠ›å‡ºè°ƒç”¨æ–¹æ— æ³•å¤„ç†çš„å¼‚å¸¸</font>ï¼Œè¿™æ ·å°±ä¿è¯äº†æœåŠ¡è°ƒç”¨æ–¹çš„çº¿ç¨‹ä¸ä¼šè¢«é•¿æ—¶é—´ã€ä¸å¿…è¦åœ°å ç”¨ï¼Œä»è€Œé¿å…äº†æ•…éšœåœ¨åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„è”“å»¶ï¼Œä¹ƒè‡³é›ªå´©ã€‚</p><p><a href="https://github.com/Netflix/Hystrix/wiki/How-To-Use">å®˜ç½‘</a></p><h3 id="Hystrixçš„æœåŠ¡é™çº§ç†”æ–­é™æµæ¦‚å¿µåˆè®²"><a href="#Hystrixçš„æœåŠ¡é™çº§ç†”æ–­é™æµæ¦‚å¿µåˆè®²" class="headerlink" title="Hystrixçš„æœåŠ¡é™çº§ç†”æ–­é™æµæ¦‚å¿µåˆè®²"></a>Hystrixçš„æœåŠ¡é™çº§ç†”æ–­é™æµæ¦‚å¿µåˆè®²</h3><h4 id="æœåŠ¡é™çº§"><a href="#æœåŠ¡é™çº§" class="headerlink" title="æœåŠ¡é™çº§"></a>æœåŠ¡é™çº§</h4><p>æœåŠ¡å™¨å¿™ï¼Œè¯·ç¨åå†è¯•ï¼Œä¸è®©å®¢æˆ·ç«¯ç­‰å¾…å¹¶ç«‹åˆ»è¿”å›ä¸€ä¸ªå‹å¥½æç¤ºï¼Œfallback</p><h4 id="å“ªäº›æƒ…å†µä¼šå‡ºå‘é™çº§"><a href="#å“ªäº›æƒ…å†µä¼šå‡ºå‘é™çº§" class="headerlink" title="å“ªäº›æƒ…å†µä¼šå‡ºå‘é™çº§"></a>å“ªäº›æƒ…å†µä¼šå‡ºå‘é™çº§</h4><ul><li>ç¨‹åºè¿è¡Œå¯¼å¸¸</li><li>è¶…æ—¶</li><li>æœåŠ¡ç†”æ–­è§¦å‘æœåŠ¡é™çº§</li><li>çº¿ç¨‹æ± /ä¿¡å·é‡æ‰“æ»¡ä¹Ÿä¼šå¯¼è‡´æœåŠ¡é™çº§</li></ul><h5 id="æœåŠ¡ç†”æ–­"><a href="#æœåŠ¡ç†”æ–­" class="headerlink" title="æœåŠ¡ç†”æ–­"></a>æœåŠ¡ç†”æ–­</h5><p>ç±»æ¯”ä¿é™©ä¸è¾¾åˆ°æœ€å¤§æœåŠ¡è®¿é—®åï¼Œç›´æ¥æ‹’ç»è®¿é—®ï¼Œæ‹‰é—¸é™ç”µï¼Œç„¶åè°ƒç”¨æœåŠ¡é™çº§çš„æ–¹æ³•å¹¶è¿”å›å‹å¥½æç¤ºã€‚</p><p>æœåŠ¡çš„é™çº§ -&gt; è¿›è€Œç†”æ–­ -&gt; æ¢å¤è°ƒç”¨é“¾è·¯</p><h4 id="æœåŠ¡é™æµ"><a href="#æœåŠ¡é™æµ" class="headerlink" title="æœåŠ¡é™æµ"></a>æœåŠ¡é™æµ</h4><p>ç§’æ€é«˜å¹¶å‘ç­‰æ“ä½œï¼Œä¸¥ç¦ä¸€çªèœ‚çš„è¿‡æ¥æ‹¥æŒ¤ï¼Œå¤§å®¶æ’é˜Ÿï¼Œä¸€ç§’é’ŸNä¸ªï¼Œæœ‰åºè¿›è¡Œã€‚</p><h3 id="æ”¯ä»˜å¾®æœåŠ¡æ­å»º"><a href="#æ”¯ä»˜å¾®æœåŠ¡æ­å»º" class="headerlink" title="æ”¯ä»˜å¾®æœåŠ¡æ­å»º"></a>æ”¯ä»˜å¾®æœåŠ¡æ­å»º</h3><h4 id="new-module"><a href="#new-module" class="headerlink" title="new module"></a>new module</h4><p><img src="https://img-blog.csdnimg.cn/559b55427bad431ca6ac114385619a5d.png" alt="ç›®å½•ç»“æ„"></p><h3 id="ä»£ç ç¼–å†™"><a href="#ä»£ç ç¼–å†™" class="headerlink" title="ä»£ç ç¼–å†™"></a>ä»£ç ç¼–å†™</h3><p>pom.xml</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>springcloud2022<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ssm.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-provider-hystrix-payment8001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--æ–°å¢hystrix--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-hystrix<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ssm.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;project.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>application.yml</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8001</span><span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>      <span class="token comment"># defaultZone: http://eureka7002.com:7002/eureka/    #è®¾ç½®ä¸eureka serveräº¤äº’çš„åœ°å€æŸ¥è¯¢æœåŠ¡å’Œæ³¨å†ŒæœåŠ¡éƒ½éœ€è¦ä¾èµ–è¿™ä¸ªåœ°å€</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka/<span class="token comment">#  server:</span><span class="token comment">#    enable-self-preservation: false</span><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">application</span><span class="token punctuation">:</span>    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>provider<span class="token punctuation">-</span>hystrix<span class="token punctuation">-</span>payment  <span class="token comment">#    eviction-interval-timer-in-ms: 2000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PaymentController</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentController</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">private</span> <span class="token class-name">PaymentService</span> paymentService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;server.port&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> serverPort<span class="token punctuation">;</span>     <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/payment/hystrix/ok/&#123;id&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> result <span class="token operator">=</span> paymentService<span class="token punctuation">.</span><span class="token function">payment_Info_OK</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"result: "</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/payment/hystrix/timeout/&#123;id&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> result <span class="token operator">=</span> paymentService<span class="token punctuation">.</span><span class="token function">payment_Info_TimeOut</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"result: "</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PaymentService</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentService</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">payment_Info_OK</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"çº¿ç¨‹æ± ï¼š"</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" PaymentInfo_OK,id"</span><span class="token operator">+</span>id<span class="token operator">+</span><span class="token string">"\t"</span><span class="token operator">+</span><span class="token string">"ğŸ˜Š"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">payment_Info_TimeOut</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token string">"çº¿ç¨‹æ± ï¼š"</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">" PaymentInfo_TimeOut,id"</span><span class="token operator">+</span>id<span class="token operator">+</span><span class="token string">"\t"</span><span class="token operator">+</span><span class="token string">"ğŸ˜Š è€—æ—¶3s"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PaymentHystrixMain8001</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableEurekaClient</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentHystrixMain8001</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">PaymentHystrixMain8001</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¿è¡Œæµ‹è¯•"><a href="#è¿è¡Œæµ‹è¯•" class="headerlink" title="è¿è¡Œæµ‹è¯•"></a>è¿è¡Œæµ‹è¯•</h4><p><img src="https://img-blog.csdnimg.cn/1e7fceb9873946fb88e8d9bc6995129f.png" alt="timeout 3s"><br><img src="https://img-blog.csdnimg.cn/a1b108542fbf40f398415aa3bf548701.png" alt="ok"></p><h3 id="é«˜å¹¶å‘æµ‹è¯•"><a href="#é«˜å¹¶å‘æµ‹è¯•" class="headerlink" title="é«˜å¹¶å‘æµ‹è¯•"></a>é«˜å¹¶å‘æµ‹è¯•</h3><h4 id="ä¸‹è½½jmeter"><a href="#ä¸‹è½½jmeter" class="headerlink" title="ä¸‹è½½jmeter"></a>ä¸‹è½½jmeter</h4><p><a href="https://jmeter.apache.org/download_jmeter.cgi">ç½‘å€</a></p><p><img src="https://img-blog.csdnimg.cn/4f3300da3d044780a812aad6add557fc.png" alt="ä¸‹è½½"></p><ul><li>è¿›å…¥binç›®å½•è¿è¡Œjmeter.bat</li></ul><p><img src="https://img-blog.csdnimg.cn/56bcf2a001fa4d54b269cd4273b40f54.png" alt="Thred group"></p><p><img src="https://img-blog.csdnimg.cn/296606102a1c4bda97dc04b4a6c6c6f7.png" alt="Hppt request"></p><p><img src="https://img-blog.csdnimg.cn/bd879e93c2c949a0a0a3d492ceaac089.png" alt="2ä¸‡æ¬¡å¹¶å‘"><br><img src="https://img-blog.csdnimg.cn/a196f80ffbb640c294bfb295af138dda.png" alt="è¯·æ±‚åœ°å€"></p><p><img src="https://img-blog.csdnimg.cn/12205fe9328c45dfa6ee660bff242bf7.png" alt="å‡ºç°ç¼“å†²"></p><h4 id="æœåŠ¡æ¶ˆè´¹ç«¯å†æ¬¡æµ‹è¯•"><a href="#æœåŠ¡æ¶ˆè´¹ç«¯å†æ¬¡æµ‹è¯•" class="headerlink" title="æœåŠ¡æ¶ˆè´¹ç«¯å†æ¬¡æµ‹è¯•"></a>æœåŠ¡æ¶ˆè´¹ç«¯å†æ¬¡æµ‹è¯•</h4><p><img src="https://img-blog.csdnimg.cn/c368b1e94c2648d89e3b758fb69677f3.png" alt="ç›®å½•ç»“æ„"></p><p>pom.xml</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>springcloud2022<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ssm.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-consumer-feign-hystrix-order80<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--æ–°å¢hystrix--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-hystrix<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ssm.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;project.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>application.yml</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span><span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>OrderHystrixService</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderHystrixService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">private</span> <span class="token class-name">PaymentHystrixService</span> paymentHystrixService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/payment/hystrix/ok/&#123;id&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> result <span class="token operator">=</span> paymentHystrixService<span class="token punctuation">.</span><span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/payment/hystrix/timeout/&#123;id&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> result <span class="token operator">=</span> paymentHystrixService<span class="token punctuation">.</span><span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PaymentHystrixService</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"CLOUD-PROVIDER-HYSTRIX-PAYMENT"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PaymentHystrixService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/payment/hystrix/ok/&#123;id&#125;"</span><span class="token punctuation">)</span>    <span class="token class-name">String</span> <span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/payment/hystrix/timeout/&#123;id&#125;"</span><span class="token punctuation">)</span>    <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>OrderHystrixMain80</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableFeignClients</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderHystrixMain80</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderHystrixMain80</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/7fde3acb04c44d5592baaa14e9fe8e9e.png" alt="å†æ¬¡å‡ºç°ç¼“å†²"></p><ul><li>æ•…éšœç°è±¡å’Œå¯¼è‡´åŸå› <ul><li>8001åŒä¸€å±‚æ¬¡çš„å…¶ä»–æ¥å£æœåŠ¡è¢«å›°æ­»ï¼Œå› ä¸ºtomcatçº¿ç¨‹é‡Œé¢çš„å·¥ä½œçº¿ç¨‹å·²ç»è¢«æŒ¤å å®Œæ¯•</li><li>80æ­¤æ—¶è°ƒç”¨8001ï¼Œå®¢æˆ·ç«¯è®¿é—®å“åº”ç¼“æ…¢ï¼Œè½¬åœˆåœˆ</li></ul></li></ul><blockquote><p>æ­£å› ä¸ºæœ‰ä¸Šè¿°æ•…éšœæˆ–ä¸ä½³è¡¨ç°ï¼Œæ‰æœ‰æˆ‘ä»¬çš„é™çº§/å®¹é”™/é™æµç­‰æŠ€æœ¯è¯ç”Ÿ</p></blockquote><ul><li>è§£å†³<ul><li>å¯¹æ–¹æœåŠ¡ï¼ˆ8001ï¼‰è¶…æ—¶äº†ï¼Œè°ƒç”¨è€…ï¼ˆ80ï¼‰ä¸èƒ½ä¸€ç›´å¡æ­»ç­‰å¾…ï¼Œå¿…é¡»æœ‰æœåŠ¡é™çº§</li><li>å¯¹æ–¹æœåŠ¡ï¼ˆ8001ï¼‰downæœºäº†ï¼Œè°ƒç”¨è€…ï¼ˆ80ï¼‰ä¸èƒ½ä¸€ç›´å¡æ­»ç­‰å¾…ï¼Œå¿…é¡»æœ‰æœåŠ¡é™çº§</li><li>å¯¹æ–¹æœåŠ¡ï¼ˆ8001ï¼‰OKï¼Œè°ƒç”¨è€…ï¼ˆ80ï¼‰è‡ªå·±å‡ºæ•…éšœæˆ–æœ‰è‡ªæˆ‘è¦æ±‚ï¼ˆè‡ªå·±çš„ç­‰å¾…æ—¶é—´å°äºæœåŠ¡æä¾›è€…ï¼‰ï¼Œè‡ªå·±å¤„ç†é™çº§</li></ul></li></ul><h3 id="æœåŠ¡é™çº§-1"><a href="#æœåŠ¡é™çº§-1" class="headerlink" title="æœåŠ¡é™çº§"></a>æœåŠ¡é™çº§</h3><h4 id="8001fallback"><a href="#8001fallback" class="headerlink" title="8001fallback"></a>8001fallback</h4><ul><li>è®¾ç½®è‡ªèº«è°ƒç”¨è¶…æ—¶æ—¶é—´çš„å³°å€¼ï¼Œå³°å€¼å†…å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œè¶…è¿‡äº†éœ€è¦æœ‰å…œåº•çš„æ–¹æ³•å¤„ç†ï¼Œä½œæœåŠ¡é™çº§fallback</li><li>ä¸€æ—¦è°ƒç”¨æœåŠ¡æ–¹æ³•å¤±è´¥å¹¶æŠ›å‡ºäº†é”™è¯¯ä¿¡æ¯åï¼Œä¼šè‡ªåŠ¨è°ƒç”¨@HystrixCommandæ ‡æ³¨å¥½çš„fallbackMethodè°ƒç”¨ç±»ä¸­çš„æŒ‡å®šæ–¹æ³•</li></ul><p><img src="https://img-blog.csdnimg.cn/9b85e8ebae3b4df89439dfb3cc54e5a7.png" alt="å›¾è§£"></p><p>PaymentService</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentService</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">payment_Info_OK</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"çº¿ç¨‹æ± ï¼š"</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" PaymentInfo_OK,id"</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">"\t"</span> <span class="token operator">+</span> <span class="token string">"ğŸ˜Š"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token comment">//    è®¾ç½®è‡ªèº«è°ƒç”¨è¶…æ—¶æ—¶é—´çš„å³°å€¼ï¼Œå³°å€¼å†…å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œè¶…è¿‡äº†éœ€è¦æœ‰å…œåº•çš„æ–¹æ³•å¤„ç†ï¼Œä½œæœåŠ¡é™çº§fallback</span>    <span class="token annotation punctuation">@HystrixCommand</span><span class="token punctuation">(</span>fallbackMethod <span class="token operator">=</span> <span class="token string">"paymentInfo_TimeOutHandler"</span><span class="token punctuation">,</span>commandProperties <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"execution.isolation.thread.timeoutInMilliseconds"</span><span class="token punctuation">,</span>value <span class="token operator">=</span> <span class="token string">"3000"</span><span class="token punctuation">)</span><span class="token comment">//3ç§’é’Ÿä»¥å†…å°±æ˜¯æ­£å¸¸çš„ä¸šåŠ¡é€»è¾‘</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">payment_Info_TimeOut</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//        int age = 10/0;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token string">"çº¿ç¨‹æ± ï¼š"</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" PaymentInfo_TimeOut,id"</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">"\t"</span> <span class="token operator">+</span> <span class="token string">"ğŸ˜Š è€—æ—¶5s"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOutHandler</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"çº¿ç¨‹æ± ï¼š"</span> <span class="token operator">+</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" paymentInfo_TimeOutHandler,id"</span> <span class="token operator">+</span> id <span class="token operator">+</span> <span class="token string">"\t"</span> <span class="token operator">+</span> <span class="token string">"ğŸ˜Šå…œåº•æ–¹æ³• è€—æ—¶3s"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PaymentHystrixMain8001</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableEurekaClient</span><span class="token annotation punctuation">@EnableCircuitBreaker</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentHystrixMain8001</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">PaymentHystrixMain8001</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/7cf0c90266c44ec08a464a70f7d6068b.png" alt="è¶…æ—¶&amp;æŠ¥é”™å…œåº•æ–¹æ³•è¿è¡Œç»“æœ"></p><h4 id="80fallback"><a href="#80fallback" class="headerlink" title="80fallback"></a>80fallback</h4><ul><li>80è®¢å•å¾®æœåŠ¡ï¼Œä¹Ÿå¯ä»¥æ›´å¥½çš„ä¿æŠ¤è‡ªå·±ï¼Œè‡ªå·±ä¹Ÿä¾æ ·ç”»è‘«èŠ¦è¿›è¡Œå®¢æˆ·ç«¯é™çº§ä¿æŠ¤</li><li>8001 sleep 3s è®¾ç½®5sï¼Œä½†80è®¾ç½®1.5s</li></ul><p>OrderHystrixService</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderHystrixService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">private</span> <span class="token class-name">PaymentHystrixService</span> paymentHystrixService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/payment/hystrix/ok/&#123;id&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> result <span class="token operator">=</span> paymentHystrixService<span class="token punctuation">.</span><span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/payment/hystrix/timeout/&#123;id&#125;"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@HystrixCommand</span><span class="token punctuation">(</span>fallbackMethod <span class="token operator">=</span> <span class="token string">"paymentTimeOutFallbackMethod"</span><span class="token punctuation">,</span>commandProperties <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"execution.isolation.thread.timeoutInMilliseconds"</span><span class="token punctuation">,</span>value <span class="token operator">=</span> <span class="token string">"1500"</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//        int age = 10/0;</span>        <span class="token class-name">String</span> result <span class="token operator">=</span> paymentHystrixService<span class="token punctuation">.</span><span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å…œåº•æ–¹æ³•</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentTimeOutFallbackMethod</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"æˆ‘æ˜¯æ¶ˆè´¹è€…80ï¼Œå¯¹ä»˜æ”¯ä»˜ç³»ç»Ÿç¹å¿™è¯·10ç§’é’Ÿåå†è¯•æˆ–è€…è‡ªå·±è¿è¡Œå‡ºé”™è¯·æ£€æŸ¥è‡ªå·±,(â”¬ï¼¿â”¬)"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>OrderHystrixMain80</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableFeignClients</span><span class="token annotation punctuation">@EnableHystrix</span><span class="token comment">//æ·»åŠ åˆ°æ­¤å¤„</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderHystrixMain80</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderHystrixMain80</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>application.yml</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span><span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka/<span class="token comment"># ä¸¤ç§æ–¹å¼éƒ½è¡Œ</span><span class="token key atrule">feign</span><span class="token punctuation">:</span>  <span class="token key atrule">hystrix</span><span class="token punctuation">:</span>    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment">#å¦‚æœå¤„ç†è‡ªèº«çš„å®¹é”™å°±å¼€å¯ã€‚å¼€å¯æ–¹å¼ä¸ç”Ÿäº§ç«¯ä¸ä¸€æ ·ã€‚</span><span class="token comment">#</span><span class="token comment">#hystrix:</span><span class="token comment">#  command:</span><span class="token comment">#    default:</span><span class="token comment">#      execution:</span><span class="token comment">#        isolation:</span><span class="token comment">#          thread:</span><span class="token comment">#            timeoutInMilliseconds: 3000</span><span class="token comment">#ribbon:</span><span class="token comment">#  ReadTimeout: 5000</span><span class="token comment">#  ConnectTimeout: 5000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/5accb0b953cb4cb5bfc96db29131326e.png" alt="æµ‹è¯•ç»“æœ"></p><h3 id="Hystrixä¹‹å…¨å±€æœåŠ¡é™çº§DefaultProperties"><a href="#Hystrixä¹‹å…¨å±€æœåŠ¡é™çº§DefaultProperties" class="headerlink" title="Hystrixä¹‹å…¨å±€æœåŠ¡é™çº§DefaultProperties"></a>Hystrixä¹‹å…¨å±€æœåŠ¡é™çº§DefaultProperties</h3><p><strong>ç›®å‰é—®é¢˜</strong>ï¼šæ¯ä¸ªä¸šåŠ¡æ–¹æ³•å¯¹åº”ä¸€ä¸ªå…œåº•çš„æ–¹æ³•ï¼Œä»£ç è†¨èƒ€</p><p><strong>è§£å†³æ–¹æ³•</strong>ï¼š1:Né™¤äº†ä¸ªåˆ«é‡è¦æ ¸å¿ƒä¸šåŠ¡æœ‰ä¸“å±ï¼Œå…¶å®ƒæ™®é€šçš„å¯ä»¥é€šè¿‡@DefaultProperties(defaultFallback = â€œâ€)ç»Ÿä¸€è·³è½¬åˆ°ç»Ÿä¸€å¤„ç†ç»“æœé¡µé¢</p><p>é€šç”¨çš„å’Œç‹¬äº«çš„å„è‡ªåˆ†å¼€ï¼Œé¿å…äº†ä»£ç è†¨èƒ€ï¼Œåˆç†å‡å°‘äº†ä»£ç é‡</p><p>OrderHystrixService</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@Slf4j</span><span class="token annotation punctuation">@DefaultProperties</span><span class="token punctuation">(</span>defaultFallback <span class="token operator">=</span> <span class="token string">"payment_Global_FallbackMethod"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderHystrixService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">private</span> <span class="token class-name">PaymentHystrixService</span> paymentHystrixService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/payment/hystrix/ok/&#123;id&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> result <span class="token operator">=</span> paymentHystrixService<span class="token punctuation">.</span><span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/payment/hystrix/timeout/&#123;id&#125;"</span><span class="token punctuation">)</span><span class="token comment">//    @HystrixCommand(fallbackMethod = "paymentTimeOutFallbackMethod",commandProperties = &#123;</span><span class="token comment">//            @HystrixProperty(name = "execution.isolation.thread.timeoutInMilliseconds",value = "1500")</span><span class="token comment">//    &#125;)</span>    <span class="token annotation punctuation">@HystrixCommand</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> age <span class="token operator">=</span> <span class="token number">10</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> result <span class="token operator">=</span> paymentHystrixService<span class="token punctuation">.</span><span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å…œåº•æ–¹æ³•</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentTimeOutFallbackMethod</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"æˆ‘æ˜¯æ¶ˆè´¹è€…80ï¼Œå¯¹ä»˜æ”¯ä»˜ç³»ç»Ÿç¹å¿™è¯·10ç§’é’Ÿåå†è¯•æˆ–è€…è‡ªå·±è¿è¡Œå‡ºé”™è¯·æ£€æŸ¥è‡ªå·±,(â”¬ï¼¿â”¬)"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ä¸‹é¢æ˜¯å…¨å±€fallbackæ–¹æ³•</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">payment_Global_FallbackMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"Globalå¼‚å¸¸å¤„ç†ä¿¡æ¯ï¼Œè¯·ç¨åå†è¯•ï¼Œ/(ã„’oã„’)/~~"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/94211e9aae224f6eaa9de1780a81e026.png" alt="è¿è¡Œæµ‹è¯•"></p><h4 id="Hystrixä¹‹é€šé…æœåŠ¡é™çº§FeignFallback"><a href="#Hystrixä¹‹é€šé…æœåŠ¡é™çº§FeignFallback" class="headerlink" title="Hystrixä¹‹é€šé…æœåŠ¡é™çº§FeignFallback"></a>Hystrixä¹‹é€šé…æœåŠ¡é™çº§FeignFallback</h4><p><strong>ç›®å‰é—®é¢˜2</strong> å¤„ç†å¼‚å¸¸çš„ä»£ç å’Œä¸šåŠ¡é€»è¾‘æ··åœ¨ä¸€èµ·</p><p><strong>æœåŠ¡é™çº§ï¼Œå®¢æˆ·ç«¯å»è°ƒç”¨æœåŠ¡ç«¯ï¼Œç¢°ä¸ŠæœåŠ¡ç«¯å®•æœºæˆ–å…³é—­</strong></p><p>æœ¬æ¬¡æ¡ˆä¾‹æœåŠ¡é™çº§å¤„ç†æ˜¯åœ¨å®¢æˆ·ç«¯80å®ç°å®Œæˆçš„ï¼Œä¸æœåŠ¡ç«¯8001æ²¡æœ‰å…³ç³»ï¼Œåªéœ€è¦ä¸º<a href="https://so.csdn.net/so/search?q=Feign&spm=1001.2101.3001.7020">Feign</a>å®¢æˆ·ç«¯å®šä¹‰çš„æ¥å£æ·»åŠ ä¸€ä¸ªæœåŠ¡é™çº§å¤„ç†çš„å®ç°ç±»å³å¯å®ç°è§£è€¦ã€‚<strong>8001æœåŠ¡ç«¯å‡ºç°å®•æœºï¼Œ80æ¶ˆè´¹ç«¯æœåŠ¡é™çº§ï¼Œè€Œä¸ç”¨å»è°ƒç”¨8001å·²å®•æœºçš„ï¼ˆè¢«è€—æ­»ï¼‰</strong></p><ul><li>æ ¹æ®cloud-consumer-feign-<a href="https://so.csdn.net/so/search?q=hystrix&spm=1001.2101.3001.7020">hystrix</a>-order80å·²ç»æœ‰çš„PaymentHystrixServiceæ¥å£ï¼Œé‡æ–°æ–°å»ºä¸€ä¸ªç±»(AaymentFallbackService)å®ç°è¯¥æ¥å£ï¼Œç»Ÿä¸€ä¸ºæ¥å£é‡Œé¢çš„æ–¹æ³•è¿›è¡Œå¼‚å¸¸å¤„ç†ã€‚</li></ul><p>PaymentfallbackService</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentfallbackService</span> <span class="token keyword">implements</span> <span class="token class-name">PaymentHystrixService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"PaymentfallbackService fall back paymentInfo_OK"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"PaymentfallbackService fall back paymentInfo_TimeOut"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PaymentHystrixService</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"CLOUD-PROVIDER-HYSTRIX-PAYMENT"</span><span class="token punctuation">,</span>fallback <span class="token operator">=</span> <span class="token class-name">PaymentfallbackService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PaymentHystrixService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/payment/hystrix/ok/&#123;id&#125;"</span><span class="token punctuation">)</span>    <span class="token class-name">String</span> <span class="token function">paymentInfo_OK</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/payment/hystrix/timeout/&#123;id&#125;"</span><span class="token punctuation">)</span>    <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>application.yml</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span><span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka/<span class="token comment">#å¼€å¯</span><span class="token key atrule">feign</span><span class="token punctuation">:</span>  <span class="token key atrule">hystrix</span><span class="token punctuation">:</span>    <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æµ‹è¯•</strong></p><p>å•ä¸ªeurekaå…ˆå¯åŠ¨7001</p><p>PaymentHystrixMain8001å¯åŠ¨</p><p>æ­£å¸¸è®¿é—®æµ‹è¯• - <a href="http://localhost/consumer/payment/hystrix/ok/1">http://localhost/consumer/payment/hystrix/ok/1</a></p><p>æ•…æ„å…³é—­å¾®æœåŠ¡8001</p><p>å®¢æˆ·ç«¯è‡ªå·±è°ƒç”¨æç¤º - æ­¤æ—¶æœåŠ¡ç«¯providerå·²ç»downäº†ï¼Œä½†æ˜¯æˆ‘ä»¬åšäº†æœåŠ¡é™çº§å¤„ç†ï¼Œè®©å®¢æˆ·ç«¯åœ¨æœåŠ¡ç«¯ä¸å¯ç”¨æ—¶ä¹Ÿä¼šè·å¾—æç¤ºä¿¡æ¯è€Œä¸ä¼šæŒ‚èµ·è€—æ­»æœåŠ¡å™¨ã€‚</p><p><img src="https://img-blog.csdnimg.cn/f2b3c5042add478e9ec4654a14aa2099.png" alt="æ¶ˆè´¹ç«¯æœåŠ¡é™çº§"></p><h3 id="æœåŠ¡ç†”æ–­-1"><a href="#æœåŠ¡ç†”æ–­-1" class="headerlink" title="æœåŠ¡ç†”æ–­"></a>æœåŠ¡ç†”æ–­</h3><p><font color="orange">ç†”æ–­æœºåˆ¶æ¦‚è¿°</font></p><p>ç†”æ–­æœºåˆ¶æ˜¯åº”å¯¹é›ªå´©æ•ˆåº”çš„ä¸€ç§å¾®æœåŠ¡é“¾è·¯ä¿æŠ¤æœºåˆ¶ã€‚å½“æ‰‡å‡ºé“¾è·¯çš„æŸä¸ªå¾®æœåŠ¡å‡ºé”™ä¸å¯ç”¨æˆ–è€…å“åº”æ—¶é—´å¤ªé•¿æ—¶ï¼Œ</p><p>ä¼šè¿›è¡ŒæœåŠ¡çš„é™çº§ï¼Œè¿›è€Œç†”æ–­è¯¥èŠ‚ç‚¹å¾®æœåŠ¡çš„è°ƒç”¨ï¼Œå¿«é€Ÿè¿”å›é”™è¯¯çš„å“åº”ä¿¡æ¯ã€‚</p><p><font color="orange">å½“æ£€æµ‹åˆ°è¯¥èŠ‚ç‚¹å¾®æœåŠ¡è°ƒç”¨å“åº”æ­£å¸¸åï¼Œæ¢å¤è°ƒç”¨é“¾è·¯ã€‚</font></p><p>åœ¨Spring Cloudæ¡†æ¶é‡Œï¼Œç†”æ–­æœºåˆ¶é€šè¿‡Hystrixå®ç°ã€‚Hystrixä¼šç›‘æ§å¾®æœåŠ¡é—´è°ƒç”¨çš„çŠ¶å†µï¼Œ</p><p>å½“å¤±è´¥çš„è°ƒç”¨åˆ°ä¸€å®šé˜ˆå€¼ï¼Œç¼ºçœæ˜¯5ç§’å†…20æ¬¡è°ƒç”¨å¤±è´¥ï¼Œå°±ä¼šå¯åŠ¨ç†”æ–­æœºåˆ¶ã€‚ç†”æ–­æœºåˆ¶çš„æ³¨è§£æ˜¯@HystrixCommandã€‚</p><p><a href="https://martinfowler.com/bliki/CircuitBreaker.html">Martin Fowlerçš„ç›¸å…³è®ºæ–‡</a></p><p><strong>ç†”æ–­ç±»å‹</strong></p><ul><li>ç†”æ–­æ‰“å¼€ï¼šè¯·æ±‚ä¸å†è¿›è¡Œè°ƒç”¨å½“å‰æœåŠ¡ï¼Œå†…éƒ¨è®¾ç½®æ—¶é’Ÿä¸€èˆ¬ä¸ºMTTR(å¹³å‡æ•…éšœå¤„ç†æ—¶é—´)ï¼Œå½“æ‰“å¼€æ—¶é•¿è¾¾åˆ°æ‰€è®¾æ—¶é’Ÿåˆ™è¿›å…¥åŠç†”æ–­çŠ¶æ€ã€‚</li><li>ç†”æ–­å…³é—­ï¼šç†”æ–­å…³é—­ä¸ä¼šå¯¹æœåŠ¡è¿›è¡Œç†”æ–­ã€‚</li><li>ç†”æ–­åŠå¼€ï¼šéƒ¨åˆ†è¯·æ±‚æ ¹æ®è§„åˆ™è°ƒç”¨å½“å‰æœåŠ¡ï¼Œå¦‚æœè¯·æ±‚æˆåŠŸä¸”ç¬¦åˆè§„åˆ™åˆ™è®¤ä¸ºå½“å‰æœåŠ¡æ¢å¤æ­£å¸¸ï¼Œå…³é—­ç†”æ–­ã€‚</li></ul><p><img src="https://img-blog.csdnimg.cn/a473b79b81f24dce9e0983cd3b51fd83.png" alt="æœåŠ¡ç†”æ–­ç†è®ºå›¾"></p><h4 id="ä»£ç ç¼–å†™-1"><a href="#ä»£ç ç¼–å†™-1" class="headerlink" title="ä»£ç ç¼–å†™"></a>ä»£ç ç¼–å†™</h4><p>PaymentController</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// æœåŠ¡ç†”æ–­</span><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/payment/circuit/&#123;id&#125;"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentCircuitBreaker</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> result <span class="token operator">=</span> paymentService<span class="token punctuation">.</span><span class="token function">paymentCircuitBreaker</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"****result: "</span><span class="token operator">+</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> result<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PaymentService</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//=========æœåŠ¡ç†”æ–­</span><span class="token annotation punctuation">@HystrixCommand</span><span class="token punctuation">(</span>fallbackMethod <span class="token operator">=</span> <span class="token string">"paymentCircuitBreaker_fallback"</span><span class="token punctuation">,</span>commandProperties <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.enabled"</span><span class="token punctuation">,</span>value <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">// å¼€å¯æ–­è·¯å™¨</span>        <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.requestVolumeThreshold"</span><span class="token punctuation">,</span>value <span class="token operator">=</span> <span class="token string">"10"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//è¯·æ±‚æ¬¡æ•°è¶…è¿‡äº†å³°å€¼ï¼Œç†”æ–­å™¨å°†ä»å…³é—­è½¬åˆ°å¼€å¯</span>        <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.sleepWindowInMilliseconds"</span><span class="token punctuation">,</span>value <span class="token operator">=</span> <span class="token string">"10000"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">// æ—¶é—´èŒƒå›´</span>        <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.errorThresholdPercentage"</span><span class="token punctuation">,</span>value <span class="token operator">=</span> <span class="token string">"60"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">// å¤±è´¥ç‡è¾¾åˆ°å¤šå°‘è·³é—¸ 60%</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentCircuitBreaker</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">if</span><span class="token punctuation">(</span>id <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"******id ä¸èƒ½è´Ÿæ•°"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token class-name">String</span> serialNumber <span class="token operator">=</span> <span class="token class-name">IdUtil</span><span class="token punctuation">.</span><span class="token function">simpleUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\t"</span><span class="token operator">+</span><span class="token string">"è°ƒç”¨æˆåŠŸï¼Œæµæ°´å·: "</span> <span class="token operator">+</span> serialNumber<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentCircuitBreaker_fallback</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token string">"id ä¸èƒ½è´Ÿæ•°ï¼Œè¯·ç¨åå†è¯•ï¼Œ/(ã„’oã„’)/~~   id: "</span> <span class="token operator">+</span>id<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h4><p><img src="https://img-blog.csdnimg.cn/b414d33693f34b75855222ec5aa5d7bc.png" alt="æ­£æ•°æ­£å¸¸è®¿é—®"><img src="https://img-blog.csdnimg.cn/3dbc94cb2f524524b3eacaf3bfeb95b5.png" alt="è´Ÿæ•°æµ‹è¯•"><img src="https://img-blog.csdnimg.cn/9c9d317133ca40a6976df3acfa178399.png" alt="æ­£æ•°å†æ¬¡ç«‹é©¬æµ‹è¯•"><img src="https://img-blog.csdnimg.cn/3b4f69d2c0c24b8aad780fa605af5077.png" alt="æ­£æ•°å†æ¬¡ç¨ç­‰å‡ sæµ‹è¯•"></p><h3 id="æ–­è·¯å™¨æ€»ç»“"><a href="#æ–­è·¯å™¨æ€»ç»“" class="headerlink" title="æ–­è·¯å™¨æ€»ç»“"></a>æ–­è·¯å™¨æ€»ç»“</h3><p><strong>æ–­è·¯å™¨åœ¨ä»€ä¹ˆæƒ…å†µä¸‹å¼€å§‹èµ·ä½œç”¨</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//=====æœåŠ¡ç†”æ–­</span><span class="token annotation punctuation">@HystrixCommand</span><span class="token punctuation">(</span>fallbackMethod <span class="token operator">=</span> <span class="token string">"paymentCircuitBreaker_fallback"</span><span class="token punctuation">,</span>commandProperties <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.enabled"</span><span class="token punctuation">,</span>value <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">// æ˜¯å¦å¼€å¯æ–­è·¯å™¨</span>    <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.requestVolumeThreshold"</span><span class="token punctuation">,</span>value <span class="token operator">=</span> <span class="token string">"10"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">// è¯·æ±‚æ¬¡æ•°</span>    <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.sleepWindowInMilliseconds"</span><span class="token punctuation">,</span>value <span class="token operator">=</span> <span class="token string">"10000"</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// æ—¶é—´çª—å£æœŸ</span>    <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.errorThresholdPercentage"</span><span class="token punctuation">,</span>value <span class="token operator">=</span> <span class="token string">"60"</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">// å¤±è´¥ç‡è¾¾åˆ°å¤šå°‘åè·³é—¸</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentCircuitBreaker</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ¶‰åŠåˆ°æ–­è·¯å™¨çš„ä¸‰ä¸ªé‡è¦å‚æ•°ï¼š</strong></p><ul><li>å¿«ç…§æ—¶é—´çª—ï¼šæ–­è·¯å™¨ç¡®å®šæ˜¯å¦æ‰“å¼€éœ€è¦ç»Ÿè®¡ä¸€äº›è¯·æ±‚å’Œé”™è¯¯æ•°æ®ï¼Œè€Œç»Ÿè®¡çš„æ—¶é—´èŒƒå›´å°±æ˜¯å¿«ç…§æ—¶é—´çª—ï¼Œé»˜è®¤ä¸ºæœ€è¿‘çš„10ç§’ã€‚</li><li>è¯·æ±‚æ€»æ•°é˜€å€¼ï¼šåœ¨å¿«ç…§æ—¶é—´çª—å†…ï¼Œå¿…é¡»æ»¡è¶³è¯·æ±‚æ€»æ•°é˜€å€¼æ‰æœ‰èµ„æ ¼ç†”æ–­ã€‚é»˜è®¤ä¸º20ï¼Œæ„å‘³ç€åœ¨10ç§’å†…ï¼Œå¦‚æœè¯¥hystrixå‘½ä»¤çš„è°ƒç”¨æ¬¡æ•°ä¸è¶³20æ¬¡7,å³ä½¿æ‰€æœ‰çš„è¯·æ±‚éƒ½è¶…æ—¶æˆ–å…¶ä»–åŸå› å¤±è´¥ï¼Œæ–­è·¯å™¨éƒ½ä¸ä¼šæ‰“å¼€ã€‚</li><li>é”™è¯¯ç™¾åˆ†æ¯”é˜€å€¼ï¼šå½“è¯·æ±‚æ€»æ•°åœ¨å¿«ç…§æ—¶é—´çª—å†…è¶…è¿‡äº†é˜€å€¼ï¼Œæ¯”å¦‚å‘ç”Ÿäº†30æ¬¡è°ƒç”¨ï¼Œå¦‚æœåœ¨è¿™30æ¬¡è°ƒç”¨ä¸­ï¼Œæœ‰15æ¬¡å‘ç”Ÿäº†è¶…æ—¶å¼‚å¸¸ï¼Œä¹Ÿå°±æ˜¯è¶…è¿‡50%çš„é”™è¯¯ç™¾åˆ†æ¯”ï¼Œåœ¨é»˜è®¤è®¾å®š50%é˜€å€¼æƒ…å†µä¸‹ï¼Œè¿™æ—¶å€™å°±ä¼šå°†æ–­è·¯å™¨æ‰“å¼€ã€‚<br>æ–­è·¯å™¨å¼€å¯æˆ–è€…å…³é—­çš„æ¡ä»¶</li></ul><p><strong>åˆ°è¾¾ä»¥ä¸‹é˜€å€¼ï¼Œæ–­è·¯å™¨å°†ä¼šå¼€å¯ï¼š</strong></p><ul><li><p>å½“æ»¡è¶³ä¸€å®šçš„é˜€å€¼çš„æ—¶å€™ï¼ˆé»˜è®¤10ç§’å†…è¶…è¿‡20ä¸ªè¯·æ±‚æ¬¡æ•°)</p></li><li><p>å½“å¤±è´¥ç‡è¾¾åˆ°ä¸€å®šçš„æ—¶å€™ï¼ˆé»˜è®¤10ç§’å†…è¶…è¿‡50%çš„è¯·æ±‚å¤±è´¥)</p></li><li><p>å½“å¼€å¯çš„æ—¶å€™ï¼Œæ‰€æœ‰è¯·æ±‚éƒ½ä¸ä¼šè¿›è¡Œè½¬å‘</p></li><li><p>ä¸€æ®µæ—¶é—´ä¹‹åï¼ˆé»˜è®¤æ˜¯5ç§’)ï¼Œè¿™ä¸ªæ—¶å€™æ–­è·¯å™¨æ˜¯åŠå¼€çŠ¶æ€ï¼Œä¼šè®©å…¶ä¸­ä¸€ä¸ªè¯·æ±‚è¿›è¡Œè½¬å‘ã€‚å¦‚æœæˆåŠŸï¼Œæ–­è·¯å™¨ä¼šå…³é—­ï¼Œè‹¥å¤±è´¥ï¼Œç»§ç»­å¼€å¯ã€‚</p></li></ul><p><strong>æ–­è·¯å™¨æ‰“å¼€ä¹‹å</strong></p><p>0 å†æœ‰è¯·æ±‚è°ƒç”¨çš„æ—¶å€™ï¼Œå°†ä¸ä¼šè°ƒç”¨ä¸»é€»è¾‘ï¼Œè€Œæ˜¯ç›´æ¥è°ƒç”¨é™çº§fallbackã€‚é€šè¿‡æ–­è·¯å™¨ï¼Œå®ç°äº†è‡ªåŠ¨åœ°å‘ç°é”™è¯¯å¹¶å°†é™çº§é€»è¾‘åˆ‡æ¢ä¸ºä¸»é€»è¾‘ï¼Œå‡å°‘å“åº”å»¶è¿Ÿçš„æ•ˆæœã€‚</p><p><strong>åŸæ¥çš„ä¸»é€»è¾‘è¦å¦‚ä½•æ¢å¤å‘¢ï¼Ÿ</strong></p><ul><li><p>å¯¹äºè¿™ä¸€é—®é¢˜ï¼Œhystrixä¹Ÿä¸ºæˆ‘ä»¬å®ç°äº†è‡ªåŠ¨æ¢å¤åŠŸèƒ½ã€‚</p></li><li><p>å½“æ–­è·¯å™¨æ‰“å¼€ï¼Œå¯¹ä¸»é€»è¾‘è¿›è¡Œç†”æ–­ä¹‹åï¼Œhystrixä¼šå¯åŠ¨ä¸€ä¸ªä¼‘çœ æ—¶é—´çª—ï¼Œåœ¨è¿™ä¸ªæ—¶é—´çª—å†…ï¼Œé™çº§é€»è¾‘æ˜¯ä¸´æ—¶çš„æˆä¸ºä¸»é€»è¾‘ï¼Œå½“ä¼‘çœ æ—¶é—´çª—åˆ°æœŸï¼Œæ–­è·¯å™¨å°†è¿›å…¥åŠå¼€çŠ¶æ€ï¼Œé‡Šæ”¾ä¸€æ¬¡è¯·æ±‚åˆ°åŸæ¥çš„ä¸»é€»è¾‘ä¸Šï¼Œå¦‚æœæ­¤æ¬¡è¯·æ±‚æ­£å¸¸è¿”å›ï¼Œé‚£ä¹ˆæ–­è·¯å™¨å°†ç»§ç»­é—­åˆï¼Œä¸»é€»è¾‘æ¢å¤ï¼Œå¦‚æœè¿™æ¬¡è¯·æ±‚ä¾ç„¶æœ‰é—®é¢˜ï¼Œæ–­è·¯å™¨ç»§ç»­è¿›å…¥æ‰“å¼€çŠ¶æ€ï¼Œä¼‘çœ æ—¶é—´çª—é‡æ–°è®¡æ—¶ã€‚</p></li></ul><h4 id="ALLé…ç½®"><a href="#ALLé…ç½®" class="headerlink" title="ALLé…ç½®"></a>ALLé…ç½®</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@HystrixCommand</span><span class="token punctuation">(</span>fallbackMethod <span class="token operator">=</span> <span class="token string">"fallbackMethod"</span><span class="token punctuation">,</span>                 groupKey <span class="token operator">=</span> <span class="token string">"strGroupCommand"</span><span class="token punctuation">,</span>                 commandKey <span class="token operator">=</span> <span class="token string">"strCommand"</span><span class="token punctuation">,</span>                 threadPoolKey <span class="token operator">=</span> <span class="token string">"strThreadPool"</span><span class="token punctuation">,</span>               commandProperties <span class="token operator">=</span> <span class="token punctuation">&#123;</span>                <span class="token comment">// è®¾ç½®éš”ç¦»ç­–ç•¥ï¼ŒTHREAD è¡¨ç¤ºçº¿ç¨‹æ±  SEMAPHOREï¼šä¿¡å·æ± éš”ç¦»</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"execution.isolation.strategy"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"THREAD"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token comment">// å½“éš”ç¦»ç­–ç•¥é€‰æ‹©ä¿¡å·æ± éš”ç¦»çš„æ—¶å€™ï¼Œç”¨æ¥è®¾ç½®ä¿¡å·æ± çš„å¤§å°ï¼ˆæœ€å¤§å¹¶å‘æ•°ï¼‰</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"execution.isolation.semaphore.maxConcurrentRequests"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"10"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token comment">// é…ç½®å‘½ä»¤æ‰§è¡Œçš„è¶…æ—¶æ—¶é—´</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"execution.isolation.thread.timeoutinMilliseconds"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"10"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token comment">// æ˜¯å¦å¯ç”¨è¶…æ—¶æ—¶é—´</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"execution.timeout.enabled"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token comment">// æ‰§è¡Œè¶…æ—¶çš„æ—¶å€™æ˜¯å¦ä¸­æ–­</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"execution.isolation.thread.interruptOnTimeout"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                                <span class="token comment">// æ‰§è¡Œè¢«å–æ¶ˆçš„æ—¶å€™æ˜¯å¦ä¸­æ–­</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"execution.isolation.thread.interruptOnCancel"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token comment">// å…è®¸å›è°ƒæ–¹æ³•æ‰§è¡Œçš„æœ€å¤§å¹¶å‘æ•°</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"fallback.isolation.semaphore.maxConcurrentRequests"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"10"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token comment">// æœåŠ¡é™çº§æ˜¯å¦å¯ç”¨ï¼Œæ˜¯å¦æ‰§è¡Œå›è°ƒå‡½æ•°</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"fallback.enabled"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token comment">// æ˜¯å¦å¯ç”¨æ–­è·¯å™¨</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.enabled"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token comment">// è¯¥å±æ€§ç”¨æ¥è®¾ç½®åœ¨æ»šåŠ¨æ—¶é—´çª—ä¸­ï¼Œæ–­è·¯å™¨ç†”æ–­çš„æœ€å°è¯·æ±‚æ•°ã€‚ä¾‹å¦‚ï¼Œé»˜è®¤è¯¥å€¼ä¸º 20 çš„æ—¶å€™ï¼Œå¦‚æœæ»šåŠ¨æ—¶é—´çª—ï¼ˆé»˜è®¤10ç§’ï¼‰å†…ä»…æ”¶åˆ°äº†19ä¸ªè¯·æ±‚ï¼Œ å³ä½¿è¿™19ä¸ªè¯·æ±‚éƒ½å¤±è´¥äº†ï¼Œæ–­è·¯å™¨ä¹Ÿä¸ä¼šæ‰“å¼€ã€‚</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.requestVolumeThreshold"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"20"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                                <span class="token comment">// è¯¥å±æ€§ç”¨æ¥è®¾ç½®åœ¨æ»šåŠ¨æ—¶é—´çª—ä¸­ï¼Œè¡¨ç¤ºåœ¨æ»šåŠ¨æ—¶é—´çª—ä¸­ï¼Œåœ¨è¯·æ±‚æ•°é‡è¶…è¿‡ circuitBreaker.requestVolumeThreshold çš„æƒ…å†µä¸‹ï¼Œå¦‚æœé”™è¯¯è¯·æ±‚æ•°çš„ç™¾åˆ†æ¯”è¶…è¿‡50, å°±æŠŠæ–­è·¯å™¨è®¾ç½®ä¸º "æ‰“å¼€" çŠ¶æ€ï¼Œå¦åˆ™å°±è®¾ç½®ä¸º "å…³é—­" çŠ¶æ€ã€‚</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.errorThresholdPercentage"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"50"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token comment">// è¯¥å±æ€§ç”¨æ¥è®¾ç½®å½“æ–­è·¯å™¨æ‰“å¼€ä¹‹åçš„ä¼‘çœ æ—¶é—´çª—ã€‚ ä¼‘çœ æ—¶é—´çª—ç»“æŸä¹‹åï¼Œä¼šå°†æ–­è·¯å™¨ç½®ä¸º "åŠå¼€" çŠ¶æ€ï¼Œå°è¯•ç†”æ–­çš„è¯·æ±‚å‘½ä»¤ï¼Œå¦‚æœä¾ç„¶å¤±è´¥å°±å°†æ–­è·¯å™¨ç»§ç»­è®¾ç½®ä¸º "æ‰“å¼€" çŠ¶æ€ï¼Œå¦‚æœæˆåŠŸå°±è®¾ç½®ä¸º "å…³é—­" çŠ¶æ€ã€‚</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.sleepWindowinMilliseconds"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"5000"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token comment">// æ–­è·¯å™¨å¼ºåˆ¶æ‰“å¼€</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.forceOpen"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"false"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token comment">// æ–­è·¯å™¨å¼ºåˆ¶å…³é—­</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"circuitBreaker.forceClosed"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"false"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token comment">// æ»šåŠ¨æ—¶é—´çª—è®¾ç½®ï¼Œè¯¥æ—¶é—´ç”¨äºæ–­è·¯å™¨åˆ¤æ–­å¥åº·åº¦æ—¶éœ€è¦æ”¶é›†ä¿¡æ¯çš„æŒç»­æ—¶é—´</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"metrics.rollingStats.timeinMilliseconds"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"10000"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                                <span class="token comment">// è¯¥å±æ€§ç”¨æ¥è®¾ç½®æ»šåŠ¨æ—¶é—´çª—ç»Ÿè®¡æŒ‡æ ‡ä¿¡æ¯æ—¶åˆ’åˆ†"æ¡¶"çš„æ•°é‡ï¼Œæ–­è·¯å™¨åœ¨æ”¶é›†æŒ‡æ ‡ä¿¡æ¯çš„æ—¶å€™ä¼šæ ¹æ®è®¾ç½®çš„æ—¶é—´çª—é•¿åº¦æ‹†åˆ†æˆå¤šä¸ª "æ¡¶" æ¥ç´¯è®¡å„åº¦é‡å€¼ï¼Œæ¯ä¸ª"æ¡¶"è®°å½•äº†ä¸€æ®µæ—¶é—´å†…çš„é‡‡é›†æŒ‡æ ‡ã€‚</span>                <span class="token comment">// æ¯”å¦‚ 10 ç§’å†…æ‹†åˆ†æˆ 10 ä¸ª"æ¡¶"æ”¶é›†è¿™æ ·ï¼Œæ‰€ä»¥ timeinMilliseconds å¿…é¡»èƒ½è¢« numBuckets æ•´é™¤ã€‚å¦åˆ™ä¼šæŠ›å¼‚å¸¸</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"metrics.rollingStats.numBuckets"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"10"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token comment">// è¯¥å±æ€§ç”¨æ¥è®¾ç½®å¯¹å‘½ä»¤æ‰§è¡Œçš„å»¶è¿Ÿæ˜¯å¦ä½¿ç”¨ç™¾åˆ†ä½æ•°æ¥è·Ÿè¸ªå’Œè®¡ç®—ã€‚å¦‚æœè®¾ç½®ä¸º false, é‚£ä¹ˆæ‰€æœ‰çš„æ¦‚è¦ç»Ÿè®¡éƒ½å°†è¿”å› -1ã€‚</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"metrics.rollingPercentile.enabled"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"false"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token comment">// è¯¥å±æ€§ç”¨æ¥è®¾ç½®ç™¾åˆ†ä½ç»Ÿè®¡çš„æ»šåŠ¨çª—å£çš„æŒç»­æ—¶é—´ï¼Œå•ä½ä¸ºæ¯«ç§’ã€‚</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"metrics.rollingPercentile.timeInMilliseconds"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"60000"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token comment">// è¯¥å±æ€§ç”¨æ¥è®¾ç½®ç™¾åˆ†ä½ç»Ÿè®¡æ»šåŠ¨çª—å£ä¸­ä½¿ç”¨ â€œ æ¡¶ â€çš„æ•°é‡ã€‚</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"metrics.rollingPercentile.numBuckets"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"60000"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token comment">// è¯¥å±æ€§ç”¨æ¥è®¾ç½®åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ¯ä¸ª â€œæ¡¶â€ ä¸­ä¿ç•™çš„æœ€å¤§æ‰§è¡Œæ¬¡æ•°ã€‚å¦‚æœåœ¨æ»šåŠ¨æ—¶é—´çª—å†…å‘ç”Ÿè¶…è¿‡è¯¥è®¾å®šå€¼çš„æ‰§è¡Œæ¬¡æ•°ï¼Œ</span>                <span class="token comment">// å°±ä»æœ€åˆçš„ä½ç½®å¼€å§‹é‡å†™ã€‚ä¾‹å¦‚ï¼Œå°†è¯¥å€¼è®¾ç½®ä¸º100, æ»šåŠ¨çª—å£ä¸º10ç§’ï¼Œè‹¥åœ¨10ç§’å†…ä¸€ä¸ª â€œæ¡¶ â€ä¸­å‘ç”Ÿäº†500æ¬¡æ‰§è¡Œï¼Œ</span>                <span class="token comment">// é‚£ä¹ˆè¯¥ â€œæ¡¶â€ ä¸­åªä¿ç•™ æœ€åçš„100æ¬¡æ‰§è¡Œçš„ç»Ÿè®¡ã€‚å¦å¤–ï¼Œå¢åŠ è¯¥å€¼çš„å¤§å°å°†ä¼šå¢åŠ å†…å­˜é‡çš„æ¶ˆè€—ï¼Œå¹¶å¢åŠ æ’åºç™¾åˆ†ä½æ•°æ‰€éœ€çš„è®¡ç®—æ—¶é—´ã€‚</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"metrics.rollingPercentile.bucketSize"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"100"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                                <span class="token comment">// è¯¥å±æ€§ç”¨æ¥è®¾ç½®é‡‡é›†å½±å“æ–­è·¯å™¨çŠ¶æ€çš„å¥åº·å¿«ç…§ï¼ˆè¯·æ±‚çš„æˆåŠŸã€ é”™è¯¯ç™¾åˆ†æ¯”ï¼‰çš„é—´éš”ç­‰å¾…æ—¶é—´ã€‚</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"metrics.healthSnapshot.intervalinMilliseconds"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"500"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token comment">// æ˜¯å¦å¼€å¯è¯·æ±‚ç¼“å­˜</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"requestCache.enabled"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token comment">// HystrixCommandçš„æ‰§è¡Œå’Œäº‹ä»¶æ˜¯å¦æ‰“å°æ—¥å¿—åˆ° HystrixRequestLog ä¸­</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"requestLog.enabled"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"true"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>            threadPoolProperties <span class="token operator">=</span> <span class="token punctuation">&#123;</span>                <span class="token comment">// è¯¥å‚æ•°ç”¨æ¥è®¾ç½®æ‰§è¡Œå‘½ä»¤çº¿ç¨‹æ± çš„æ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œè¯¥å€¼ä¹Ÿå°±æ˜¯å‘½ä»¤æ‰§è¡Œçš„æœ€å¤§å¹¶å‘é‡</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"coreSize"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"10"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token comment">// è¯¥å‚æ•°ç”¨æ¥è®¾ç½®çº¿ç¨‹æ± çš„æœ€å¤§é˜Ÿåˆ—å¤§å°ã€‚å½“è®¾ç½®ä¸º -1 æ—¶ï¼Œçº¿ç¨‹æ± å°†ä½¿ç”¨ SynchronousQueue å®ç°çš„é˜Ÿåˆ—ï¼Œå¦åˆ™å°†ä½¿ç”¨ LinkedBlockingQueue å®ç°çš„é˜Ÿåˆ—ã€‚</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"maxQueueSize"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"-1"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                <span class="token comment">// è¯¥å‚æ•°ç”¨æ¥ä¸ºé˜Ÿåˆ—è®¾ç½®æ‹’ç»é˜ˆå€¼ã€‚ é€šè¿‡è¯¥å‚æ•°ï¼Œ å³ä½¿é˜Ÿåˆ—æ²¡æœ‰è¾¾åˆ°æœ€å¤§å€¼ä¹Ÿèƒ½æ‹’ç»è¯·æ±‚ã€‚</span>                <span class="token comment">// è¯¥å‚æ•°ä¸»è¦æ˜¯å¯¹ LinkedBlockingQueue é˜Ÿåˆ—çš„è¡¥å……,å› ä¸º LinkedBlockingQueue é˜Ÿåˆ—ä¸èƒ½åŠ¨æ€ä¿®æ”¹å®ƒçš„å¯¹è±¡å¤§å°ï¼Œè€Œé€šè¿‡è¯¥å±æ€§å°±å¯ä»¥è°ƒæ•´æ‹’ç»è¯·æ±‚çš„é˜Ÿåˆ—å¤§å°äº†ã€‚</span>                <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"queueSizeRejectionThreshold"</span><span class="token punctuation">,</span> value <span class="token operator">=</span> <span class="token string">"5"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>            <span class="token punctuation">&#125;</span>           <span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">doSomething</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">&#125;</span>           <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Hystrixå·¥ä½œæµç¨‹æœ€åæ€»ç»“"><a href="#Hystrixå·¥ä½œæµç¨‹æœ€åæ€»ç»“" class="headerlink" title="Hystrixå·¥ä½œæµç¨‹æœ€åæ€»ç»“"></a>Hystrixå·¥ä½œæµç¨‹æœ€åæ€»ç»“</h3><p><a href="https://github.com/Netflix/Hystrix/wiki/How-it-Works">å®˜æ–¹è§£é‡Š</a></p><p><img src="https://img-blog.csdnimg.cn/9a42a0b3f10240e38c3055cbfa504ecc.png" alt="å·¥ä½œæµç¨‹"></p><h3 id="Hystrixå›¾å½¢åŒ–Dashboardæ­å»º"><a href="#Hystrixå›¾å½¢åŒ–Dashboardæ­å»º" class="headerlink" title="Hystrixå›¾å½¢åŒ–Dashboardæ­å»º"></a>Hystrixå›¾å½¢åŒ–Dashboardæ­å»º</h3><h4 id="æ¦‚è¿°-1"><a href="#æ¦‚è¿°-1" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h4><p>é™¤äº†éš”ç¦»ä¾èµ–æœåŠ¡çš„è°ƒç”¨ä»¥å¤–ï¼ŒHystrixè¿˜æä¾›äº†<font color="red">å‡†å®æ—¶çš„è°ƒç”¨ç›‘æ§(Hystrix Dashboard)</font>ï¼ŒHystrixä¼šæŒç»­åœ°è®°å½•æ‰€æœ‰é€šè¿‡Hystrixå‘èµ·çš„è¯·æ±‚çš„æ‰§è¡Œä¿¡æ¯ï¼Œå¹¶ä»¥ç»Ÿè®¡æŠ¥è¡¨å’Œå›¾å½¢çš„å½¢å¼å±•ç¤ºç»™ç”¨æˆ·ï¼ŒåŒ…æ‹¬æ¯ç§’æ‰§è¡Œå¤šå°‘è¯·æ±‚å¤šå°‘æˆåŠŸï¼Œå¤šå°‘å¤±è´¥ç­‰ã€‚</p><p>Netflixé€šè¿‡hystrix-metrics-event-streamé¡¹ç›®å®ç°äº†å¯¹ä»¥ä¸ŠæŒ‡æ ‡çš„ç›‘æ§ã€‚Spring Cloudä¹Ÿæä¾›äº†Hystrix Dashboardçš„æ•´åˆï¼Œå¯¹ç›‘æ§å†…å®¹è½¬åŒ–æˆå¯è§†åŒ–ç•Œé¢ã€‚</p><p><img src="https://img-blog.csdnimg.cn/08a036ae9f5f4f8c9de44e93d9126c65.png" alt="http://localhost:9001/hystrix"></p><p>é¦–é¡µåœ°å€æ è¾“å…¥ <a href="http://localhost:8001/hystrix.stream%E8%BF%9B%E5%85%A5%E8%BF%90%E8%A1%8C%E7%95%8C%E9%9D%A2">http://localhost:8001/hystrix.streamè¿›å…¥è¿è¡Œç•Œé¢</a></p><p>åˆ·æ–° <a href="http://localhost:8001/payment/circuit/10">http://localhost:8001/payment/circuit/10</a> å’Œ <a href="http://localhost:8001/payment/circuit/-10">http://localhost:8001/payment/circuit/-10</a> è§‚å¯Ÿæ•ˆæœ</p><p><img src="https://img-blog.csdnimg.cn/d779ae32d1e54cc18af202e7552d3098.png" alt="æ•ˆæœæ¼”ç¤º"><img src="https://img-blog.csdnimg.cn/97cc35b1f24740a98d49debd60c460e3.png" alt="æ•ˆæœæ¼”ç¤º"></p><p><strong>å®å¿ƒåœ†</strong>ï¼šå…±æœ‰ä¸¤ç§å«ä¹‰ã€‚å®ƒé€šè¿‡é¢œè‰²çš„å˜åŒ–ä»£è¡¨äº†å®ä¾‹çš„å¥åº·ç¨‹åº¦ï¼Œå®ƒçš„å¥åº·åº¦ä»ç»¿è‰²&lt;é»„è‰²&lt;æ©™è‰²&lt;çº¢è‰²é€’å‡ã€‚</p><p>è¯¥å®å¿ƒåœ†é™¤äº†é¢œè‰²çš„å˜åŒ–ä¹‹å¤–ï¼Œå®ƒçš„å¤§å°ä¹Ÿä¼šæ ¹æ®å®ä¾‹çš„è¯·æ±‚æµé‡å‘ç”Ÿå˜åŒ–ï¼Œ<strong>æµé‡è¶Šå¤§è¯¥å®å¿ƒåœ†å°±è¶Šå¤§</strong>ã€‚æ‰€ä»¥é€šè¿‡è¯¥å®å¿ƒåœ†çš„å±•ç¤ºï¼Œå°±å¯ä»¥åœ¨å¤§é‡çš„å®ä¾‹ä¸­å¿«é€Ÿçš„å‘ç°æ•…éšœå®ä¾‹å’Œé«˜å‹åŠ›å®ä¾‹ã€‚</p><p><strong>æ›²çº¿</strong>ï¼šç”¨æ¥è®°å½•2åˆ†é’Ÿå†…æµé‡çš„ç›¸å¯¹å˜åŒ–ï¼Œå¯ä»¥é€šè¿‡å®ƒæ¥è§‚å¯Ÿåˆ°æµé‡çš„ä¸Šå‡å’Œä¸‹é™è¶‹åŠ¿ã€‚</p><p><img src="https://img-blog.csdnimg.cn/f82fdf5329f0494c9c6842fad105783e.png" alt="æ•´å›¾è¯´æ˜"><br><img src="https://img-blog.csdnimg.cn/fa42e8e4e53f49cba8f5b38ae9efbb96.png" alt="æ•´å›¾è¯´æ˜"></p>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringCloud </tag>
            
            <tag> Hystrix </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringCloudä¹‹OpenFeign</title>
      <link href="/2022-03-18-springcloud-zhi-openfeign.html"/>
      <url>/2022-03-18-springcloud-zhi-openfeign.html</url>
      
        <content type="html"><![CDATA[<h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p><a href="https://github.com/spring-cloud/spring-cloud-openfeign">GitHub</a></p><ul><li>Feignæ˜¯ä¸€ä¸ªå£°æ˜å¼çš„webæœåŠ¡å®¢æˆ·ç«¯ï¼Œè®©ç¼–å†™webæœåŠ¡å®¢æˆ·ç«¯å˜å¾—éå¸¸å®¹æ˜“ï¼Œ<strong>åªéœ€åˆ›å»ºä¸€ä¸ªæ¥å£å¹¶åœ¨æ¥å£ä¸Šæ·»åŠ æ³¨è§£å³å¯</strong></li></ul><p><img src="C:\Users\shaoshao\AppData\Roaming\Typora\typora-user-images\image-20220318131601183.png" alt="image-20220318131601183"></p><ul><li><font color="blue">Feignæ—¨åœ¨ä½¿ç¼–å†™Java Httpå®¢æˆ·ç«¯å˜å¾—æ›´å®¹æ˜“ã€‚</font><ul><li>å‰é¢åœ¨ä½¿ç”¨Ribbon+RestTemplateæ—¶ï¼Œåˆ©ç”¨RestTemplateå¯¹httpè¯·æ±‚çš„å°è£…å¤„ç†ï¼Œå½¢æˆäº†ä¸€å¥—æ¨¡ç‰ˆåŒ–çš„è°ƒç”¨æ–¹æ³•ã€‚ä½†æ˜¯åœ¨å®é™…å¼€å‘ä¸­ï¼Œç”±äºå¯¹æœåŠ¡ä¾èµ–çš„è°ƒç”¨å¯èƒ½ä¸æ­¢ä¸€å¤„ï¼Œ<font color="red">å¾€å¾€ä¸€ä¸ªæ¥å£ä¼šè¢«å¤šå¤„è°ƒç”¨ï¼Œæ‰€ä»¥é€šå¸¸éƒ½ä¼šé’ˆå¯¹æ¯ä¸ªå¾®æœåŠ¡è‡ªè¡Œå°è£…ä¸€äº›å®¢æˆ·ç«¯ç±»æ¥åŒ…è£…è¿™äº›ä¾èµ–æœåŠ¡çš„è°ƒç”¨ã€‚</font>æ‰€ä»¥ï¼ŒFeignåœ¨æ­¤åŸºç¡€ä¸Šåšäº†è¿›ä¸€æ­¥å°è£…ï¼Œç”±ä»–æ¥å¸®åŠ©æˆ‘ä»¬å®šä¹‰å’Œå®ç°ä¾èµ–æœåŠ¡æ¥å£çš„å®šä¹‰ã€‚åœ¨Feignçš„å®ç°ä¸‹ï¼Œ<font color="red">æˆ‘ä»¬åªéœ€åˆ›å»ºä¸€ä¸ªæ¥å£å¹¶ä½¿ç”¨æ³¨è§£çš„æ–¹å¼æ¥é…ç½®å®ƒ(ä»¥å‰æ˜¯Daoæ¥å£ä¸Šé¢æ ‡æ³¨Mapperæ³¨è§£,ç°åœ¨æ˜¯ä¸€ä¸ªå¾®æœåŠ¡æ¥å£ä¸Šé¢æ ‡æ³¨ä¸€ä¸ªFeignæ³¨è§£å³å¯)ï¼Œ</font>å³å¯å®Œæˆå¯¹æœåŠ¡æä¾›æ–¹çš„æ¥å£ç»‘å®šï¼Œç®€åŒ–äº†ä½¿ç”¨Spring cloud Ribbonæ—¶ï¼Œè‡ªåŠ¨å°è£…æœåŠ¡è°ƒç”¨å®¢æˆ·ç«¯çš„å¼€å‘é‡ã€‚</li></ul></li><li><font color="blue">Feigné›†æˆäº†Ribbon</font><ul><li>åˆ©ç”¨Ribbonç»´æŠ¤äº†Paymentçš„æœåŠ¡åˆ—è¡¨ä¿¡æ¯ï¼Œå¹¶ä¸”é€šè¿‡è½®è¯¢å®ç°äº†å®¢æˆ·ç«¯çš„è´Ÿè½½å‡è¡¡ã€‚è€Œä¸Ribbonä¸åŒçš„æ˜¯ï¼Œ<font color="red">é€šè¿‡feignåªéœ€è¦å®šä¹‰æœåŠ¡ç»‘å®šæ¥å£ä¸”ä»¥å£°æ˜å¼çš„æ–¹æ³•ï¼Œ</font>ä¼˜é›…è€Œç®€å•çš„å®ç°äº†æœåŠ¡è°ƒç”¨ã€‚</li></ul></li><li><font color="blue">Feignå’ŒOpenFeignä¸¤è€…åŒºåˆ«</font><ul><li><code>Feign</code>æ˜¯Spring Cloudç»„ä»¶ä¸­çš„ä¸€ä¸ªè½»é‡çº§RESTfulçš„HTTPæœåŠ¡å®¢æˆ·ç«¯Feignå†…ç½®äº†Ribbonï¼Œç”¨æ¥åšå®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ï¼Œå»è°ƒç”¨æœåŠ¡æ³¨å†Œä¸­å¿ƒçš„æœåŠ¡ã€‚Feignçš„ä½¿ç”¨æ–¹å¼æ˜¯:ä½¿ç”¨Feignçš„æ³¨è§£å®šä¹‰æ¥å£ï¼Œè°ƒç”¨è¿™ä¸ªæ¥å£ï¼Œå°±å¯ä»¥è°ƒç”¨æœåŠ¡æ³¨å†Œä¸­å¿ƒçš„æœåŠ¡</li></ul></li></ul> <pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-feign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li><code>OpenFeign</code>æ˜¯Spring Cloudåœ¨Feignçš„åŸºç¡€ä¸Šæ”¯æŒäº†SpringMVCçš„æ³¨è§£ï¼Œå¦‚@RequesMappingç­‰ç­‰ã€‚OpenFeignçš„@Feignclientå¯ä»¥è§£æSpringMVcçš„@RequestMappingæ³¨è§£ä¸‹çš„æ¥å£ï¼Œå¹¶é€šè¿‡åŠ¨æ€ä»£ç†çš„æ–¹å¼äº§ç”Ÿå®ç°ç±»ï¼Œå®ç°ç±»ä¸­åšè´Ÿè½½å‡è¡¡å¹¶è°ƒç”¨å…¶ä»–æœåŠ¡ã€‚</li></ul>  <pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/f4b5bd0ef6b84a8f83da9bc01b31a9be.png" alt="Feign vs OpenFeign"></p><ul><li>ç”¨åœ¨äºæ¶ˆè´¹ç«¯</li></ul><h3 id="é¡¹ç›®æ­å»ºï¼ˆæ¶ˆè´¹ç«¯ï¼‰"><a href="#é¡¹ç›®æ­å»ºï¼ˆæ¶ˆè´¹ç«¯ï¼‰" class="headerlink" title="é¡¹ç›®æ­å»ºï¼ˆæ¶ˆè´¹ç«¯ï¼‰"></a>é¡¹ç›®æ­å»ºï¼ˆæ¶ˆè´¹ç«¯ï¼‰</h3><ul><li>å¾®æœåŠ¡è°ƒç”¨æ¥å£+@FeignClient</li></ul><p><img src="https://img-blog.csdnimg.cn/95368b1f9a254d6b9808c04c76be0621.png" alt="ç›®å½•ç»“æ„"></p><h4 id="new-Module"><a href="#new-Module" class="headerlink" title="new Module"></a>new Module</h4><p> pom.xml</p>  <pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>springcloud2022<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ssm.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-consumer-feign-order80<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--openfeign--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- å¼•å…¥è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ssm.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;project.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>application.yml</p>  <pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span><span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka<span class="token punctuation">,</span> http<span class="token punctuation">:</span>//eureka7002.com<span class="token punctuation">:</span>7002/eureka<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PaymentService</p>  <pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"Cloud-PAYMENT-SERVICE"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PaymentService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/payment/get/&#123;id&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span> <span class="token function">getPaymentById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>OderFeignController</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OderFeignController</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">private</span> <span class="token class-name">PaymentService</span> paymentService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/consumer/payment/get/&#123;id&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Payment</span><span class="token punctuation">></span></span> <span class="token function">getPaymentById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> paymentService<span class="token punctuation">.</span><span class="token function">getPaymentById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/3fa851f5bc7a440595d2191be167070e.png" alt="è¿è¡Œç»“æœ"><br><img src="https://img-blog.csdnimg.cn/253159a116b942c1a24b89a6f0f05b68.png" alt="è¿è¡Œç»“æœ"></p><ul><li><font color="red">Feignè‡ªå¸¦è´Ÿè½½å‡è¡¡åŠŸèƒ½</font></li></ul><h3 id="Feignè¶…æ—¶æ§åˆ¶"><a href="#Feignè¶…æ—¶æ§åˆ¶" class="headerlink" title="Feignè¶…æ—¶æ§åˆ¶"></a>Feignè¶…æ—¶æ§åˆ¶</h3><h4 id="ä»£ç ç¼–å†™"><a href="#ä»£ç ç¼–å†™" class="headerlink" title="ä»£ç ç¼–å†™"></a>ä»£ç ç¼–å†™</h4><p>PaymentController 8001 ä¸Šæ·»åŠ è¶…æ—¶æ–¹æ³•</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/payment/feign/timeout"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentFeignTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>SECONDS<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">return</span> serverPort<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æœåŠ¡æ¶ˆè´¹æ–¹80æ·»åŠ è¶…æ—¶æ–¹æ³•PaymentFeignService</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/payment/feign/timeout"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentFeignTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æœåŠ¡æ¶ˆè´¹æ–¹80æ·»åŠ è¶…æ—¶æ–¹æ³•OrderFeignController</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/consumer/payment/feign/timeout"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentFeignTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token comment">// openfeign-ribbon å®¢æˆ·ç«¯é»˜è®¤3s</span>   <span class="token keyword">return</span> paymentFeignService<span class="token punctuation">.</span><span class="token function">paymentFeignTimeout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/27cf3bc914e14f6eb87c2afe430bf56d.png" alt="é”™è¯¯é¡µé¢"></p><ul><li>OpenFeigné»˜è®¤ç­‰å¾…ä¸€ç§’é’Ÿï¼Œè¶…è¿‡åæŠ¥é”™</li></ul><p><strong>YMLæ–‡ä»¶é‡Œéœ€è¦å¼€å¯OpenFeignå®¢æˆ·ç«¯è¶…æ—¶æ§åˆ¶å³å¯</strong></p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment"># è®¾ç½®feignå®¢æˆ·ç«¯è¶…æ—¶æ—¶é—´,(OpenFeigné»˜è®¤æ”¯æŒRibbon)</span><span class="token key atrule">ribbon</span><span class="token punctuation">:</span>  <span class="token comment"># æŒ‡çš„æ˜¯å»ºç«‹è¿æ¥åä»æœåŠ¡å™¨è¯»å–åˆ°å¯ç”¨èµ„æºæ‰€ç”¨çš„æ—¶é—´</span>  <span class="token key atrule">ReadTimeout</span><span class="token punctuation">:</span>  <span class="token number">5000</span>  <span class="token comment"># æŒ‡çš„æ˜¯è¿æ¥æ‰€ç”¨çš„æ—¶é—´ï¼Œé€‚ç”¨äºç½‘ç»œçŠ¶å†µæ­£å¸¸çš„æƒ…å†µä¸‹ï¼Œä¸¤ç«¯è¿æ¥æ‰€ç”¨çš„æ—¶é—´</span>  <span class="token key atrule">ConnectTimeout</span><span class="token punctuation">:</span> <span class="token number">5000</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="OpenFeignæ—¥å¿—æ‰“å°"><a href="#OpenFeignæ—¥å¿—æ‰“å°" class="headerlink" title="OpenFeignæ—¥å¿—æ‰“å°"></a>OpenFeignæ—¥å¿—æ‰“å°</h3><h4 id="æ—¥å¿—æ‰“å°åŠŸèƒ½"><a href="#æ—¥å¿—æ‰“å°åŠŸèƒ½" class="headerlink" title="æ—¥å¿—æ‰“å°åŠŸèƒ½"></a>æ—¥å¿—æ‰“å°åŠŸèƒ½</h4><p>Feignæä¾›äº†æ—¥å¿—æ‰“å°åŠŸèƒ½ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®æ¥è°ƒæ•´æ—¥æ™çº§åˆ«ï¼Œä»è€Œäº†è§£Feign ä¸­ Httpè¯·æ±‚çš„ç»†èŠ‚ã€‚</p><p>è¯´ç™½äº†å°±æ˜¯å¯¹Feignæ¥å£çš„è°ƒç”¨æƒ…å†µè¿›è¡Œç›‘æ§å’Œè¾“å‡º</p><h4 id="æ—¥å¿—çº§åˆ«"><a href="#æ—¥å¿—çº§åˆ«" class="headerlink" title="æ—¥å¿—çº§åˆ«"></a>æ—¥å¿—çº§åˆ«</h4><ul><li>NONEï¼šé»˜è®¤çš„ï¼Œä¸æ˜¾ç¤ºä»»ä½•æ—¥å¿—;</li><li>BASICï¼šä»…è®°å½•è¯·æ±‚æ–¹æ³•ã€URLã€å“åº”çŠ¶æ€ç åŠæ‰§è¡Œæ—¶é—´;</li><li>HEADERSï¼šé™¤äº†BASICä¸­å®šä¹‰çš„ä¿¡æ¯ä¹‹å¤–ï¼Œè¿˜æœ‰è¯·æ±‚å’Œå“åº”çš„å¤´ä¿¡æ¯;</li><li>FULLï¼šé™¤äº†HEADERSä¸­å®šä¹‰çš„ä¿¡æ¯ä¹‹å¤–ï¼Œè¿˜æœ‰è¯·æ±‚å’Œå“åº”çš„æ­£æ–‡åŠå…ƒæ•°æ®ã€‚</li></ul><h4 id="ä»£ç ç¼–å†™-1"><a href="#ä»£ç ç¼–å†™-1" class="headerlink" title="ä»£ç ç¼–å†™"></a>ä»£ç ç¼–å†™</h4><p>FeignConfig</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FeignConfig</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token class-name">Logger<span class="token punctuation">.</span>Level</span> <span class="token function">feignLoggerLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">Logger<span class="token punctuation">.</span>Level</span><span class="token punctuation">.</span>FULL<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>application.yml</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">logging</span><span class="token punctuation">:</span>  <span class="token key atrule">level</span><span class="token punctuation">:</span>    <span class="token comment"># feignæ—¥å¿—ä»¥ä»€ä¹ˆçº§åˆ«ç›‘æ§å“ªä¸ªæ¥å£</span>    <span class="token key atrule">com.ssm.springcloud.service.PaymentService</span><span class="token punctuation">:</span> debug<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/461058045d264d1990cb1a5192721ff6.png" alt="æ—¥å¿—æ‰“å°"></p>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringCloud </tag>
            
            <tag> OpenFeign </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringCloudä¹‹Ribbon</title>
      <link href="/2022-03-17-springcloud-zhi-ribbon.html"/>
      <url>/2022-03-17-springcloud-zhi-ribbon.html</url>
      
        <content type="html"><![CDATA[<h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>Spring Cloud Ribbonæ˜¯åŸºäºNetflix Ribbonå®ç°çš„ä¸€å¥—å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡çš„å·¥å…·ã€‚</p><p>â€‹        ç®€å•çš„è¯´ï¼ŒRibbonæ˜¯Netflixå‘å¸ƒçš„å¼€æºé¡¹ç›®ï¼Œä¸»è¦åŠŸèƒ½æ˜¯æä¾›å®¢æˆ·ç«¯çš„è½¯ä»¶è´Ÿè½½å‡è¡¡ç®—æ³•å’ŒæœåŠ¡è°ƒç”¨ã€‚Ribbonå®¢æˆ·ç«¯ç»„ä»¶æä¾›ä¸€ç³»åˆ—å®Œå–„çš„é…ç½®é¡¹å¦‚è¿æ¥è¶…æ—¶ï¼Œé‡è¯•ç­‰ã€‚</p><p>â€‹        ç®€å•çš„è¯´ï¼Œå°±æ˜¯åœ¨é…ç½®æ–‡ä»¶ä¸­åˆ—å‡ºLoad Balancer(ç®€ç§°LB)åé¢æ‰€æœ‰çš„æœºå™¨ï¼ŒRibbonä¼šè‡ªåŠ¨çš„å¸®åŠ©ä½ åŸºäºæŸç§è§„åˆ™(å¦‚ç®€å•è½®è¯¢ï¼Œéšæœºè¿æ¥ç­‰ï¼‰å»è¿æ¥è¿™äº›æœºå™¨ã€‚æˆ‘ä»¬å¾ˆå®¹æ˜“ä½¿ç”¨Ribbonå®ç°è‡ªå®šä¹‰çš„è´Ÿè½½å‡è¡¡ç®—æ³•ã€‚</p><p><a href="https://github.com/Netflix/ribbon/wiki/Getting-Started">Github - Ribbon</a></p><ul><li>LBè´Ÿè½½å‡è¡¡(Load Balance)æ˜¯ä»€ä¹ˆï¼Ÿ</li></ul><p>ç®€å•çš„è¯´å°±æ˜¯å°†ç”¨æˆ·çš„è¯·æ±‚å¹³æ‘Šçš„åˆ†é…åˆ°å¤šä¸ªæœåŠ¡ä¸Šï¼Œä»è€Œè¾¾åˆ°ç³»ç»Ÿçš„HA (é«˜å¯ç”¨)ã€‚</p><ul><li><p>å¸¸è§çš„è´Ÿè½½å‡è¡¡æœ‰è½¯ä»¶Nginxï¼ŒLVSï¼Œç¡¬ä»¶F5ç­‰ã€‚</p></li><li><p>Ribbonæœ¬åœ°è´Ÿè½½å‡è¡¡å®¢æˆ·ç«¯VS NginxæœåŠ¡ç«¯è´Ÿè½½å‡è¡¡åŒºåˆ«</p><ul><li>Nginxæ˜¯æœåŠ¡å™¨è´Ÿè½½å‡è¡¡ï¼Œå®¢æˆ·ç«¯æ‰€æœ‰è¯·æ±‚éƒ½ä¼šäº¤ç»™nginxï¼Œç„¶åç”±nginxå®ç°è½¬å‘è¯·æ±‚ã€‚å³è´Ÿè½½å‡è¡¡æ˜¯ç”±æœåŠ¡ç«¯å®ç°çš„ã€‚</li><li>Ribbonæœ¬åœ°è´Ÿè½½å‡è¡¡ï¼Œåœ¨è°ƒç”¨å¾®æœåŠ¡æ¥å£æ—¶å€™ï¼Œä¼šåœ¨æ³¨å†Œä¸­å¿ƒä¸Šè·å–æ³¨å†Œä¿¡æ¯æœåŠ¡åˆ—è¡¨ä¹‹åç¼“å­˜åˆ°JVMæœ¬åœ°ï¼Œä»è€Œåœ¨æœ¬åœ°å®ç°RPCè¿œç¨‹æœåŠ¡è°ƒç”¨æŠ€æœ¯ã€‚</li></ul></li><li><p>é›†ä¸­å¼LB</p><ul><li>å³åœ¨æœåŠ¡çš„æ¶ˆè´¹æ–¹å’Œæä¾›æ–¹ä¹‹é—´ä½¿ç”¨ç‹¬ç«‹çš„LBè®¾æ–½(å¯ä»¥æ˜¯ç¡¬ä»¶ï¼Œå¦‚F5, ä¹Ÿå¯ä»¥æ˜¯è½¯ä»¶ï¼Œå¦‚nginx)ï¼Œç”±è¯¥è®¾æ–½è´Ÿè´£æŠŠè®¿é—®è¯·æ±‚é€šè¿‡æŸç§ç­–ç•¥è½¬å‘è‡³æœåŠ¡çš„æä¾›æ–¹;</li></ul></li><li><p>è¿›ç¨‹å†…LB</p><ul><li>å°†LBé€»è¾‘é›†æˆåˆ°æ¶ˆè´¹æ–¹ï¼Œæ¶ˆè´¹æ–¹ä»æœåŠ¡æ³¨å†Œä¸­å¿ƒè·çŸ¥æœ‰å“ªäº›åœ°å€å¯ç”¨ï¼Œç„¶åè‡ªå·±å†ä»è¿™äº›åœ°å€ä¸­é€‰æ‹©å‡ºä¸€ä¸ªåˆé€‚çš„æœåŠ¡å™¨ã€‚</li><li>Ribbonå°±å±äºè¿›ç¨‹å†…LBï¼Œå®ƒåªæ˜¯ä¸€ä¸ªç±»åº“ï¼Œé›†æˆäºæ¶ˆè´¹æ–¹è¿›ç¨‹ï¼Œæ¶ˆè´¹æ–¹é€šè¿‡å®ƒæ¥è·å–åˆ°æœåŠ¡æä¾›æ–¹çš„åœ°å€ã€‚</li></ul></li></ul><p>è´Ÿè½½å‡è¡¡ + RestTemplateè°ƒç”¨</p><p><strong>Ribbonå…¶å®å°±æ˜¯ä¸€ä¸ªè½¯è´Ÿè½½å‡è¡¡çš„å®¢æˆ·ç«¯ç»„ä»¶ï¼Œå®ƒå¯ä»¥å’Œå…¶ä»–æ‰€éœ€è¯·æ±‚çš„å®¢æˆ·ç«¯ç»“åˆä½¿ç”¨ï¼Œå’ŒEurekaç»“åˆåªæ˜¯å…¶ä¸­çš„ä¸€ä¸ªå®ä¾‹</strong></p><p>Ribbonåœ¨å·¥ä½œæ—¶åˆ†æˆä¸¤æ­¥ï¼š</p><ul><li><p>ç¬¬ä¸€æ­¥å…ˆé€‰æ‹©EurekaServer ,å®ƒä¼˜å…ˆé€‰æ‹©åœ¨åŒä¸€ä¸ªåŒºåŸŸå†…è´Ÿè½½è¾ƒå°‘çš„serverã€‚</p></li><li><p>ç¬¬äºŒæ­¥å†æ ¹æ®ç”¨æˆ·æŒ‡å®šçš„ç­–ç•¥ï¼Œåœ¨ä»serverå–åˆ°çš„æœåŠ¡æ³¨å†Œåˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªåœ°å€ã€‚</p></li><li><p>å…¶ä¸­Ribbonæä¾›äº†å¤šç§ç­–ç•¥ï¼šæ¯”å¦‚<strong>è½®è¯¢</strong>ï¼ˆé»˜è®¤ï¼‰ã€éšæœºå’Œæ ¹æ®å“åº”æ—¶é—´åŠ æƒã€‚</p></li></ul><h3 id="Ribbonçš„è´Ÿè½½å‡è¡¡å’ŒRestè°ƒç”¨"><a href="#Ribbonçš„è´Ÿè½½å‡è¡¡å’ŒRestè°ƒç”¨" class="headerlink" title="Ribbonçš„è´Ÿè½½å‡è¡¡å’ŒRestè°ƒç”¨"></a>Ribbonçš„è´Ÿè½½å‡è¡¡å’ŒRestè°ƒç”¨</h3><p><img src="https://img-blog.csdnimg.cn/f971aad9aa8344e49a1e13f40b3ddcd9.png" alt="ä¾èµ–"></p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupld</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupld</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactld</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-ribbon<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactid</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p>spring-cloud-starter-netflix-eureka-clientè‡ªå¸¦äº†spring-cloud-starter-ribbonå¼•ç”¨ã€‚</p></blockquote><h4 id="RestTemplateçš„å†æ¬¡ä½¿ç”¨"><a href="#RestTemplateçš„å†æ¬¡ä½¿ç”¨" class="headerlink" title="RestTemplateçš„å†æ¬¡ä½¿ç”¨"></a>RestTemplateçš„å†æ¬¡ä½¿ç”¨</h4><p><code>getForObject() / getForEntity() </code>- GETè¯·æ±‚æ–¹æ³•</p><p><code>postForObject() / postForEntity()</code> - POSTè¯·æ±‚æ–¹æ³•</p><p><code>getForObject()</code>ï¼šè¿”å›å¯¹è±¡ä¸ºå“åº”ä½“ä¸­æ•°æ®è½¬åŒ–æˆçš„å¯¹è±¡ï¼ŒåŸºæœ¬ä¸Šå¯ä»¥ç†è§£ä¸ºJsonã€‚</p><p><code>getForEntity()</code>ï¼šè¿”å›å¯¹è±¡ä¸ºResponseEntityå¯¹è±¡ï¼ŒåŒ…å«äº†å“åº”ä¸­çš„ä¸€äº›é‡è¦ä¿¡æ¯ï¼Œæ¯”å¦‚å“åº”å¤´ã€å“åº”çŠ¶æ€ç ã€å“åº”ä½“ç­‰ã€‚</p><p>OrderController</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderController</span> <span class="token punctuation">&#123;</span><span class="token comment">//    public static final String PAYMENT_URL = "http://localhost:8001";</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> PAYMENT_URL <span class="token operator">=</span> <span class="token string">"http://CLOUD-PAYMENT-SERVICE"</span><span class="token punctuation">;</span> <span class="token comment">//æœåŠ¡åç§°</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">private</span> <span class="token class-name">RestTemplate</span> restTemplate<span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/payment/create"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CommonResult</span><span class="token punctuation">></span></span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Payment</span> payment<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> restTemplate<span class="token punctuation">.</span><span class="token function">postForEntity</span><span class="token punctuation">(</span>PAYMENT_URL <span class="token operator">+</span> <span class="token string">"/payment/create"</span><span class="token punctuation">,</span> payment<span class="token punctuation">,</span> <span class="token class-name">CommonResult</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/consumer/payment/get/&#123;id&#125;"</span><span class="token punctuation">,</span>produces <span class="token operator">=</span> <span class="token class-name">MediaType</span><span class="token punctuation">.</span>APPLICATION_JSON_UTF8_VALUE<span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span> <span class="token function">getPayment</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span>PAYMENT_URL<span class="token operator">+</span><span class="token string">"/payment/get/"</span><span class="token operator">+</span>id<span class="token punctuation">,</span><span class="token class-name">CommonResult</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// å†æ¬¡ä½¿ç”¨</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/consumer/payment/getForEntity/&#123;id&#125;"</span><span class="token punctuation">,</span>produces <span class="token operator">=</span> <span class="token class-name">MediaType</span><span class="token punctuation">.</span>APPLICATION_JSON_UTF8_VALUE<span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Payment</span><span class="token punctuation">></span></span> <span class="token function">getPayment2</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CommonResult</span><span class="token punctuation">></span></span> forEntity <span class="token operator">=</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForEntity</span><span class="token punctuation">(</span>PAYMENT_URL <span class="token operator">+</span> <span class="token string">"/payment/get/"</span> <span class="token operator">+</span> id<span class="token punctuation">,</span> <span class="token class-name">CommonResult</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>forEntity<span class="token punctuation">.</span><span class="token function">getStatusCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">is2xxSuccessful</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> forEntity<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token number">444</span><span class="token punctuation">,</span><span class="token string">"æ“ä½œå¤±è´¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Ribbonæ ¸å¿ƒç»„ä»¶IRule"><a href="#Ribbonæ ¸å¿ƒç»„ä»¶IRule" class="headerlink" title="Ribbonæ ¸å¿ƒç»„ä»¶IRule"></a>Ribbonæ ¸å¿ƒç»„ä»¶IRule</h3><p><img src="https://img-blog.csdnimg.cn/5cfe5238df50401ba986cadfa648cb89.png" alt="IRule"></p><ul><li><code>IRule</code>:æ ¹æ®ç‰¹å®šç®—æ³•ä»æœåŠ¡åˆ—è¡¨ä¸­é€‰å–ä¸€ä¸ªè¦è®¿é—®çš„æœåŠ¡<ul><li><code>com.netflix.loadbalancer.RoundRobinRule</code> è½®è¯¢</li><li><code>com.netflix.loadbalancer.RandomRule</code> éšæœº</li><li><code>com.netflix.loadbalancer.RetryRule</code>   å…ˆæŒ‰ç…§RoundRobinRuleçš„ç­–ç•¥è·å–æœåŠ¡ï¼Œå¦‚æœè·å–æœåŠ¡å¤±è´¥åˆ™åœ¨æŒ‡å®šæ—¶é—´å†…ä¼šè¿›è¡Œé‡è¯•</li><li><code>WeightedResponseTimeRule</code>  å¯¹RoundRobinRuleçš„æ‰©å±•ï¼Œå“åº”é€Ÿåº¦è¶Šå¿«çš„å®ä¾‹é€‰æ‹©æƒé‡è¶Šå¤§ï¼Œè¶Šå®¹æ˜“è¢«é€‰æ‹©</li><li><code>BestAvailableRule</code>  ä¼šå…ˆè¿‡æ»¤æ‰ç”±äºå¤šæ¬¡è®¿é—®æ•…éšœè€Œå¤„äºæ–­è·¯å™¨è·³é—¸çŠ¶æ€çš„æœåŠ¡ï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªå¹¶å‘é‡æœ€å°çš„æœåŠ¡</li><li><code>AvailabilityFilteringRule</code>   å…ˆè¿‡æ»¤æ‰æ•…éšœå®ä¾‹ï¼Œå†é€‰æ‹©å¹¶å‘è¾ƒå°çš„å®ä¾‹</li><li><code>ZoneAvoidanceRule</code>  é»˜è®¤è§„åˆ™ï¼Œå¤åˆåˆ¤æ–­serveræ‰€åœ¨åŒºåŸŸçš„æ€§èƒ½å’Œserverçš„å¯ç”¨æ€§é€‰æ‹©æœåŠ¡å™¨</li></ul></li></ul><h3 id="ä¿®æ”¹Ribboné»˜è®¤è´Ÿè½½å‡è¡¡è§„åˆ™"><a href="#ä¿®æ”¹Ribboné»˜è®¤è´Ÿè½½å‡è¡¡è§„åˆ™" class="headerlink" title="ä¿®æ”¹Ribboné»˜è®¤è´Ÿè½½å‡è¡¡è§„åˆ™"></a>ä¿®æ”¹Ribboné»˜è®¤è´Ÿè½½å‡è¡¡è§„åˆ™</h3><p><img src="https://img-blog.csdnimg.cn/23c30ef2fb8c4d6794cdc4eee840356f.png" alt="è­¦å‘Š"></p><h4 id="é¡¹ç›®æ­å»º"><a href="#é¡¹ç›®æ­å»º" class="headerlink" title="é¡¹ç›®æ­å»º"></a>é¡¹ç›®æ­å»º</h4><ul><li>åœ¨åŸæœ‰çš„eurekaé¡¹ç›®ä¸Šç¨ä½œä¿®æ”¹å³å¯</li></ul><p><img src="https://img-blog.csdnimg.cn/8de3d6663b614eaa9d847b20a8882e84.png" alt="ç›®å½•ç»“æ„"></p><p>OrderMain80</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableEurekaClient</span><span class="token comment">// CLOUD-PAYMENT-SERVICE æœåŠ¡æ˜å¤§å†™</span><span class="token annotation punctuation">@RibbonClient</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"CLOUD-PAYMENT-SERVICE"</span><span class="token punctuation">,</span>configuration <span class="token operator">=</span> <span class="token class-name">MySelfRule</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderMain80</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderMain80</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>MySelfRule</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MySelfRule</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">IRule</span> <span class="token function">myRule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RandomRule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å®šä¹‰ä¸ºéšæœº</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/8db8da6de5ae4a9eb1e100978418d69c.png" alt="æµ‹è¯•è¿è¡Œä¸ºéšæœºè®¿é—®"></p><blockquote><p>å…¶ä½™è§„åˆ™åŒç†ä¿®æ”¹é…ç½®ç±»å³å¯</p></blockquote><h3 id="Ribbonè´Ÿè½½å‡è¡¡ç®—æ³•"><a href="#Ribbonè´Ÿè½½å‡è¡¡ç®—æ³•" class="headerlink" title="Ribbonè´Ÿè½½å‡è¡¡ç®—æ³•"></a>Ribbonè´Ÿè½½å‡è¡¡ç®—æ³•</h3><p>è´Ÿè½½å‡è¡¡ç®—æ³•ï¼š<font color="red">restæ¥å£ç¬¬å‡ æ¬¡è¯·æ±‚æ•° % æœåŠ¡å™¨é›†ç¾¤æ€»æ•°é‡ = å®é™…è°ƒç”¨æœåŠ¡å™¨ä½ç½®ä¸‹æ ‡ ï¼Œæ¯æ¬¡æœåŠ¡é‡å¯åŠ¨årestæ¥å£è®¡æ•°ä»1å¼€å§‹ã€‚</font></p><p><font color="blue">List<ServiceInstance> instances = discoveryClient.getInstances(â€œCLOUD-PAYMENT-SERVICEâ€);</font></p><ul><li><p>List [0] instances = 127.0.0.1:8002</p></li><li><p>List [1] instances = 127.0.0.1:8001</p></li></ul><p>8001+ 8002 ç»„åˆæˆä¸ºé›†ç¾¤ï¼Œå®ƒä»¬å…±è®¡2å°æœºå™¨ï¼Œé›†ç¾¤æ€»æ•°ä¸º2ï¼Œ æŒ‰ç…§è½®è¯¢ç®—æ³•åŸç†ï¼š</p><p>å½“æ€»è¯·æ±‚æ•°ä¸º1æ—¶ï¼š 1 % 2 =1 å¯¹åº”ä¸‹æ ‡ä½ç½®ä¸º1 ï¼Œåˆ™è·å¾—æœåŠ¡åœ°å€ä¸º127.0.0.1:8001</p><p>å½“æ€»è¯·æ±‚æ•°ä½2æ—¶ï¼š 2 % 2 =0 å¯¹åº”ä¸‹æ ‡ä½ç½®ä¸º0 ï¼Œåˆ™è·å¾—æœåŠ¡åœ°å€ä¸º127.0.0.1:8002</p><p>å½“æ€»è¯·æ±‚æ•°ä½3æ—¶ï¼š 3 % 2 =1 å¯¹åº”ä¸‹æ ‡ä½ç½®ä¸º1 ï¼Œåˆ™è·å¾—æœåŠ¡åœ°å€ä¸º127.0.0.1:8001</p><p>å½“æ€»è¯·æ±‚æ•°ä½4æ—¶ï¼š 4 % 2 =0 å¯¹åº”ä¸‹æ ‡ä½ç½®ä¸º0 ï¼Œåˆ™è·å¾—æœåŠ¡åœ°å€ä¸º127.0.0.1:8002</p><p>ä»¥æ­¤ç±»æ¨â€¦â€¦</p>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringCloud </tag>
            
            <tag> Ribbon </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringCloudä¹‹Consul</title>
      <link href="/2022-03-17-springcloud-zhi-consul.html"/>
      <url>/2022-03-17-springcloud-zhi-consul.html</url>
      
        <content type="html"><![CDATA[<h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p><a href="https://www.consul.io/">Consulå®˜ç½‘</a></p><p>â€‹        Consulæ˜¯ä¸€ä¸ªæœåŠ¡ç½‘æ ¼è§£å†³æ–¹æ¡ˆï¼Œå®ƒæä¾›äº†ä¸€ä¸ªåŠŸèƒ½é½å…¨çš„æ§åˆ¶å¹³é¢ï¼Œå…·æœ‰æœåŠ¡å‘ç°ã€é…ç½®å’Œåˆ†æ®µåŠŸèƒ½ã€‚è¿™äº›ç‰¹æ€§ä¸­çš„æ¯ä¸€ä¸ªéƒ½å¯ä»¥æ ¹æ®éœ€è¦å•ç‹¬ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ä¸€èµ·ç”¨äºæ„å»ºå…¨æœåŠ¡ç½‘æ ¼ã€‚Consuléœ€è¦ä¸€ä¸ªæ•°æ®å¹³é¢ï¼Œå¹¶æ”¯æŒä»£ç†å’Œæœ¬æœºé›†æˆæ¨¡å‹ã€‚Consulèˆ¹ä¸ä¸€ä¸ªç®€å•çš„å†…ç½®ä»£ç†ï¼Œä½¿ä¸€åˆ‡å·¥ä½œçš„å¼€ç®±å³ç”¨ï¼Œä½†ä¹Ÿæ”¯æŒç¬¬ä¸‰æ–¹ä»£ç†é›†æˆï¼Œå¦‚Envoyã€‚</p><ul><li>æœåŠ¡å‘ç° - æä¾›HTTPå’ŒDNSä¸¤ç§å‘ç°æ–¹å¼ã€‚</li><li>å¥åº·ç›‘æµ‹ - æ”¯æŒå¤šç§æ–¹å¼ï¼ŒHTTPã€TCPã€Dockerã€Shellè„šæœ¬å®šåˆ¶åŒ–</li><li>KVå­˜å‚¨ - Keyã€Valueçš„å­˜å‚¨æ–¹å¼</li><li>å¤šæ•°æ®ä¸­å¿ƒ - Consulæ”¯æŒå¤šæ•°æ®ä¸­å¿ƒ</li><li>å¯è§†åŒ–Webç•Œé¢</li></ul><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p><a href="https://www.consul.io/downloads">Consulä¸‹è½½åœ°å€</a></p><h4 id="centos7"><a href="#centos7" class="headerlink" title="centos7"></a>centos7</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> yum <span class="token function">install</span> -y yum-utils<span class="token function">sudo</span> yum-config-manager --add-repo https://rpm.releases.hashicorp.com/RHEL/hashicorp.repo<span class="token function">sudo</span> yum -y <span class="token function">install</span> consul<span class="token comment"># å¯åŠ¨</span>consul agent -dev    åªèƒ½127.0.0.1å¯ä»¥è®¿é—®consul agent -dev  -client <span class="token number">0.0</span>.0.0 -ui  æŒ‡å®šipå¯ä»¥è®¿é—®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/397e1b86a38041a1b02f21720564cb90.png" alt="å®‰è£…å®Œæˆ"></p><p><img src="https://img-blog.csdnimg.cn/937e91a6b4dc49cbbd6ced1b2ddbba37.png" alt="Centos7å¯åŠ¨"></p><p><img src="https://img-blog.csdnimg.cn/fb04c57fe10a4a518bda4f336c320826.png" alt="è¿è¡Œç»“æœ"></p><h4 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h4><p><img src="https://img-blog.csdnimg.cn/a03a0ab8a3ce4df58075eb4407c313aa.png" alt="Wiondowså¯åŠ¨"></p><ul><li>è¿è¡Œåœ°å€ï¼š<a href="http://localhost:8500/ui/dc1/services">http://localhost:8500/ui/dc1/services</a></li></ul><p><img src="https://img-blog.csdnimg.cn/ff5874220dbe4061b59638205dab7115.png" alt="è¿è¡Œç»“æœ"></p><h3 id="é¡¹ç›®æ„å»ºï¼ˆæœåŠ¡æä¾›è€…ï¼‰"><a href="#é¡¹ç›®æ„å»ºï¼ˆæœåŠ¡æä¾›è€…ï¼‰" class="headerlink" title="é¡¹ç›®æ„å»ºï¼ˆæœåŠ¡æä¾›è€…ï¼‰"></a>é¡¹ç›®æ„å»ºï¼ˆæœåŠ¡æä¾›è€…ï¼‰</h3><p><img src="https://img-blog.csdnimg.cn/66c6071687324da1b9d11cf72604144b.png" alt="ç›®å½•ç»“æ„"></p><p>pom.xml</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>springcloud2022<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ssm.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-providerconsul-payment8006<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--SpringCloud consul-server --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-consul-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- SpringBootæ•´åˆWebç»„ä»¶ --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--æ—¥å¸¸é€šç”¨jaråŒ…é…ç½®--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>application.yml</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment">###consulæœåŠ¡ç«¯å£å·</span><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8006</span><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">application</span><span class="token punctuation">:</span>    <span class="token key atrule">name</span><span class="token punctuation">:</span> consul<span class="token punctuation">-</span>provider<span class="token punctuation">-</span>payment  <span class="token comment">####consulæ³¨å†Œä¸­å¿ƒåœ°å€</span>  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>    <span class="token key atrule">consul</span><span class="token punctuation">:</span>      <span class="token key atrule">host</span><span class="token punctuation">:</span> 192.168.174.131      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8500</span>      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>        <span class="token comment">#hostname: 192.168.174.131</span>        <span class="token key atrule">service-name</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span>spring.application.name<span class="token punctuation">&#125;</span>        <span class="token key atrule">heartbeat</span><span class="token punctuation">:</span>          <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>        <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PaymentController</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentController</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;server.port&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> serverPort<span class="token punctuation">;</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/payment/consul"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentconsul</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"springcloud with consul: "</span><span class="token operator">+</span>serverPort<span class="token operator">+</span><span class="token string">"\t"</span><span class="token operator">+</span> UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PaymentMain8006</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableDiscoveryClient</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentMain8006</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">PaymentMain8006</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/1d1c14cad2c44c0aa05164500790d962.png" alt="åœ°å€éªŒè¯"></p><ul><li><a href="http://192.168.174.131:8500/ui/dc1/services">http://192.168.174.131:8500/ui/dc1/services</a></li></ul><p><img src="https://img-blog.csdnimg.cn/272ace8fead445709028b30b359a7fb3.png" alt="æœåŠ¡æ³¨å†Œ"></p><h3 id="é¡¹ç›®æ­å»º-ï¼ˆæœåŠ¡æ¶ˆè´¹è€…ï¼‰"><a href="#é¡¹ç›®æ­å»º-ï¼ˆæœåŠ¡æ¶ˆè´¹è€…ï¼‰" class="headerlink" title="é¡¹ç›®æ­å»º ï¼ˆæœåŠ¡æ¶ˆè´¹è€…ï¼‰"></a>é¡¹ç›®æ­å»º ï¼ˆæœåŠ¡æ¶ˆè´¹è€…ï¼‰</h3><p><img src="https://img-blog.csdnimg.cn/d0cc9c550c9f41c58906f131d4ba9aac.png" alt="ç›®å½•ç»“æ„"></p><p>pom.xml</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>springcloud2022<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ssm.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-consumerconsul-order80<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--SpringCloud consul-server --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-consul-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- SpringBootæ•´åˆWebç»„ä»¶ --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--æ—¥å¸¸é€šç”¨jaråŒ…é…ç½®--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>application.yml</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment">#consulæœåŠ¡ç«¯å£å·</span><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">80</span><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">application</span><span class="token punctuation">:</span>    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>consumer<span class="token punctuation">-</span>order  <span class="token comment">####consulæ³¨å†Œä¸­å¿ƒåœ°å€</span>  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>    <span class="token key atrule">consul</span><span class="token punctuation">:</span>      <span class="token key atrule">host</span><span class="token punctuation">:</span> 192.168.174.131      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8500</span>      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>        <span class="token comment">#hostname: 192.168.174.131</span>        <span class="token key atrule">service-name</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span>spring.application.name<span class="token punctuation">&#125;</span>        <span class="token key atrule">heartbeat</span><span class="token punctuation">:</span>          <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>        <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ApplicationContextConfig</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApplicationContextConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token annotation punctuation">@LoadBalanced</span>    <span class="token keyword">public</span> <span class="token class-name">RestTemplate</span> <span class="token function">getResTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>OrderConsulController</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderConsulController</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> INVOKE_URL <span class="token operator">=</span> <span class="token string">"http://consul-provider-payment"</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">RestTemplate</span> restTemplate<span class="token punctuation">;</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/consumer/payment/consul"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> result <span class="token operator">=</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span>INVOKE_URL<span class="token operator">+</span><span class="token string">"/payment/consul"</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ¶ˆè´¹è€…è°ƒç”¨æ”¯ä»˜æœåŠ¡(consul)--->result:"</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>OrderConsulMain80</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderConsulMain80</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderConsulMain80</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/0b8ebdd7e83b47e3beafb7a9ff0c05a6.png" alt="åœ°å€æµ‹è¯•"></p><p><img src="https://img-blog.csdnimg.cn/a38210b0293a49e3a237eb872249dab0.png" alt="è¿è¡Œç»“æœ"></p><h3 id="ä¸‰ä¸ªæ³¨å†Œä¸­å¿ƒå¼‚åŒç‚¹"><a href="#ä¸‰ä¸ªæ³¨å†Œä¸­å¿ƒå¼‚åŒç‚¹" class="headerlink" title="ä¸‰ä¸ªæ³¨å†Œä¸­å¿ƒå¼‚åŒç‚¹"></a>ä¸‰ä¸ªæ³¨å†Œä¸­å¿ƒå¼‚åŒç‚¹</h3><table><thead><tr><th>ç»„ä»¶å</th><th>è¯­è¨€CAP</th><th>æœåŠ¡å¥åº·æ£€æŸ¥</th><th>å¯¹å¤–æš´éœ²æ¥å£</th><th>Spring Cloudé›†æˆ</th></tr></thead><tbody><tr><td>Eureka</td><td>Java</td><td>AP</td><td>å¯é…æ”¯æŒ</td><td>HTTP</td></tr><tr><td>Consul</td><td>Go</td><td>CP</td><td>æ”¯æŒ</td><td>HTTP/DNS</td></tr><tr><td>Zookeeper</td><td>Java</td><td>CP</td><td>æ”¯æŒå®¢æˆ·ç«¯</td><td>å·²é›†æˆ</td></tr></tbody></table><p>CAPï¼š</p><p>Cï¼šConsistency (å¼ºä¸€è‡´æ€§)</p><p>Aï¼šAvailability (å¯ç”¨æ€§)</p><p>Pï¼šPartition tolerance ï¼ˆåˆ†åŒºå®¹é”™æ€§)</p><p><strong>æœ€å¤šåªèƒ½åŒæ—¶è¾ƒå¥½çš„æ»¡è¶³ä¸¤ä¸ª</strong>ã€‚</p><p>CAPç†è®ºçš„æ ¸å¿ƒæ˜¯ï¼š<font color="red">ä¸€ä¸ªåˆ†å¸ƒå¼ç³»ç»Ÿä¸å¯èƒ½åŒæ—¶å¾ˆå¥½çš„æ»¡è¶³ä¸€è‡´æ€§ï¼Œå¯ç”¨æ€§å’Œåˆ†åŒºå®¹é”™æ€§è¿™ä¸‰ä¸ªéœ€æ±‚ã€‚</font></p><p>å› æ­¤ï¼Œæ ¹æ®CAPåŸç†å°†NoSQLæ•°æ®åº“åˆ†æˆäº†æ»¡è¶³CAåŸåˆ™ã€æ»¡è¶³CPåŸåˆ™å’Œæ»¡è¶³APåŸåˆ™ä¸‰å¤§ç±»:</p><p>CA - å•ç‚¹é›†ç¾¤ï¼Œæ»¡è¶³â€”è‡´æ€§ï¼Œå¯ç”¨æ€§çš„ç³»ç»Ÿï¼Œé€šå¸¸åœ¨å¯æ‰©å±•æ€§ä¸Šä¸å¤ªå¼ºå¤§ã€‚<br>CP - æ»¡è¶³ä¸€è‡´æ€§ï¼Œåˆ†åŒºå®¹å¿å¿…çš„ç³»ç»Ÿï¼Œé€šå¸¸æ€§èƒ½ä¸æ˜¯ç‰¹åˆ«é«˜ã€‚<br>AP - æ»¡è¶³å¯ç”¨æ€§ï¼Œåˆ†åŒºå®¹å¿æ€§çš„ç³»ç»Ÿï¼Œé€šå¸¸å¯èƒ½å¯¹ä¸€è‡´æ€§è¦æ±‚ä½ä¸€äº›ã€‚</p><hr><ul><li>APæ¶æ„ï¼ˆEurekaï¼‰</li></ul><p>å½“ç½‘ç»œåˆ†åŒºå‡ºç°åï¼Œä¸ºäº†ä¿è¯å¯ç”¨æ€§ï¼Œç³»ç»ŸBå¯ä»¥è¿”å›æ—§å€¼ï¼Œä¿è¯ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚</p><p>ç»“è®ºï¼šè¿èƒŒäº†ä¸€è‡´æ€§Cçš„è¦æ±‚ï¼Œåªæ»¡è¶³å¯ç”¨æ€§å’Œåˆ†åŒºå®¹é”™ï¼Œå³AP</p><ul><li>CPæ¶æ„ï¼ˆZooKeeper/Consulï¼‰</li></ul><p>å½“ç½‘ç»œåˆ†åŒºå‡ºç°åï¼Œä¸ºäº†ä¿è¯ä¸€è‡´æ€§ï¼Œå°±å¿…é¡»æ‹’æ¥è¯·æ±‚ï¼Œå¦åˆ™æ— æ³•ä¿è¯ä¸€è‡´æ€§ã€‚</p><p>ç»“è®ºï¼šè¿èƒŒäº†å¯ç”¨æ€§Açš„è¦æ±‚ï¼Œåªæ»¡è¶³ä¸€è‡´æ€§å’Œåˆ†åŒºå®¹é”™ï¼Œå³CPã€‚</p><p>CP ä¸ AP å¯¹ç«‹åŒä¸€çš„çŸ›ç›¾å…³ç³»ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringCloud </tag>
            
            <tag> Consul </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringCloudä¹‹zookeeper</title>
      <link href="/2022-03-16-springcloud-zhi-zookeeper.html"/>
      <url>/2022-03-16-springcloud-zhi-zookeeper.html</url>
      
        <content type="html"><![CDATA[<h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p>â€‹        ZooKeeperæ˜¯ä¸€ä¸ª<a href="https://baike.baidu.com/item/%E5%88%86%E5%B8%83%E5%BC%8F/19276232">åˆ†å¸ƒå¼</a>çš„ï¼Œå¼€æ”¾æºç çš„<a href="https://baike.baidu.com/item/%E5%88%86%E5%B8%83%E5%BC%8F%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/9854429">åˆ†å¸ƒå¼åº”ç”¨ç¨‹åº</a>åè°ƒæœåŠ¡ï¼Œæ˜¯<a href="https://baike.baidu.com/item/Google">Google</a>çš„Chubbyä¸€ä¸ª<a href="https://baike.baidu.com/item/%E5%BC%80%E6%BA%90/246339">å¼€æº</a>çš„å®ç°ï¼Œæ˜¯Hadoopå’Œ<a href="https://baike.baidu.com/item/Hbase/7670213">Hbase</a>çš„é‡è¦ç»„ä»¶ã€‚å®ƒæ˜¯ä¸€ä¸ªä¸ºåˆ†å¸ƒå¼åº”ç”¨æä¾›ä¸€è‡´æ€§æœåŠ¡çš„è½¯ä»¶ï¼Œæä¾›çš„åŠŸèƒ½åŒ…æ‹¬ï¼šé…ç½®ç»´æŠ¤ã€åŸŸåæœåŠ¡ã€åˆ†å¸ƒå¼åŒæ­¥ã€ç»„æœåŠ¡ç­‰ã€‚</p><h3 id="é¡¹ç›®æ­å»ºï¼ˆæœåŠ¡æä¾›è€…ï¼‰"><a href="#é¡¹ç›®æ­å»ºï¼ˆæœåŠ¡æä¾›è€…ï¼‰" class="headerlink" title="é¡¹ç›®æ­å»ºï¼ˆæœåŠ¡æä¾›è€…ï¼‰"></a>é¡¹ç›®æ­å»ºï¼ˆæœåŠ¡æä¾›è€…ï¼‰</h3><h4 id="new-Module"><a href="#new-Module" class="headerlink" title="new Module"></a>new Module</h4><p><img src="https://img-blog.csdnimg.cn/b8814896905548b9be3c11d3af51728b.png" alt="ç›®å½•ç»“æ„"></p><h4 id="ä»£ç ç¼–å†™"><a href="#ä»£ç ç¼–å†™" class="headerlink" title="ä»£ç ç¼–å†™"></a>ä»£ç ç¼–å†™</h4><p>pom.xml ï¼ˆæ³¨æ„zookeeperç‰ˆæœ¬å·ä¸€è‡´ï¼‰</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>springcloud2022<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ssm.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-provider-payment8004<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- SpringBootæ•´åˆWebç»„ä»¶ --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- å¼•å…¥è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ssm.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;project.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- SpringBootæ•´åˆzookeeperå®¢æˆ·ç«¯ --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-zookeeper-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!--å…ˆæ’é™¤è‡ªå¸¦çš„zookeeper3.5.3--></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--æ·»åŠ zookeeper3.4.8ç‰ˆæœ¬--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.4.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>application.yml</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token comment">#8004è¡¨ç¤ºæ³¨å†Œåˆ°zookeeperæœåŠ¡å™¨çš„æ”¯ä»˜æœåŠ¡æä¾›è€…ç«¯å£å·</span><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8004</span><span class="token comment">#æœåŠ¡åˆ«å----æ³¨å†Œzookeeperåˆ°æ³¨å†Œä¸­å¿ƒåç§°</span><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">application</span><span class="token punctuation">:</span>    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>provider<span class="token punctuation">-</span>payment  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>    <span class="token key atrule">zookeeper</span><span class="token punctuation">:</span>      <span class="token key atrule">connect-string</span><span class="token punctuation">:</span> 192.168.174.131<span class="token punctuation">:</span><span class="token number">2181</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PaymentController</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentController</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;server.port&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> serverPort<span class="token punctuation">;</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/payment/zk"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentzk</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"springcloud with zookeeper: "</span><span class="token operator">+</span>serverPort<span class="token operator">+</span><span class="token string">"\t"</span><span class="token operator">+</span> UUID<span class="token punctuation">.</span><span class="token function">randomUUID</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PaymentMain8004</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableDiscoveryClient</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentMain8004</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">PaymentMain8004</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æµ‹è¯•ç»“æœ"><a href="#æµ‹è¯•ç»“æœ" class="headerlink" title="æµ‹è¯•ç»“æœ"></a>æµ‹è¯•ç»“æœ</h4><p><img src="https://img-blog.csdnimg.cn/ac18f4017f474ed7978c2b416d33ba1a.png" alt="è¿è¡Œç»“æœ"></p><p><img src="https://img-blog.csdnimg.cn/491484538f7b4f87992e917ce6de1678.png" alt="æŸ¥çœ‹æœåŠ¡"></p><h4 id="æ€è€ƒ"><a href="#æ€è€ƒ" class="headerlink" title="æ€è€ƒ"></a>æ€è€ƒ</h4><p>zookeeper æœåŠ¡èŠ‚ç‚¹æ˜¯ä¸´æ—¶èŠ‚ç‚¹</p><h3 id="é¡¹ç›®æ­å»º-ï¼ˆæœåŠ¡æ¶ˆè´¹è€…ï¼‰"><a href="#é¡¹ç›®æ­å»º-ï¼ˆæœåŠ¡æ¶ˆè´¹è€…ï¼‰" class="headerlink" title="é¡¹ç›®æ­å»º ï¼ˆæœåŠ¡æ¶ˆè´¹è€…ï¼‰"></a>é¡¹ç›®æ­å»º ï¼ˆæœåŠ¡æ¶ˆè´¹è€…ï¼‰</h3><p><img src="https://img-blog.csdnimg.cn/87c5f017fdb547e8a7db4f7d2b4a43bf.png" alt="ç›®å½•ç»“æ„"></p><h3 id="ä»£ç ç¼–å†™-1"><a href="#ä»£ç ç¼–å†™-1" class="headerlink" title="ä»£ç ç¼–å†™"></a>ä»£ç ç¼–å†™</h3><p>pom.xml</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>springcloud2022<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ssm.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-consumerzk-order80<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- SpringBootæ•´åˆWebç»„ä»¶ --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- SpringBootæ•´åˆzookeeperå®¢æˆ·ç«¯ --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-zookeeper-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!--å…ˆæ’é™¤è‡ªå¸¦çš„zookeeper--></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--æ·»åŠ zookeeper3.4.9ç‰ˆæœ¬--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.4.9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>application.yml</p><pre class="line-numbers language-none"><code class="language-none">#80è¡¨ç¤ºæ³¨å†Œåˆ°zookeeperæœåŠ¡å™¨çš„æ¶ˆè´¹æœåŠ¡æä¾›è€…ç«¯å£å·server:  port: 80#æœåŠ¡åˆ«å----æ³¨å†Œzookeeperåˆ°æ³¨å†Œä¸­å¿ƒåç§°spring:  application:    name: cloud-consumer-order  cloud:    zookeeper:      connect-string: 192.168.174.131:2181<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ApplicationContextConfig</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApplicationContextConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token annotation punctuation">@LoadBalanced</span>    <span class="token keyword">public</span> <span class="token class-name">RestTemplate</span> <span class="token function">getResTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>OrderZKController</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderZKController</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> INVOKE_URL <span class="token operator">=</span> <span class="token string">"http://cloud-provider-payment"</span><span class="token punctuation">;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">RestTemplate</span> restTemplate<span class="token punctuation">;</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/consumer/payment/zk"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> result <span class="token operator">=</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span>INVOKE_URL<span class="token operator">+</span><span class="token string">"/payment/zk"</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ¶ˆè´¹è€…è°ƒç”¨æ”¯ä»˜æœåŠ¡(zookeeper)--->result:"</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>OrderZKMain80</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderZKMain80</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderZKMain80</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æµ‹è¯•ç»“æœ-1"><a href="#æµ‹è¯•ç»“æœ-1" class="headerlink" title="æµ‹è¯•ç»“æœ"></a>æµ‹è¯•ç»“æœ</h4><p><img src="https://img-blog.csdnimg.cn/243280855a6e43c09ca03038edb5a5e4.png" alt="è¿è¡Œç»“æœ"></p><p><img src="https://img-blog.csdnimg.cn/2461862f9c7340e9afaaf7867f1c22b1.png" alt="æŸ¥çœ‹æœåŠ¡"></p>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringCloud </tag>
            
            <tag> zookeeper </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringCloudä¹‹Eureka</title>
      <link href="/2022-03-14-springcloud-zhi-eureka.html"/>
      <url>/2022-03-14-springcloud-zhi-eureka.html</url>
      
        <content type="html"><![CDATA[<h3 id="åŸºæœ¬çŸ¥è¯†"><a href="#åŸºæœ¬çŸ¥è¯†" class="headerlink" title="åŸºæœ¬çŸ¥è¯†"></a>åŸºæœ¬çŸ¥è¯†</h3><h4 id="æœåŠ¡æ²»ç†"><a href="#æœåŠ¡æ²»ç†" class="headerlink" title="æœåŠ¡æ²»ç†"></a>æœåŠ¡æ²»ç†</h4><p>Spring Cloud å°è£…äº† Netflix å…¬å¸å¼€å‘çš„ Eureka æ¨¡å—æ¥å®ç°æœåŠ¡æ²»ç†ã€‚</p><p>â€‹        åœ¨ä¼ ç»Ÿçš„rpcè¿œç¨‹è°ƒç”¨æ¡†æ¶ä¸­ï¼Œç®¡ç†æ¯ä¸ªæœåŠ¡ä¸æœåŠ¡ä¹‹é—´ä¾èµ–å…³ç³»æ¯”è¾ƒå¤æ‚ï¼Œç®¡ç†æ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨æœåŠ¡æ²»ç†ï¼Œç®¡ç†æœåŠ¡äºæœåŠ¡ä¹‹é—´ä¾èµ–å…³ç³»ï¼Œå¯ä»¥å®ç°æœåŠ¡è°ƒç”¨ã€è´Ÿè½½å‡è¡¡ã€å®¹é”™ç­‰ï¼Œå®ç°æœåŠ¡å‘ç°ä¸æ³¨å†Œã€‚</p><h4 id="æœåŠ¡æ³¨å†Œ"><a href="#æœåŠ¡æ³¨å†Œ" class="headerlink" title="æœåŠ¡æ³¨å†Œ"></a>æœåŠ¡æ³¨å†Œ</h4><p>â€‹        Eurekaé‡‡ç”¨äº†CSçš„è®¾è®¡æ¶æ„ï¼ŒEureka Server ä½œä¸ºæœåŠ¡æ³¨å†ŒåŠŸèƒ½çš„æœåŠ¡å™¨ï¼Œå®ƒæ˜¯æœåŠ¡æ³¨å†Œä¸­å¿ƒã€‚è€Œç³»ç»Ÿä¸­çš„å…¶ä»–å¾®æœåŠ¡ï¼Œä½¿ç”¨ Eurekaçš„å®¢æˆ·ç«¯è¿æ¥åˆ° Eureka Serverå¹¶ç»´æŒå¿ƒè·³è¿æ¥ã€‚è¿™æ ·ç³»ç»Ÿçš„ç»´æŠ¤äººå‘˜å°±å¯ä»¥é€šè¿‡ Eureka Server æ¥ç›‘æ§ç³»ç»Ÿä¸­å„ä¸ªå¾®æœåŠ¡æ˜¯å¦æ­£å¸¸è¿è¡Œã€‚</p><p>â€‹        åœ¨æœåŠ¡æ³¨å†Œä¸å‘ç°ä¸­ï¼Œæœ‰ä¸€ä¸ªæ³¨å†Œä¸­å¿ƒã€‚å½“æœåŠ¡å™¨å¯åŠ¨çš„æ—¶å€™ï¼Œä¼šæŠŠå½“å‰è‡ªå·±æœåŠ¡å™¨çš„ä¿¡æ¯ æ¯”å¦‚ æœåŠ¡åœ°å€é€šè®¯åœ°å€ç­‰ä»¥åˆ«åæ–¹å¼æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒä¸Šã€‚å¦ä¸€æ–¹ï¼ˆæ¶ˆè´¹è€…|æœåŠ¡æä¾›è€…ï¼‰ï¼Œä»¥è¯¥åˆ«åçš„æ–¹å¼å»æ³¨å†Œä¸­å¿ƒä¸Šè·å–åˆ°å®é™…çš„æœåŠ¡é€šè®¯åœ°å€ï¼Œç„¶åå†å®ç°æœ¬åœ°RPCè°ƒç”¨RPCè¿œç¨‹è°ƒç”¨æ¡†æ¶æ ¸å¿ƒè®¾è®¡æ€æƒ³ï¼šåœ¨äºæ³¨å†Œä¸­å¿ƒï¼Œå› ä¸ºä½¿ç”¨æ³¨å†Œä¸­å¿ƒç®¡ç†æ¯ä¸ªæœåŠ¡ä¸æœåŠ¡ä¹‹é—´çš„ä¸€ä¸ªä¾èµ–å…³ç³»(æœåŠ¡æ²»ç†æ¦‚å¿µ)ã€‚åœ¨ä»»ä½•rpcè¿œç¨‹æ¡†æ¶ä¸­ï¼Œéƒ½ä¼šæœ‰ä¸€ä¸ªæ³¨å†Œä¸­å¿ƒ(å­˜æ”¾æœåŠ¡åœ°å€ç›¸å…³ä¿¡æ¯(æ¥å£åœ°å€))</p><p><img src="https://img-blog.csdnimg.cn/77494e9fb5194dd681157120d5d2ca26.png" alt="Eureka vs Dubbo"></p><h4 id="EurekaåŒ…å«ä¸¤ä¸ªç»„ä»¶"><a href="#EurekaåŒ…å«ä¸¤ä¸ªç»„ä»¶" class="headerlink" title="EurekaåŒ…å«ä¸¤ä¸ªç»„ä»¶"></a>EurekaåŒ…å«ä¸¤ä¸ªç»„ä»¶</h4><p>Eureka Serverå’ŒEureka Client</p><p>Eureka Serveræä¾›æœåŠ¡æ³¨å†ŒæœåŠ¡</p><p>â€‹        å„ä¸ªå¾®æœåŠ¡èŠ‚ç‚¹é€šè¿‡é…ç½®å¯åŠ¨åï¼Œä¼šåœ¨EurekaServerä¸­è¿›è¡Œæ³¨å†Œï¼Œè¿™æ ·EurekaServerä¸­çš„æœåŠ¡æ³¨å†Œè¡¨ä¸­å°†ä¼šå­˜å‚¨æ‰€æœ‰å¯ç”¨æœåŠ¡èŠ‚ç‚¹çš„ä¿¡æ¯ï¼ŒæœåŠ¡èŠ‚ç‚¹çš„ä¿¡æ¯å¯ä»¥åœ¨ç•Œé¢ä¸­ç›´è§‚çœ‹åˆ°ã€‚</p><p>EurekaClienté€šè¿‡æ³¨å†Œä¸­å¿ƒè¿›è¡Œè®¿é—®</p><p>â€‹        æ˜¯ä¸€ä¸ªJavaå®¢æˆ·ç«¯ï¼Œç”¨äºç®€åŒ–Eureka Serverçš„äº¤äº’ï¼Œå®¢æˆ·ç«¯åŒæ—¶ä¹Ÿå…·å¤‡ä¸€ä¸ªå†…ç½®çš„ã€ä½¿ç”¨è½®è¯¢(round-robin)è´Ÿè½½ç®—æ³•çš„è´Ÿè½½å‡è¡¡å™¨ã€‚åœ¨åº”ç”¨å¯åŠ¨åï¼Œå°†ä¼šå‘Eureka Serverå‘é€å¿ƒè·³(é»˜è®¤å‘¨æœŸä¸º30ç§’)ã€‚å¦‚æœEureka Serveråœ¨å¤šä¸ªå¿ƒè·³å‘¨æœŸå†…æ²¡æœ‰æ¥æ”¶åˆ°æŸä¸ªèŠ‚ç‚¹çš„å¿ƒè·³ï¼ŒEurekaServerå°†ä¼šä»æœåŠ¡æ³¨å†Œè¡¨ä¸­æŠŠè¿™ä¸ªæœåŠ¡èŠ‚ç‚¹ç§»é™¤ï¼ˆé»˜è®¤90ç§’ï¼‰</p><h3 id="æœåŠ¡æä¾›è€…"><a href="#æœåŠ¡æä¾›è€…" class="headerlink" title="æœåŠ¡æä¾›è€…"></a>æœåŠ¡æä¾›è€…</h3><h4 id="8001ç›®å½•ç»“æ„"><a href="#8001ç›®å½•ç»“æ„" class="headerlink" title="8001ç›®å½•ç»“æ„"></a>8001ç›®å½•ç»“æ„</h4><p><img src="https://img-blog.csdnimg.cn/d5911d65a1034b3fa85026c66bc16611.png" alt="8001æœåŠ¡æä¾›è€…ç›®å½•ç»“æ„"></p><h4 id="ä»£ç ç¼–å†™"><a href="#ä»£ç ç¼–å†™" class="headerlink" title="ä»£ç ç¼–å†™"></a>ä»£ç ç¼–å†™</h4><p>PaymentController</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentController</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">private</span> <span class="token class-name">PaymentService</span> paymentService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;server.port&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> serverPort<span class="token punctuation">;</span>    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/payment/create"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Payment</span> payment<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> result <span class="token operator">=</span> paymentService<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>payment<span class="token punctuation">)</span><span class="token punctuation">;</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"æ’å…¥ç»“æœ: "</span><span class="token operator">+</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">"æ’å…¥æ•°æ®æ“ä½œæˆåŠŸ"</span><span class="token operator">+</span>serverPort<span class="token punctuation">,</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">444</span><span class="token punctuation">,</span><span class="token string">"æ’å…¥æ•°æ®æ“ä½œå¤±è´¥"</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/payment/get/&#123;id&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span> <span class="token function">getPaymentById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">Payment</span> payment <span class="token operator">=</span> paymentService<span class="token punctuation">.</span><span class="token function">getPaymentById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"è·å–ç»“æœ: "</span><span class="token operator">+</span>payment<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>payment <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">"æŸ¥è¯¢æˆåŠŸ"</span><span class="token operator">+</span>serverPort<span class="token punctuation">,</span>payment<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">444</span><span class="token punctuation">,</span><span class="token string">"æŸ¥è¯¢å¤±è´¥ï¼ŒæŸ¥è¯¢ID:"</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PaymentDao</p><pre class="line-numbers language-none"><code class="language-none">@Mapperpublic interface PaymentDao &#123;    public int create(Payment payment);    public Payment getPaymentById(@Param(&quot;id&quot;) Long id);&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PaymentServiceImpl</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">PaymentService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">private</span> <span class="token class-name">PaymentDao</span> paymentDao<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Payment</span> payment<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> paymentDao<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>payment<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">Payment</span> <span class="token function">getPaymentById</span><span class="token punctuation">(</span><span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> paymentDao<span class="token punctuation">.</span><span class="token function">getPaymentById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PaymentService</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PaymentService</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Payment</span> payment<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">Payment</span> <span class="token function">getPaymentById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>PaymentMain8001</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableEurekaClient</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentMain8001</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">PaymentMain8001</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PaymentDao.xml</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span> <span class="token name">PUBLIC</span> <span class="token string">"-//mybatis.org//DTD Mapper 3.0//EN"</span> <span class="token string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.ssm.springcloud.dao.PaymentDao<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>BaseResultMap<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.ssm.springcloud.entities.Payment<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span> <span class="token attr-name">jdbcType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>BIGINT<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>serial<span class="token punctuation">"</span></span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>serial<span class="token punctuation">"</span></span> <span class="token attr-name">jdbcType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>VARCHAR<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>create<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Payment<span class="token punctuation">"</span></span> <span class="token attr-name">useGeneratedKeys</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">keyProperty</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>id<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        INSERT INTO payment(SERIAL) VALUES(#&#123;serial&#125;);    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getPaymentById<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Long<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>BaseResultMap<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>        SELECT * FROM payment WHERE id=#&#123;id&#125;;    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>application.yml</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8001</span><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">application</span><span class="token punctuation">:</span>    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>payment<span class="token punctuation">-</span>service  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> com.alibaba.druid.pool.DruidDataSource    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/springcloud<span class="token punctuation">?</span>useSSL=false<span class="token important">&amp;serverTimezone=GMT%2B8&amp;allowPublicKeyRetrieval=true</span>    <span class="token key atrule">username</span><span class="token punctuation">:</span> root    <span class="token key atrule">password</span><span class="token punctuation">:</span> hxl158120<span class="token key atrule">mybatis</span><span class="token punctuation">:</span>  <span class="token key atrule">mapper-locations</span><span class="token punctuation">:</span> classpath<span class="token punctuation">:</span>mapper/<span class="token important">*.xml</span>  <span class="token key atrule">type-aliases-package</span><span class="token punctuation">:</span> com.ssm.springcloud.entities<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>pom.xml</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>springcloud2022<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ssm.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-consumer-order80<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--eureka-server--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- å¼•å…¥è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ssm.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;project.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æœåŠ¡æ¶ˆè´¹è€…"><a href="#æœåŠ¡æ¶ˆè´¹è€…" class="headerlink" title="æœåŠ¡æ¶ˆè´¹è€…"></a>æœåŠ¡æ¶ˆè´¹è€…</h3><h4 id="80ç›®å½•ç»“æ„"><a href="#80ç›®å½•ç»“æ„" class="headerlink" title="80ç›®å½•ç»“æ„"></a>80ç›®å½•ç»“æ„</h4><p><img src="https://img-blog.csdnimg.cn/6cf0ac12ef734b02bd8f61c56c06d9cd.png" alt="80æœåŠ¡æ¶ˆè´¹è€…ç›®å½•ç»“æ„"></p><h4 id="ä»£ç ç¼–å†™-1"><a href="#ä»£ç ç¼–å†™-1" class="headerlink" title="ä»£ç ç¼–å†™"></a>ä»£ç ç¼–å†™</h4><p>ApplicationContextConfig</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApplicationContextConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token annotation punctuation">@LoadBalanced</span>    <span class="token keyword">public</span> <span class="token class-name">RestTemplate</span> <span class="token function">getResTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>OrderController</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderController</span> <span class="token punctuation">&#123;</span><span class="token comment">//    public static final String PAYMENT_URL = "http://localhost:8001";</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> PAYMENT_URL <span class="token operator">=</span> <span class="token string">"http://CLOUD-PAYMENT-SERVICE"</span><span class="token punctuation">;</span> <span class="token comment">//æœåŠ¡åç§°</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">private</span> <span class="token class-name">RestTemplate</span> restTemplate<span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/payment/create"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CommonResult</span><span class="token punctuation">></span></span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Payment</span> payment<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> restTemplate<span class="token punctuation">.</span><span class="token function">postForEntity</span><span class="token punctuation">(</span>PAYMENT_URL <span class="token operator">+</span> <span class="token string">"/payment/create"</span><span class="token punctuation">,</span> payment<span class="token punctuation">,</span> <span class="token class-name">CommonResult</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/consumer/payment/get/&#123;id&#125;"</span><span class="token punctuation">,</span>produces <span class="token operator">=</span> <span class="token class-name">MediaType</span><span class="token punctuation">.</span>APPLICATION_JSON_UTF8_VALUE<span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span> <span class="token function">getPayment</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span>PAYMENT_URL<span class="token operator">+</span><span class="token string">"/payment/get/"</span><span class="token operator">+</span>id<span class="token punctuation">,</span><span class="token class-name">CommonResult</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>OrderMain80</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableEurekaClient</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderMain80</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderMain80</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å…¬å…±æ¨¡å—-cloud-api-commons"><a href="#å…¬å…±æ¨¡å—-cloud-api-commons" class="headerlink" title="å…¬å…±æ¨¡å— cloud-api-commons"></a>å…¬å…±æ¨¡å— cloud-api-commons</h3><p><img src="https://img-blog.csdnimg.cn/14eae84ecd9341959ce5156bcc4a8a13.png" alt="å…¬å…±æ¨¡å—ç›®å½•ç»“æ„"></p><ul><li>å°†å®ä½“ç±»çš„å…¬å…±æ¨¡å—æå–å‡ºæ¥</li><li> åœ¨æœåŠ¡æä¾›è€…å’Œæ¶ˆè´¹è€…æ¨¡å—ä¸­å¼•å…¥ä¾èµ–</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- å¼•å…¥è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ssm.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;project.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Eurekaé¡¹ç›®åŸºæœ¬æ„å»º"><a href="#Eurekaé¡¹ç›®åŸºæœ¬æ„å»º" class="headerlink" title="Eurekaé¡¹ç›®åŸºæœ¬æ„å»º"></a>Eurekaé¡¹ç›®åŸºæœ¬æ„å»º</h3><ul><li>å»ºç«‹ 7001module</li></ul><p><img src="https://img-blog.csdnimg.cn/715171efae9d4bd8a7a0c57e1fdfff4f.png" alt="New Module"></p><ul><li>pom.xml</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>         <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>springloud2022<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ssm.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-eureka-server7001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--eureka-server--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- å¼•å…¥è‡ªå·±å®šä¹‰çš„apié€šç”¨åŒ…ï¼Œå¯ä»¥ä½¿ç”¨Paymentæ”¯ä»˜Entity --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ssm.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>cloud-api-commons<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;project.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--boot web actuator--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--ä¸€èˆ¬é€šç”¨é…ç½®--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>application.yml</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">7001</span><span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">instance</span><span class="token punctuation">:</span>    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> localhost <span class="token comment">#eurekaæœåŠ¡ç«¯çš„å®ä¾‹åç§°</span>  <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token comment">#falseè¡¨ç¤ºä¸å‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±ã€‚</span>    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token comment">#falseè¡¨ç¤ºè‡ªå·±ç«¯å°±æ˜¯æ³¨å†Œä¸­å¿ƒï¼Œæˆ‘çš„èŒè´£å°±æ˜¯ç»´æŠ¤æœåŠ¡å®ä¾‹ï¼Œå¹¶ä¸éœ€è¦å»æ£€ç´¢æœåŠ¡</span>    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>      <span class="token comment">#è®¾ç½®ä¸Eureka Serveräº¤äº’çš„åœ°å€æŸ¥è¯¢æœåŠ¡å’Œæ³¨å†ŒæœåŠ¡éƒ½éœ€è¦ä¾èµ–è¿™ä¸ªåœ°å€ã€‚</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//$<span class="token punctuation">&#123;</span>eureka.instance.hostname<span class="token punctuation">&#125;</span><span class="token punctuation">:</span>$<span class="token punctuation">&#123;</span>server.port<span class="token punctuation">&#125;</span>/eureka/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>EurekaMain7001</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>springcloud</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>netflix<span class="token punctuation">.</span>eureka<span class="token punctuation">.</span>server<span class="token punctuation">.</span></span><span class="token class-name">EnableEurekaServer</span><span class="token punctuation">;</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableEurekaServer</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EurekaMain7001</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">EurekaMain7001</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/224c56a5022b45afa96d9b113697231c.png" alt="è¿è¡Œç»“æœ"></p><h4 id="EurekaSever-provider"><a href="#EurekaSever-provider" class="headerlink" title="EurekaSever-provider"></a>EurekaSever-provider</h4><p>å°†æ³¨å†ŒEurekaSeveræˆä¸ºæœåŠ¡æä¾›è€…provider</p><p>pom.xml</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>application.yml</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token comment">#è¡¨ç¤ºæ˜¯å¦å°†è‡ªå·±æ³¨å†Œè¿›EurekaServeré»˜è®¤ä¸ºtrueã€‚</span>    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token comment">#æ˜¯å¦ä»EurekaServeræŠ“å–å·²æœ‰çš„æ³¨å†Œä¿¡æ¯ï¼Œé»˜è®¤ä¸ºtrueã€‚å•èŠ‚ç‚¹æ— æ‰€è°“ï¼Œé›†ç¾¤å¿…é¡»è®¾ç½®ä¸ºtrueæ‰èƒ½é…åˆribbonä½¿ç”¨è´Ÿè½½å‡è¡¡</span>    <span class="token key atrule">fetchRegistry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>7001/eureka<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>PaymentMain8001å¯åŠ¨ç±»</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableEurekaClient</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentMain8001</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">PaymentMain8001</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/51b54c15d4ea4f159eb87c0877536c18.png" alt="æ³¨å†Œåç§°åŒ¹é…"></p><p><img src="https://img-blog.csdnimg.cn/4008c7ac9aec45f5aa1fa2203bed89a8.png" alt="è‡ªæˆ‘ä¿æŠ¤"></p><p><img src="https://img-blog.csdnimg.cn/f4bdc3dfa8074e4c8ae9c6eaa4d8bdaa.png" alt="å•æœºstatusè¾“å…¥healthæŸ¥çœ‹çŠ¶æ€"></p><h3 id="Eurekaé›†ç¾¤æ„å»º"><a href="#Eurekaé›†ç¾¤æ„å»º" class="headerlink" title="Eurekaé›†ç¾¤æ„å»º"></a>Eurekaé›†ç¾¤æ„å»º</h3><p><img src="https://img-blog.csdnimg.cn/64170c42d1bc4834bd1c04685bd54ffa.png" alt="Eurekaé›†ç¾¤åŸç†"></p><p>å¾®æœåŠ¡RPCè¿œç¨‹æœåŠ¡è°ƒç”¨æœ€æ ¸å¿ƒçš„æ˜¯<font color="red">é«˜å¯ç”¨</font>ï¼Œæ‰€ä»¥æ­å»ºEurekaæ³¨å†Œä¸­å¿ƒé›†ç¾¤ ï¼Œå®ç°è´Ÿè½½å‡è¡¡+æ•…éšœå®¹é”™ï¼Œç›¸äº’æ³¨å†Œï¼Œç›¸äº’å®ˆæœ›ã€‚</p><h4 id="ä¸¤ä¸ªé›†ç¾¤äº’ç›¸æ³¨å†Œ"><a href="#ä¸¤ä¸ªé›†ç¾¤äº’ç›¸æ³¨å†Œ" class="headerlink" title="ä¸¤ä¸ªé›†ç¾¤äº’ç›¸æ³¨å†Œ"></a>ä¸¤ä¸ªé›†ç¾¤äº’ç›¸æ³¨å†Œ</h4><ul><li>å†æ–°å»ºä¸€ä¸ª 7002Module</li><li>æ‰¾åˆ° C:\Windows\System32\drivers\etc ä¿®æ”¹æ˜ å°„é…ç½®æ–‡ä»¶æ·»åŠ è¿›hostæ–‡ä»¶ </li></ul><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">127.0.0.1</span> <span class="token attr-value">eureka7001.com</span><span class="token attr-name">127.0.0.1</span> <span class="token attr-value">eureka7002.com</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>application.yml</li></ul><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">7001</span><span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">instance</span><span class="token punctuation">:</span>    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> eureka7001.com   <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7002.com<span class="token punctuation">:</span>7002/eureka/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">7002</span><span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">instance</span><span class="token punctuation">:</span>    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> eureka7002.com  <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/20719090e0c04538b01ddc1c7686e0ec.png" alt="7001æ³¨å†Œ7002"><br><img src="https://img-blog.csdnimg.cn/ad41446f247147cbb97d9b63c60d040d.png" alt="7002æ³¨å†Œ7001"></p><h5 id="å°†å…¶ä»–æ¨¡å—æ³¨å†Œè¿›7001å’Œ7002Eurekaé›†ç¾¤"><a href="#å°†å…¶ä»–æ¨¡å—æ³¨å†Œè¿›7001å’Œ7002Eurekaé›†ç¾¤" class="headerlink" title="å°†å…¶ä»–æ¨¡å—æ³¨å†Œè¿›7001å’Œ7002Eurekaé›†ç¾¤"></a>å°†å…¶ä»–æ¨¡å—æ³¨å†Œè¿›7001å’Œ7002Eurekaé›†ç¾¤</h5><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">fetchRegistry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka<span class="token punctuation">,</span>http<span class="token punctuation">:</span>//eureka7002.com<span class="token punctuation">:</span>7002/eureka  <span class="token comment"># é›†ç¾¤ç‰ˆ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="åˆ›å»ºä¸¤ä¸ªæœåŠ¡æä¾›è€…8001-amp-8002"><a href="#åˆ›å»ºä¸¤ä¸ªæœåŠ¡æä¾›è€…8001-amp-8002" class="headerlink" title="åˆ›å»ºä¸¤ä¸ªæœåŠ¡æä¾›è€…8001&amp;8002"></a>åˆ›å»ºä¸¤ä¸ªæœåŠ¡æä¾›è€…8001&amp;8002</h5><p>å’Œåˆ›å»º8001ä¸€æ ·ï¼Œä¿®æ”¹ç«¯å£å·å³å¯</p><h5 id="ä¿®æ”¹8001å’Œ8002controller-åŠ å…¥"><a href="#ä¿®æ”¹8001å’Œ8002controller-åŠ å…¥" class="headerlink" title="ä¿®æ”¹8001å’Œ8002controller åŠ å…¥"></a>ä¿®æ”¹8001å’Œ8002controller åŠ å…¥</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;server.port&#125;"</span><span class="token punctuation">)</span><span class="token keyword">private</span> <span class="token class-name">String</span> serverPort<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentController</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">private</span> <span class="token class-name">PaymentService</span> paymentService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;server.port&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> serverPort<span class="token punctuation">;</span>    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/payment/create"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Payment</span> payment<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> result <span class="token operator">=</span> paymentService<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>payment<span class="token punctuation">)</span><span class="token punctuation">;</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"æ’å…¥ç»“æœ: "</span><span class="token operator">+</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">"æ’å…¥æ•°æ®æ“ä½œæˆåŠŸ"</span><span class="token operator">+</span>serverPort<span class="token punctuation">,</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">444</span><span class="token punctuation">,</span><span class="token string">"æ’å…¥æ•°æ®æ“ä½œå¤±è´¥"</span><span class="token punctuation">,</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/payment/get/&#123;id&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span> <span class="token function">getPaymentById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">Payment</span> payment <span class="token operator">=</span> paymentService<span class="token punctuation">.</span><span class="token function">getPaymentById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"è·å–ç»“æœ: "</span><span class="token operator">+</span>payment<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>payment <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">"æŸ¥è¯¢æˆåŠŸ"</span><span class="token operator">+</span>serverPort<span class="token punctuation">,</span>payment<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CommonResult</span><span class="token punctuation">(</span><span class="token number">444</span><span class="token punctuation">,</span><span class="token string">"æŸ¥è¯¢å¤±è´¥ï¼ŒæŸ¥è¯¢ID:"</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="ä½¿ç”¨-LoadBalancedæ³¨è§£èµ‹äºˆRestTemplateè´Ÿè½½å‡è¡¡çš„èƒ½åŠ›"><a href="#ä½¿ç”¨-LoadBalancedæ³¨è§£èµ‹äºˆRestTemplateè´Ÿè½½å‡è¡¡çš„èƒ½åŠ›" class="headerlink" title="ä½¿ç”¨@LoadBalancedæ³¨è§£èµ‹äºˆRestTemplateè´Ÿè½½å‡è¡¡çš„èƒ½åŠ›"></a>ä½¿ç”¨@LoadBalancedæ³¨è§£èµ‹äºˆRestTemplateè´Ÿè½½å‡è¡¡çš„èƒ½åŠ›</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApplicationContextConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token annotation punctuation">@LoadBalanced</span>    <span class="token keyword">public</span> <span class="token class-name">RestTemplate</span> <span class="token function">getResTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="ä¿®æ”¹PAYMENT-URLä¸ºæœåŠ¡åç§°"><a href="#ä¿®æ”¹PAYMENT-URLä¸ºæœåŠ¡åç§°" class="headerlink" title="ä¿®æ”¹PAYMENT_URLä¸ºæœåŠ¡åç§°"></a>ä¿®æ”¹PAYMENT_URLä¸ºæœåŠ¡åç§°</h5><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderController</span> <span class="token punctuation">&#123;</span><span class="token comment">//    public static final String PAYMENT_URL = "http://localhost:8001";</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> PAYMENT_URL <span class="token operator">=</span> <span class="token string">"http://CLOUD-PAYMENT-SERVICE"</span><span class="token punctuation">;</span> <span class="token comment">//æœåŠ¡åç§°</span>    <span class="token annotation punctuation">@Resource</span>    <span class="token keyword">private</span> <span class="token class-name">RestTemplate</span> restTemplate<span class="token punctuation">;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/payment/create"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">CommonResult</span><span class="token punctuation">></span></span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Payment</span> payment<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> restTemplate<span class="token punctuation">.</span><span class="token function">postForEntity</span><span class="token punctuation">(</span>PAYMENT_URL <span class="token operator">+</span> <span class="token string">"/payment/create"</span><span class="token punctuation">,</span> payment<span class="token punctuation">,</span> <span class="token class-name">CommonResult</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/consumer/payment/get/&#123;id&#125;"</span><span class="token punctuation">,</span>produces <span class="token operator">=</span> <span class="token class-name">MediaType</span><span class="token punctuation">.</span>APPLICATION_JSON_UTF8_VALUE<span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">CommonResult</span> <span class="token function">getPayment</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> restTemplate<span class="token punctuation">.</span><span class="token function">getForObject</span><span class="token punctuation">(</span>PAYMENT_URL<span class="token operator">+</span><span class="token string">"/payment/get/"</span><span class="token operator">+</span>id<span class="token punctuation">,</span><span class="token class-name">CommonResult</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="æœ€ç»ˆç»“æœ"><a href="#æœ€ç»ˆç»“æœ" class="headerlink" title="æœ€ç»ˆç»“æœ"></a>æœ€ç»ˆç»“æœ</h5><p><img src="https://img-blog.csdnimg.cn/87e6c5e895e74f828d2accd67944a48b.png" alt="7001"></p><p><img src="https://img-blog.csdnimg.cn/5ccaf120008a4b96962de5362288bac5.png" alt="7002"></p><p><img src="https://img-blog.csdnimg.cn/3194b208cc604fa9b723d6272531f786.png" alt="8001æœåŠ¡æä¾›è€…"><br><img src="https://img-blog.csdnimg.cn/e5f5b83e047147e889211ba4bba8f510.png" alt="8002æœåŠ¡æä¾›è€…"></p><h3 id="actuatorä¿¡æ¯å®Œå–„"><a href="#actuatorä¿¡æ¯å®Œå–„" class="headerlink" title="actuatorä¿¡æ¯å®Œå–„"></a>actuatorä¿¡æ¯å®Œå–„</h3><p>ä¿®æ”¹æœåŠ¡åå’Œå¢åŠ è®¿é—®ä¿¡æ¯æ˜¾ç¤ºipåœ°å€</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token comment">#è¡¨ç¤ºæ˜¯å¦å°†è‡ªå·±æ³¨å†Œè¿›EurekaServeré»˜è®¤ä¸ºtrueã€‚</span>    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token comment">#æ˜¯å¦ä»EurekaServeræŠ“å–å·²æœ‰çš„æ³¨å†Œä¿¡æ¯ï¼Œé»˜è®¤ä¸ºtrueã€‚å•èŠ‚ç‚¹æ— æ‰€è°“ï¼Œé›†ç¾¤å¿…é¡»è®¾ç½®ä¸ºtrueæ‰èƒ½é…åˆribbonä½¿ç”¨è´Ÿè½½å‡è¡¡</span>    <span class="token key atrule">fetchRegistry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>      <span class="token comment">#defaultZone: http://localhost:7001/eureka</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka<span class="token punctuation">,</span>http<span class="token punctuation">:</span>//eureka7002.com<span class="token punctuation">:</span>7002/eureka  <span class="token comment"># é›†ç¾¤ç‰ˆ</span>  <span class="token key atrule">instance</span><span class="token punctuation">:</span>    <span class="token key atrule">instance-id</span><span class="token punctuation">:</span> payment8002 <span class="token comment"># å¢åŠ æœåŠ¡åˆ«å</span>    <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># è®¿é—®è·¯å¾„æ˜¾ç¤ºIPåœ°å€</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/487d5a46d78d49019984eec350648bbb.png" alt="å¢åŠ åˆ«å&amp;IP"></p><h3 id="æœåŠ¡å‘ç°Discovery"><a href="#æœåŠ¡å‘ç°Discovery" class="headerlink" title="æœåŠ¡å‘ç°Discovery"></a>æœåŠ¡å‘ç°Discovery</h3><p>ç¼–å†™controllerç±»</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/payment/discovery"</span><span class="token punctuation">)</span>   <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">discovery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>       <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> services <span class="token operator">=</span> discoveryClient<span class="token punctuation">.</span><span class="token function">getServices</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> element<span class="token operator">:</span>services            <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>           log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"element"</span><span class="token operator">+</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token punctuation">&#125;</span>       <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ServiceInstance</span><span class="token punctuation">></span></span> instances <span class="token operator">=</span> discoveryClient<span class="token punctuation">.</span><span class="token function">getInstances</span><span class="token punctuation">(</span><span class="token string">"CLOUD-PAYMENT-SERVICE"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">ServiceInstance</span> instance<span class="token operator">:</span>instances            <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>       log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>instance<span class="token punctuation">.</span><span class="token function">getServiceId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\t"</span><span class="token operator">+</span>instance<span class="token punctuation">.</span><span class="token function">getHost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\t"</span><span class="token operator">+</span>instance<span class="token punctuation">.</span><span class="token function">getPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"\t"</span><span class="token operator">+</span>instance<span class="token punctuation">.</span><span class="token function">getUri</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token punctuation">&#125;</span>       <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>discoveryClient<span class="token punctuation">;</span>   <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¢åŠ å¯åŠ¨æ³¨è§£</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableEurekaClient</span><span class="token annotation punctuation">@EnableDiscoveryClient</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentMain8001</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">PaymentMain8001</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/3ad8e191dfcb4b9293151d3fb527dbd7.png" alt="æµ‹è¯•ç»“æœ"></p><p><img src="https://img-blog.csdnimg.cn/a534ea0279a741aeb9efa55c7e30638d.png" alt="ç«¯å£æµ‹è¯•"></p><h3 id="Eurekaè‡ªæˆ‘ä¿æŠ¤"><a href="#Eurekaè‡ªæˆ‘ä¿æŠ¤" class="headerlink" title="Eurekaè‡ªæˆ‘ä¿æŠ¤"></a>Eurekaè‡ªæˆ‘ä¿æŠ¤</h3><ul><li><p>è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶é»˜è®¤æ˜¯å¼€å¯çš„</p></li><li><p>ä¿æŠ¤æ¨¡å¼ä¸»è¦ç”¨äºä¸€ç»„å®¢æˆ·ç«¯å’ŒEureka Serverä¹‹é—´å­˜åœ¨ç½‘ç»œåˆ†åŒºåœºæ™¯ä¸‹çš„ä¿æŠ¤ã€‚ä¸€æ—¦è¿›å…¥ä¿æŠ¤æ¨¡å¼ï¼Œ</p><p>Eureka Serverå°†ä¼šå°è¯•ä¿æŠ¤å…¶æœåŠ¡æ³¨å†Œè¡¨ä¸­çš„ä¿¡æ¯ï¼Œä¸å†åˆ é™¤æœåŠ¡æ³¨å†Œè¡¨ä¸­çš„æ•°æ®ï¼Œä¹Ÿå°±æ˜¯ä¸ä¼šæ³¨é”€ä»»ä½•å¾®æœåŠ¡ã€‚</p></li></ul><h4 id="å…³é—­è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶"><a href="#å…³é—­è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶" class="headerlink" title="å…³é—­è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶"></a>å…³é—­è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶</h4><h5 id="7001"><a href="#7001" class="headerlink" title="7001"></a>7001</h5><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">instance</span><span class="token punctuation">:</span>    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> eureka7001.com <span class="token comment">#eurekaæœåŠ¡ç«¯çš„å®ä¾‹åç§°</span>  <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token comment">#falseè¡¨ç¤ºä¸å‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±ã€‚</span>    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token comment">#falseè¡¨ç¤ºè‡ªå·±ç«¯å°±æ˜¯æ³¨å†Œä¸­å¿ƒï¼Œæˆ‘çš„èŒè´£å°±æ˜¯ç»´æŠ¤æœåŠ¡å®ä¾‹ï¼Œå¹¶ä¸éœ€è¦å»æ£€ç´¢æœåŠ¡</span>    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>      <span class="token comment">#è®¾ç½®ä¸Eureka Serveräº¤äº’çš„åœ°å€æŸ¥è¯¢æœåŠ¡å’Œæ³¨å†ŒæœåŠ¡éƒ½éœ€è¦ä¾èµ–è¿™ä¸ªåœ°å€ã€‚</span><span class="token comment">#      defaultZone: http://eureka7002.com:7002/eureka/</span>      <span class="token comment"># å•æœºæŒ‡å‘è‡ªå·±</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//eureka7001.com<span class="token punctuation">:</span>7001/eureka/  <span class="token key atrule">server</span><span class="token punctuation">:</span>    <span class="token comment">#å…³é—­è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ï¼Œä¿è¯ä¸å¯ç”¨æœåŠ¡è¢«åŠæ—¶è¸¢é™¤</span>    <span class="token key atrule">enable-self-preservation</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token key atrule">eviction-interval-timer-in-ms</span><span class="token punctuation">:</span> <span class="token number">2000</span> <span class="token comment"># é»˜è®¤90s æ”¹æˆ2s</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/bd889250f70d43148a188e1fddcf2363.png" alt="å…³é—­è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶"></p><h5 id="8001ç”Ÿäº§è€…EurekaClientå®¢æˆ·ç«¯"><a href="#8001ç”Ÿäº§è€…EurekaClientå®¢æˆ·ç«¯" class="headerlink" title="8001ç”Ÿäº§è€…EurekaClientå®¢æˆ·ç«¯"></a>8001ç”Ÿäº§è€…EurekaClientå®¢æˆ·ç«¯</h5><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8001</span><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">application</span><span class="token punctuation">:</span>    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>payment<span class="token punctuation">-</span>service  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>    <span class="token key atrule">type</span><span class="token punctuation">:</span> com.alibaba.druid.pool.DruidDataSource    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/springcloud<span class="token punctuation">?</span>useSSL=false<span class="token important">&amp;serverTimezone=GMT%2B8&amp;allowPublicKeyRetrieval=true</span>    <span class="token key atrule">username</span><span class="token punctuation">:</span> root    <span class="token key atrule">password</span><span class="token punctuation">:</span> hxl158120<span class="token key atrule">mybatis</span><span class="token punctuation">:</span>  <span class="token key atrule">mapper-locations</span><span class="token punctuation">:</span> classpath<span class="token punctuation">:</span>mapper/<span class="token important">*.xml</span>  <span class="token key atrule">type-aliases-package</span><span class="token punctuation">:</span> com.ssm.springcloud.entities<span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token comment">#è¡¨ç¤ºæ˜¯å¦å°†è‡ªå·±æ³¨å†Œè¿›EurekaServeré»˜è®¤ä¸ºtrueã€‚</span>    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token comment">#æ˜¯å¦ä»EurekaServeræŠ“å–å·²æœ‰çš„æ³¨å†Œä¿¡æ¯ï¼Œé»˜è®¤ä¸ºtrueã€‚å•èŠ‚ç‚¹æ— æ‰€è°“ï¼Œé›†ç¾¤å¿…é¡»è®¾ç½®ä¸ºtrueæ‰èƒ½é…åˆribbonä½¿ç”¨è´Ÿè½½å‡è¡¡</span>    <span class="token key atrule">fetchRegistry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>      <span class="token comment"># å•æœºç‰ˆ</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>7001/eureka<span class="token comment">#      defaultZone: http://eureka7001.com:7001/eureka,http://eureka7002.com:7002/eureka  # é›†ç¾¤ç‰ˆ</span>  <span class="token key atrule">instance</span><span class="token punctuation">:</span>      <span class="token key atrule">instance-id</span><span class="token punctuation">:</span> payment8001      <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>      <span class="token comment">#Eurekaå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€å¿ƒè·³çš„æ—¶é—´é—´éš”ï¼Œå•ä½ä¸ºç§’(é»˜è®¤æ˜¯30ç§’)</span>      <span class="token key atrule">lease-renewal-interval-in-seconds</span><span class="token punctuation">:</span> <span class="token number">1</span>      <span class="token comment">#EurekaæœåŠ¡ç«¯åœ¨æ”¶åˆ°æœ€åä¸€æ¬¡å¿ƒè·³åç­‰å¾…æ—¶é—´ä¸Šé™ï¼Œå•ä½ä¸ºç§’(é»˜è®¤æ˜¯90ç§’)ï¼Œè¶…æ—¶å°†å‰”é™¤æœåŠ¡</span>      <span class="token key atrule">lease-expiration-duration-in-seconds</span><span class="token punctuation">:</span> <span class="token number">2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h4><p><img src="https://img-blog.csdnimg.cn/b3acaf7d5b74408b946cfaf23cb1ba85.png" alt="ç›®å‰æœåŠ¡çŠ¶æ€"><br><img src="https://img-blog.csdnimg.cn/1edc94c5946b4a4385f3bd8113fbc9f0.png" alt="8001æœåŠ¡å…³é—­ï¼Œè¿‡2sç›´æ¥å‰”é™¤"></p>]]></content>
      
      
      <categories>
          
          <category> å¾®æœåŠ¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringCloud </tag>
            
            <tag> Eureka </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringCloudä¹‹æ•´ä½“èšåˆçˆ¶å·¥ç¨‹</title>
      <link href="/2022-03-13-springcloud-zhi-zheng-ti-ju-he-fu-gong-cheng.html"/>
      <url>/2022-03-13-springcloud-zhi-zheng-ti-ju-he-fu-gong-cheng.html</url>
      
        <content type="html"><![CDATA[<h3 id="SpringCloudç®€ä»‹"><a href="#SpringCloudç®€ä»‹" class="headerlink" title="SpringCloudç®€ä»‹"></a>SpringCloudç®€ä»‹</h3><blockquote><p>springcloudå®˜æ–¹æ–‡æ¡£ï¼ˆHoxton SR5ï¼‰ï¼š<a href="https://cloud.spring.io/spring-cloud-static/Hoxton.SR5/reference/htmlsingle/">https://cloud.spring.io/spring-cloud-static/Hoxton.SR5/reference/htmlsingle/</a><br>springcloudä¸­æ–‡æ–‡æ¡£ï¼š<a href="https://www.springcloud.cc/">https://www.springcloud.cc/</a><br>springcloudä¸­å›½ç¤¾åŒºæ–‡æ¡£ï¼š<a href="http://docs.springcloud.cn/">http://docs.springcloud.cn/</a><br><a href="https://www.bookstack.cn/read/spring-cloud-docs/docs-index.md">https://www.bookstack.cn/read/spring-cloud-docs/docs-index.md</a></p></blockquote><p><img src="https://img-blog.csdnimg.cn/eee91c9b39d74970b6901df3773afc05.png" alt="å¾®æœåŠ¡æ¶æ„"></p><p><img src="https://img-blog.csdnimg.cn/8bf73078ef9542238369472727c029fd.png" alt="æŠ€æœ¯å¤§çº²"></p><p><a href="https://github.com/spring-projects">spring githubt</a></p><p><a href="https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.0-Release-Notes">springboot2.0æ–°ç‰¹æ€§</a></p><p><a href="https://docs.spring.io/spring-boot/docs/2.2.2.RELEASE/reference/htmlsingle/">springboot</a></p><p><a href="https://cloud.spring.io/spring-cloud-static/Hoxton.SR1/reference/htmlsingle/">springcloud</a></p><p><a href="https://www.bookstack.cn/read/spring-cloud-docs/docs-index.md">springcloudä¸­æ–‡æ–‡æ¡£</a></p><h3 id="åˆ›å»ºçˆ¶é¡¹ç›®"><a href="#åˆ›å»ºçˆ¶é¡¹ç›®" class="headerlink" title="åˆ›å»ºçˆ¶é¡¹ç›®"></a>åˆ›å»ºçˆ¶é¡¹ç›®</h3><h4 id="new-Project"><a href="#new-Project" class="headerlink" title="new Project"></a>new Project</h4><p><img src="https://img-blog.csdnimg.cn/924e8c187e45423baf8b43c58f71476f.png" alt="New Project"></p><h4 id="èšåˆæ€»çˆ¶å·¥ç¨‹åå­—"><a href="#èšåˆæ€»çˆ¶å·¥ç¨‹åå­—" class="headerlink" title="èšåˆæ€»çˆ¶å·¥ç¨‹åå­—"></a>èšåˆæ€»çˆ¶å·¥ç¨‹åå­—</h4><p><img src="https://img-blog.csdnimg.cn/7dd7c1d778e64e9399117bf379fb0e44.png" alt="èšåˆæ€»çˆ¶å·¥ç¨‹"></p><h4 id="Mavenç‰ˆæœ¬"><a href="#Mavenç‰ˆæœ¬" class="headerlink" title="Mavenç‰ˆæœ¬"></a>Mavenç‰ˆæœ¬</h4><p><img src="https://img-blog.csdnimg.cn/530c38f4aa3c48ac90b46902d20e6758.png" alt="Mavenç‰ˆæœ¬"></p><h4 id="UTF-8"><a href="#UTF-8" class="headerlink" title="UTF-8"></a>UTF-8</h4><p><img src="https://img-blog.csdnimg.cn/b866417de40d45058c0a66d203e9a01b.png" alt="UTF-8"></p><h4 id="æ³¨è§£ç”Ÿæ•ˆæ¿€æ´»"><a href="#æ³¨è§£ç”Ÿæ•ˆæ¿€æ´»" class="headerlink" title="æ³¨è§£ç”Ÿæ•ˆæ¿€æ´»"></a>æ³¨è§£ç”Ÿæ•ˆæ¿€æ´»</h4><p><img src="https://img-blog.csdnimg.cn/98627ba52f8847edab68300ccdf05e3f.png" alt="æ³¨è§£ç”Ÿæ•ˆæ¿€æ´»"></p><h4 id="File-Typeæ–‡ä»¶è¿‡æ»¤"><a href="#File-Typeæ–‡ä»¶è¿‡æ»¤" class="headerlink" title="File Typeæ–‡ä»¶è¿‡æ»¤"></a>File Typeæ–‡ä»¶è¿‡æ»¤</h4><ul><li></li></ul><p><img src="https://img-blog.csdnimg.cn/99484db1e56340b599d188bf2090d63a.png" alt="File Typeæ–‡ä»¶è¿‡æ»¤"></p><h3 id="æ„å»ºæ”¯ä»˜æ¨¡å—"><a href="#æ„å»ºæ”¯ä»˜æ¨¡å—" class="headerlink" title="æ„å»ºæ”¯ä»˜æ¨¡å—"></a>æ„å»ºæ”¯ä»˜æ¨¡å—</h3><h4 id="New-Module"><a href="#New-Module" class="headerlink" title="New Module"></a>New Module</h4><p><img src="https://img-blog.csdnimg.cn/a1ec226c1f5c448383eafe94ee9863d9.png" alt="New Module"></p><h4 id="Finish"><a href="#Finish" class="headerlink" title="Finish"></a>Finish</h4><p><img src="https://img-blog.csdnimg.cn/ae90dbcaaaf44ca1a9d61626765060d0.png" alt="Finish"></p><p>pom.xml</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>  <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modelVersion</span><span class="token punctuation">></span></span>4.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modelVersion</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.ssm.springcloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>springloud2022<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>modules</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>cloud-provider-payment8001<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>module</span><span class="token punctuation">></span></span>cloud-consumer-order80<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>module</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>modules</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!-- packaging pom æ€»å·¥ç¨‹--></span>  <span class="token comment">&lt;!--ç»Ÿä¸€ç®¡ç†jaråŒ…ç‰ˆæœ¬--></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">></span></span>12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">></span></span>12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>junit.version</span><span class="token punctuation">></span></span>4.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>junit.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lombok.version</span><span class="token punctuation">></span></span>1.18.10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lombok.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>log4j.version</span><span class="token punctuation">></span></span>1.2.17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>log4j.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mysql.version</span><span class="token punctuation">></span></span>8.0.17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mysql.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>druid.version</span><span class="token punctuation">></span></span>1.1.16<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>druid.version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mybatis.spring.boot.version</span><span class="token punctuation">></span></span>2.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mybatis.spring.boot.version</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span>  <span class="token comment">&lt;!--å­æ¨¡å—ç»§æ‰¿ä¹‹åï¼Œæä¾›ä½œç”¨ï¼šé”å®šç‰ˆæœ¬+å­moduleä¸ç”¨å†™groupIdå’Œversion--></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--å®šä¹‰è§„èŒƒï¼Œä½†ä¸å¯¼å…¥--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--      &lt;dependency>--></span><span class="token comment">&lt;!--        &lt;groupId>org.apache.maven.plugins&lt;/groupId>--></span><span class="token comment">&lt;!--        &lt;artifactId>maven-project-info-reports-plugin&lt;/artifactId>--></span><span class="token comment">&lt;!--        &lt;version>3.0.0&lt;/version>--></span><span class="token comment">&lt;!--      &lt;/dependency>--></span>      <span class="token comment">&lt;!--spring boot 2.2.2--></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.2.2.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>      <span class="token comment">&lt;!--spring cloud Hoxton.SR1--></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>Hoxton.SR1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>      <span class="token comment">&lt;!--spring cloud é˜¿é‡Œå·´å·´--></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-alibaba-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.1.0.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">></span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>      <span class="token comment">&lt;!--mysql--></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;mysql.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>      <span class="token comment">&lt;!-- druid--></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>druid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;druid.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>      <span class="token comment">&lt;!--mybatis--></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.mybatis.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;mybatis.spring.boot.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>      <span class="token comment">&lt;!--junit--></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;junit.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>      <span class="token comment">&lt;!--log4j--></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>$&#123;log4j.version&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å¾®æœåŠ¡ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
            <tag> SpringCloud </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>linuxæ“ä½œç³»ç»Ÿé—®é¢˜è§£å†³</title>
      <link href="/2022-03-12-linux-cao-zuo-xi-tong-wen-ti-jie-jue.html"/>
      <url>/2022-03-12-linux-cao-zuo-xi-tong-wen-ti-jie-jue.html</url>
      
        <content type="html"><![CDATA[<ul><li>Xshellè¿æ¥ä¸ä¸ŠUbuntuç³»ç»Ÿçš„è§£å†³åŠæ³•<ul><li>å®‰è£…sshæœåŠ¡ï¼Œè¾“å…¥å‘½ä»¤ï¼šsudo apt-get install openssh-server</li><li>å¯åŠ¨æœåŠ¡: /etc/init.d/ssh start</li><li>æµ‹è¯•è¿æ¥å³å¯</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ“ä½œç³» </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ubuntu </tag>
            
            <tag> centos7 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBooté›†æˆthymeleaf</title>
      <link href="/2022-03-06-springboot-ji-cheng-thymeleaf.html"/>
      <url>/2022-03-06-springboot-ji-cheng-thymeleaf.html</url>
      
        <content type="html"><![CDATA[<h3 id="SpringBoot-é›†æˆ-Thymeleaf-æ¨¡æ¿"><a href="#SpringBoot-é›†æˆ-Thymeleaf-æ¨¡æ¿" class="headerlink" title="SpringBoot é›†æˆ Thymeleaf æ¨¡æ¿"></a>SpringBoot é›†æˆ Thymeleaf æ¨¡æ¿</h3><h4 id="å…³é—­é¡µé¢ç¼“å­˜"><a href="#å…³é—­é¡µé¢ç¼“å­˜" class="headerlink" title="å…³é—­é¡µé¢ç¼“å­˜"></a>å…³é—­é¡µé¢ç¼“å­˜</h4><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">spring.thymeleaf.cache</span><span class="token punctuation">=</span><span class="token attr-value">false</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/cac435e160a9441e90687d60ea2dcef5.png" alt="å…³é—­ç¼“å­˜"></p><p>UserController</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Controller</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/user/detail"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">message</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"data"</span><span class="token punctuation">,</span><span class="token string">"springbootç»§æ‰¿thtmeleafæ¨¡æ¿å¼•æ“!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"message"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>message.html</p><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>th</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.thymeleaf.org<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;data&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å±•ç¤ºè¦æ˜¾ç¤ºçš„å†…å®¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¸¸ç”¨å±æ€§"><a href="#å¸¸ç”¨å±æ€§" class="headerlink" title="å¸¸ç”¨å±æ€§"></a>å¸¸ç”¨å±æ€§</h3><pre class="line-numbers language-html" data-language="html"><code class="language-html">ç”¨æˆ·åç§°:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@&#123;/test1(id=$&#123;id&#125;,username=$&#123;username&#125;,age=$&#123;age&#125;)&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç›¸å¯¹è·¯å¾„å¤šä¸ªå‚æ•°(å¼ºçƒˆæ¨è)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@&#123;<span class="token punctuation">'</span>/test3/<span class="token punctuation">'</span>+$&#123;id&#125;+<span class="token punctuation">'</span>/<span class="token punctuation">'</span>+$&#123;username&#125;&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>è¯·æ±‚è·¯å¾„ä¸ºRESTfulé£æ ¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@&#123;/js/jQuery.js&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name"><span class="token namespace">th:</span>src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@&#123;/img/005XKz6xgy1g5c1bt9q9nj31hc0u0n17.jpg&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>æ ‡å‡†å˜é‡è¡¨è¾¾å¼$&#123;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;user.username&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>é€‰æ‹©å˜é‡è¡¨è¾¾å¼:*&#123;&#125;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>*&#123;id&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>æ··åˆä½¿ç”¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>*&#123;user.username&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¾ªç¯éå†lé›†åˆ"><a href="#å¾ªç¯éå†lé›†åˆ" class="headerlink" title="å¾ªç¯éå†lé›†åˆ"></a>å¾ªç¯éå†lé›†åˆ</h3><h4 id="listé›†åˆ"><a href="#listé›†åˆ" class="headerlink" title="listé›†åˆ"></a>listé›†åˆ</h4><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token comment">&lt;!--user å½“å‰å¾ªç¯çš„å¯¹è±¡å˜é‡åï¼ˆéšæ„ï¼‰--></span><span class="token comment">&lt;!--userStat å½“å‰å¾ªç¯å¯¹è±¡çŠ¶æ€çš„å˜é‡ å¯é€‰ é»˜è®¤å°±æœ‰--></span><span class="token comment">&lt;!--$&#123;userList&#125; å½“å‰å¾ªç¯çš„é›†åˆ--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user,userStat:$&#123;userList&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;userStat.count&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;user.id&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;user.nick&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;user.phone&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;user.address&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="mapé›†åˆ"><a href="#mapé›†åˆ" class="headerlink" title="mapé›†åˆ"></a>mapé›†åˆ</h4><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>userMap,userMapStat:$&#123;userMaps&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;userMapStat.count&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;userMapStat.index&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;userMap.key&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;userMap.value&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;userMap.value.id&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h4><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>user,userStat:$&#123;userArray&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;userStat.index&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;userStat.count&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;user.id&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;user.nick&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;user.phone&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;user.address&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å¤æ‚é›†åˆ"><a href="#å¤æ‚é›†åˆ" class="headerlink" title="å¤æ‚é›†åˆ"></a>å¤æ‚é›†åˆ</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/each/all"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">eachAll</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span><span class="token punctuation">></span><span class="token punctuation">></span></span> myList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span><span class="token number">2</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span><span class="token punctuation">></span></span> myMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span><span class="token number">2</span> <span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">></span></span> myUserList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span><span class="token number">3</span> <span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    user<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>                    user<span class="token punctuation">.</span><span class="token function">setNick</span><span class="token punctuation">(</span><span class="token string">"zs"</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                    user<span class="token punctuation">.</span><span class="token function">setPhone</span><span class="token punctuation">(</span><span class="token string">"111111"</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                    user<span class="token punctuation">.</span><span class="token function">setAddress</span><span class="token punctuation">(</span><span class="token string">"è¿åŸ"</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                    myUserList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                myMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span>myUserList<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            myList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>myMap<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"myList"</span><span class="token punctuation">,</span>myList<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"eachAll"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myListMap:$&#123;myList&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myListMapObj:$&#123;myListMap&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        Mapé›†åˆçš„key:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;myListMapObj.key&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myListMapObjList:$&#123;myListMapObj.value&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;myListMapObjList.id&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;myListMapObjList.nick&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;myListMapObjList.address&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;myListMapObjList.phone&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ¡ä»¶åˆ¤æ–­"><a href="#æ¡ä»¶åˆ¤æ–­" class="headerlink" title="æ¡ä»¶åˆ¤æ–­"></a>æ¡ä»¶åˆ¤æ–­</h3><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;sex eq 1&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    ç”·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;sex eq 0&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    å¥³<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token comment">&lt;!-- th:unless ä¸ifç›¸å--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;sex ne 1&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    å¥³<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>switch</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;productType&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>case</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>äº§å“0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>case</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>äº§å“1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>case</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>*<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>æ— äº§å“<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å†…æ•›è¡¨è¾¾å¼"><a href="#å†…æ•›è¡¨è¾¾å¼" class="headerlink" title="å†…æ•›è¡¨è¾¾å¼"></a>å†…æ•›è¡¨è¾¾å¼</h3><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>å†…æ•›æ–‡æœ¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>inline</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    æ•°æ®ï¼š[[$&#123;data&#125;]]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>æ•°æ®ï¼š[[$&#123;data&#125;]]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>å†…æ•›è„šæœ¬<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>inline</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">        <span class="token keyword">function</span> <span class="token function">showData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">"-------"</span><span class="token punctuation">)</span>            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span>$<span class="token punctuation">&#123;</span>data<span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token punctuation">&#125;</span>    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name"><span class="token namespace">th:</span>onclick</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>showData()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å±•ç¤ºæ•°æ®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å­—é¢é‡"><a href="#å­—é¢é‡" class="headerlink" title="å­—é¢é‡"></a>å­—é¢é‡</h3><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>æ–‡æœ¬å­—é¢é‡ï¼Œç”¨å•å¼•å·å¼•èµ·æ¥çš„å°±æ˜¯å­—é¢é‡''<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@&#123;<span class="token punctuation">'</span>/user/detail?sex=<span class="token punctuation">'</span>+$&#123;sex&#125;&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>a<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Hello<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>æ•°å­—å­—é¢é‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span>ä»Šå¹´æ˜¯<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2020<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>1949<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>å¹´20å¹´åæ˜¯<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h5</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2020+20<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>1969<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h5</span><span class="token punctuation">></span></span>å¹´<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>booleanå­—é¢é‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;flag&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    æ‰§è¡ŒæˆåŠŸ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;!flag&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    æ‰§è¡Œå¤±è´¥<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;!flag&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    æ‰§è¡ŒæˆåŠŸ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>nullå­—é¢é‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;user.id&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;userDetail eq null&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å¯¹è±¡å·²åˆ›å»º,åœ°å€ä¸ä¸ºç©º<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;userDetail.id eq null&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç©º<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å­—ç¬¦ä¸²æ‹¼æ¥"><a href="#å­—ç¬¦ä¸²æ‹¼æ¥" class="headerlink" title="å­—ç¬¦ä¸²æ‹¼æ¥"></a>å­—ç¬¦ä¸²æ‹¼æ¥</h3><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>å…±<span class="token punctuation">'</span>+$&#123;totalRows&#125;+<span class="token punctuation">'</span>æ¡è®°å½•<span class="token punctuation">'</span>+$&#123;totalPage&#125;+<span class="token punctuation">'</span>é¡µ,å½“å‰ç¬¬<span class="token punctuation">'</span>+$&#123;currentPage&#125;+<span class="token punctuation">'</span>é¡µ<span class="token punctuation">'</span>+<span class="token punctuation">'</span> å°¾é¡µ<span class="token punctuation">'</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>ä½¿ç”¨æ›´ä¼˜é›…çš„æ–¹å¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>|å…±$&#123;totalRows&#125;æ¡$&#123;totalPage&#125;é¡µ,å½“å‰ç¬¬$&#123;currentPage&#125;é¡µ,é¦–é¡µ,å°¾é¡µ|<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å…±120æ¡12é¡µ,å½“å‰ç¬¬ä¸€é¡µ,é¦–é¡µ,å°¾é¡µ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h3><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">></span></span>ä¸‰å…ƒè¿ç®—ç¬¦<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;sex eq 1 ? <span class="token punctuation">'</span>ç”·<span class="token punctuation">'</span>:<span class="token punctuation">'</span>å¥³<span class="token punctuation">'</span>&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;sex == 1 ? <span class="token punctuation">'</span>ç”·<span class="token punctuation">'</span>:<span class="token punctuation">'</span>å¥³<span class="token punctuation">'</span>&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>20+2=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>20+2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>5>2ä¸º<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5  gt 2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>çœŸ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>5&lt;2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>5 lt 2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>1>=1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1 ge 1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>çœŸ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>1&lt;=1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1 le 1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>çœŸ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;sex eq 1&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>ç”·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;sex ne 1&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>å¥³<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¡¨è¾¾å¼å†…ç½®å¯¹è±¡"><a href="#è¡¨è¾¾å¼å†…ç½®å¯¹è±¡" class="headerlink" title="è¡¨è¾¾å¼å†…ç½®å¯¹è±¡"></a>è¡¨è¾¾å¼å†…ç½®å¯¹è±¡</h3><pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>é€sessionä¸­è·å–å€¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;#session.getAttribute(<span class="token punctuation">'</span>data<span class="token punctuation">'</span>)&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;#httpSession.getAttribute(<span class="token punctuation">'</span>data<span class="token punctuation">'</span>)&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;session.data&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;username&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>text/javascript<span class="token punctuation">"</span></span> <span class="token attr-name"><span class="token namespace">th:</span>inline</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>javascript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">    <span class="token keyword">var</span> scheme <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>$<span class="token punctuation">&#123;</span>#request<span class="token punctuation">.</span><span class="token function">getScheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span>$<span class="token punctuation">&#123;</span>#request<span class="token punctuation">.</span><span class="token function">getScheme</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span>$<span class="token punctuation">&#123;</span>#request<span class="token punctuation">.</span><span class="token function">getServerName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span>$<span class="token punctuation">&#123;</span>#request<span class="token punctuation">.</span><span class="token function">getServerPort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span>$<span class="token punctuation">&#123;</span>#request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">var</span> requestURL <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>$<span class="token punctuation">&#123;</span>#httpServletRequest<span class="token punctuation">.</span>requestURL<span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">var</span> requestString <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>$<span class="token punctuation">&#123;</span>#httpServletRequest<span class="token punctuation">.</span>queryString<span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">var</span>  requestAddress <span class="token operator">=</span> requestURL <span class="token operator">+</span> <span class="token string">"?"</span> <span class="token operator">+</span> requestString<span class="token punctuation">;</span>    <span class="token function">alert</span><span class="token punctuation">(</span>requestURL<span class="token punctuation">)</span>    <span class="token function">alert</span><span class="token punctuation">(</span>requestString<span class="token punctuation">)</span>    <span class="token function">alert</span><span class="token punctuation">(</span>requestAddress<span class="token punctuation">)</span></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;time&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;#dates.format(time,<span class="token punctuation">'</span>yyyy-MM-dd HH-mm-ss-SSS<span class="token punctuation">'</span>)&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;data&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;#strings.substring(data,3,5)&#125;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> å‰ç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
            <tag> Thymeleaf </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MySql</title>
      <link href="/2022-03-06-mysql.html"/>
      <url>/2022-03-06-mysql.html</url>
      
        <content type="html"><![CDATA[<h3 id="æ•°æ®åº“å¯¼å…¥æ•°æ®åŸºæœ¬æ“ä½œ"><a href="#æ•°æ®åº“å¯¼å…¥æ•°æ®åŸºæœ¬æ“ä½œ" class="headerlink" title="æ•°æ®åº“å¯¼å…¥æ•°æ®åŸºæœ¬æ“ä½œ"></a>æ•°æ®åº“å¯¼å…¥æ•°æ®åŸºæœ¬æ“ä½œ</h3><ul><li><p>doså‘½ä»¤çª—å£</p><ul><li><code>mysql -uroot -phxl158120</code></li></ul></li><li><p>æŸ¥çœ‹æ‰€æœ‰æ•°æ®åº“</p></li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">show</span> <span class="token keyword">databases</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------------------+</span><span class="token operator">|</span> <span class="token keyword">Database</span>           <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------------------+</span><span class="token operator">|</span> information_schema <span class="token operator">|</span><span class="token operator">|</span> mysql              <span class="token operator">|</span><span class="token operator">|</span> performance_schema <span class="token operator">|</span><span class="token operator">|</span> school             <span class="token operator">|</span><span class="token operator">|</span> springboot         <span class="token operator">|</span><span class="token operator">|</span> springdb           <span class="token operator">|</span><span class="token operator">|</span> sys                <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------------------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li> åˆ›å»ºæ•°æ®åº“</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">database</span> ssm<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li> ä½¿ç”¨æ•°æ®åº“</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">use</span> ssm<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li> æŸ¥çœ‹å½“å‰ ä½¿ç”¨çš„æ•°æ®åº“ä¸­çš„è¡¨</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">show</span> <span class="token keyword">tables</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">---------------+</span><span class="token operator">|</span> Tables_in_ssm <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">---------------+</span><span class="token operator">|</span> dept          <span class="token operator">|</span><span class="token operator">|</span> emp           <span class="token operator">|</span><span class="token operator">|</span> salgrade      <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">---------------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>åˆå§‹åŒ–æ•°æ®</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment"># (æ–‡ä»¶è·¯å¾„)</span>source G:\BaiduNetdiskDownload\Msqç¬”è®°\bjpowernode<span class="token punctuation">.</span><span class="token keyword">sql</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>æŸ¥çœ‹è¡¨ç»“æ„</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">desc</span> dept<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+-------+</span><span class="token operator">|</span> Field  <span class="token operator">|</span> <span class="token keyword">Type</span>        <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra <span class="token operator">|</span> <span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+-------+</span><span class="token operator">|</span> DEPTNO <span class="token operator">|</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> PRI <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span>  éƒ¨é—¨ç¼–å·<span class="token operator">|</span> DNAME  <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span>  éƒ¨é—¨åç§°<span class="token operator">|</span> LOC    <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span>  éƒ¨é—¨ä½ç½®<span class="token operator">+</span><span class="token comment">--------+-------------+------+-----+---------+-------+</span><span class="token keyword">desc</span> emp<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">----------+-------------+------+-----+---------+-------+</span><span class="token operator">|</span> Field    <span class="token operator">|</span> <span class="token keyword">Type</span>        <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">----------+-------------+------+-----+---------+-------+</span><span class="token operator">|</span> EMPNO    <span class="token operator">|</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>      <span class="token operator">|</span> <span class="token keyword">NO</span>   <span class="token operator">|</span> PRI <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span> å‘˜å·¥ç¼–å· <span class="token operator">|</span> ENAME    <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span> å‘˜å·¥å§“å<span class="token operator">|</span> JOB      <span class="token operator">|</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>  <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span> å·¥ä½œå²—ä½<span class="token operator">|</span> MGR      <span class="token operator">|</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>      <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span> ä¸Šçº§é¢†å¯¼ç¼–å·<span class="token operator">|</span> HIREDATE <span class="token operator">|</span> <span class="token keyword">date</span>        <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span> å…¥èŒæ—¥æœŸ<span class="token operator">|</span> SAL      <span class="token operator">|</span> <span class="token keyword">double</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span> æœˆè–ª<span class="token operator">|</span> COMM     <span class="token operator">|</span> <span class="token keyword">double</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span> è¡¥åŠ©<span class="token operator">|</span> DEPTNO   <span class="token operator">|</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>      <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span> éƒ¨é—¨ç¼–å·<span class="token operator">+</span><span class="token comment">----------+-------------+------+-----+---------+-------+</span><span class="token keyword">desc</span> salgrade<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">-------+---------+------+-----+---------+-------+</span><span class="token operator">|</span> Field <span class="token operator">|</span> <span class="token keyword">Type</span>    <span class="token operator">|</span> <span class="token boolean">Null</span> <span class="token operator">|</span> <span class="token keyword">Key</span> <span class="token operator">|</span> <span class="token keyword">Default</span> <span class="token operator">|</span> Extra <span class="token operator">|</span> <span class="token operator">+</span><span class="token comment">-------+---------+------+-----+---------+-------+</span><span class="token operator">|</span> GRADE <span class="token operator">|</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span> ç­‰çº§<span class="token operator">|</span> LOSAL <span class="token operator">|</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span> æœ€ä½è–ªèµ„<span class="token operator">|</span> HISAL <span class="token operator">|</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token operator">|</span> YES  <span class="token operator">|</span>     <span class="token operator">|</span> <span class="token boolean">NULL</span>    <span class="token operator">|</span>       <span class="token operator">|</span> æœ€é«˜è–ªèµ„<span class="token operator">+</span><span class="token comment">-------+---------+------+-----+---------+-------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æŸ¥çœ‹è¡¨æ•°æ®</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> dept<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------+------------+----------+</span><span class="token operator">|</span> DEPTNO <span class="token operator">|</span> DNAME      <span class="token operator">|</span> LOC      <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+------------+----------+</span><span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> ACCOUNTING <span class="token operator">|</span> NEW YORK <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span> DALLAS   <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> SALES      <span class="token operator">|</span> CHICAGO  <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">40</span> <span class="token operator">|</span> OPERATIONS <span class="token operator">|</span> BOSTON   <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+------------+----------+</span>mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span><span class="token operator">|</span> EMPNO <span class="token operator">|</span> ENAME  <span class="token operator">|</span> JOB       <span class="token operator">|</span> MGR  <span class="token operator">|</span> HIREDATE   <span class="token operator">|</span> SAL     <span class="token operator">|</span> COMM    <span class="token operator">|</span> DEPTNO <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span><span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SMITH  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token number">0.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span>mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> salgrade<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">-------+-------+-------+</span><span class="token operator">|</span> GRADE <span class="token operator">|</span> LOSAL <span class="token operator">|</span> HISAL <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------+-------+-------+</span><span class="token operator">|</span>     <span class="token number">1</span> <span class="token operator">|</span>   <span class="token number">700</span> <span class="token operator">|</span>  <span class="token number">1200</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">2</span> <span class="token operator">|</span>  <span class="token number">1201</span> <span class="token operator">|</span>  <span class="token number">1400</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">3</span> <span class="token operator">|</span>  <span class="token number">1401</span> <span class="token operator">|</span>  <span class="token number">2000</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">4</span> <span class="token operator">|</span>  <span class="token number">2001</span> <span class="token operator">|</span>  <span class="token number">3000</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">5</span> <span class="token operator">|</span>  <span class="token number">3001</span> <span class="token operator">|</span>  <span class="token number">9999</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------+-------+-------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h3><ul><li>æŸ¥çœ‹æ•°æ®åº“ç‰ˆæœ¬</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">mysql --versionmysql -Vmysql  Ver <span class="token number">8.0</span>.17 <span class="token keyword">for</span> Win64 on x86_64 <span class="token punctuation">(</span>MySQL Community Server - GPL<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>æŸ¥è¯¢å½“å‰ä½¿ç”¨æ•°æ®åº“</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token keyword">databases</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>ç»ˆæ­¢ä¸€æ¡è¯­å¥</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">\c<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>é€€å‡ºmysql</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">ctrl <span class="token operator">+</span> cquit<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li> æŸ¥çœ‹è¡¨çš„åˆ›å»ºè¯­å¥</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"> <span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">table</span> emp<span class="token punctuation">;</span> <span class="token comment">--------------------+</span><span class="token operator">|</span> emp   <span class="token operator">|</span> <span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token punctuation">`</span>emp<span class="token punctuation">`</span> <span class="token punctuation">(</span>  <span class="token punctuation">`</span>EMPNO<span class="token punctuation">`</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  <span class="token punctuation">`</span>ENAME<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  <span class="token punctuation">`</span>JOB<span class="token punctuation">`</span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  <span class="token punctuation">`</span>MGR<span class="token punctuation">`</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  <span class="token punctuation">`</span>HIREDATE<span class="token punctuation">`</span> <span class="token keyword">date</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  <span class="token punctuation">`</span>SAL<span class="token punctuation">`</span> <span class="token keyword">double</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  <span class="token punctuation">`</span>COMM<span class="token punctuation">`</span> <span class="token keyword">double</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  <span class="token punctuation">`</span>DEPTNO<span class="token punctuation">`</span> <span class="token keyword">int</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token punctuation">`</span>EMPNO<span class="token punctuation">`</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 <span class="token keyword">COLLATE</span><span class="token operator">=</span>utf8mb4_0900_ai_ci <span class="token operator">|</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æŸ¥çœ‹å…¶ä»–åº“ä¸­çš„è¡¨</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">show</span> <span class="token keyword">tables</span> <span class="token keyword">from</span> springboot<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>æ•°æ®åº“å¯¼å‡ºå¯¼å…¥</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment"># åœ¨Windowsçš„doså‘½ä»¤çª—å£ä¸­æ‰§è¡Œ</span>mysqldump ssm<span class="token operator">></span>D:\ssm<span class="token punctuation">.</span><span class="token keyword">sql</span> <span class="token operator">-</span>uroot <span class="token operator">-</span>p333<span class="token comment"># å¯¼å…¥</span><span class="token keyword">create</span> <span class="token keyword">database</span> ssmï¼›<span class="token keyword">use</span> ssm<span class="token punctuation">;</span>source D:\ssm<span class="token punctuation">.</span><span class="token keyword">sql</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¡¨çš„æ“ä½œ"><a href="#è¡¨çš„æ“ä½œ" class="headerlink" title="è¡¨çš„æ“ä½œ"></a>è¡¨çš„æ“ä½œ</h3><ul><li><code>char</code> : ä¸å¯å˜é•¿åº¦ï¼Œå½“æŸä¸ªå­—æ®µä¸­çš„æ•°æ®é•¿åº¦ä¸å‘ç”Ÿæ”¹å˜çš„æ—¶å€™ä½¿ç”¨</li><li><code>varchar</code>ï¼šå¯å˜é•¿åº¦ï¼Œå½“æŸä¸ªå­—æ®µä¸­çš„æ•°æ®é•¿åº¦ä¸ç¡®å®šæ—¶ä½¿ç”¨</li><li><code>BLOB</code>ï¼šäºŒè¿›åˆ¶å¤§å¯¹è±¡ï¼ˆå­˜å‚¨å›¾ç‰‡ã€è§†é¢‘ç­‰æµåª’ä½“ä¿¡æ¯ï¼‰ Binary Large OBject ï¼ˆå¯¹åº”javaä¸­çš„Objectï¼‰</li><li><code>CLOB</code>ï¼šå­—ç¬¦å¤§å¯¹è±¡ï¼ˆå­˜å‚¨è¾ƒå¤§æ–‡æœ¬ï¼Œæ¯”å¦‚ï¼Œå¯ä»¥å­˜å‚¨4Gçš„å­—ç¬¦ä¸²ã€‚ï¼‰ Character Large OBjectï¼ˆå¯¹åº”javaä¸­çš„Objectï¼‰</li></ul><h4 id="åˆ é™¤è¡¨"><a href="#åˆ é™¤è¡¨" class="headerlink" title="åˆ é™¤è¡¨"></a>åˆ é™¤è¡¨</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> t_student<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="æ’å…¥æ•°æ®"><a href="#æ’å…¥æ•°æ®" class="headerlink" title="æ’å…¥æ•°æ®"></a>æ’å…¥æ•°æ®</h4><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">insert</span> <span class="token keyword">into</span> t_student<span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token keyword">no</span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">insert</span> <span class="token keyword">into</span> t_student <span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'jack'</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'2000-01-01'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>mysql<span class="token operator">></span> <span class="token keyword">insert</span> <span class="token keyword">into</span> t_student<span class="token punctuation">(</span>name<span class="token punctuation">,</span><span class="token keyword">no</span><span class="token punctuation">)</span> <span class="token keyword">values</span> <span class="token punctuation">(</span><span class="token string">'zhangsan'</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token string">'zhangsan3'</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_student<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">----+-----------+------+------------+</span><span class="token operator">|</span> <span class="token keyword">no</span> <span class="token operator">|</span> name      <span class="token operator">|</span> sex  <span class="token operator">|</span> birth      <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">----+-----------+------+------------+</span><span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> jack      <span class="token operator">|</span> <span class="token number">0</span>    <span class="token operator">|</span> <span class="token number">2000</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">2</span> <span class="token operator">|</span> zhangsan  <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">3</span> <span class="token operator">|</span> zhangsan2 <span class="token operator">|</span> <span class="token number">0</span>    <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">4</span> <span class="token operator">|</span> zhangsan3 <span class="token operator">|</span> <span class="token number">0</span>    <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">5</span> <span class="token operator">|</span> zhangsan  <span class="token operator">|</span> <span class="token number">0</span>    <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">----+-----------+------+------------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¡¨çš„å¤åˆ¶"><a href="#è¡¨çš„å¤åˆ¶" class="headerlink" title="è¡¨çš„å¤åˆ¶"></a>è¡¨çš„å¤åˆ¶</h4><p>è¯­æ³•æ ¼å¼ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> è¡¨å <span class="token keyword">as</span> <span class="token keyword">select</span> è¯­å¥<span class="token punctuation">;</span>æ²¡æœ‰æ¡ä»¶æ•´å¼ è¡¨å­—æ®µå…¨éƒ¨æ’å…¥<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>å°†æŸ¥è¯¢ç»“æœæ”¾å…¥ä¸¤ä¸€å¼ è¡¨ä¸­</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">create</span> <span class="token keyword">table</span> t_student1 <span class="token keyword">as</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>deptno <span class="token keyword">from</span> emp<span class="token punctuation">;</span>Query OK<span class="token punctuation">,</span> <span class="token number">14</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.04</span> sec<span class="token punctuation">)</span>Records: <span class="token number">14</span>  Duplicates: <span class="token number">0</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_student1<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------+--------+</span><span class="token operator">|</span> ename  <span class="token operator">|</span> deptno <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+--------+</span><span class="token operator">|</span> SMITH  <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span> ALLEN  <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> WARD   <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> JONES  <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span> MARTIN <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> BLAKE  <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> CLARK  <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span><span class="token operator">|</span> SCOTT  <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span> KING   <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span><span class="token operator">|</span> TURNER <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> ADAMS  <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span> JAMES  <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> FORD   <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span> MILLER <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+--------+</span>mysql<span class="token operator">></span> <span class="token keyword">insert</span> <span class="token keyword">into</span> t_student1 <span class="token keyword">select</span> ename<span class="token punctuation">,</span>deptno <span class="token keyword">from</span> emp<span class="token punctuation">;</span>Query OK<span class="token punctuation">,</span> <span class="token number">14</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>Records: <span class="token number">14</span>  Duplicates: <span class="token number">0</span>  <span class="token keyword">Warnings</span>: <span class="token number">0</span>mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> t_student1<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------+--------+</span><span class="token operator">|</span> ename  <span class="token operator">|</span> deptno <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+--------+</span><span class="token operator">|</span> SMITH  <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span> ALLEN  <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> WARD   <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> JONES  <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span> MARTIN <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> BLAKE  <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> CLARK  <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span><span class="token operator">|</span> SCOTT  <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span> KING   <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span><span class="token operator">|</span> TURNER <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> ADAMS  <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span> JAMES  <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> FORD   <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span> MILLER <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span><span class="token operator">|</span> SMITH  <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span> ALLEN  <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> WARD   <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> JONES  <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span> MARTIN <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> BLAKE  <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> CLARK  <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span><span class="token operator">|</span> SCOTT  <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span> KING   <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span><span class="token operator">|</span> TURNER <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> ADAMS  <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span> JAMES  <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> FORD   <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span> MILLER <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+--------+</span><span class="token number">28</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ä¿®æ”¹è¡¨ä¸­æ•°æ®"><a href="#ä¿®æ”¹è¡¨ä¸­æ•°æ®" class="headerlink" title="ä¿®æ”¹è¡¨ä¸­æ•°æ®"></a>ä¿®æ”¹è¡¨ä¸­æ•°æ®</h4><p>è¯­æ³•æ ¼å¼ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">update</span> è¡¨å <span class="token keyword">set</span> å­—æ®µå<span class="token number">1</span><span class="token operator">=</span>å€¼<span class="token number">1</span>ï¼Œå­—æ®µå<span class="token number">2</span><span class="token operator">=</span>å€¼<span class="token number">2</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token keyword">where</span> æ¡ä»¶æ²¡æœ‰æ¡ä»¶æ•´å¼ è¡¨å…¨éƒ¨æ›´æ–°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>å°†å­¦ç”Ÿè¡¨ä¸­ç¼–å·ä¸º1çš„å­¦ç”Ÿå§“åå’Œæ€§åˆ«åˆ†åˆ«æ”¹ä¸ºâ€˜ssmâ€™å’Œâ€˜1â€˜</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">update</span> t_student <span class="token keyword">set</span> sex <span class="token operator">=</span> <span class="token string">'1'</span><span class="token punctuation">,</span>name <span class="token operator">=</span> <span class="token string">'ssm'</span> <span class="token keyword">where</span> <span class="token keyword">no</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="åˆ é™¤è¡¨ä¸­æ•°æ®"><a href="#åˆ é™¤è¡¨ä¸­æ•°æ®" class="headerlink" title="åˆ é™¤è¡¨ä¸­æ•°æ®"></a>åˆ é™¤è¡¨ä¸­æ•°æ®</h4><p>è¯­æ³•æ ¼å¼ï¼š</p><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">delete</span> <span class="token keyword">from</span> è¡¨å <span class="token keyword">where</span> æ¡ä»¶<span class="token punctuation">;</span>æ²¡æœ‰æ¡ä»¶å…¨éƒ¨åˆ é™¤ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>åˆ é™¤è¡¨ä¸­ç¼–å·ä¸º0çš„æ•°æ®</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">delete</span> <span class="token keyword">from</span> t_student <span class="token keyword">where</span> <span class="token keyword">no</span> <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span>Query OK<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token keyword">row</span> affected <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>åˆ é™¤æ‰€æœ‰è®°å½•</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">delete</span> <span class="token keyword">from</span> t_student<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h5 id="åˆ é™¤å¤§è¡¨"><a href="#åˆ é™¤å¤§è¡¨" class="headerlink" title="åˆ é™¤å¤§è¡¨"></a>åˆ é™¤å¤§è¡¨</h5><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">truncate</span> <span class="token keyword">table</span> t_student1<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h3><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span>    <span class="token number">5</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">from</span>      <span class="token number">1</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">where</span>     <span class="token number">2</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span>   <span class="token keyword">group</span> <span class="token keyword">by</span>  <span class="token number">3</span>  åˆ†ç»„å‡½æ•°åœ¨åˆ†ç»„ä¹‹åæ‰èƒ½ä½¿ç”¨  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">having</span>    <span class="token number">4</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">order</span> <span class="token keyword">by</span>  <span class="token number">6</span>  <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">limit</span>   <span class="token punctuation">.</span><span class="token punctuation">.</span>      <span class="token number">7</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç®€å•æŸ¥è¯¢"><a href="#ç®€å•æŸ¥è¯¢" class="headerlink" title="ç®€å•æŸ¥è¯¢"></a>ç®€å•æŸ¥è¯¢</h4><ul><li>åˆ—å‡ºå‘˜å·¥çš„ç¼–å·ï¼Œå§“åå’Œå¹´è–ª</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> empno<span class="token punctuation">,</span>ename<span class="token punctuation">,</span>sal<span class="token operator">*</span><span class="token number">12</span> <span class="token keyword">as</span> yearsal <span class="token keyword">from</span> emp<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">-------+--------+----------+</span><span class="token operator">|</span> empno <span class="token operator">|</span> ename  <span class="token operator">|</span> yearsal  <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------+--------+----------+</span><span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SMITH  <span class="token operator">|</span>  <span class="token number">9600.00</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> <span class="token number">19200.00</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> <span class="token number">15000.00</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> <span class="token number">35700.00</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> <span class="token number">15000.00</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> <span class="token number">34200.00</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> <span class="token number">29400.00</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> <span class="token number">36000.00</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> <span class="token number">60000.00</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> <span class="token number">18000.00</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> <span class="token number">13200.00</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> <span class="token number">11400.00</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> <span class="token number">36000.00</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> <span class="token number">15600.00</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------+--------+----------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ¡ä»¶æŸ¥è¯¢"><a href="#æ¡ä»¶æŸ¥è¯¢" class="headerlink" title="æ¡ä»¶æŸ¥è¯¢"></a>æ¡ä»¶æŸ¥è¯¢</h4><table><thead><tr><th>è¿ç®—ç¬¦</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>=</td><td>ç­‰äº</td></tr><tr><td>&lt;&gt;æˆ–!=</td><td>ä¸ç­‰äº</td></tr><tr><td>&lt;</td><td>å°äº</td></tr><tr><td>&lt;=</td><td>å°äºç­‰äº</td></tr><tr><td>&gt;</td><td>å¤§äº</td></tr><tr><td>&gt;=</td><td>å¤§äºç­‰äº</td></tr><tr><td>between â€¦ and â€¦.</td><td>ä¸¤ä¸ªå€¼ä¹‹é—´,<strong>ç­‰åŒäº &gt;= and &lt;=</strong>  å­—ç¬¦æ–¹é¢ï¼šå·¦é—­å³å¼€</td></tr><tr><td>is null</td><td>ä¸ºnullï¼ˆis not null ä¸ä¸ºç©ºï¼‰</td></tr><tr><td><strong>and</strong></td><td>å¹¶ä¸”</td></tr><tr><td><strong>or</strong></td><td>æˆ–è€…</td></tr><tr><td>in</td><td>åŒ…å«ï¼Œç›¸å½“äºå¤šä¸ªorï¼ˆnot inä¸åœ¨è¿™ä¸ªèŒƒå›´ä¸­ï¼‰</td></tr><tr><td>not</td><td>notå¯ä»¥å–éï¼Œä¸»è¦ç”¨åœ¨is æˆ–inä¸­</td></tr><tr><td>like</td><td>likeç§°ä¸ºæ¨¡ç³ŠæŸ¥è¯¢ï¼Œæ”¯æŒ%æˆ–ä¸‹åˆ’çº¿åŒ¹é…  %åŒ¹é…ä»»æ„ä¸ªå­—ç¬¦  ä¸‹åˆ’çº¿ï¼Œä¸€ä¸ªä¸‹åˆ’çº¿åªåŒ¹é…ä¸€ä¸ªå­—ç¬¦</td></tr></tbody></table><ul><li>æŸ¥è¯¢è–ªæ°´ä¸º1600åˆ°3000çš„å‘˜å·¥</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">between</span> <span class="token number">1100</span> <span class="token operator">and</span> <span class="token number">3100</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------+---------+</span><span class="token operator">|</span> ename  <span class="token operator">|</span> sal     <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+---------+</span><span class="token operator">|</span> ALLEN  <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span><span class="token operator">|</span> WARD   <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span><span class="token operator">|</span> JONES  <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span><span class="token operator">|</span> MARTIN <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span><span class="token operator">|</span> BLAKE  <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span><span class="token operator">|</span> CLARK  <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span><span class="token operator">|</span> SCOTT  <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span><span class="token operator">|</span> TURNER <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span><span class="token operator">|</span> ADAMS  <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span><span class="token operator">|</span> FORD   <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span><span class="token operator">|</span> MILLER <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+---------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æ‰¾å‡ºå“ªäº›äººæ²¡æœ‰æ´¥è´´</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>comm <span class="token keyword">from</span> emp <span class="token keyword">where</span> comm <span class="token operator">is</span> <span class="token boolean">null</span> <span class="token operator">or</span> comm <span class="token operator">=</span> <span class="token number">0.0</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------+---------+------+</span><span class="token operator">|</span> ename  <span class="token operator">|</span> sal     <span class="token operator">|</span> comm <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+---------+------+</span><span class="token operator">|</span> SMITH  <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span><span class="token operator">|</span> JONES  <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span><span class="token operator">|</span> BLAKE  <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span><span class="token operator">|</span> CLARK  <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span><span class="token operator">|</span> SCOTT  <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span><span class="token operator">|</span> KING   <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span><span class="token operator">|</span> TURNER <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span> <span class="token number">0.00</span> <span class="token operator">|</span><span class="token operator">|</span> ADAMS  <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span><span class="token operator">|</span> JAMES  <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span><span class="token operator">|</span> FORD   <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span><span class="token operator">|</span> MILLER <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+---------+------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>è–ªèµ„å¤§äº1000çš„å¹¶ä¸”éƒ¨é—¨ç¼–å·æ˜¯20æˆ–30çš„å‘˜å·¥</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal<span class="token punctuation">,</span>deptno <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal<span class="token operator">></span><span class="token number">1000</span> <span class="token operator">and</span> <span class="token punctuation">(</span>deptno <span class="token operator">=</span> <span class="token number">20</span> <span class="token operator">or</span> deptno <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------+---------+--------+</span><span class="token operator">|</span> ename  <span class="token operator">|</span> sal     <span class="token operator">|</span> deptno <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+---------+--------+</span><span class="token operator">|</span> ALLEN  <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> WARD   <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> JONES  <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span> MARTIN <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> BLAKE  <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> SCOTT  <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span> TURNER <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span> ADAMS  <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span> FORD   <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+---------+--------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æ‰¾å‡ºå·¥èµ„æ˜¯800å’Œ5000çš„å‘˜å·¥</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>job<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">in</span><span class="token punctuation">(</span><span class="token number">800</span><span class="token punctuation">,</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">-------+-----------+---------+</span><span class="token operator">|</span> ename <span class="token operator">|</span> job       <span class="token operator">|</span> sal     <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------+-----------+---------+</span><span class="token operator">|</span> SMITH <span class="token operator">|</span> CLERK     <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span><span class="token operator">|</span> KING  <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------+-----------+---------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æ¨¡ç³ŠæŸ¥è¯¢<ul><li><code>%</code>ä»£è¡¨å¤šä¸ªå­—ç¬¦</li><li><code>_</code>ä»£è¡¨å•ä¸ªå­—ç¬¦</li></ul></li><li>æŸ¥è¯¢å§“åä»¥Må¼€å¤´æ‰€æœ‰çš„å‘˜å·¥</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">like</span> <span class="token string">'M%'</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">-------+--------+----------+------+------------+---------+---------+--------+</span><span class="token operator">|</span> EMPNO <span class="token operator">|</span> ENAME  <span class="token operator">|</span> JOB      <span class="token operator">|</span> MGR  <span class="token operator">|</span> HIREDATE   <span class="token operator">|</span> SAL     <span class="token operator">|</span> COMM    <span class="token operator">|</span> DEPTNO <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------+--------+----------+------+------------+---------+---------+--------+</span><span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SMITH  <span class="token operator">|</span> CLERK    <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK    <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK    <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK    <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------+--------+----------+------+------------+---------+---------+--------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>æŸ¥è¯¢å§“åä»¥Nç»“å°¾çš„æ‰€æœ‰çš„å‘˜å·¥</p></li><li><p>æŸ¥è¯¢å§“åä¸­åŒ…å«Oçš„æ‰€æœ‰çš„å‘˜å·¥</p></li><li><p>æŸ¥è¯¢å§“åä¸­ç¬¬ä¸‰ä¸ªå­—ç¬¦ä¸ºAçš„æ‰€æœ‰å‘˜å·¥</p></li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">like</span> <span class="token string">'%N'</span><span class="token punctuation">;</span>mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">like</span> <span class="token string">'%O%'</span><span class="token punctuation">;</span>mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">like</span> <span class="token string">'__a%'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>æŸ¥è¯¢å§“åä¸­æœ‰ä¸‹åˆ’çº¿çš„æ‰€æœ‰çš„å‘˜å·¥</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">where</span> ename <span class="token operator">like</span> <span class="token string">'%\_%'</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="æ’åºæ•°æ®"><a href="#æ’åºæ•°æ®" class="headerlink" title="æ’åºæ•°æ®"></a>æ’åºæ•°æ®</h3><ul><li>æŒ‰ç…§jobå’Œè–ªæ°´å€’åº</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> job <span class="token keyword">desc</span><span class="token punctuation">,</span>sal <span class="token keyword">desc</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span><span class="token operator">|</span> EMPNO <span class="token operator">|</span> ENAME  <span class="token operator">|</span> JOB       <span class="token operator">|</span> MGR  <span class="token operator">|</span> HIREDATE   <span class="token operator">|</span> SAL     <span class="token operator">|</span> COMM    <span class="token operator">|</span> DEPTNO <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span><span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token number">0.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SMITH  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æ‰‹åŠ¨æŒ‡å®šæŒ‰ç…§è–ªæ°´ç”±å°åˆ°å¤§æ’åº</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> sal <span class="token keyword">asc</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span><span class="token operator">|</span> EMPNO <span class="token operator">|</span> ENAME  <span class="token operator">|</span> JOB       <span class="token operator">|</span> MGR  <span class="token operator">|</span> HIREDATE   <span class="token operator">|</span> SAL     <span class="token operator">|</span> COMM    <span class="token operator">|</span> DEPTNO <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span><span class="token operator">|</span>  <span class="token number">7369</span> <span class="token operator">|</span> SMITH  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7902</span> <span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7900</span> <span class="token operator">|</span> JAMES  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7876</span> <span class="token operator">|</span> ADAMS  <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7788</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7521</span> <span class="token operator">|</span> WARD   <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">22</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>  <span class="token number">500.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7654</span> <span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">28</span> <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span> <span class="token number">1400.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7934</span> <span class="token operator">|</span> MILLER <span class="token operator">|</span> CLERK     <span class="token operator">|</span> <span class="token number">7782</span> <span class="token operator">|</span> <span class="token number">1982</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">23</span> <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7844</span> <span class="token operator">|</span> TURNER <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">08</span> <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>    <span class="token number">0.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7499</span> <span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span> <span class="token number">7698</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span> <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>  <span class="token number">300.00</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7782</span> <span class="token operator">|</span> CLARK  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">06</span><span class="token operator">-</span><span class="token number">09</span> <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7698</span> <span class="token operator">|</span> BLAKE  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">01</span> <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7566</span> <span class="token operator">|</span> JONES  <span class="token operator">|</span> MANAGER   <span class="token operator">|</span> <span class="token number">7839</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">02</span> <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7788</span> <span class="token operator">|</span> SCOTT  <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">04</span><span class="token operator">-</span><span class="token number">19</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7902</span> <span class="token operator">|</span> FORD   <span class="token operator">|</span> ANALYST   <span class="token operator">|</span> <span class="token number">7566</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">03</span> <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span><span class="token operator">|</span>  <span class="token number">7839</span> <span class="token operator">|</span> KING   <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span> <span class="token boolean">NULL</span> <span class="token operator">|</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">11</span><span class="token operator">-</span><span class="token number">17</span> <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>    <span class="token boolean">NULL</span> <span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------+--------+-----------+------+------------+---------+---------+--------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åˆ†ç»„å‡½æ•°-èšåˆå‡½æ•°-å¤šè¡Œå¤„ç†å‡½æ•°"><a href="#åˆ†ç»„å‡½æ•°-èšåˆå‡½æ•°-å¤šè¡Œå¤„ç†å‡½æ•°" class="headerlink" title="åˆ†ç»„å‡½æ•°/èšåˆå‡½æ•°/å¤šè¡Œå¤„ç†å‡½æ•°"></a>åˆ†ç»„å‡½æ•°/èšåˆå‡½æ•°/å¤šè¡Œå¤„ç†å‡½æ•°</h3><table><thead><tr><th>å‡½æ•°</th><th>è§£é‡Š</th></tr></thead><tbody><tr><td>count</td><td>å–å¾—è®°å½•æ•°</td></tr><tr><td>sum</td><td>æ±‚å’Œ</td></tr><tr><td>avg</td><td>å–å¹³å‡</td></tr><tr><td>max</td><td>å–æœ€å¤§çš„æ•°</td></tr><tr><td>min</td><td>å–æœ€å°çš„æ•°</td></tr></tbody></table><h4 id="count"><a href="#count" class="headerlink" title="count"></a>count</h4><p>é‡‡ç”¨count(å­—æ®µåç§°)ï¼Œä¸ä¼šå–å¾—ä¸ºnullçš„è®°å½•</p><ul><li>å–å¾—æ‰€æœ‰çš„å‘˜å·¥æ•°</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>å–å¾—æ´¥è´´ä¸ä¸ºnullå‘˜å·¥æ•°</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span>comm<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>å–å¾—å·¥ä½œå²—ä½çš„ä¸ªæ•° <font color="red"><code>distinct</code>ï¼šå»é‡ åªèƒ½å‡ºç°åœ¨æ‰€æœ‰å­—æ®µçš„æœ€å‰é¢</font></li></ul><pre class="line-numbers language-mysql" data-language="mysql"><code class="language-mysql">select count(distinct job ) from emp;+---------------------+| count(distinct job) |+---------------------+|                   5 |+---------------------+<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="sum"><a href="#sum" class="headerlink" title="sum"></a>sum</h4><ul><li>å–å¾—è–ªæ°´çš„åˆè®¡ï¼ˆsal+commï¼‰</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token function">sum</span><span class="token punctuation">(</span>sal<span class="token operator">+</span>ifnull<span class="token punctuation">(</span>comm<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">-------------------------+</span><span class="token operator">|</span> <span class="token function">sum</span><span class="token punctuation">(</span>sal<span class="token operator">+</span>ifnull<span class="token punctuation">(</span>comm<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------------------------+</span><span class="token operator">|</span>                <span class="token number">31225.00</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------------------------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="avg"><a href="#avg" class="headerlink" title="avg"></a>avg</h4><ul><li>å–å¾—å¹³å‡è–ªæ°´</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">-------------+</span><span class="token operator">|</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span>    <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------------+</span><span class="token operator">|</span> <span class="token number">2073.214286</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="max"><a href="#max" class="headerlink" title="max"></a>max</h4><ul><li>å–å¾—æœ€é«˜è–ªæ°´</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">----------+</span><span class="token operator">|</span> <span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">----------+</span><span class="token operator">|</span>  <span class="token number">5000.00</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">----------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å–å¾—æœ€æ™šå…¥èŒå¾—å‘˜å·¥</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> <span class="token function">max</span><span class="token punctuation">(</span>str_to_date <span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span> <span class="token string">'%Y-%m-%d'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">-----------------------------------------+</span><span class="token operator">|</span> <span class="token function">max</span><span class="token punctuation">(</span>str_to_date <span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span> <span class="token string">'%Y-%m-%d'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-----------------------------------------+</span><span class="token operator">|</span> <span class="token number">1987</span><span class="token operator">-</span><span class="token number">05</span><span class="token operator">-</span><span class="token number">23</span>                              <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-----------------------------------------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="min"><a href="#min" class="headerlink" title="min"></a>min</h4><ul><li>å–å¾—æœ€æ—©å…¥èŒå¾—å‘˜å·¥</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token function">min</span><span class="token punctuation">(</span>str_to_date<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span> <span class="token string">'%Y-%m-%d'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">----------------------------------------+</span><span class="token operator">|</span> <span class="token function">min</span><span class="token punctuation">(</span>str_to_date<span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span> <span class="token string">'%Y-%m-%d'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">----------------------------------------+</span><span class="token operator">|</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span>                             <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">----------------------------------------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç»„åˆèšåˆå‡½æ•°"><a href="#ç»„åˆèšåˆå‡½æ•°" class="headerlink" title="ç»„åˆèšåˆå‡½æ•°"></a>ç»„åˆèšåˆå‡½æ•°</h4><ul><li>å¯ä»¥å°†è¿™äº›èšåˆå‡½æ•°éƒ½æ”¾åˆ°selectä¸­ä¸€èµ·ä½¿ç”¨</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">sum</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">min</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">----------+----------+-------------+----------+----------+</span><span class="token operator">|</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token function">sum</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span>    <span class="token operator">|</span> <span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token function">min</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">----------+----------+-------------+----------+----------+</span><span class="token operator">|</span>       <span class="token number">14</span> <span class="token operator">|</span> <span class="token number">29025.00</span> <span class="token operator">|</span> <span class="token number">2073.214286</span> <span class="token operator">|</span>  <span class="token number">5000.00</span> <span class="token operator">|</span>   <span class="token number">800.00</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">----------+----------+-------------+----------+----------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åˆ†ç»„æŸ¥è¯¢"><a href="#åˆ†ç»„æŸ¥è¯¢" class="headerlink" title="åˆ†ç»„æŸ¥è¯¢"></a>åˆ†ç»„æŸ¥è¯¢</h4><ul><li><code>group by</code>:æŒ‰ç…§æŸä¸ªå­—æ®µæˆ–è€…æŸäº›å­—æ®µè¿›è¡Œåˆ†ç»„</li><li><code>having</code>: å¯¹åˆ†ç»„ä¹‹åçš„æ•°æ®è¿›è¡Œå†æ¬¡è¿‡æ»¤</li><li><code>where </code>åé¢ä¸èƒ½ä½¿ç”¨åˆ†ç»„å‡½æ•°ï¼Œé‡åˆ°è¿™ç§æƒ…å†µå°±ä½¿ç”¨<code>having</code></li></ul><hr><ul><li>æ‰¾å‡ºæ¯ä¸ªéƒ¨é—¨ä¸åŒå·¥ä½œå²—ä½çš„æœ€é«˜è–ªèµ„</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span><span class="token keyword">select</span> deptno<span class="token punctuation">,</span>job<span class="token punctuation">,</span><span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> deptno<span class="token punctuation">,</span>job <span class="token keyword">order</span> <span class="token keyword">by</span> deptno<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------+-----------+----------+</span><span class="token operator">|</span> deptno <span class="token operator">|</span> job       <span class="token operator">|</span> <span class="token function">max</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+-----------+----------+</span><span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> CLERK     <span class="token operator">|</span>  <span class="token number">1300.00</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> MANAGER   <span class="token operator">|</span>  <span class="token number">2450.00</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span>  <span class="token number">5000.00</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> ANALYST   <span class="token operator">|</span>  <span class="token number">3000.00</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> CLERK     <span class="token operator">|</span>  <span class="token number">1100.00</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> MANAGER   <span class="token operator">|</span>  <span class="token number">2975.00</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> CLERK     <span class="token operator">|</span>   <span class="token number">950.00</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> MANAGER   <span class="token operator">|</span>  <span class="token number">2850.00</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span>  <span class="token number">1600.00</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+-----------+----------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å¦‚æœä½¿ç”¨äº†order byï¼Œorder byå¿…é¡»æ”¾åˆ°group byåé¢</li><li>æŒ‰ç…§å·¥ä½œå²—ä½å’Œéƒ¨é—¨ç¼–ç åˆ†ç»„å¹¶æŒ‰å·¥èµ„åˆè®¡æ’åºï¼Œå–å¾—çš„å·¥èµ„åˆè®¡</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span><span class="token function">sum</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token punctuation">,</span>job <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> job <span class="token keyword">order</span> <span class="token keyword">by</span> <span class="token function">sum</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">desc</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">-------+----------+-----------+</span><span class="token operator">|</span> ename <span class="token operator">|</span> <span class="token function">sum</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token operator">|</span> job       <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------+----------+-----------+</span><span class="token operator">|</span> JONES <span class="token operator">|</span>  <span class="token number">8275.00</span> <span class="token operator">|</span> MANAGER   <span class="token operator">|</span><span class="token operator">|</span> SCOTT <span class="token operator">|</span>  <span class="token number">6000.00</span> <span class="token operator">|</span> ANALYST   <span class="token operator">|</span><span class="token operator">|</span> ALLEN <span class="token operator">|</span>  <span class="token number">5600.00</span> <span class="token operator">|</span> SALESMAN  <span class="token operator">|</span><span class="token operator">|</span> KING  <span class="token operator">|</span>  <span class="token number">5000.00</span> <span class="token operator">|</span> PRESIDENT <span class="token operator">|</span><span class="token operator">|</span> SMITH <span class="token operator">|</span>  <span class="token number">4150.00</span> <span class="token operator">|</span> CLERK     <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------+----------+-----------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æ‰¾å‡ºå·¥èµ„é«˜äºå¹³å‡å·¥èµ„çš„å‘˜å·¥(whereåé¢åµŒå¥—å­æŸ¥è¯¢)</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">></span> <span class="token punctuation">(</span><span class="token keyword">select</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">-------+---------+</span><span class="token operator">|</span> ename <span class="token operator">|</span> sal     <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------+---------+</span><span class="token operator">|</span> JONES <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span><span class="token operator">|</span> BLAKE <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span><span class="token operator">|</span> CLARK <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span><span class="token operator">|</span> SCOTT <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span><span class="token operator">|</span> KING  <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span><span class="token operator">|</span> FORD  <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æ‰¾å‡ºæ¯ä¸ªéƒ¨é—¨çš„å¹³å‡è–ªèµ„ï¼Œè¦å»æ˜¾ç¤ºè–ªèµ„å¤§äº2000çš„æ•°æ®</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> deptno<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> deptno <span class="token keyword">having</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token operator">></span><span class="token number">2000</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------+-------------+</span><span class="token operator">|</span> deptno <span class="token operator">|</span> <span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span>    <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+-------------+</span><span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> <span class="token number">2175.000000</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> <span class="token number">2916.666667</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+-------------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¿æ¥æŸ¥è¯¢"><a href="#è¿æ¥æŸ¥è¯¢" class="headerlink" title="è¿æ¥æŸ¥è¯¢"></a>è¿æ¥æŸ¥è¯¢</h4><h5 id="sql99"><a href="#sql99" class="headerlink" title="sql99"></a>sql99</h5><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>  A<span class="token keyword">join</span>  B<span class="token keyword">on</span>  è¿æ¥æ¡ä»¶<span class="token keyword">where</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="å†…å¤–è¿æ¥æ¯”è¾ƒ"><a href="#å†…å¤–è¿æ¥æ¯”è¾ƒ" class="headerlink" title="å†…å¤–è¿æ¥æ¯”è¾ƒ"></a>å†…å¤–è¿æ¥æ¯”è¾ƒ</h5><ul><li>å†…è¿æ¥ï¼šå‡è®¾Aå’ŒBè¡¨è¿›è¡Œè¿æ¥ï¼Œä½¿ç”¨å†…è¿æ¥çš„è¯ï¼Œå‡¡æ˜¯Aè¡¨å’ŒBè¡¨èƒ½å¤ŸåŒ¹é…ä¸Šçš„è®°å½•æŸ¥è¯¢å‡ºæ¥(nullæŸ¥ä¸å‡ºæ¥)ï¼Œè¿™å°±æ˜¯å†…è¿æ¥ã€‚ABä¸¤å¼ è¡¨æ²¡æœ‰ä¸»å‰¯ä¹‹åˆ†ï¼Œä¸¤å¼ è¡¨æ˜¯å¹³ç­‰çš„ã€‚</li><li>å¤–è¿æ¥ï¼šå‡è®¾Aå’ŒBè¡¨è¿›è¡Œè¿æ¥ï¼Œä½¿ç”¨å¤–è¿æ¥çš„è¯ï¼ŒABä¸¤å¼ è¡¨ä¸­æœ‰ä¸€å¼ è¡¨æ˜¯ä¸»è¡¨ï¼Œä¸€å¼ è¡¨æ˜¯å‰¯è¡¨ï¼Œä¸»è¦æŸ¥è¯¢ä¸»è¡¨ä¸­çš„æ•°æ®ï¼Œæå¸¦ç€æŸ¥è¯¢å‰¯è¡¨ï¼Œå½“å‰¯è¡¨ä¸­çš„æ•°æ®æ²¡æœ‰å’Œä¸»è¡¨ä¸­çš„æ•°æ®åŒ¹é…ä¸Šï¼Œå‰¯è¡¨è‡ªåŠ¨æ¨¡æ‹Ÿå‡ºNULLä¸ä¹‹åŒ¹é…ã€‚</li></ul><h5 id="å†…è¿æ¥ä¹‹ç­‰å€¼è¿æ¥"><a href="#å†…è¿æ¥ä¹‹ç­‰å€¼è¿æ¥" class="headerlink" title="å†…è¿æ¥ä¹‹ç­‰å€¼è¿æ¥"></a>å†…è¿æ¥ä¹‹ç­‰å€¼è¿æ¥</h5><ul><li>æŸ¥è¯¢æ¯ä¸ªå‘˜å·¥çš„éƒ¨é—¨åç§°ï¼Œè¦æ±‚æ˜¾ç¤ºå‘˜å·¥åå’Œéƒ¨é—¨å</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>d<span class="token punctuation">.</span>dname <span class="token keyword">from</span> emp e <span class="token keyword">join</span> dept d <span class="token keyword">on</span> e<span class="token punctuation">.</span>deptno<span class="token operator">=</span> d<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------+------------+</span><span class="token operator">|</span> ename  <span class="token operator">|</span> dname      <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+------------+</span><span class="token operator">|</span> SMITH  <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span><span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALES      <span class="token operator">|</span><span class="token operator">|</span> WARD   <span class="token operator">|</span> SALES      <span class="token operator">|</span><span class="token operator">|</span> JONES  <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span><span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALES      <span class="token operator">|</span><span class="token operator">|</span> BLAKE  <span class="token operator">|</span> SALES      <span class="token operator">|</span><span class="token operator">|</span> CLARK  <span class="token operator">|</span> ACCOUNTING <span class="token operator">|</span><span class="token operator">|</span> SCOTT  <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span><span class="token operator">|</span> KING   <span class="token operator">|</span> ACCOUNTING <span class="token operator">|</span><span class="token operator">|</span> TURNER <span class="token operator">|</span> SALES      <span class="token operator">|</span><span class="token operator">|</span> ADAMS  <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span><span class="token operator">|</span> JAMES  <span class="token operator">|</span> SALES      <span class="token operator">|</span><span class="token operator">|</span> FORD   <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span><span class="token operator">|</span> MILLER <span class="token operator">|</span> ACCOUNTING <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+------------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="å†…è¿æ¥ä¹‹éç­‰å€¼è¿æ¥"><a href="#å†…è¿æ¥ä¹‹éç­‰å€¼è¿æ¥" class="headerlink" title="å†…è¿æ¥ä¹‹éç­‰å€¼è¿æ¥"></a>å†…è¿æ¥ä¹‹éç­‰å€¼è¿æ¥</h5><ul><li>æŸ¥è¯¢æ¯ä¸ªå‘˜å·¥çš„å·¥èµ„ç­‰çº§ï¼Œè¦æ±‚æ˜¾ç¤ºå‘˜å·¥åï¼Œå·¥èµ„ï¼Œå·¥èµ„ç­‰çº§</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>e<span class="token punctuation">.</span>sal<span class="token punctuation">,</span>s<span class="token punctuation">.</span>grade <span class="token keyword">from</span> emp e <span class="token keyword">join</span> salgrade s <span class="token keyword">on</span> e<span class="token punctuation">.</span>sal <span class="token operator">between</span> s<span class="token punctuation">.</span>losal <span class="token operator">and</span> s<span class="token punctuation">.</span>hisal<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------+---------+-------+</span><span class="token operator">|</span> ename  <span class="token operator">|</span> sal     <span class="token operator">|</span> grade <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+---------+-------+</span><span class="token operator">|</span> SMITH  <span class="token operator">|</span>  <span class="token number">800.00</span> <span class="token operator">|</span>     <span class="token number">1</span> <span class="token operator">|</span><span class="token operator">|</span> ALLEN  <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span>     <span class="token number">3</span> <span class="token operator">|</span><span class="token operator">|</span> WARD   <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>     <span class="token number">2</span> <span class="token operator">|</span><span class="token operator">|</span> JONES  <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span>     <span class="token number">4</span> <span class="token operator">|</span><span class="token operator">|</span> MARTIN <span class="token operator">|</span> <span class="token number">1250.00</span> <span class="token operator">|</span>     <span class="token number">2</span> <span class="token operator">|</span><span class="token operator">|</span> BLAKE  <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span>     <span class="token number">4</span> <span class="token operator">|</span><span class="token operator">|</span> CLARK  <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span>     <span class="token number">4</span> <span class="token operator">|</span><span class="token operator">|</span> SCOTT  <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>     <span class="token number">4</span> <span class="token operator">|</span><span class="token operator">|</span> KING   <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span>     <span class="token number">5</span> <span class="token operator">|</span><span class="token operator">|</span> TURNER <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span>     <span class="token number">3</span> <span class="token operator">|</span><span class="token operator">|</span> ADAMS  <span class="token operator">|</span> <span class="token number">1100.00</span> <span class="token operator">|</span>     <span class="token number">1</span> <span class="token operator">|</span><span class="token operator">|</span> JAMES  <span class="token operator">|</span>  <span class="token number">950.00</span> <span class="token operator">|</span>     <span class="token number">1</span> <span class="token operator">|</span><span class="token operator">|</span> FORD   <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span>     <span class="token number">4</span> <span class="token operator">|</span><span class="token operator">|</span> MILLER <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span>     <span class="token number">2</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+---------+-------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="è‡ªè¿æ¥"><a href="#è‡ªè¿æ¥" class="headerlink" title="è‡ªè¿æ¥"></a>è‡ªè¿æ¥</h5><p><font color="blue">ä¸€å¼ è¡¨çœ‹åšä¸¤å¼ è¡¨</font></p><ul><li>æ‰¾å‡ºæ¯ä¸ªå‘˜å·¥çš„ä¸Šçº§é¢†å¯¼ï¼Œè¦æ±‚æ˜¾ç¤ºå‘˜å·¥åå’Œå¯¹åº”çš„é¢†å¯¼å</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> e<span class="token punctuation">.</span>ename <span class="token keyword">as</span> <span class="token string">'å‘˜å·¥å'</span><span class="token punctuation">,</span>b<span class="token punctuation">.</span>ename <span class="token keyword">as</span> <span class="token string">'é¢†å¯¼å'</span><span class="token keyword">from</span> emp e <span class="token keyword">join</span> emp b <span class="token keyword">on</span> e<span class="token punctuation">.</span>mgr <span class="token operator">=</span> b<span class="token punctuation">.</span>empno<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------+--------+</span><span class="token operator">|</span> å‘˜å·¥å <span class="token operator">|</span> é¢†å¯¼å <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+--------+</span><span class="token operator">|</span> SMITH  <span class="token operator">|</span> FORD   <span class="token operator">|</span><span class="token operator">|</span> ALLEN  <span class="token operator">|</span> BLAKE  <span class="token operator">|</span><span class="token operator">|</span> WARD   <span class="token operator">|</span> BLAKE  <span class="token operator">|</span><span class="token operator">|</span> JONES  <span class="token operator">|</span> KING   <span class="token operator">|</span><span class="token operator">|</span> MARTIN <span class="token operator">|</span> BLAKE  <span class="token operator">|</span><span class="token operator">|</span> BLAKE  <span class="token operator">|</span> KING   <span class="token operator">|</span><span class="token operator">|</span> CLARK  <span class="token operator">|</span> KING   <span class="token operator">|</span><span class="token operator">|</span> SCOTT  <span class="token operator">|</span> JONES  <span class="token operator">|</span><span class="token operator">|</span> TURNER <span class="token operator">|</span> BLAKE  <span class="token operator">|</span><span class="token operator">|</span> ADAMS  <span class="token operator">|</span> SCOTT  <span class="token operator">|</span><span class="token operator">|</span> JAMES  <span class="token operator">|</span> BLAKE  <span class="token operator">|</span><span class="token operator">|</span> FORD   <span class="token operator">|</span> JONES  <span class="token operator">|</span><span class="token operator">|</span> MILLER <span class="token operator">|</span> CLARK  <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+--------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="å¤–è¿æ¥-å·¦å³"><a href="#å¤–è¿æ¥-å·¦å³" class="headerlink" title="å¤–è¿æ¥(å·¦å³)"></a>å¤–è¿æ¥(å·¦å³)</h5><ul><li>æ‰¾å‡ºæ¯ä¸ªå‘˜å·¥çš„ä¸Šçº§é¢†å¯¼ï¼Œè¦æ±‚æ˜¾ç¤ºå‘˜å·¥åå’Œå¯¹åº”çš„é¢†å¯¼å</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> a<span class="token punctuation">.</span>ename <span class="token string">'å‘˜å·¥'</span><span class="token punctuation">,</span>b<span class="token punctuation">.</span>ename <span class="token string">'é¢†å¯¼'</span> <span class="token keyword">from</span> emp b <span class="token keyword">right</span> <span class="token keyword">join</span> emp a <span class="token keyword">on</span> a<span class="token punctuation">.</span>mgr<span class="token operator">=</span>b<span class="token punctuation">.</span>empno<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------+-------+</span><span class="token operator">|</span> å‘˜å·¥   <span class="token operator">|</span> é¢†å¯¼  <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+-------+</span><span class="token operator">|</span> SMITH  <span class="token operator">|</span> FORD  <span class="token operator">|</span><span class="token operator">|</span> ALLEN  <span class="token operator">|</span> BLAKE <span class="token operator">|</span><span class="token operator">|</span> WARD   <span class="token operator">|</span> BLAKE <span class="token operator">|</span><span class="token operator">|</span> JONES  <span class="token operator">|</span> KING  <span class="token operator">|</span><span class="token operator">|</span> MARTIN <span class="token operator">|</span> BLAKE <span class="token operator">|</span><span class="token operator">|</span> BLAKE  <span class="token operator">|</span> KING  <span class="token operator">|</span><span class="token operator">|</span> CLARK  <span class="token operator">|</span> KING  <span class="token operator">|</span><span class="token operator">|</span> SCOTT  <span class="token operator">|</span> JONES <span class="token operator">|</span><span class="token operator">|</span> KING   <span class="token operator">|</span> <span class="token boolean">NULL</span>  <span class="token operator">|</span><span class="token operator">|</span> TURNER <span class="token operator">|</span> BLAKE <span class="token operator">|</span><span class="token operator">|</span> ADAMS  <span class="token operator">|</span> SCOTT <span class="token operator">|</span><span class="token operator">|</span> JAMES  <span class="token operator">|</span> BLAKE <span class="token operator">|</span><span class="token operator">|</span> FORD   <span class="token operator">|</span> JONES <span class="token operator">|</span><span class="token operator">|</span> MILLER <span class="token operator">|</span> CLARK <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+-------+</span>mysql<span class="token operator">></span> <span class="token keyword">select</span> a<span class="token punctuation">.</span>ename <span class="token string">'å‘˜å·¥'</span><span class="token punctuation">,</span>b<span class="token punctuation">.</span>ename <span class="token string">'é¢†å¯¼'</span> <span class="token keyword">from</span> emp a <span class="token keyword">left</span> <span class="token keyword">join</span> emp b <span class="token keyword">on</span> a<span class="token punctuation">.</span>mgr<span class="token operator">=</span>b<span class="token punctuation">.</span>empno<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------+-------+</span><span class="token operator">|</span> å‘˜å·¥   <span class="token operator">|</span> é¢†å¯¼  <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+-------+</span><span class="token operator">|</span> SMITH  <span class="token operator">|</span> FORD  <span class="token operator">|</span><span class="token operator">|</span> ALLEN  <span class="token operator">|</span> BLAKE <span class="token operator">|</span><span class="token operator">|</span> WARD   <span class="token operator">|</span> BLAKE <span class="token operator">|</span><span class="token operator">|</span> JONES  <span class="token operator">|</span> KING  <span class="token operator">|</span><span class="token operator">|</span> MARTIN <span class="token operator">|</span> BLAKE <span class="token operator">|</span><span class="token operator">|</span> BLAKE  <span class="token operator">|</span> KING  <span class="token operator">|</span><span class="token operator">|</span> CLARK  <span class="token operator">|</span> KING  <span class="token operator">|</span><span class="token operator">|</span> SCOTT  <span class="token operator">|</span> JONES <span class="token operator">|</span><span class="token operator">|</span> KING   <span class="token operator">|</span> <span class="token boolean">NULL</span>  <span class="token operator">|</span><span class="token operator">|</span> TURNER <span class="token operator">|</span> BLAKE <span class="token operator">|</span><span class="token operator">|</span> ADAMS  <span class="token operator">|</span> SCOTT <span class="token operator">|</span><span class="token operator">|</span> JAMES  <span class="token operator">|</span> BLAKE <span class="token operator">|</span><span class="token operator">|</span> FORD   <span class="token operator">|</span> JONES <span class="token operator">|</span><span class="token operator">|</span> MILLER <span class="token operator">|</span> CLARK <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+-------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æ‰¾å‡ºå“ªä¸ªéƒ¨é—¨æ²¡æœ‰å‘˜å·¥</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> d<span class="token punctuation">.</span><span class="token operator">*</span> <span class="token keyword">from</span> emp e <span class="token keyword">right</span> <span class="token keyword">join</span> dept d <span class="token keyword">on</span> e<span class="token punctuation">.</span>deptno<span class="token operator">=</span>d<span class="token punctuation">.</span>deptno <span class="token keyword">where</span> e<span class="token punctuation">.</span>empno <span class="token operator">is</span> <span class="token boolean">null</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------+------------+--------+</span><span class="token operator">|</span> DEPTNO <span class="token operator">|</span> DNAME      <span class="token operator">|</span> LOC    <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+------------+--------+</span><span class="token operator">|</span>     <span class="token number">40</span> <span class="token operator">|</span> OPERATIONS <span class="token operator">|</span> BOSTON <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+------------+--------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="ä¸‰å¼ è¡¨æŸ¥è¯¢"><a href="#ä¸‰å¼ è¡¨æŸ¥è¯¢" class="headerlink" title="ä¸‰å¼ è¡¨æŸ¥è¯¢"></a>ä¸‰å¼ è¡¨æŸ¥è¯¢</h5><ul><li>æ‰¾å‡ºæ¯ä¸€ä¸ªå‘˜å·¥çš„éƒ¨é—¨åç§°ä»¥åŠå·¥èµ„ç­‰çº§,ä»¥åŠä¸Šçº§é¢†å¯¼</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> e<span class="token punctuation">.</span>ename <span class="token string">'å‘˜å·¥'</span><span class="token punctuation">,</span>d<span class="token punctuation">.</span>dname<span class="token punctuation">,</span>s<span class="token punctuation">.</span>grade<span class="token punctuation">,</span>e1<span class="token punctuation">.</span>ename <span class="token string">'é¢†å¯¼'</span> <span class="token keyword">from</span> emp e <span class="token keyword">join</span> dept d <span class="token keyword">on</span> e<span class="token punctuation">.</span>deptno<span class="token operator">=</span>d<span class="token punctuation">.</span>deptno <span class="token keyword">join</span> salgrade s <span class="token keyword">on</span> e<span class="token punctuation">.</span>sal <span class="token operator">between</span> s<span class="token punctuation">.</span>losal <span class="token operator">and</span> s<span class="token punctuation">.</span>hisal <span class="token keyword">left</span> <span class="token keyword">join</span> emp e1 <span class="token keyword">on</span> e<span class="token punctuation">.</span>mgr <span class="token operator">=</span> e1<span class="token punctuation">.</span>empno<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------+------------+-------+-------+</span><span class="token operator">|</span> å‘˜å·¥   <span class="token operator">|</span> dname      <span class="token operator">|</span> grade <span class="token operator">|</span> é¢†å¯¼  <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+------------+-------+-------+</span><span class="token operator">|</span> SMITH  <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span>     <span class="token number">1</span> <span class="token operator">|</span> FORD  <span class="token operator">|</span><span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALES      <span class="token operator">|</span>     <span class="token number">3</span> <span class="token operator">|</span> BLAKE <span class="token operator">|</span><span class="token operator">|</span> WARD   <span class="token operator">|</span> SALES      <span class="token operator">|</span>     <span class="token number">2</span> <span class="token operator">|</span> BLAKE <span class="token operator">|</span><span class="token operator">|</span> JONES  <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span>     <span class="token number">4</span> <span class="token operator">|</span> KING  <span class="token operator">|</span><span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALES      <span class="token operator">|</span>     <span class="token number">2</span> <span class="token operator">|</span> BLAKE <span class="token operator">|</span><span class="token operator">|</span> BLAKE  <span class="token operator">|</span> SALES      <span class="token operator">|</span>     <span class="token number">4</span> <span class="token operator">|</span> KING  <span class="token operator">|</span><span class="token operator">|</span> CLARK  <span class="token operator">|</span> ACCOUNTING <span class="token operator">|</span>     <span class="token number">4</span> <span class="token operator">|</span> KING  <span class="token operator">|</span><span class="token operator">|</span> SCOTT  <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span>     <span class="token number">4</span> <span class="token operator">|</span> JONES <span class="token operator">|</span><span class="token operator">|</span> KING   <span class="token operator">|</span> ACCOUNTING <span class="token operator">|</span>     <span class="token number">5</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>  <span class="token operator">|</span><span class="token operator">|</span> TURNER <span class="token operator">|</span> SALES      <span class="token operator">|</span>     <span class="token number">3</span> <span class="token operator">|</span> BLAKE <span class="token operator">|</span><span class="token operator">|</span> ADAMS  <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span>     <span class="token number">1</span> <span class="token operator">|</span> SCOTT <span class="token operator">|</span><span class="token operator">|</span> JAMES  <span class="token operator">|</span> SALES      <span class="token operator">|</span>     <span class="token number">1</span> <span class="token operator">|</span> BLAKE <span class="token operator">|</span><span class="token operator">|</span> FORD   <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span>     <span class="token number">4</span> <span class="token operator">|</span> JONES <span class="token operator">|</span><span class="token operator">|</span> MILLER <span class="token operator">|</span> ACCOUNTING <span class="token operator">|</span>     <span class="token number">2</span> <span class="token operator">|</span> CLARK <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+------------+-------+-------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="å­æŸ¥è¯¢"><a href="#å­æŸ¥è¯¢" class="headerlink" title="å­æŸ¥è¯¢"></a>å­æŸ¥è¯¢</h5><h6 id="fromååµŒå¥—å­æŸ¥è¯¢"><a href="#fromååµŒå¥—å­æŸ¥è¯¢" class="headerlink" title="fromååµŒå¥—å­æŸ¥è¯¢"></a>fromååµŒå¥—å­æŸ¥è¯¢</h6><ul><li>æ‰¾å‡ºæ¯ä¸ªéƒ¨é—¨çš„å¹³å‡è–ªæ°´çš„è–ªèµ„ç­‰çº§ï¼ˆï¼‰</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> t<span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">,</span>s<span class="token punctuation">.</span>grade <span class="token keyword">from</span> <span class="token punctuation">(</span><span class="token keyword">select</span> deptno<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> <span class="token keyword">as</span> avgsal <span class="token keyword">from</span> emp <span class="token keyword">group</span> <span class="token keyword">by</span> deptno<span class="token punctuation">)</span> t <span class="token keyword">join</span> salgrade s <span class="token keyword">on</span> t<span class="token punctuation">.</span>avgsal <span class="token operator">between</span> s<span class="token punctuation">.</span>losal <span class="token operator">and</span> s<span class="token punctuation">.</span>hisal<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------+-------------+-------+</span><span class="token operator">|</span> deptno <span class="token operator">|</span> avgsal      <span class="token operator">|</span> grade <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+-------------+-------+</span><span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span> <span class="token number">2175.000000</span> <span class="token operator">|</span>     <span class="token number">4</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span> <span class="token number">1566.666667</span> <span class="token operator">|</span>     <span class="token number">3</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span> <span class="token number">2916.666667</span> <span class="token operator">|</span>     <span class="token number">4</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+-------------+-------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æ‰¾å‡ºæ¯ä¸ªéƒ¨é—¨å¹³å‡çš„è–ªæ°´ç­‰çº§</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> e<span class="token punctuation">.</span>deptno<span class="token punctuation">,</span><span class="token function">avg</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>grade<span class="token punctuation">)</span> <span class="token keyword">from</span> emp e <span class="token keyword">join</span> salgrade s <span class="token keyword">on</span> e<span class="token punctuation">.</span>sal <span class="token operator">between</span> s<span class="token punctuation">.</span>losal <span class="token operator">and</span> s<span class="token punctuation">.</span>hisal <span class="token keyword">group</span> <span class="token keyword">by</span> e<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------+--------------+</span><span class="token operator">|</span> deptno <span class="token operator">|</span> <span class="token function">avg</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span>grade<span class="token punctuation">)</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+--------------+</span><span class="token operator">|</span>     <span class="token number">20</span> <span class="token operator">|</span>       <span class="token number">2.8000</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">30</span> <span class="token operator">|</span>       <span class="token number">2.5000</span> <span class="token operator">|</span><span class="token operator">|</span>     <span class="token number">10</span> <span class="token operator">|</span>       <span class="token number">3.6667</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+--------------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h6 id="selectååµŒå¥—å­æŸ¥è¯¢"><a href="#selectååµŒå¥—å­æŸ¥è¯¢" class="headerlink" title="selectååµŒå¥—å­æŸ¥è¯¢"></a>selectååµŒå¥—å­æŸ¥è¯¢</h6><ul><li>æ‰¾å‡ºæ¯ä¸ªå‘˜å·¥æ‰€åœ¨éƒ¨é—¨çš„åç§°ï¼Œè¦æ±‚æ˜¾ç¤ºå‘˜å·¥åå’Œéƒ¨é—¨å</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span>d<span class="token punctuation">.</span>dname <span class="token keyword">from</span> emp e <span class="token keyword">join</span> dept d <span class="token keyword">on</span> e<span class="token punctuation">.</span>deptno<span class="token operator">=</span>d<span class="token punctuation">.</span>deptno<span class="token punctuation">;</span>mysql<span class="token operator">></span> <span class="token keyword">select</span> e<span class="token punctuation">.</span>ename<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token keyword">select</span> d<span class="token punctuation">.</span>dname <span class="token keyword">from</span> dept d <span class="token keyword">where</span> e<span class="token punctuation">.</span>deptno <span class="token operator">=</span> d<span class="token punctuation">.</span>deptno<span class="token punctuation">)</span> <span class="token keyword">as</span> dname <span class="token keyword">from</span> emp e<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------+------------+</span><span class="token operator">|</span> ename  <span class="token operator">|</span> dname      <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+------------+</span><span class="token operator">|</span> SMITH  <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span><span class="token operator">|</span> ALLEN  <span class="token operator">|</span> SALES      <span class="token operator">|</span><span class="token operator">|</span> WARD   <span class="token operator">|</span> SALES      <span class="token operator">|</span><span class="token operator">|</span> JONES  <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span><span class="token operator">|</span> MARTIN <span class="token operator">|</span> SALES      <span class="token operator">|</span><span class="token operator">|</span> BLAKE  <span class="token operator">|</span> SALES      <span class="token operator">|</span><span class="token operator">|</span> CLARK  <span class="token operator">|</span> ACCOUNTING <span class="token operator">|</span><span class="token operator">|</span> SCOTT  <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span><span class="token operator">|</span> KING   <span class="token operator">|</span> ACCOUNTING <span class="token operator">|</span><span class="token operator">|</span> TURNER <span class="token operator">|</span> SALES      <span class="token operator">|</span><span class="token operator">|</span> ADAMS  <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span><span class="token operator">|</span> JAMES  <span class="token operator">|</span> SALES      <span class="token operator">|</span><span class="token operator">|</span> FORD   <span class="token operator">|</span> RESEARCH   <span class="token operator">|</span><span class="token operator">|</span> MILLER <span class="token operator">|</span> ACCOUNTING <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+------------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="union"><a href="#union" class="headerlink" title="union"></a>union</h5><ul><li>ä¸»è¦ç”¨äºæŸ¥è¯¢æ¯«æ— å…³ç³»çš„ä¸¤å¼ è¡¨</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> ename <span class="token keyword">from</span> emp <span class="token keyword">union</span> <span class="token keyword">select</span> dname <span class="token keyword">from</span> dept<span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">------------+</span><span class="token operator">|</span> ename      <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">------------+</span><span class="token operator">|</span> SMITH      <span class="token operator">|</span><span class="token operator">|</span> ALLEN      <span class="token operator">|</span><span class="token operator">|</span> WARD       <span class="token operator">|</span><span class="token operator">|</span> JONES      <span class="token operator">|</span><span class="token operator">|</span> MARTIN     <span class="token operator">|</span><span class="token operator">|</span> BLAKE      <span class="token operator">|</span><span class="token operator">|</span> CLARK      <span class="token operator">|</span><span class="token operator">|</span> SALES      <span class="token operator">|</span><span class="token operator">|</span> OPERATIONS <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">------------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h3><p>æ¯é¡µæ˜¾ç¤ºpageSizeæ¡è®°å½•ï¼šç¬¬pageNoé¡µï¼šï¼ˆpageNo - 1ï¼‰* pageSizeï¼ŒpageSize</p><ul><li>å–å‡ºå·¥èµ„å‰äº”åçš„å‘˜å·¥</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> sal <span class="token keyword">desc</span> <span class="token keyword">limit</span> <span class="token number">0</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">-------+---------+</span><span class="token operator">|</span> ename <span class="token operator">|</span> sal     <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------+---------+</span><span class="token operator">|</span> KING  <span class="token operator">|</span> <span class="token number">5000.00</span> <span class="token operator">|</span><span class="token operator">|</span> FORD  <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span><span class="token operator">|</span> SCOTT <span class="token operator">|</span> <span class="token number">3000.00</span> <span class="token operator">|</span><span class="token operator">|</span> JONES <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span><span class="token operator">|</span> BLAKE <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">-------+---------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æ‰¾å‡ºå·¥èµ„æ’ååœ¨ç¬¬4-9åçš„å‘˜å·¥</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">order</span> <span class="token keyword">by</span> sal <span class="token keyword">desc</span> <span class="token keyword">limit</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">--------+---------+</span><span class="token operator">|</span> ename  <span class="token operator">|</span> sal     <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+---------+</span><span class="token operator">|</span> JONES  <span class="token operator">|</span> <span class="token number">2975.00</span> <span class="token operator">|</span><span class="token operator">|</span> BLAKE  <span class="token operator">|</span> <span class="token number">2850.00</span> <span class="token operator">|</span><span class="token operator">|</span> CLARK  <span class="token operator">|</span> <span class="token number">2450.00</span> <span class="token operator">|</span><span class="token operator">|</span> ALLEN  <span class="token operator">|</span> <span class="token number">1600.00</span> <span class="token operator">|</span><span class="token operator">|</span> TURNER <span class="token operator">|</span> <span class="token number">1500.00</span> <span class="token operator">|</span><span class="token operator">|</span> MILLER <span class="token operator">|</span> <span class="token number">1300.00</span> <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">--------+---------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="çº¦æŸ"><a href="#çº¦æŸ" class="headerlink" title="çº¦æŸ"></a>çº¦æŸ</h3><h4 id="éç©ºçº¦æŸ-notnull"><a href="#éç©ºçº¦æŸ-notnull" class="headerlink" title="éç©ºçº¦æŸ (notnull)"></a>éç©ºçº¦æŸ (notnull)</h4><ul><li>éç©ºçº¦æŸåªèƒ½å‡ºç°åœ¨åˆ—çº§çº¦æŸä¸­</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span> t_user<span class="token punctuation">(</span>    usercode <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>    username <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å”¯ä¸€æ€§çº¦æŸï¼ˆuniqueï¼‰"><a href="#å”¯ä¸€æ€§çº¦æŸï¼ˆuniqueï¼‰" class="headerlink" title="å”¯ä¸€æ€§çº¦æŸï¼ˆuniqueï¼‰"></a>å”¯ä¸€æ€§çº¦æŸï¼ˆuniqueï¼‰</h4><ul><li>å”¯ä¸€çº¦æŸä¿®é¥°çš„å­—æ®µå…·æœ‰å”¯ä¸€æ€§ï¼Œä¸èƒ½é‡å¤ã€‚ä½†å¯ä»¥ä¸ºnullã€‚</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment"># å¤šä¸ªå­—æ®µè”åˆæ·»åŠ 1ä¸ªçº¦æŸunique ã€è¡¨çº§çº¦æŸã€‘</span><span class="token keyword">create</span> <span class="token keyword">table</span> t_user<span class="token punctuation">(</span>usercode <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>username <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token keyword">unique</span><span class="token punctuation">(</span>usercode<span class="token punctuation">,</span>username<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment"># å•ä¸ªå­—æ®µæ·»åŠ 1ä¸ªçº¦æŸunique ã€åˆ—çº§çº¦æŸã€‘</span><span class="token keyword">create</span> <span class="token keyword">table</span> t_user<span class="token punctuation">(</span>usercode <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">unique</span><span class="token punctuation">,</span>username <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span> <span class="token keyword">unique</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ä¸»é”®çº¦æŸ"><a href="#ä¸»é”®çº¦æŸ" class="headerlink" title="ä¸»é”®çº¦æŸ"></a>ä¸»é”®çº¦æŸ</h4><ul><li>ä¸»é”®ä¸èƒ½ä¸ºnullï¼Œä¸”ä¸èƒ½é‡å¤</li><li>ä¸€å¼ è¡¨çš„ä¸»é”®çº¦æŸåªèƒ½æœ‰ä¸€ä¸ª</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token comment"># åˆ—çº§çº¦æŸ</span><span class="token keyword">create</span> <span class="token keyword">table</span> t_user<span class="token punctuation">(</span>    id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>    usercode <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    username <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment"># è¡¨çº§çº¦æŸ</span> <span class="token keyword">create</span> <span class="token keyword">table</span> t_user<span class="token punctuation">(</span>    id <span class="token keyword">int</span> <span class="token punctuation">,</span>    usercode <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    username <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span>ï¼Œ     <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="ä¸»é”®è‡ªå¢"><a href="#ä¸»é”®è‡ªå¢" class="headerlink" title="ä¸»é”®è‡ªå¢"></a>ä¸»é”®è‡ªå¢</h5><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">table</span>  t_user<span class="token punctuation">(</span>id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>    username <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å¤–é”®çº¦æŸ"><a href="#å¤–é”®çº¦æŸ" class="headerlink" title="å¤–é”®çº¦æŸ"></a>å¤–é”®çº¦æŸ</h4><ul><li>å­è¡¨ä¸­çš„æŸä¸ªå­—æ®µæ¥è‡ªçˆ¶è¡¨ä¸­çš„å­—æ®µä¸ä¸€å®šæ˜¯ä¸»é”®ï¼Œä½†ä¸€å®šè¦å…·æœ‰uniqueçº¦æŸï¼Œä¸€èˆ¬æ˜¯ä¸»é”®</li><li>å¤–é”®å¯ä»¥ä¸ºnull</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> t_student<span class="token punctuation">;</span><span class="token keyword">drop</span> <span class="token keyword">table</span> <span class="token keyword">if</span> <span class="token keyword">exists</span> t_class<span class="token punctuation">;</span><span class="token comment"># çˆ¶è¡¨</span><span class="token keyword">create</span> <span class="token keyword">table</span> t_class<span class="token punctuation">(</span>cno <span class="token keyword">int</span><span class="token punctuation">,</span>    canme <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>cno<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment"># å­è¡¨</span><span class="token keyword">create</span> <span class="token keyword">table</span> t_class<span class="token punctuation">(</span>cno <span class="token keyword">int</span><span class="token punctuation">,</span>    sanme <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    classno <span class="token keyword">int</span><span class="token punctuation">,</span>    <span class="token keyword">foreign</span> <span class="token keyword">key</span><span class="token punctuation">(</span>classno<span class="token punctuation">)</span> <span class="token keyword">references</span> t_class<span class="token punctuation">(</span>cno<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="äº‹åŠ¡"><a href="#äº‹åŠ¡" class="headerlink" title="äº‹åŠ¡"></a>äº‹åŠ¡</h3><ul><li><p>ä¸€ä¸ªäº‹åŠ¡æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¸šåŠ¡é€»è¾‘å•å…ƒï¼Œä¸å¯å†åˆ†ã€‚</p></li><li><p>äº‹åŠ¡çš„ç‰¹æ€§ï¼Ÿ</p><ul><li>A:åŸå­æ€§ï¼šäº‹åŠ¡æ˜¯æœ€å°çš„å·¥ä½œå•å…ƒï¼Œä¸å¯å†åˆ†ã€‚</li><li>B:ä¸€è‡´æ€§ï¼šäº‹åŠ¡å¿…é¡»ä¿è¯å¤šæ¡DMLè¯­å¥åŒæ—¶æˆåŠŸæˆ–è€…åŒæ—¶å¤±è´¥ã€‚</li><li>C:éš”ç¦»æ€§ï¼šäº‹åŠ¡Aä¸äº‹åŠ¡Bä¹‹é—´å…·æœ‰éš”ç¦»ã€‚</li><li>D:æŒä¹…æ€§ï¼šæŒä¹…æ€§è¯´çš„æ˜¯æœ€ç»ˆæ•°æ®å¿…é¡»æŒä¹…åŒ–åˆ°ç¡¬ç›˜ä¸­ï¼Œäº‹åŠ¡æ‰ç®—æˆåŠŸç»“æŸã€‚</li></ul></li><li><p>mysqlæ•°æ®åº“é»˜è®¤çš„éš”ç¦»çº§åˆ«æ˜¯ï¼šç¬¬ä¸‰çº§åˆ«ï¼Œå¯é‡å¤è¯»ã€‚</p></li><li><p>éš”ç¦»æ€§</p></li><li><p>æŸ¥è¯¢å½“å‰éš”ç¦»äº‹åŠ¡çº§åˆ«,å¼€å¯äº‹åŠ¡</p><ul><li><p>```sql<br>select @@global.tx_isolation;<br>start transaction;</p><pre class="line-numbers language-none"><code class="language-none">- ç¬¬ä¸€çº§åˆ«ï¼šè¯»æœªæäº¤(read uncommitted) å­˜åœ¨è„è¯»ç°è±¡&lt;font color&#x3D;&quot;blue&quot;&gt;æœªæäº¤ä¹Ÿèƒ½è¯»åˆ°&lt;&#x2F;font&gt;  - &#96;&#96;&#96;sql    set global transaction isolation level read uncommitted;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li><li><p>ç¬¬äºŒçº§åˆ«ï¼šè¯»å·²æäº¤(read committed) ä¸å¯é‡å¤è¯»ï¼Œè§£å†³äº†è„è¯»ç°è±¡<font color="blue">æäº¤äº†æ‰èƒ½è¯»åˆ°</font></p><ul><li>```sql<br>set global transaction isolation level read committed;<pre class="line-numbers language-none"><code class="language-none">- ç¬¬ä¸‰çº§åˆ«ï¼šå¯é‡å¤è¯»(repeatable read) è¯»åˆ°çš„æ•°æ®æ˜¯å¹»è±¡ï¼Œè§£å†³äº†ä¸å¯é‡å¤è¯»ç°è±¡&lt;font color&#x3D;&quot;blue&quot;&gt;æäº¤äº†è¿˜èƒ½è¯»åˆ°ä¹‹å‰çš„æ•°æ®&lt;&#x2F;font&gt;  - &#96;&#96;&#96;sql    set global transaction isolation level repeatable read;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul></li><li><p>ç¬¬å››çº§åˆ«ï¼šåºåˆ—åŒ–è¯»/ä¸²è¡ŒåŒ–è¯» éœ€è¦äº‹åŠ¡æ’é˜Ÿï¼Œè§£å†³äº†æ‰€æœ‰é—®é¢˜<font color="blue">äº‹åŠ¡æäº¤äº†ä¹‹åæ‰èƒ½è®¿é—®</font></p><ul><li>```sql<br>set global transaction isolation level serializable;<pre class="line-numbers language-none"><code class="language-none">-  &#96;start transaction;&#96;:å…³é—­è‡ªåŠ¨æäº¤æœºåˆ¶-  &#96;rollback&#96;: å›æ»šäº‹åŠ¡-  &#96;commit&#96;: æäº¤### ç´¢å¼•- ç´¢å¼•å°±ç›¸å½“äºä¸€æœ¬ä¹¦çš„ç›®å½•ï¼Œé€šè¿‡ç›®å½•å¯ä»¥å¿«é€Ÿçš„æ‰¾åˆ°å¯¹åº”çš„èµ„æºã€‚- æ·»åŠ ç´¢å¼•æ˜¯ç»™æŸä¸€ä¸ªå­—æ®µï¼Œæˆ–è€…è¯´æŸäº›å­—æ®µæ·»åŠ ç´¢å¼•ã€‚- åˆ›å»ºç´¢å¼•å¯¹è±¡ï¼š  - &lt;font color&#x3D;&quot;red&quot;&gt;create index ç´¢å¼•åç§° on è¡¨å(å­—æ®µå);&lt;&#x2F;font&gt;- åˆ é™¤ç´¢å¼•å¯¹è±¡ï¼š  - &lt;font color&#x3D;&quot;red&quot;&gt;drop index ç´¢å¼•åç§° on è¡¨å;&lt;&#x2F;font&gt;- ä»€ä¹ˆæ—¶å€™è€ƒè™‘ç»™å­—æ®µæ·»åŠ ç´¢å¼•ï¼Ÿ(æ»¡è¶³ä»€ä¹ˆæ¡ä»¶)  - æ•°æ®é‡åºå¤§ã€‚(æ ¹æ®å®¢æˆ·çš„éœ€æ±‚ï¼Œæ ¹æ®çº¿ä¸Šçš„ç¯å¢ƒ)  - è¯¥å­—æ®µå¾ˆå°‘çš„DMLæ“ä½œã€‚(å› ä¸ºå­—æ®µè¿›è¡Œä¿®æ”¹æ“ä½œï¼Œç´¢å¼•ä¹Ÿéœ€è¦ç»´æŠ¤)  - è¯¥å­—æ®µç»å¸¸å‡ºç°åœ¨whereå­å¥ä¸­ã€‚(ç»å¸¸æ ¹æ®å“ªä¸ªå­—æ®µç»´æŠ¤)- ä¸»é”®å…·æœ‰uniqueçº¦æŸçš„å­—æ®µä¼šè‡ªåŠ¨æ·»åŠ ç´¢å¼•ã€‚æ ¹æ®ä¸»é”®æŸ¥è¯¢æ•ˆç‡è¾ƒé«˜ï¼Œå°½é‡æ ¹æ®ä¸»é”®æ£€ç´¢ã€‚- ç´¢å¼•åº•å±‚é‡‡ç”¨çš„æ•°æ®ç»“æ„æ˜¯ï¼šB + Tree- ç´¢å¼•çš„å®ç°åŸç†ï¼Ÿ  é€šè¿‡B Treeç¼©å°æ‰«æèŒƒå›´ï¼Œåº•å±‚ç´¢å¼•è¿›è¡Œäº†æ’åºï¼Œåˆ†åŒºï¼Œç´¢å¼•ä¼šæºå¸¦æ•°æ®åœ¨è¡¨ä¸­çš„&quot;ç‰©ç†åœ°å€&quot;ï¼Œæœ€ç»ˆé€šè¿‡ç´¢å¼•æ£€ç´¢åˆ°æ•°æ®ä¹‹åï¼Œè·å–åˆ°å…³è”çš„ç‰©ç†åœ°å€ï¼Œé€šè¿‡ç‰©ç†ç´¢å¼•æ£€ç´¢åˆ°æ•°æ®ä¹‹åï¼Œè·å–åˆ°å…³è”çš„ç‰©ç†åœ°å€ï¼Œé€šè¿‡ç‰©ç†åœ°å€å®šä½è¡¨ä¸­çš„æ•°æ®ï¼Œæ•ˆç‡æ˜¯æœ€é«˜çš„ã€‚  elect ename from emp where ename &#x3D; &#39;SMITH&#39;;  é€šè¿‡ç´¢å¼•è½¬æ¢ä¸ºï¼š  select ename from emp where  ç‰©ç†åœ°å€ &#x3D; 0x123;- ç´¢å¼•çš„åˆ†ç±»  - å•ä¸€ç´¢å¼•ï¼šç»™å•ä¸ªå­—æ®µæ·»åŠ ç´¢å¼•  - å¤åˆç´¢å¼•ï¼šç»™å¤šä¸ªå­—æ®µè”åˆèµ·æ¥æ·»åŠ ä¸€ä¸ªç´¢å¼•  - ä¸»é”®ç´¢å¼•ï¼šä¸»é”®ä¸Šä¼šè‡ªåŠ¨æ·»åŠ ç´¢å¼•  - å”¯ä¸€ç´¢å¼•ï¼šæœ‰uniqueçº¦æŸçš„å­—æ®µä¼šè‡ªåŠ¨æ·»åŠ ç´¢å¼•- æ¨¡ç³ŠæŸ¥è¯¢çš„æ—¶å€™ï¼Œç¬¬ä¸€ä¸ªé€šé…ç¬¦ä½¿ç”¨çš„æ˜¯%ï¼Œè¿™ä¸ªæ—¶å€™ç´¢å¼•æ˜¯æ˜¯å¤±æ•ˆçš„ã€‚---- æŸ¥çœ‹sqlè¯­å¥çš„æ‰§è¡Œè®¡åˆ’&#96;&#96;&#96;sqlmysql&gt; explain select ename,sal from emp where sal &#x3D; 800;+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------------+| id | select_type | table | partitions | type | possible_keys | key  | key_len | ref  | rows | filtered | Extra       |+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------------+|  1 | SIMPLE      | emp   | NULL       | ALL  | NULL          | NULL | NULL    | NULL |   14 |    10.00 | Using where |+----+-------------+-------+------------+------+---------------+------+---------+------+------+----------+-------------+<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul></li></ul></li><li><p>ç»™salå­—æ®µæ·»åŠ ç´¢å¼•</p></li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql"><span class="token keyword">create</span> <span class="token keyword">index</span> emp_sal_index <span class="token keyword">on</span> emp<span class="token punctuation">(</span>sal<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>å†æ¬¡æŸ¥çœ‹sqlè¯­å¥çš„æ‰§è¡Œè®¡åˆ’</li></ul><pre class="line-numbers language-sql" data-language="sql"><code class="language-sql">mysql<span class="token operator">></span> <span class="token keyword">explain</span> <span class="token keyword">select</span> ename<span class="token punctuation">,</span>sal <span class="token keyword">from</span> emp <span class="token keyword">where</span> sal <span class="token operator">=</span> <span class="token number">800</span><span class="token punctuation">;</span><span class="token operator">+</span><span class="token comment">----+-------------+-------+------------+------+---------------+---------------+---------+-------+------+----------+-------+</span><span class="token operator">|</span> id <span class="token operator">|</span> select_type <span class="token operator">|</span> <span class="token keyword">table</span> <span class="token operator">|</span> partitions <span class="token operator">|</span> <span class="token keyword">type</span> <span class="token operator">|</span> possible_keys <span class="token operator">|</span> <span class="token keyword">key</span>           <span class="token operator">|</span> key_len <span class="token operator">|</span> ref   <span class="token operator">|</span> <span class="token keyword">rows</span> <span class="token operator">|</span> filtered <span class="token operator">|</span> Extra <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">----+-------------+-------+------------+------+---------------+---------------+---------+-------+------+----------+-------+</span><span class="token operator">|</span>  <span class="token number">1</span> <span class="token operator">|</span> <span class="token keyword">SIMPLE</span>      <span class="token operator">|</span> emp   <span class="token operator">|</span> <span class="token boolean">NULL</span>       <span class="token operator">|</span> ref  <span class="token operator">|</span> emp_sal_index <span class="token operator">|</span> emp_sal_index <span class="token operator">|</span> <span class="token number">9</span>       <span class="token operator">|</span> const <span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>   <span class="token number">100.00</span> <span class="token operator">|</span> <span class="token boolean">NULL</span>  <span class="token operator">|</span><span class="token operator">+</span><span class="token comment">----+-------------+-------+------------+------+---------------+---------------+---------+-------+------+----------+-------+</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è§†å›¾"><a href="#è§†å›¾" class="headerlink" title="è§†å›¾"></a>è§†å›¾</h3><ul><li><p> ç«™åœ¨ä¸åŒçš„è§’åº¦å»çœ‹åˆ°æ•°æ®ã€‚(åŒä¸€å¼ è¡¨çš„æ•°æ®ï¼Œé€šè¿‡ä¸åŒçš„è§’åº¦å»çœ‹å¾…)</p></li><li><p>åˆ›å»ºè§†å›¾ï¼Œåˆ é™¤è§†å›¾</p><ul><li>```sql<br>create view myview as select empno,ename from emp;<br>drop view myview;<pre class="line-numbers language-none"><code class="language-none">- å¯¹è¯•å›¾è¿›è¡Œå¢åˆ æ”¹æŸ¥ï¼Œä¼šå½±å“åˆ°åŸè¡¨æ•°æ®ã€‚(é€šè¿‡è§†å›¾å½±å“åŸè¡¨æ•°æ®ï¼Œä¸æ˜¯ç›´æ¥æ“ä½œçš„åŸè¡¨)- è¯•å›¾å¯ä»¥éšè—è¡¨çš„å®ç°ç»†èŠ‚ã€‚ä¿å¯†çº§åˆ«è¾ƒé«˜çš„ç³»ç»Ÿï¼Œæ•°æ®åº“åªå¯¹å¤–æä¾›ç›¸å…³çš„è§†å›¾ï¼Œjavaç¨‹åºå‘˜åªå¯¹è§†å›¾å¯¹è±¡è¿›è¡ŒCRUDã€‚### æ•°æ®åº“è®¾è®¡ä¸‰èŒƒå¼- ä¸‰èŒƒå¼éƒ½æ˜¯å“ªäº›ï¼Ÿ- ç¬¬ä¸€èŒƒå¼ï¼šä»»ä½•ä¸€å¼ è¡¨éƒ½åº”è¯¥æœ‰ä¸»é”®ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ªå­—æ®µåŸå­æ€§ä¸å¯å†åˆ†ã€‚- ç¬¬äºŒèŒƒå¼ï¼šå»ºç«‹åœ¨ç¬¬ä¸€èŒƒå¼çš„åŸºç¡€ä¸Šï¼Œæ‰€æœ‰éä¸»é”®å­—æ®µå®Œå…¨ä¾èµ–ä¸»é”®ï¼Œä¸èƒ½äº§ç”Ÿéƒ¨ä»½ä¾èµ–ã€‚- &lt;font color&#x3D;&quot;red&quot;&gt;å¤šå¯¹å¤šï¼Ÿä¸‰å¼ è¡¨ï¼Œå…³ç³»è¡¨ä¸¤ä¸ªå¤–é”®ã€‚&lt;&#x2F;font&gt;&#96;&#96;&#96;sql# å¤šå¯¹å¤šï¼Ÿä¸‰å¼ è¡¨ï¼Œå…³ç³»è¡¨ä¸¤ä¸ªå¤–é”®ã€‚t_studentå­¦ç”Ÿè¡¨sno(pk)       sname---------------------1             å¼ ä¸‰2             æå›› 3             ç‹äº”t_teacher è®²å¸ˆè¡¨tno(pk)            tname----------------------1ç‹è€å¸ˆ2å¼ è€å¸ˆ3æè€å¸ˆt_student_teacher_relation å­¦ç”Ÿè®²å¸ˆå…³ç³»è¡¨id(pk)        sno(fk)          tno(fk)-------------------------------------------1      1                 32      113      224      235      316      33<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li></ul></li><li><p>ç¬¬ä¸‰èŒƒå¼ï¼šå»ºç«‹åœ¨ç¬¬äºŒèŒƒå¼çš„åŸºç¡€ä¸Šï¼Œæ‰€æœ‰éä¸»é”®å­—æ®µç›´æ¥ä¾èµ–ä¸»é”®ï¼Œä¸èƒ½äº§ç”Ÿä¼ é€’ä¾èµ–ã€‚</p></li><li><p><font color="red">ä¸€å¯¹å¤šï¼Ÿä¸¤å¼ è¡¨ï¼Œå¤šçš„è¡¨åŠ å¤–é”®ã€‚</font></p></li><li><p>ä¸€å¯¹ä¸€æ€ä¹ˆè®¾è®¡ï¼Ÿ</p><ul><li><p>ä¸»é”®å…±äº«</p></li><li><p>å¤–é”®å”¯ä¸€</p></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MySql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springbooté…ç½®æ–‡ä»¶æ•´ç†</title>
      <link href="/2022-03-04-springboot-pei-zhi-wen-jian-zheng-li.html"/>
      <url>/2022-03-04-springboot-pei-zhi-wen-jian-zheng-li.html</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment"># å†…åµŒtomcatç«¯å£å·</span><span class="token attr-name">server.port</span><span class="token punctuation">=</span><span class="token attr-value">8081</span><span class="token attr-name">server.servlet.context-path</span><span class="token punctuation">=</span><span class="token attr-value">/</span><span class="token comment"># æ•°æ®åº“é…ç½®</span><span class="token attr-name">spring.datasource.driver-class-name</span><span class="token punctuation">=</span><span class="token attr-value">com.mysql.cj.jdbc.Driver</span><span class="token attr-name">spring.datasource.url</span><span class="token punctuation">=</span><span class="token attr-value">jdbc:mysql://localhost:3306/guli?useSSL=false&amp;serverTimezone=GMT%2B8&amp;allowPublicKeyRetrieval=true</span><span class="token attr-name">spring.datasource.url</span><span class="token punctuation">=</span><span class="token attr-value">jdbc:mysql://192.168.174.131:3306/springboot?useSSL=false&amp;serverTimezone=UTC</span><span class="token attr-name">spring.datasource.username</span><span class="token punctuation">=</span><span class="token attr-value">root</span><span class="token attr-name">spring.datasource.password</span><span class="token punctuation">=</span><span class="token attr-value">hxl158120</span><span class="token comment"># dubboé…ç½®</span><span class="token attr-name">spring.application.name</span><span class="token punctuation">=</span><span class="token attr-value">024-springboot-dubbo-ssm-provider</span><span class="token attr-name">spring.dubbo.server</span><span class="token punctuation">=</span><span class="token attr-value">true</span><span class="token comment"># æŒ‡å®šæ³¨å†Œä¸­å¿ƒ</span><span class="token attr-name">spring.dubbo.registry</span><span class="token punctuation">=</span><span class="token attr-value">zookeeper://192.168.174.131:2181</span><span class="token comment"># redisé…ç½®</span><span class="token attr-name">spring.redis.host</span><span class="token punctuation">=</span><span class="token attr-value">192.168.174.131</span><span class="token attr-name">spring.redis.port</span><span class="token punctuation">=</span><span class="token attr-value">6379</span><span class="token attr-name">spring.redis.password</span><span class="token punctuation">=</span><span class="token attr-value">123456</span><span class="token comment">#é…ç½®è§†å›¾è§£æå™¨</span><span class="token attr-name">spring.mvc.view.prefix</span><span class="token punctuation">=</span><span class="token attr-value">/</span><span class="token attr-name">spring.mvc.view.suffix</span><span class="token punctuation">=</span><span class="token attr-value">.jsp</span><span class="token comment">#è‡ªå®šä¹‰é…ç½®</span><span class="token attr-name">school.name</span><span class="token punctuation">=</span><span class="token attr-value">bjpowernode</span><span class="token attr-name">school.websit</span><span class="token punctuation">=</span><span class="token attr-value">http://www.baidu.com</span><span class="token comment">#è®¾ç½®å†…åµŒTomcatç«¯å£å·</span><span class="token attr-name">server.port</span><span class="token punctuation">=</span><span class="token attr-value">8080</span><span class="token attr-name">server.servlet.context-path</span><span class="token punctuation">=</span><span class="token attr-value">/</span><span class="token comment">#è®¾ç½®dubboé…ç½®</span><span class="token attr-name">spring.application.name</span><span class="token punctuation">=</span><span class="token attr-value">025-springboot-dubbo-ssm-consumer</span><span class="token attr-name">spring.dubbo.registry</span><span class="token punctuation">=</span><span class="token attr-value">zookeeper://192.168.174.131:2181</span><span class="token comment">#é…ç½®è§†å›¾è§£æå™¨</span><span class="token attr-name">spring.mvc.view.prefix</span><span class="token punctuation">=</span><span class="token attr-value">/</span><span class="token attr-name">spring.mvc.view.suffix</span><span class="token punctuation">=</span><span class="token attr-value">.jsp</span><span class="token comment">#å…³é—­sspringbootå­—ç¬¦ç¼–ç æ”¯æŒ</span><span class="token attr-name">spring.http.encoding.enabled</span><span class="token punctuation">=</span><span class="token attr-value">false</span><span class="token comment"># è®¾ç½®thymeleafæ¨¡æ¿å¼•æ“çš„å‰/åç¼€ï¼ˆå¯é€‰é¡¹ï¼‰</span><span class="token attr-name">spring.thymeleaf.prefix</span><span class="token punctuation">=</span><span class="token attr-value">classpath:/templates/</span><span class="token attr-name">spring.thymeleaf.suffix</span><span class="token punctuation">=</span><span class="token attr-value">.html</span><span class="token comment"># å…³é—­é¡µé¢ç¼“å­˜</span><span class="token attr-name">spring.thymeleaf.cache</span><span class="token punctuation">=</span><span class="token attr-value">false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">eureka</span><span class="token punctuation">:</span>  <span class="token key atrule">instance</span><span class="token punctuation">:</span>    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> localhost <span class="token comment">#eurekaæœåŠ¡ç«¯çš„å®ä¾‹åç§°</span>  <span class="token key atrule">client</span><span class="token punctuation">:</span>    <span class="token comment">#falseè¡¨ç¤ºä¸å‘æ³¨å†Œä¸­å¿ƒæ³¨å†Œè‡ªå·±ã€‚é»˜è®¤true</span>    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token comment">#falseè¡¨ç¤ºè‡ªå·±ç«¯å°±æ˜¯æ³¨å†Œä¸­å¿ƒï¼Œæˆ‘çš„èŒè´£å°±æ˜¯ç»´æŠ¤æœåŠ¡å®ä¾‹ï¼Œå¹¶ä¸éœ€è¦å»æ£€ç´¢æœåŠ¡</span>    <span class="token comment">#æ˜¯å¦ä»EurekaServeræŠ“å–å·²æœ‰çš„æ³¨å†Œä¿¡æ¯ï¼Œé»˜è®¤ä¸ºtrueã€‚å•èŠ‚ç‚¹æ— æ‰€è°“ï¼Œé›†ç¾¤å¿…é¡»è®¾ç½®ä¸ºtrueæ‰èƒ½é…åˆribbonä½¿ç”¨è´Ÿè½½å‡è¡¡</span>    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token key atrule">service-url</span><span class="token punctuation">:</span>    <span class="token comment">#è®¾ç½®ä¸Eureka Serveräº¤äº’çš„åœ°å€æŸ¥è¯¢æœåŠ¡å’Œæ³¨å†ŒæœåŠ¡éƒ½éœ€è¦ä¾èµ–è¿™ä¸ªåœ°å€ã€‚</span>      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//$<span class="token punctuation">&#123;</span>eureka.instance.hostname<span class="token punctuation">&#125;</span><span class="token punctuation">:</span>$<span class="token punctuation">&#123;</span>server.port<span class="token punctuation">&#125;</span>/eureka/  <span class="token key atrule">instance</span><span class="token punctuation">:</span>       <span class="token key atrule">instance-id</span><span class="token punctuation">:</span> payment8001 <span class="token comment"># å¢åŠ æœåŠ¡åˆ«å</span>      <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># è®¿é—®è·¯å¾„æ˜¾ç¤ºIPåœ°å€</span>   <span class="token key atrule">server</span><span class="token punctuation">:</span>    <span class="token comment">#å…³é—­è‡ªæˆ‘ä¿æŠ¤æœºåˆ¶ï¼Œä¿è¯ä¸å¯ç”¨æœåŠ¡è¢«åŠæ—¶è¸¢é™¤</span>    <span class="token key atrule">enable-self-preservation</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>    <span class="token key atrule">eviction-interval-timer-in-ms</span><span class="token punctuation">:</span> <span class="token number">2000</span> <span class="token comment"># é»˜è®¤90s æ”¹æˆ2s</span>     <span class="token comment"># æœåŠ¡æä¾›è€…   </span>  <span class="token key atrule">instance</span><span class="token punctuation">:</span>      <span class="token key atrule">instance-id</span><span class="token punctuation">:</span> payment8001      <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>      <span class="token comment">#Eurekaå®¢æˆ·ç«¯å‘æœåŠ¡ç«¯å‘é€å¿ƒè·³çš„æ—¶é—´é—´éš”ï¼Œå•ä½ä¸ºç§’(é»˜è®¤æ˜¯30ç§’)</span>      <span class="token key atrule">lease-renewal-interval-in-seconds</span><span class="token punctuation">:</span> <span class="token number">1</span>      <span class="token comment">#EurekaæœåŠ¡ç«¯åœ¨æ”¶åˆ°æœ€åä¸€æ¬¡å¿ƒè·³åç­‰å¾…æ—¶é—´ä¸Šé™ï¼Œå•ä½ä¸ºç§’(é»˜è®¤æ˜¯90ç§’)ï¼Œè¶…æ—¶å°†å‰”é™¤æœåŠ¡</span>      <span class="token key atrule">lease-expiration-duration-in-seconds</span><span class="token punctuation">:</span> <span class="token number">2</span>    <span class="token comment">#æœåŠ¡åˆ«å----æ³¨å†Œzookeeperåˆ°æ³¨å†Œä¸­å¿ƒåç§°</span><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">application</span><span class="token punctuation">:</span>    <span class="token key atrule">name</span><span class="token punctuation">:</span> cloud<span class="token punctuation">-</span>provider<span class="token punctuation">-</span>payment  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>    <span class="token key atrule">zookeeper</span><span class="token punctuation">:</span>      <span class="token key atrule">connect-string</span><span class="token punctuation">:</span> 192.168.174.131<span class="token punctuation">:</span><span class="token number">2181</span>           <span class="token comment">#consulæ³¨å†Œä¸­å¿ƒ  </span><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">application</span><span class="token punctuation">:</span>    <span class="token key atrule">name</span><span class="token punctuation">:</span> consul<span class="token punctuation">-</span>provider<span class="token punctuation">-</span>payment  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>    <span class="token key atrule">consul</span><span class="token punctuation">:</span>      <span class="token key atrule">host</span><span class="token punctuation">:</span> 192.168.174.131      <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8500</span>      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>        <span class="token comment">#hostname: 192.168.174.131</span>        <span class="token key atrule">service-name</span><span class="token punctuation">:</span> $<span class="token punctuation">&#123;</span>spring.application.name<span class="token punctuation">&#125;</span>        <span class="token key atrule">heartbeat</span><span class="token punctuation">:</span>          <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>        <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>        <span class="token comment"># è®¾ç½®feignå®¢æˆ·ç«¯è¶…æ—¶æ—¶é—´,(OpenFeigné»˜è®¤æ”¯æŒRibbon)</span><span class="token key atrule">ribbon</span><span class="token punctuation">:</span>  <span class="token comment"># æŒ‡çš„æ˜¯å»ºç«‹è¿æ¥åä»æœåŠ¡å™¨è¯»å–åˆ°å¯ç”¨èµ„æºæ‰€ç”¨çš„æ—¶é—´</span>  <span class="token key atrule">ReadTimeout</span><span class="token punctuation">:</span>  <span class="token number">5000</span>  <span class="token comment"># æŒ‡çš„æ˜¯è¿æ¥æ‰€ç”¨çš„æ—¶é—´ï¼Œé€‚ç”¨äºç½‘ç»œçŠ¶å†µæ­£å¸¸çš„æƒ…å†µä¸‹ï¼Œä¸¤ç«¯è¿æ¥æ‰€ç”¨çš„æ—¶é—´</span>  <span class="token key atrule">ConnectTimeout</span><span class="token punctuation">:</span> <span class="token number">5000</span>       <span class="token comment"># feignæ—¥å¿—</span><span class="token key atrule">logging</span><span class="token punctuation">:</span>  <span class="token key atrule">level</span><span class="token punctuation">:</span>    <span class="token comment"># feignæ—¥å¿—ä»¥ä»€ä¹ˆçº§åˆ«ç›‘æ§å“ªä¸ªæ¥å£</span>    <span class="token key atrule">com.ssm.springcloud.service.PaymentService</span><span class="token punctuation">:</span> debug<span class="token key atrule">feign</span><span class="token punctuation">:</span> <span class="token key atrule">hystrix</span><span class="token punctuation">:</span>   <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment">#å¦‚æœå¤„ç†è‡ªèº«çš„å®¹é”™å°±å¼€å¯ã€‚å¼€å¯æ–¹å¼ä¸ç”Ÿäº§ç«¯ä¸ä¸€æ ·ã€‚ </span>   <span class="token comment"># hystrixè¶…æ—¶è®¾ç½®    </span><span class="token key atrule">hystrix</span><span class="token punctuation">:</span>  <span class="token key atrule">command</span><span class="token punctuation">:</span>    <span class="token key atrule">default</span><span class="token punctuation">:</span>      <span class="token key atrule">execution</span><span class="token punctuation">:</span>        <span class="token key atrule">isolation</span><span class="token punctuation">:</span>          <span class="token key atrule">thread</span><span class="token punctuation">:</span>            <span class="token key atrule">timeoutInMilliseconds</span><span class="token punctuation">:</span> <span class="token number">3000</span>            <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> é…ç½®æ–‡ä»¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> properties </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>bugé—®é¢˜æ€»ç»“</title>
      <link href="/2022-03-02-bug-wen-ti-zong-jie.html"/>
      <url>/2022-03-02-bug-wen-ti-zong-jie.html</url>
      
        <content type="html"><![CDATA[<ul><li>Mybatisé€†å‘å·¥ç¨‹ç”Ÿæˆä»£ç æŠ¥é”™ <code>Public Key Retrieval is not allowed</code> </li></ul><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment"># åœ¨é…ç½®æ–‡ä»¶å’Œé€†å‘å·¥ç¨‹urlé“¾æ¥ä¸­åŠ å…¥</span><span class="token attr-name">allowPublicKeyRetrieval</span><span class="token punctuation">=</span><span class="token attr-value">true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>SpringBootå¼•ç”¨Eurekaå¯¼è‡´è¿”å›ç»“æœç”±jsonå˜ä¸ºxmlè§£å†³æ–¹æ¡ˆ</li></ul><p><img src="https://img-blog.csdnimg.cn/4af1c26a13e84a40844af71e8d755c6f.png" alt="é—®é¢˜æ¼”ç¤º"></p><p>åœ¨@GetMapping ååŠ å…¥produces = MediaType.APPLICATION_JSON_UTF8_VALUE å³å¯</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/consumer/payment/get/&#123;id&#125;"</span><span class="token punctuation">,</span>produces <span class="token operator">=</span> <span class="token class-name">MediaType</span><span class="token punctuation">.</span>APPLICATION_JSON_UTF8_VALUE<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/f222bc57c16842288de8be79df942b07.png" alt="å®Œç¾è§£å†³"></p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> springboot </tag>
            
            <tag> bug </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBoot</title>
      <link href="/2022-03-01-springboot.html"/>
      <url>/2022-03-01-springboot.html</url>
      
        <content type="html"><![CDATA[<h3 id="Spring-Bootå…¥é—¨"><a href="#Spring-Bootå…¥é—¨" class="headerlink" title="Spring Bootå…¥é—¨"></a>Spring Bootå…¥é—¨</h3><h4 id="Spring-Boot-ç®€ä»‹"><a href="#Spring-Boot-ç®€ä»‹" class="headerlink" title="Spring Boot ç®€ä»‹"></a>Spring Boot ç®€ä»‹</h4><p>Spring Boot ç”¨æ¥ç®€åŒ– Spring åº”ç”¨ç¨‹åºçš„åˆ›å»ºå’Œ å¼€å‘è¿‡ç¨‹ï¼Œé‡‡ç”¨ Spring Boot å¯ä»¥éå¸¸å®¹æ˜“å’Œå¿«é€Ÿåœ°åˆ›å»ºåŸºäº Spring æ¡†æ¶çš„åº”ç”¨ç¨‹åºï¼Œå®ƒè®©ç¼– ç å˜ç®€å•äº†ï¼Œé…ç½®å˜ç®€å•äº†ï¼Œéƒ¨ç½²å˜ç®€å•äº†ï¼Œç›‘æ§å˜ç®€å•äº†ã€‚æ­£å› ä¸º Spring Boot å®ƒåŒ–ç¹ä¸ºç®€ï¼Œè®©å¼€å‘å˜å¾—æå…¶ç®€å•å’Œå¿«é€Ÿï¼Œæ‰€ä»¥åœ¨ä¸šç•Œå¤‡å—å…³æ³¨ã€‚</p><h4 id="Spring-Boot-çš„ç‰¹æ€§"><a href="#Spring-Boot-çš„ç‰¹æ€§" class="headerlink" title="Spring Boot çš„ç‰¹æ€§"></a>Spring Boot çš„ç‰¹æ€§</h4><p> â¢ èƒ½å¤Ÿå¿«é€Ÿåˆ›å»ºåŸºäº Spring çš„åº”ç”¨ç¨‹åº</p><p> â¢ èƒ½å¤Ÿç›´æ¥ä½¿ç”¨ java main æ–¹æ³•å¯åŠ¨å†…åµŒçš„ Tomcat æœåŠ¡å™¨è¿è¡Œ Spring Boot ç¨‹åºï¼Œä¸éœ€ è¦éƒ¨ç½² war åŒ…æ–‡ä»¶</p><p> â¢ æä¾›çº¦å®šçš„ starter POM æ¥ç®€åŒ– Maven é…ç½®ï¼Œè®© Maven çš„é…ç½®å˜å¾—ç®€å•</p><p> â¢ è‡ªåŠ¨åŒ–é…ç½®ï¼Œæ ¹æ®é¡¹ç›®çš„ Maven ä¾èµ–é…ç½®ï¼ŒSpring boot è‡ªåŠ¨é…ç½® Springã€Spring mvc ç­‰ </p><p>â¢ æä¾›äº†ç¨‹åºçš„å¥åº·æ£€æŸ¥ç­‰åŠŸèƒ½ â¢ åŸºæœ¬å¯ä»¥å®Œå…¨ä¸ä½¿ç”¨ XML é…ç½®æ–‡ä»¶ï¼Œé‡‡ç”¨æ³¨è§£é…ç½®</p><h4 id="Spring-Boot-å››å¤§æ ¸å¿ƒ"><a href="#Spring-Boot-å››å¤§æ ¸å¿ƒ" class="headerlink" title="Spring Boot å››å¤§æ ¸å¿ƒ"></a>Spring Boot å››å¤§æ ¸å¿ƒ</h4><ul><li><p>è‡ªåŠ¨é…ç½®</p></li><li><p>èµ·æ­¥ä¾èµ–</p></li><li><p>Actuator</p></li><li><p>å‘½ä»¤è¡Œç•Œé¢</p></li></ul><h3 id="å…¥é—¨æ¡ˆä¾‹"><a href="#å…¥é—¨æ¡ˆä¾‹" class="headerlink" title="å…¥é—¨æ¡ˆä¾‹"></a>å…¥é—¨æ¡ˆä¾‹</h3><h4 id="åˆ›å»ºSpring-Boot-é¡¹ç›®"><a href="#åˆ›å»ºSpring-Boot-é¡¹ç›®" class="headerlink" title="åˆ›å»ºSpring Boot é¡¹ç›®"></a>åˆ›å»ºSpring Boot é¡¹ç›®</h4><h5 id="1-åˆ›å»ºä¸€ä¸ª-Moduleï¼Œé€‰æ‹©ç±»å‹ä¸º-Spring-Initializr-å¿«é€Ÿæ„å»º"><a href="#1-åˆ›å»ºä¸€ä¸ª-Moduleï¼Œé€‰æ‹©ç±»å‹ä¸º-Spring-Initializr-å¿«é€Ÿæ„å»º" class="headerlink" title="(1) åˆ›å»ºä¸€ä¸ª Moduleï¼Œé€‰æ‹©ç±»å‹ä¸º Spring Initializr å¿«é€Ÿæ„å»º"></a>(1) åˆ›å»ºä¸€ä¸ª Moduleï¼Œé€‰æ‹©ç±»å‹ä¸º Spring Initializr å¿«é€Ÿæ„å»º</h5><p><img src="https://img-blog.csdnimg.cn/57b7bd14405e41b2883aa4c8c9ec38a4.png" alt="Spring Initializr"></p><h5 id="è®¾ç½®-GAV-åæ ‡åŠ-pom-é…ç½®ä¿¡æ¯"><a href="#è®¾ç½®-GAV-åæ ‡åŠ-pom-é…ç½®ä¿¡æ¯" class="headerlink" title="è®¾ç½® GAV åæ ‡åŠ pom é…ç½®ä¿¡æ¯"></a>è®¾ç½® GAV åæ ‡åŠ pom é…ç½®ä¿¡æ¯</h5><p><img src="https://img-blog.csdnimg.cn/a2ee19e2e0874eccbf43fdea411b3ce1.png" alt="GAV&amp;pom"></p><h5 id="é€‰æ‹©-Spring-Boot-ç‰ˆæœ¬åŠä¾èµ–"><a href="#é€‰æ‹©-Spring-Boot-ç‰ˆæœ¬åŠä¾èµ–" class="headerlink" title="é€‰æ‹© Spring Boot ç‰ˆæœ¬åŠä¾èµ–"></a>é€‰æ‹© Spring Boot ç‰ˆæœ¬åŠä¾èµ–</h5><p><img src="https://img-blog.csdnimg.cn/a7c48bef10aa4745a509bb7b19a1e97a.png" alt="ç‰ˆæœ¬å·å’Œä¾èµ–"></p><h5 id="è®¾ç½®æ¨¡å—åç§°ã€Content-Root-è·¯å¾„åŠæ¨¡å—æ–‡ä»¶çš„ç›®å½•"><a href="#è®¾ç½®æ¨¡å—åç§°ã€Content-Root-è·¯å¾„åŠæ¨¡å—æ–‡ä»¶çš„ç›®å½•" class="headerlink" title="è®¾ç½®æ¨¡å—åç§°ã€Content Root è·¯å¾„åŠæ¨¡å—æ–‡ä»¶çš„ç›®å½•"></a>è®¾ç½®æ¨¡å—åç§°ã€Content Root è·¯å¾„åŠæ¨¡å—æ–‡ä»¶çš„ç›®å½•</h5><p><img src="https://img-blog.csdnimg.cn/a411abcc8a12421c9b88129c80418ae5.png" alt="åç§°åŠç›®å½•"></p><h5 id="ç‚¹å‡»finishå®Œæˆåˆ›å»º"><a href="#ç‚¹å‡»finishå®Œæˆåˆ›å»º" class="headerlink" title="ç‚¹å‡»finishå®Œæˆåˆ›å»º"></a>ç‚¹å‡»finishå®Œæˆåˆ›å»º</h5><p><img src="https://img-blog.csdnimg.cn/26b8c7a8034d4c48a01b99a25e32a4af.png" alt="é¡¹ç›®ç»“æ„"></p><h4 id="æ ¸å¿ƒé…ç½®æ–‡ä»¶"><a href="#æ ¸å¿ƒé…ç½®æ–‡ä»¶" class="headerlink" title="æ ¸å¿ƒé…ç½®æ–‡ä»¶"></a>æ ¸å¿ƒé…ç½®æ–‡ä»¶</h4><ul><li>è‹¥ä¸¤ç§é…ç½®æ–‡ä»¶åŒæ—¶å­˜åœ¨,ä¼˜å…ˆè¯»å–application.propertiesæ–‡ä»¶</li></ul><p>application.properties</p><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment"># è®¾ç½®ç«¯å£å·</span><span class="token attr-name">server.port</span><span class="token punctuation">=</span><span class="token attr-value">8080</span><span class="token comment"># è®¾ç½®ä¸Šä¸‹æ–‡æ ¹</span><span class="token attr-name">server.servlet.context-path</span><span class="token punctuation">=</span><span class="token attr-value">/</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>application.yaml</p><pre class="line-numbers language-yml" data-language="yml"><code class="language-yml">server:  port: 8081  servlet:    context-path: &#x2F;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç¯å¢ƒé…ç½®"><a href="#ç¯å¢ƒé…ç½®" class="headerlink" title="ç¯å¢ƒé…ç½®"></a>ç¯å¢ƒé…ç½®</h4><h5 id="application-properties"><a href="#application-properties" class="headerlink" title="application.properties"></a>application.properties</h5><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment"># springbootæ ¸å¿ƒä¸»é…ç½®æ–‡ä»¶</span><span class="token comment"># æ¿€æ´»ä½¿ç”¨çš„é…ç½®æ–‡ä»¶</span><span class="token attr-name">spring.profiles.active</span><span class="token punctuation">=</span><span class="token attr-value">test</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>  <span class="token key atrule">profiles</span><span class="token punctuation">:</span>    <span class="token key atrule">active</span><span class="token punctuation">:</span> test<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h5 id="application-dev-properties"><a href="#application-dev-properties" class="headerlink" title="application-dev.properties"></a>application-dev.properties</h5><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment"># å¼€å‘ç¯å¢ƒé…ç½®æ–‡ä»¶</span><span class="token attr-name">server.port</span><span class="token punctuation">=</span><span class="token attr-value">8080</span><span class="token attr-name">server.servlet.context-path</span><span class="token punctuation">=</span><span class="token attr-value">/dev</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>  <span class="token key atrule">servlet</span><span class="token punctuation">:</span>    <span class="token key atrule">context-path</span><span class="token punctuation">:</span> /dev<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h5 id="application-product-properties"><a href="#application-product-properties" class="headerlink" title="application-product.properties"></a>application-product.properties</h5><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment"># ç”Ÿäº§ç¯å¢ƒé…ç½®æ–‡ä»¶</span><span class="token attr-name">server.port</span><span class="token punctuation">=</span><span class="token attr-value">9090</span><span class="token attr-name">server.servlet.context-path</span><span class="token punctuation">=</span><span class="token attr-value">/product</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">9090</span>  <span class="token key atrule">servlet</span><span class="token punctuation">:</span>    <span class="token key atrule">context-path</span><span class="token punctuation">:</span> /product<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h5 id="application-ready-properties"><a href="#application-ready-properties" class="headerlink" title="application-ready.properties"></a>application-ready.properties</h5><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment"># å‡†ç”Ÿäº§ç¯å¢ƒé…ç½®æ–‡ä»¶</span><span class="token attr-name">server.port</span><span class="token punctuation">=</span><span class="token attr-value">8082</span><span class="token attr-name">server.servlet.context-path</span><span class="token punctuation">=</span><span class="token attr-value">/ready</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8082</span>  <span class="token key atrule">servlet</span><span class="token punctuation">:</span>    <span class="token key atrule">context-path</span><span class="token punctuation">:</span> /test<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h5 id="application-test-properties"><a href="#application-test-properties" class="headerlink" title="application-test.properties"></a>application-test.properties</h5><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment">#æµ‹è¯•ç¯å¢ƒé…ç½®æ–‡ä»¶</span><span class="token attr-name">server.port</span><span class="token punctuation">=</span><span class="token attr-value">8081</span><span class="token attr-name">server.servlet.context-path</span><span class="token punctuation">=</span><span class="token attr-value">/test</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">server</span><span class="token punctuation">:</span>  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span>  <span class="token key atrule">servlet</span><span class="token punctuation">:</span>    <span class="token key atrule">context-path</span><span class="token punctuation">:</span> /test<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h5 id="è·å–è‡ªå®šä¹‰é…ç½®"><a href="#è·å–è‡ªå®šä¹‰é…ç½®" class="headerlink" title="è·å–è‡ªå®šä¹‰é…ç½®"></a>è·å–è‡ªå®šä¹‰é…ç½®</h5><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">school.name</span><span class="token punctuation">=</span><span class="token attr-value">bjpowernode</span><span class="token attr-name">websit</span><span class="token punctuation">=</span><span class="token attr-value">http://www.baidu.com</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;school.name&#125;"</span><span class="token punctuation">)</span><span class="token keyword">private</span> <span class="token class-name">String</span> schooName<span class="token punctuation">;</span><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"$&#123;websit&#125;"</span><span class="token punctuation">)</span><span class="token keyword">private</span> <span class="token class-name">String</span> websit<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å¤šä¸ªè‡ªå®šä¹‰é…ç½®åŒºåˆ†"><a href="#å¤šä¸ªè‡ªå®šä¹‰é…ç½®åŒºåˆ†" class="headerlink" title="å¤šä¸ªè‡ªå®šä¹‰é…ç½®åŒºåˆ†"></a>å¤šä¸ªè‡ªå®šä¹‰é…ç½®åŒºåˆ†</h4><ul><li>@ConfigurationProperties(prefix = â€œabcâ€) æ³¨è§£è®¾ç½®å‰ç¼€</li></ul><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">school.name</span><span class="token punctuation">=</span><span class="token attr-value">bjpowernode</span><span class="token attr-name">school.websit</span><span class="token punctuation">=</span><span class="token attr-value">http://www.baidu.com</span><span class="token attr-name">abc.name</span><span class="token punctuation">=</span><span class="token attr-value">abc</span><span class="token attr-name">abc.websit</span><span class="token punctuation">=</span><span class="token attr-value">http:www.abc.com</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"abc"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Abc</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> websit<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="SpringBootç»§æ‰¿JSP"><a href="#SpringBootç»§æ‰¿JSP" class="headerlink" title="SpringBootç»§æ‰¿JSP"></a>SpringBootç»§æ‰¿JSP</h4><ul><li>å»ºç«‹webappæ–‡ä»¶å¤¹</li></ul><p><img src="https://img-blog.csdnimg.cn/c3d822d1ea9d4ff4980b3afa348b486d.png" alt="webappè®¾ç½®æ­¥éª¤"></p><ul><li>åŠ å…¥ä¾èµ–</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.tomcat.embed<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>tomcat-embed-jasper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æ‰‹åŠ¨ç½®é¡¶jspç¼–è¯‘ä½ç½®</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">></span></span>src/main/webapp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>targetPath</span><span class="token punctuation">></span></span>META-INF/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>targetPath</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">></span></span>*.*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>é…ç½®è§†å›¾è§£æå™¨</li></ul><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">spring.mvc.view.prefix</span><span class="token punctuation">=</span><span class="token attr-value">/</span><span class="token attr-name">spring.mvc.view.suffix</span><span class="token punctuation">=</span><span class="token attr-value">.jsp</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>IndexController</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Controller</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">IndexController</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/say"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">ModelAndView</span> modelAndView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModelAndView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        modelAndView<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span><span class="token string">"Hello Springboot jsp"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        modelAndView<span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">"say"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> modelAndView<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/index"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        model<span class="token punctuation">.</span><span class="token function">addAttribute</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span><span class="token string">"HelloWorld"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"say"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>say.jsp</p><pre class="line-numbers language-jsp" data-language="jsp"><code class="language-jsp">&lt;%@ page contentType&#x3D;&quot;text&#x2F;html;charset&#x3D;UTF-8&quot; language&#x3D;&quot;java&quot; %&gt;&lt;html&gt;&lt;head&gt;    &lt;title&gt;Title&lt;&#x2F;title&gt;&lt;&#x2F;head&gt;&lt;body&gt;&lt;h3&gt;$&#123;message&#125;&lt;&#x2F;h3&gt;&lt;&#x2F;body&gt;&lt;&#x2F;html&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Spring-Boot-æ¡†æ¶-Web-å¼€å‘"><a href="#Spring-Boot-æ¡†æ¶-Web-å¼€å‘" class="headerlink" title="Spring Boot æ¡†æ¶ Web å¼€å‘"></a>Spring Boot æ¡†æ¶ Web å¼€å‘</h3><h4 id="Spring-Boot-é›†æˆ-MyBatis"><a href="#Spring-Boot-é›†æˆ-MyBatis" class="headerlink" title="Spring Boot é›†æˆ MyBatis"></a>Spring Boot é›†æˆ MyBatis</h4><p><img src="https://img-blog.csdnimg.cn/4a513ca475974120a7f49c0dc85250ff.png" alt="ç›®å½•ç»“æ„"></p><ul><li>æ·»åŠ mybatisä¾èµ–,MySQLé©±åŠ¨</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.mybatis.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mysql.version</span><span class="token punctuation">></span></span>8.0.17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mysql.version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>GeneratorMapper.xml(Mybatisé€†å‘å·¥ç¨‹)</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">generatorConfiguration</span>        <span class="token name">PUBLIC</span> <span class="token string">"-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN"</span>        <span class="token string">"http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd"</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>generatorConfiguration</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!-- æŒ‡å®šè¿æ¥æ•°æ®åº“çš„ JDBC é©±åŠ¨åŒ…æ‰€åœ¨ä½ç½®ï¼ŒæŒ‡å®šåˆ°ä½ æœ¬æœºçš„å®Œæ•´è·¯å¾„ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>classPathEntry</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>F:\javabook\mysql-connector-java-8.0.17.jar<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token comment">&lt;!-- é…ç½® table è¡¨ä¿¡æ¯å†…å®¹ä½“ï¼ŒtargetRuntime æŒ‡å®šé‡‡ç”¨ MyBatis3 çš„ç‰ˆæœ¬ --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>tables<span class="token punctuation">"</span></span> <span class="token attr-name">targetRuntime</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>MyBatis3<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- æŠ‘åˆ¶ç”Ÿæˆæ³¨é‡Šï¼Œç”±äºç”Ÿæˆçš„æ³¨é‡Šéƒ½æ˜¯è‹±æ–‡çš„ï¼Œå¯ä»¥ä¸è®©å®ƒç”Ÿæˆ --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>commentGenerator</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>suppressAllComments<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>commentGenerator</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- é…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯ --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jdbcConnection</span> <span class="token attr-name">driverClass</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.mysql.cj.jdbc.Driver<span class="token punctuation">"</span></span>                        <span class="token attr-name">connectionURL</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jdbc:mysql://localhost:3306/springboot?useSSL=false<span class="token entity named-entity" title="&amp;">&amp;amp;</span>serverTimezone=UTC<span class="token punctuation">"</span></span>                        <span class="token attr-name">userId</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>root<span class="token punctuation">"</span></span>                        <span class="token attr-name">password</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jdbcConnection</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- ç”Ÿæˆ model ç±»ï¼ŒtargetPackage æŒ‡å®š model ç±»çš„åŒ…åï¼Œ targetProject æŒ‡å®š        ç”Ÿæˆçš„ model æ”¾åœ¨ eclipse çš„å“ªä¸ªå·¥ç¨‹ä¸‹é¢--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>javaModelGenerator</span> <span class="token attr-name">targetPackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.springboot.model<span class="token punctuation">"</span></span>                            <span class="token attr-name">targetProject</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>src/main/java<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>enableSubPackages<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>trimStrings<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>javaModelGenerator</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- ç”Ÿæˆ MyBatis çš„ Mapper.xml æ–‡ä»¶ï¼ŒtargetPackage æŒ‡å®š mapper.xml æ–‡ä»¶çš„        åŒ…åï¼Œ targetProject æŒ‡å®šç”Ÿæˆçš„ mapper.xml æ”¾åœ¨ eclipse çš„å“ªä¸ªå·¥ç¨‹ä¸‹é¢ --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>sqlMapGenerator</span> <span class="token attr-name">targetPackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.springboot.mapper<span class="token punctuation">"</span></span>                         <span class="token attr-name">targetProject</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>src/main/java<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>enableSubPackages<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>sqlMapGenerator</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- ç”Ÿæˆ MyBatis çš„ Mapper æ¥å£ç±»æ–‡ä»¶,targetPackage æŒ‡å®š Mapper æ¥å£ç±»çš„åŒ…        åï¼Œ targetProject æŒ‡å®šç”Ÿæˆçš„ Mapper æ¥å£æ”¾åœ¨ eclipse çš„å“ªä¸ªå·¥ç¨‹ä¸‹é¢ --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>javaClientGenerator</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>XMLMAPPER<span class="token punctuation">"</span></span>                             <span class="token attr-name">targetPackage</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.springboot.mapper<span class="token punctuation">"</span></span> <span class="token attr-name">targetProject</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>src/main/java<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>enableSubPackages<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>javaClientGenerator</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!-- æ•°æ®åº“è¡¨ååŠå¯¹åº”çš„ Java æ¨¡å‹ç±»å --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>table</span> <span class="token attr-name">tableName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>t_student<span class="token punctuation">"</span></span> <span class="token attr-name">domainObjectName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Student<span class="token punctuation">"</span></span>               <span class="token attr-name">enableCountByExample</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span>               <span class="token attr-name">enableUpdateByExample</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span>               <span class="token attr-name">enableDeleteByExample</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span>               <span class="token attr-name">enableSelectByExample</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span>               <span class="token attr-name">selectByExampleQueryId</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>generatorConfiguration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/25c560efe2cc4e13bc84c07d56cb1847.png" alt="generator"></p><ul><li>è®¾ç½®è¿æ¥æ•°æ®åº“é…ç½®</li></ul><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">spring.datasource.driver-class-name</span><span class="token punctuation">=</span><span class="token attr-value">com.mysql.cj.jdbc.Driver</span><span class="token attr-name">spring.datasource.url</span><span class="token punctuation">=</span><span class="token attr-value">jdbc:mysql://localhost:3306/springboot?useSSL=false&amp;serverTimezone=UTCallowPublicKeyRetrieval=true</span><span class="token attr-name">spring.datasource.username</span><span class="token punctuation">=</span><span class="token attr-value">root</span><span class="token attr-name">spring.datasource.password</span><span class="token punctuation">=</span><span class="token attr-value">hxl158120</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>springbootæ‰‹åŠ¨æŒ‡å®šèµ„æºæ–‡ä»¶å¤¹ä¸ºresources</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">></span></span>src/main/java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">></span></span>**/*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å¯åŠ¨æ•°æ®åº“<code>./mysqld_safe &amp;</code></li></ul><h5 id="Mapperæ˜ å°„æ–‡ä»¶å­˜æ”¾ä½ç½®ç¬¬äºŒç§æ–¹å¼"><a href="#Mapperæ˜ å°„æ–‡ä»¶å­˜æ”¾ä½ç½®ç¬¬äºŒç§æ–¹å¼" class="headerlink" title="Mapperæ˜ å°„æ–‡ä»¶å­˜æ”¾ä½ç½®ç¬¬äºŒç§æ–¹å¼"></a>Mapperæ˜ å°„æ–‡ä»¶å­˜æ”¾ä½ç½®ç¬¬äºŒç§æ–¹å¼</h5><p><img src="https://img-blog.csdnimg.cn/61ed1f053b054eaf81aa205540527490.png" alt="ç›®å½•ç»“æ„"></p><ul><li>æŒ‡å®šmybatisæ˜ å°„æ–‡ä»¶çš„è·¯å¾„</li></ul><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">mybatis.mapper-locations</span><span class="token punctuation">=</span><span class="token attr-value">classpath:mapper/*.xml</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li> æŒ‡å®šåä¸ç”¨åœ¨pomæ–‡ä»¶ä¸­æ‰‹åŠ¨æŒ‡å®šèµ„æºæ–‡ä»¶å¤¹ä¸ºresources</li></ul><h4 id="SpringBoot-äº‹åŠ¡æ”¯æŒ"><a href="#SpringBoot-äº‹åŠ¡æ”¯æŒ" class="headerlink" title="SpringBoot äº‹åŠ¡æ”¯æŒ"></a>SpringBoot äº‹åŠ¡æ”¯æŒ</h4><p>Spring Boot ä½¿ç”¨äº‹åŠ¡éå¸¸ç®€å•ï¼Œåº•å±‚ä¾ç„¶é‡‡ç”¨çš„æ˜¯ Spring æœ¬èº«æä¾›çš„äº‹åŠ¡ç®¡ç†</p><p> â¢ åœ¨å…¥å£ç±»ä¸­ä½¿ç”¨æ³¨è§£ @EnableTransactionManagement å¼€å¯äº‹åŠ¡æ”¯æŒ</p><p> â¢ åœ¨è®¿é—®æ•°æ®åº“çš„ Service æ–¹æ³•ä¸Šæ·»åŠ æ³¨è§£ @Transactional å³å¯</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">StudentService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">StudentMapper</span> studentMapper<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Transactional</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">updateStudentById</span><span class="token punctuation">(</span><span class="token class-name">Student</span> student<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> studentMapper<span class="token punctuation">.</span><span class="token function">updateByPrimaryKeySelective</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> i<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Spring-Boot-ä¸‹çš„-Spring-MVC"><a href="#Spring-Boot-ä¸‹çš„-Spring-MVC" class="headerlink" title="Spring Boot ä¸‹çš„ Spring MVC"></a>Spring Boot ä¸‹çš„ Spring MVC</h4><ul><li>ä¸åŒçš„è¯·æ±‚æ–¹å¼</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>springboot<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>springboot<span class="token punctuation">.</span>model<span class="token punctuation">.</span></span><span class="token class-name">Student</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Controller</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>sql<span class="token punctuation">.</span></span><span class="token class-name">ResultSet</span><span class="token punctuation">;</span><span class="token comment">//@Controller</span><span class="token annotation punctuation">@RestController</span> <span class="token comment">//ç›¸å½“äº   @Controller åŠ  @ResponseBody, æ„å‘³ç€æ§åˆ¶å±‚ç±»ä¸­çš„æ‰€æœ‰æ–¹æ³•è¿”å›å•éƒ½æ˜¯JSONå¯¹è±¡</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentController</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/student"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">Student</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        student<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">1001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        student<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"zhangsan"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> student<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/queryStudentById"</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>GET<span class="token punctuation">,</span><span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>POST<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">queryStudentById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">Student</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        student<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> student<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//@RequestMapping(value = "/queryStudentById2",method = RequestMethod.GET)</span>    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/queryStudentById2"</span><span class="token punctuation">)</span> <span class="token comment">//ç›¸å½“äºä¸Šå¥ä»£ç </span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">queryStudentById2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"Only GET Method"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//@RequestMapping(value = "/insert",method = RequestMethod.POST)</span>    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/insert"</span><span class="token punctuation">)</span> <span class="token comment">//ç›¸å½“äºä¸Šå¥ä»£ç </span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"Insert Success"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//@RequestMapping(value = "/delete",method = RequestMethod.DELETE)</span>    <span class="token annotation punctuation">@DeleteMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/delete"</span><span class="token punctuation">)</span> <span class="token comment">//ç›¸å½“äºä¸Šå¥ä»£ç </span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"Delete Success"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//@RequestMapping(value = "/update",method = RequestMethod.PUT)</span>  <span class="token annotation punctuation">@PutMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/update"</span><span class="token punctuation">)</span> <span class="token comment">//ç›¸å½“äºä¸Šå¥ä»£ç </span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"Update Success"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Spring-Bootå®ç°RESTful"><a href="#Spring-Bootå®ç°RESTful" class="headerlink" title="Spring Bootå®ç°RESTful"></a>Spring Bootå®ç°RESTful</h4><ul><li><p>æ¯”å¦‚æˆ‘ä»¬è¦è®¿é—®ä¸€ä¸ª http æ¥å£ï¼š<a href="http://localhost:8080/boot/order?id=1021&amp;status=1">http://localhost:8080/boot/order?id=1021&amp;status=1</a></p></li><li><p>é‡‡ç”¨ RESTFul é£æ ¼åˆ™ http åœ°å€ä¸ºï¼š<a href="http://localhost:8080/boot/order/1021/1">http://localhost:8080/boot/order/1021/1</a></p></li></ul><h5 id="è¯·æ±‚å†²çªçš„é—®é¢˜"><a href="#è¯·æ±‚å†²çªçš„é—®é¢˜" class="headerlink" title="è¯·æ±‚å†²çªçš„é—®é¢˜"></a>è¯·æ±‚å†²çªçš„é—®é¢˜</h5><p>â¢ æ”¹è·¯å¾„ (è¯·æ±‚å‚æ•°çš„ä½ç½®æ¢ä½ç½®)</p><p>â¢ æ”¹è¯·æ±‚æ–¹å¼ (GET,POST,DELETE,POST)</p><h5 id="RESTful-åŸåˆ™"><a href="#RESTful-åŸåˆ™" class="headerlink" title="RESTful åŸåˆ™"></a>RESTful åŸåˆ™</h5><p>â¢ å¢ post è¯·æ±‚ã€åˆ  delete è¯·æ±‚ã€æ”¹ put è¯·æ±‚ã€æŸ¥ get è¯·æ±‚</p><p>â¢ è¯·æ±‚è·¯å¾„ä¸è¦å‡ºç°åŠ¨è¯</p><ul><li>ä¾‹å¦‚ï¼šæŸ¥è¯¢è®¢å•æ¥å£ /boot/order/1021/1ï¼ˆæ¨èï¼‰</li><li> /boot/queryOrder/1021/1ï¼ˆä¸æ¨èï¼‰ </li></ul><p>â¢ åˆ†é¡µã€æ’åºç­‰æ“ä½œï¼Œä¸éœ€è¦ä½¿ç”¨æ–œæ ä¼ å‚æ•°</p><ul><li>ä¾‹å¦‚ï¼šè®¢å•åˆ—è¡¨æ¥å£ /boot/orders?page=1&amp;sort=desc</li><li> ä¸€èˆ¬ä¼ çš„å‚æ•°ä¸æ˜¯æ•°æ®åº“è¡¨çš„å­—æ®µï¼Œå¯ä»¥ä¸é‡‡ç”¨æ–œæ </li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentController</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/student"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">student</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">,</span><span class="token class-name">Integer</span> age<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">Student</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        student<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        student<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> student<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/student/Detail/&#123;id&#125;/&#123;age&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">student1</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">,</span>                           <span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> age<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> retMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        retMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"id"</span> <span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        retMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"age"</span> <span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> retMap<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token annotation punctuation">@DeleteMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/student/Detail/&#123;id&#125;/&#123;status&#125;"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">student2</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">,</span>                       <span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"status"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> status<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> retMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    retMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"id"</span> <span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    retMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"status"</span> <span class="token punctuation">,</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> retMap<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token annotation punctuation">@DeleteMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/student/&#123;id&#125;/Detail/&#123;city&#125;"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">student3</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">,</span>                       <span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"city"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> city<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> retMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    retMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"id"</span> <span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    retMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"city"</span> <span class="token punctuation">,</span>city<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> retMap<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/student/&#123;id&#125;"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">addStudent</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"add Student ID"</span> <span class="token operator">+</span> id<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span class="token annotation punctuation">@PutMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/student/&#123;id&#125;"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">updateStudent</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token string">"update Student ID"</span> <span class="token operator">+</span> id<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Spring-Boot-é›†æˆ-Redis"><a href="#Spring-Boot-é›†æˆ-Redis" class="headerlink" title="Spring Boot é›†æˆ Redis"></a>Spring Boot é›†æˆ Redis</h4><ul><li>æ·»åŠ springbootç»§æ‰¿redisä¾èµ–</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-data-redis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>è®¾ç½®redisé…ç½®ä¿¡æ¯</li></ul><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment">#è®¾ç½®redisé…ç½®ä¿¡æ¯</span><span class="token attr-name">spring.redis.host</span><span class="token punctuation">=</span><span class="token attr-value">192.168.174.131</span><span class="token attr-name">spring.redis.port</span><span class="token punctuation">=</span><span class="token attr-value">6379</span><span class="token attr-name">spring.redis.password</span><span class="token punctuation">=</span><span class="token attr-value">123456</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">StudentService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">RedisTemplate</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">,</span><span class="token class-name">Object</span><span class="token punctuation">></span></span> redisTemplate<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">,</span> <span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getkey</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> count <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> count<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getkeyplus</span><span class="token punctuation">(</span><span class="token class-name">String</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> valueplus <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> valueplus<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å¯åŠ¨Redis<code>./redis-server ../redis.conf &amp; ./redis-cli -a 123456 -h 192.168.174.131</code></li></ul><h4 id="SpringBooté›†æˆdubbo"><a href="#SpringBooté›†æˆdubbo" class="headerlink" title="SpringBooté›†æˆdubbo"></a>SpringBooté›†æˆdubbo</h4><ul><li>æ¥å£å·¥ç¨‹:å­˜æ”¾å®ä½“beanå’Œä¸šåŠ¡æ¥å£</li><li>æœåŠ¡æä¾›è€…: ä¸šåŠ¡æ¥å£çš„å®ç°ç±»å¹¶å°†æœåŠ¡æš´éœ²ä¸”æ³¨å†Œåˆ°æ³¨å†Œä¸­å¿ƒ,è°ƒç”¨æ•°æ®æŒä¹…å±‚<ul><li>æ·»åŠ ä¾èµ–(dubbo,æ³¨å†Œä¸­å¿ƒ,æ¥å£å·¥ç¨‹)</li><li>é…ç½®æœåŠ¡æä¾›è€…æ ¸å¿ƒé…ç½®æ–‡ä»¶</li><li>æœåŠ¡æ¶ˆè´¹è€…:å¤„ç†æµè§ˆå™¨å®¢æˆ·ç«¯å‘é€çš„è¯·æ±‚,ä»æ³¨å†Œä¸­å¿ƒè°ƒç”¨æœåŠ¡æä¾›è€…æ‰€æä¾›çš„æœåŠ¡<ul><li>æ·»åŠ ä¾èµ–(dubbo,æ³¨å†Œä¸­å¿ƒ,æ¥å£å·¥ç¨‹)</li><li>é…ç½®æœåŠ¡æ¶ˆè´¹è€…æ ¸å¿ƒé…ç½®æ–‡ä»¶</li></ul></li></ul></li></ul><p><img src="https://img-blog.csdnimg.cn/d291ba993c7e424e81722d7c8ce04a94.png" alt="interface+provider"></p><p><img src="https://img-blog.csdnimg.cn/139618e7b3784c82b7115bc4ab6e24e3.png" alt="consumer"></p><h5 id="020-springboot-dubbo-interface"><a href="#020-springboot-dubbo-interface" class="headerlink" title="020-springboot-dubbo-interface"></a>020-springboot-dubbo-interface</h5><p>StudentService</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">StudentService</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * è·å–å­¦ç”Ÿæ€»äººæ•°     * @return     */</span>    <span class="token class-name">Integer</span> <span class="token function">queryAllStudentCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>pom.xml</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.bjpowernode.springboot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>020-springboot-dubbo-interface<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h5 id="021-springboot-dubbo-provider"><a href="#021-springboot-dubbo-provider" class="headerlink" title="021-springboot-dubbo-provider"></a>021-springboot-dubbo-provider</h5><p>pom.xml</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--SpringBootæ¡†æ¶webé¡¹ç›®èµ·æ­¥ä¾èµ–--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--Dubboé›†æˆSpringBootæ¡†æ¶èµ·æ­¥ä¾èµ–--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>dubbo-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--æ³¨å†Œä¸­å¿ƒ--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.101tec<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>zkclient<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>0.10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--æ¥å£å·¥ç¨‹--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.bjpowernode.springboot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>020-springboot-dubbo-interface<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>StudentServiceImpl</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>alibaba<span class="token punctuation">.</span>dubbo<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Service</span><span class="token punctuation">;</span><span class="token comment">//(dubboçš„@service)</span><span class="token annotation punctuation">@Component</span><span class="token annotation punctuation">@Service</span><span class="token punctuation">(</span>interfaceClass <span class="token operator">=</span> <span class="token class-name">StudentService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>version <span class="token operator">=</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>timeout <span class="token operator">=</span> <span class="token number">15000</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">StudentService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">queryAllStudentCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token number">1250</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>application.properties</p><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment">#è®¾ç½®å†…åµŒTomcatç«¯å£å·</span><span class="token attr-name">server.port</span><span class="token punctuation">=</span><span class="token attr-value">8081</span><span class="token comment">#è®¾ç½®ä¸Šä¸‹æ–‡æ ¹</span><span class="token attr-name">server.servlet.context-path</span><span class="token punctuation">=</span><span class="token attr-value">/</span><span class="token comment">#è®¾ç½®dubboçš„é…ç½®</span><span class="token attr-name">spring.application.name</span><span class="token punctuation">=</span><span class="token attr-value">021-springboot-dubbo-provider</span><span class="token comment">#å½“å‰å·¥ç¨‹æ˜¯ä¸€ä¸ªæœåŠ¡æä¾›è€…</span><span class="token attr-name">spring.dubbo.server</span><span class="token punctuation">=</span><span class="token attr-value">true</span><span class="token comment">#è®¾ç½®æ³¨å†Œä¸­å¿ƒ</span><span class="token attr-name">spring.dubbo.registry</span><span class="token punctuation">=</span><span class="token attr-value">zookeeper://192.168.174.131:2181</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h5 id="022-springboot-dubbo-consumer"><a href="#022-springboot-dubbo-consumer" class="headerlink" title="022-springboot-dubbo-consumer"></a>022-springboot-dubbo-consumer</h5><p>pom.xml</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--SpringBootæ¡†æ¶webé¡¹ç›®èµ·æ­¥ä¾èµ–--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--Dubboé›†æˆSpringBootæ¡†æ¶èµ·æ­¥ä¾èµ–--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>dubbo-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--æ³¨å†Œä¸­å¿ƒ--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.101tec<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>zkclient<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>0.10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--æ¥å£å·¥ç¨‹--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.bjpowernode.springboot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>020-springboot-dubbo-interface<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>StudentController</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Controller</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentController</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Reference</span><span class="token punctuation">(</span>interfaceClass <span class="token operator">=</span> <span class="token class-name">StudentService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>version <span class="token operator">=</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>check <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token class-name">StudentService</span> studentService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/student/count"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token annotation punctuation">@ResponseBody</span> <span class="token class-name">Object</span> <span class="token function">studentCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Integer</span> allStudentCount <span class="token operator">=</span> studentService<span class="token punctuation">.</span><span class="token function">queryAllStudentCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"å­¦ç”Ÿæ€»äººæ•°ä¸º:"</span><span class="token operator">+</span>allStudentCount<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>application.properties</p><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment">#è®¾ç½®å†…åµŒTomcatç«¯å£å·</span><span class="token attr-name">server.port</span><span class="token punctuation">=</span><span class="token attr-value">8080</span><span class="token attr-name">server.servlet.context-path</span><span class="token punctuation">=</span><span class="token attr-value">/</span><span class="token comment">#è®¾ç½®dubboé…ç½®</span><span class="token attr-name">spring.application.name</span><span class="token punctuation">=</span><span class="token attr-value">022-springboot-dubbo-consumer</span><span class="token comment">#æŒ‡å®šæ³¨å†Œä¸­å¿ƒ</span><span class="token attr-name">spring.dubbo.registry</span><span class="token punctuation">=</span><span class="token attr-value">zookeeper://192.168.174.131:2181</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¯åŠ¨zookeeperæœåŠ¡<code>./zkServer.sh start</code></p><h3 id="SpringBootåˆ›å»ºéwebå·¥ç¨‹-äº†è§£"><a href="#SpringBootåˆ›å»ºéwebå·¥ç¨‹-äº†è§£" class="headerlink" title="SpringBootåˆ›å»ºéwebå·¥ç¨‹(äº†è§£)"></a>SpringBootåˆ›å»ºéwebå·¥ç¨‹(äº†è§£)</h3><p>StudentService</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">StudentService</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">String</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>StudentServiceImpl</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">StudentService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"Say Hello"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Application</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// ç¬¬ä¸€ç§æ–¹å¼</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token keyword">implements</span> <span class="token class-name">CommandLineRunner</span> <span class="token punctuation">&#123;</span><span class="token annotation punctuation">@Autowired</span><span class="token keyword">private</span> <span class="token class-name">StudentService</span> studentService<span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token annotation punctuation">@Override</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span><span class="token class-name">String</span> world <span class="token operator">=</span> studentService<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token string">"world"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>world<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// ç¬¬äºŒç§æ–¹å¼</span><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token class-name">ConfigurableApplicationContext</span> applicationContext <span class="token operator">=</span> <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">StudentService</span> studentService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">StudentService</span><span class="token punctuation">)</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"studentServiceImpl"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">String</span> sayHello <span class="token operator">=</span> studentService<span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sayHello<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="SpringBootä½¿ç”¨æ‹¦æˆªå™¨-äº†è§£"><a href="#SpringBootä½¿ç”¨æ‹¦æˆªå™¨-äº†è§£" class="headerlink" title="SpringBootä½¿ç”¨æ‹¦æˆªå™¨(äº†è§£)"></a>SpringBootä½¿ç”¨æ‹¦æˆªå™¨(äº†è§£)</h3><ul><li>å®šä¹‰ä¸€ä¸ªæ‹¦æˆªå™¨,å®ç°<code>HandlerInterceptor</code>æ¥å£</li><li>åˆ›å»ºä¸€ä¸ªé…ç½®ç±»</li></ul><p><img src="https://img-blog.csdnimg.cn/25ed2bd63d2e470980ed2e4263c27280.png" alt="ç›®å½•ç»“æ„"></p><p>InterceptorConfig</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span> <span class="token comment">//å®šä¹‰æ­¤ç±»ä¸ºé…ç½®ç±»(ç›¸å½“äºxmlæ–‡ä»¶)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InterceptorConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addInterceptors</span><span class="token punctuation">(</span><span class="token class-name">InterceptorRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//æ‹¦æˆªuserä¸‹çš„æ‰€æœ‰è¯·æ±‚</span>        <span class="token class-name">String</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> addPathPatterns <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token string">"/user/**"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token comment">//è¦æ’é™¤çš„è·¯å¾„</span>        <span class="token class-name">String</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> excludePathPatterns <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token string">"user/out"</span><span class="token punctuation">,</span><span class="token string">"/user/error"</span><span class="token punctuation">,</span><span class="token string">"/user/login"</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        registry<span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">UserInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addPathPatterns</span><span class="token punctuation">(</span>addPathPatterns<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">excludePathPatterns</span><span class="token punctuation">(</span>excludePathPatterns<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>UserInterceptor</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"------------è¿›å…¥æ‹¦æˆªå™¨--------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">User</span><span class="token punctuation">)</span> request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">null</span> <span class="token operator">==</span> user<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            response<span class="token punctuation">.</span><span class="token function">sendRedirect</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span><span class="token function">getContextPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"/user/error"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token class-name">ModelAndView</span> modelAndView<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterCompletion</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>User</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> username<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> id<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getUsername</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> username<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>username <span class="token operator">=</span> username<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>UserController</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Controller</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/user"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//ç”¨æˆ·ç™»å½•çš„è¯·æ±‚</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/login"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token annotation punctuation">@ResponseBody</span> <span class="token class-name">Object</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//å°†ç”¨æˆ·ä¿¡æ¯å­˜æ”¾åˆ°sessionä¸­</span>        <span class="token class-name">User</span> user <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        user<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">1001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        user<span class="token punctuation">.</span><span class="token function">setUsername</span><span class="token punctuation">(</span><span class="token string">"zhangsan"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        request<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"user"</span><span class="token punctuation">,</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span>  <span class="token string">"login Success"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//è¯¥è¯·æ±‚ç”¨æˆ·ç™»å½•åæ‰å¯ä»¥è®¿é—®</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"center"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@ResponseBody</span>    <span class="token keyword">public</span>  <span class="token class-name">Object</span> <span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"See Center Message"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//è¯¥è¯·æ±‚ä¸ç™»å½•ä¹Ÿå¯ä»¥è®¿é—®</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/out"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token annotation punctuation">@ResponseBody</span> <span class="token class-name">Object</span> <span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"out see anytime"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å¦‚æœç”¨æˆ·æœªç™»å½•è®¿é—®äº†éœ€è¦ç™»å½•æ‰å¯è®¿é—®çš„è¯·æ±‚,ä¹‹åä¼šè·³è½¬åˆ°è¯¥é¡µé¢</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/error"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@ResponseBody</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">erroe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"error"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Spring-Boot-ä¸­ä½¿ç”¨-Servletï¼ˆäº†è§£ï¼‰"><a href="#Spring-Boot-ä¸­ä½¿ç”¨-Servletï¼ˆäº†è§£ï¼‰" class="headerlink" title="Spring Boot ä¸­ä½¿ç”¨ Servletï¼ˆäº†è§£ï¼‰"></a>Spring Boot ä¸­ä½¿ç”¨ Servletï¼ˆäº†è§£ï¼‰</h3><ul><li>åˆ›å»ºä¸€ä¸ªServletä»–è¦ç»§æ‰¿HttpServlet</li><li>åœ¨web.xmlé…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨servlet,servlet-mapping(æ³¨è§£)</li></ul><h4 id="ç¬¬ä¸€ç§æ–¹å¼-æ³¨è§£"><a href="#ç¬¬ä¸€ç§æ–¹å¼-æ³¨è§£" class="headerlink" title="ç¬¬ä¸€ç§æ–¹å¼:æ³¨è§£"></a>ç¬¬ä¸€ç§æ–¹å¼:æ³¨è§£</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">"/myServlet"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"MySpringBoot Servlet-1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@ServletComponentScan</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token string">"com.bjpowernode.springboot.servlet"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç¬¬äºŒç§æ–¹å¼-é…ç½®ç±»"><a href="#ç¬¬äºŒç§æ–¹å¼-é…ç½®ç±»" class="headerlink" title="ç¬¬äºŒç§æ–¹å¼(é…ç½®ç±»)"></a>ç¬¬äºŒç§æ–¹å¼(é…ç½®ç±»)</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"My SpringBoot Servlet -2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">ServletRegistrationBean</span> <span class="token function">myServletRegistrationBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">ServletRegistrationBean</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Servlet</span><span class="token punctuation">></span></span> servletServletRegistrationBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServletRegistrationBean</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"/myServlet"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> servletServletRegistrationBean<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Spring-Boot-ä¸­ä½¿ç”¨-Filterï¼ˆäº†è§£ï¼‰"><a href="#Spring-Boot-ä¸­ä½¿ç”¨-Filterï¼ˆäº†è§£ï¼‰" class="headerlink" title="Spring Boot ä¸­ä½¿ç”¨ Filterï¼ˆäº†è§£ï¼‰"></a>Spring Boot ä¸­ä½¿ç”¨ Filterï¼ˆäº†è§£ï¼‰</h3><h4 id="ç¬¬ä¸€ç§æ–¹å¼-æ³¨è§£-1"><a href="#ç¬¬ä¸€ç§æ–¹å¼-æ³¨è§£-1" class="headerlink" title="ç¬¬ä¸€ç§æ–¹å¼(æ³¨è§£)"></a>ç¬¬ä¸€ç§æ–¹å¼(æ³¨è§£)</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@WebFilter</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">"/myfilter"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"--------------è¿‡æ»¤å™¨---------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>servletRequest<span class="token punctuation">,</span> servletResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@ServletComponentScan</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token string">"com.bjpowernode.springboot.filter"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç¬¬äºŒç§æ–¹å¼-æ³¨å†Œç»„ä»¶"><a href="#ç¬¬äºŒç§æ–¹å¼-æ³¨å†Œç»„ä»¶" class="headerlink" title="ç¬¬äºŒç§æ–¹å¼(æ³¨å†Œç»„ä»¶)"></a>ç¬¬äºŒç§æ–¹å¼(æ³¨å†Œç»„ä»¶)</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FilterConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">FilterRegistrationBean</span> <span class="token function">myFilterRegistrationBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//æ³¨å†Œè¿‡æ»¤å™¨</span>        <span class="token class-name">FilterRegistrationBean</span> filterRegistrationBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FilterRegistrationBean</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ·»åŠ è¿‡æ»¤è·¯å¾„</span>        filterRegistrationBean<span class="token punctuation">.</span><span class="token function">addUrlPatterns</span><span class="token punctuation">(</span><span class="token string">"/user/*"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// **ä¸ç”Ÿæ•ˆ</span>        <span class="token keyword">return</span>  filterRegistrationBean<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"-----------------filter----------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>servletRequest<span class="token punctuation">,</span> servletResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Controller</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserController</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/user/detail"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@ResponseBody</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">userDetail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"/user/detail"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/center"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@ResponseBody</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">center</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"center"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Spring-Boot-é¡¹ç›®é…ç½®å­—ç¬¦ç¼–ç "><a href="#Spring-Boot-é¡¹ç›®é…ç½®å­—ç¬¦ç¼–ç " class="headerlink" title="Spring Boot é¡¹ç›®é…ç½®å­—ç¬¦ç¼–ç "></a>Spring Boot é¡¹ç›®é…ç½®å­—ç¬¦ç¼–ç </h3><h4 id="ç¬¬ä¸€ç§æ–¹å¼"><a href="#ç¬¬ä¸€ç§æ–¹å¼" class="headerlink" title="ç¬¬ä¸€ç§æ–¹å¼"></a>ç¬¬ä¸€ç§æ–¹å¼</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SystemConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">FilterRegistrationBean</span> <span class="token function">characterEncodingFilterRegistrationBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">CharacterEncodingFilter</span> characterEncodingFilter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CharacterEncodingFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        characterEncodingFilter<span class="token punctuation">.</span><span class="token function">setForceEncoding</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        characterEncodingFilter<span class="token punctuation">.</span><span class="token function">setEncoding</span><span class="token punctuation">(</span><span class="token string">"utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">FilterRegistrationBean</span> filterRegistrationBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FilterRegistrationBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        filterRegistrationBean<span class="token punctuation">.</span><span class="token function">setFilter</span><span class="token punctuation">(</span>characterEncodingFilter<span class="token punctuation">)</span><span class="token punctuation">;</span>        filterRegistrationBean<span class="token punctuation">.</span><span class="token function">addUrlPatterns</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> filterRegistrationBean<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">"/myServlet"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸–ç•Œä½ å¥½ Hello World!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ç»Ÿä¸€è®¾ç½®æµè§ˆå™¨ ç¼–ç æ ¼å¼</span>        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;character=tuf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token comment">#å…³é—­sspringbootå­—ç¬¦ç¼–ç æ”¯æŒ</span><span class="token attr-name">spring.http.encoding.enabled</span><span class="token punctuation">=</span><span class="token attr-value">false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@ServletComponentScan</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token string">"com.bjpowernode.springboot.servlet"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç¬¬äºŒç§æ–¹å¼"><a href="#ç¬¬äºŒç§æ–¹å¼" class="headerlink" title="ç¬¬äºŒç§æ–¹å¼"></a>ç¬¬äºŒç§æ–¹å¼</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">"/myServlet"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        resp<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">"text/html;charaset=utf-8"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸–ç•Œä½ å¥½ Hello World"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">server.servlet.encoding.enabled</span><span class="token punctuation">=</span><span class="token attr-value">true</span><span class="token attr-name">server.servlet.encoding.force</span><span class="token punctuation">=</span><span class="token attr-value">true</span><span class="token attr-name">server.servlet.encoding.charset</span><span class="token punctuation">=</span><span class="token attr-value">utf-8</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="Spring-Boot-æ‰“åŒ…ä¸éƒ¨ç½²"><a href="#Spring-Boot-æ‰“åŒ…ä¸éƒ¨ç½²" class="headerlink" title="Spring Boot æ‰“åŒ…ä¸éƒ¨ç½²"></a>Spring Boot æ‰“åŒ…ä¸éƒ¨ç½²</h3><h4 id="Spring-Boot-ç¨‹åº-war-åŒ…éƒ¨ç½²"><a href="#Spring-Boot-ç¨‹åº-war-åŒ…éƒ¨ç½²" class="headerlink" title="Spring Boot ç¨‹åº war åŒ…éƒ¨ç½²"></a>Spring Boot ç¨‹åº war åŒ…éƒ¨ç½²</h4><ul><li>æŒ‡å®šæ‰“åŒ…æ–¹å¼war</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>finalName</span><span class="token punctuation">></span></span>SpringbootWar<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>finalName</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/3088e131b3064c98a8f53cda5b83a58a.png" alt="æ‰“åŒ…war"></p><ul><li>å°†æ‰“åŒ…å¥½çš„waråŒ…æ”¾å…¥tomcat-webappsä¸‹</li><li>å¯åŠ¨tomcat</li></ul><p><img src="https://img-blog.csdnimg.cn/47100783d469444bbab71163fd53c58c.png" alt="è¿è¡Œç»“æœ"></p><h4 id="Spring-Boot-ç¨‹åº-jar-åŒ…éƒ¨ç½²"><a href="#Spring-Boot-ç¨‹åº-jar-åŒ…éƒ¨ç½²" class="headerlink" title="Spring Boot ç¨‹åº jar åŒ…éƒ¨ç½²"></a>Spring Boot ç¨‹åº jar åŒ…éƒ¨ç½²</h4><ul><li>ä¿®æ”¹ç‰ˆæœ¬å·</li></ul><pre class="line-numbers language-none"><code class="language-none">&lt;plugin&gt;   &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;   &lt;artifactId&gt;spring-boot-maven-plugin&lt;&#x2F;artifactId&gt;   &lt;version&gt;1.4.2.RELEASE&lt;&#x2F;version&gt;&lt;&#x2F;plugin&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æ‰“åŒ…é™æ€èµ„æºæ–‡ä»¶ã€é…ç½®æ–‡ä»¶</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">></span></span>src/main/webapp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>targetPath</span><span class="token punctuation">></span></span>META-INF/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>targetPath</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">></span></span>*.*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">></span></span>src/main/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">></span></span>            **/*.*        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/c227220c4bc24192894c44770d0f05dc.png" alt="æ‰“åŒ…æ­¥éª¤"></p><ul><li>è¾“å…¥å‘½ä»¤<code>java -jar springboot.jar</code></li></ul><p><img src="https://img-blog.csdnimg.cn/7004dbf3dfde4d2f8cfb98e7625cd1e4.png" alt="è¿è¡Œç»“æœ"></p><hr><h4 id="springbooté¡¹ç›®æ•´ä½“æ‰“åŒ…"><a href="#springbooté¡¹ç›®æ•´ä½“æ‰“åŒ…" class="headerlink" title="springbooté¡¹ç›®æ•´ä½“æ‰“åŒ…"></a>springbooté¡¹ç›®æ•´ä½“æ‰“åŒ…</h4><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>            <span class="token comment">&lt;!-- æŒ‡å®šè¯¥Main Classä¸ºå…¨å±€çš„å”¯ä¸€å…¥å£ --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mainClass</span><span class="token punctuation">></span></span>com.ssm.msmservice.MsmApplication<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mainClass</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>layout</span><span class="token punctuation">></span></span>ZIP<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>layout</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>executions</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>execution</span><span class="token punctuation">></span></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goals</span><span class="token punctuation">></span></span>                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>goal</span><span class="token punctuation">></span></span>repackage<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goal</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--å¯ä»¥æŠŠä¾èµ–çš„åŒ…éƒ½æ‰“åŒ…åˆ°ç”Ÿæˆçš„JaråŒ…ä¸­--></span>                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>goals</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>execution</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>executions</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="SpringBoot-é›†æˆ-logback-æ—¥å¿—"><a href="#SpringBoot-é›†æˆ-logback-æ—¥å¿—" class="headerlink" title="SpringBoot é›†æˆ logback æ—¥å¿—"></a>SpringBoot é›†æˆ logback æ—¥å¿—</h3><p>logback-spring.xml</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span> <span class="token comment">&lt;!-- æ—¥å¿—çº§åˆ«ä»ä½åˆ°é«˜åˆ†ä¸º TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR &lt; FATALï¼Œå¦‚æœ è®¾ç½®ä¸º WARNï¼Œåˆ™ä½äº WARN çš„ä¿¡æ¯éƒ½ä¸ä¼šè¾“å‡º --></span> <span class="token comment">&lt;!-- scan:å½“æ­¤å±æ€§è®¾ç½®ä¸º true æ—¶ï¼Œé…ç½®æ–‡ä»¶å¦‚æœå‘ç”Ÿæ”¹å˜ï¼Œå°†ä¼šè¢«é‡æ–°åŠ è½½ï¼Œé»˜è®¤å€¼ä¸º true --></span> <span class="token comment">&lt;!-- scanPeriod:è®¾ç½®ç›‘æµ‹é…ç½®æ–‡ä»¶æ˜¯å¦æœ‰ä¿®æ”¹çš„æ—¶é—´é—´éš”ï¼Œå¦‚æœæ²¡æœ‰ç»™å‡ºæ—¶é—´å•ä½ï¼Œé»˜è®¤ å•ä½æ˜¯æ¯«ç§’ã€‚å½“ scan ä¸º true æ—¶ï¼Œæ­¤å±æ€§ç”Ÿæ•ˆã€‚é»˜è®¤çš„æ—¶é—´é—´éš”ä¸º 1 åˆ†é’Ÿã€‚ --></span> <span class="token comment">&lt;!-- debug:å½“æ­¤å±æ€§è®¾ç½®ä¸º true æ—¶ï¼Œå°†æ‰“å°å‡º logback å†…éƒ¨æ—¥å¿—ä¿¡æ¯ï¼Œå®æ—¶æŸ¥çœ‹ logback è¿è¡ŒçŠ¶æ€ã€‚é»˜è®¤å€¼ä¸º falseã€‚é€šå¸¸ä¸æ‰“å° --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span> <span class="token attr-name">scan</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token attr-name">scanPeriod</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>10 seconds<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--è¾“å‡ºåˆ°æ§åˆ¶å°--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>CONSOLE<span class="token punctuation">"</span></span>              <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>         <span class="token comment">&lt;!--æ­¤æ—¥å¿— appender æ˜¯ä¸ºå¼€å‘ä½¿ç”¨ï¼Œåªé…ç½®æœ€åº•çº§åˆ«ï¼Œæ§åˆ¶å°è¾“å‡ºçš„æ—¥å¿—çº§åˆ«æ˜¯å¤§ äºæˆ–ç­‰äºæ­¤çº§åˆ«çš„æ—¥å¿—ä¿¡æ¯--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.classic.filter.ThresholdFilter<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>level</span><span class="token punctuation">></span></span>debug<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>level</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Pattern</span><span class="token punctuation">></span></span>%date [%-5p] [%thread] %logger&#123;60&#125; [%file : %line] %msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Pattern</span><span class="token punctuation">></span></span>             <span class="token comment">&lt;!-- è®¾ç½®å­—ç¬¦é›† --></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>FILE<span class="token punctuation">"</span></span>              <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>         <span class="token comment">&lt;!--&lt;File>/home/log/stdout.log&lt;/File>--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>File</span><span class="token punctuation">></span></span>F:/log/stdout.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>File</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">></span></span>%date [%-5p] %thread %logger&#123;60&#125; [%file : %line] %msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span>                <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ch.qos.logback.core.rolling.TimeBasedRollingPolicy<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>             <span class="token comment">&lt;!-- æ·»åŠ .gz å†å²æ—¥å¿—ä¼šå¯ç”¨å‹ç¼© å¤§å¤§ç¼©å°æ—¥å¿—æ–‡ä»¶æ‰€å ç©ºé—´ --></span>             <span class="token comment">&lt;!--&lt;fileNamePattern>/home/log/stdout.log.%d&#123;yyyy-MM-dd&#125;.log&lt;/fileNam ePattern>--></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">></span></span>F:/log/stdout.log.%d&#123;yyyy-MM-dd&#125;.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxHistory</span><span class="token punctuation">></span></span>30<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxHistory</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--  ä¿ç•™ 30 å¤©æ—¥å¿— --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>logger</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.abc.springboot.mapper<span class="token punctuation">"</span></span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>DEBUG<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>INFO<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>CONSOLE<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>FILE<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Controller</span><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentController</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">private</span> <span class="token class-name">StudentService</span> studentService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/student/count"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@ResponseBody</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">studentCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"æŸ¥è¯¢å½“å‰å­¦ç”Ÿçš„æ€»äººæ•°!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token class-name">Integer</span> count <span class="token operator">=</span>  studentService<span class="token punctuation">.</span><span class="token function">queryStudentCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> <span class="token string">"å­¦ç”Ÿæ€»äººæ•°ä¸ºï¼š"</span><span class="token operator">+</span> count<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å°TIP"><a href="#å°TIP" class="headerlink" title="å°TIP"></a>å°TIP</h3><h4 id="å…³é—­logo"><a href="#å…³é—­logo" class="headerlink" title="å…³é—­logo"></a>å…³é—­logo</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token class-name">SpringApplication</span> springApplication <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpringApplication</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>springApplication<span class="token punctuation">.</span><span class="token function">setBannerMode</span><span class="token punctuation">(</span><span class="token class-name">Banner<span class="token punctuation">.</span>Mode</span><span class="token punctuation">.</span>OFF<span class="token punctuation">)</span><span class="token punctuation">;</span>springApplication<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ä¿®æ”¹logo"><a href="#ä¿®æ”¹logo" class="headerlink" title="ä¿®æ”¹logo"></a>ä¿®æ”¹logo</h4><ul><li><p>åœ¨ src/main/resources æ”¾å…¥ banner.txt æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶åå­—ä¸èƒ½éšæ„ï¼Œæ–‡ä»¶ä¸­çš„å†…å®¹å°±æ˜¯è¦è¾“å‡º çš„ logo ï¼›</p></li><li><p>å¯ä»¥åˆ©ç”¨ç½‘ç«™ç”Ÿæˆå›¾æ ‡ï¼š </p><ul><li><a href="https://www.bootschool.net/ascii">https://www.bootschool.net/ascii</a> </li><li><a href="http://patorjk.com/software/taag/">http://patorjk.com/software/taag/</a></li></ul></li><li><p>å°†ç”Ÿæˆå¥½çš„å›¾æ ‡æ–‡å­—ç²˜è´´åˆ° banner.txt æ–‡ä»¶ä¸­ï¼Œç„¶åå°†å…³ é—­ logo è¾“å‡ºçš„è¯­å¥æ³¨é‡Šï¼Œå¯åŠ¨çœ‹æ•ˆæœ</p></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringBoot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringMVC</title>
      <link href="/2022-02-27-springmvc.html"/>
      <url>/2022-02-27-springmvc.html</url>
      
        <content type="html"><![CDATA[<h3 id="hello-springmvc"><a href="#hello-springmvc" class="headerlink" title="hello-springmvc"></a>hello-springmvc</h3><p>æ¥æ”¶è¯·æ±‚å‚æ•°ï¼Œä½¿ç”¨çš„å¤„ç†å™¨æ–¹æ³•çš„å½¢å‚</p><ul><li><p>HttpServletRequest</p></li><li><p>HttpServletResponse</p></li><li><p>HttpSession</p></li><li><p>ç”¨æˆ·æäº¤çš„æ•°æ®</p><ul><li>é€ä¸ªæ¥æ”¶<ul><li>å¤„ç†å™¨æ–¹æ³•çš„å½¢å‚å’Œè¯·æ±‚å‚æ•°åå¿…é¡»ä¸€è‡´ï¼ŒåŒåçš„è¯·æ±‚å‚æ•°èµ‹å€¼ç»™åŒåçš„å½¢å‚</li></ul></li><li>å¯¹è±¡æ¥æ”¶</li></ul></li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/first.do"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">doFirst</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">HttpSession</span> session<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">ModelAndView</span> modelAndView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModelAndView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    modelAndView<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">"msg"</span><span class="token punctuation">,</span><span class="token string">"æ¬¢è¿ä½¿ç”¨springmvcåšwebå¼€å‘"</span><span class="token operator">+</span>request<span class="token punctuation">.</span><span class="token function">getParameter</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    modelAndView<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">"fun"</span><span class="token punctuation">,</span><span class="token string">"funæ‰§è¡Œçš„æ˜¯doOtheræ–¹æ³•"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    modelAndView<span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">"other"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> modelAndView<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/receiveproperty.do"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token class-name">Integer</span> age<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">ModelAndView</span> modelAndView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModelAndView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   modelAndView<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">"myname"</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>   modelAndView<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">"myage"</span><span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>    modelAndView<span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">"show"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> modelAndView<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/receiveobject.do"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">receiveParam</span><span class="token punctuation">(</span><span class="token class-name">Student</span> student<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>student<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">"  "</span><span class="token operator">+</span>student<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">ModelAndView</span> modelAndView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ModelAndView</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    modelAndView<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">"myname"</span><span class="token punctuation">,</span>student<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    modelAndView<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">"myage"</span><span class="token punctuation">,</span>student<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    modelAndView<span class="token punctuation">.</span><span class="token function">addObject</span><span class="token punctuation">(</span><span class="token string">"mystudent"</span><span class="token punctuation">,</span>student<span class="token punctuation">)</span><span class="token punctuation">;</span>    modelAndView<span class="token punctuation">.</span><span class="token function">setViewName</span><span class="token punctuation">(</span><span class="token string">"show"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> modelAndView<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>åœ¨æäº¤postè¯·æ±‚å‚æ•°æ—¶ï¼Œä¸­æ–‡æœ‰ä¹±ç ï¼Œéœ€ä½¿ç”¨è¿‡æ»¤å™¨å¤„ç†ä¹±ç é—®é¢˜</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--æ³¨å†Œå£°æ˜è¿‡æ»¤å™¨ï¼Œè§£å†³postè¯·æ±‚ä¹±ç çš„é—®é¢˜--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">></span></span>characterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-class</span><span class="token punctuation">></span></span>org.springframework.web.filter.CharacterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-class</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--è®¾ç½®é¡¹ç›®ä¸­ä½¿ç”¨çš„å­—ç¬¦ç¼–ç --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>encoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>utf-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--å¼ºåˆ¶è¯·æ±‚å¯¹è±¡ï¼ˆHttpServletRequestï¼‰ä½¿ç”¨encodingç¼–ç çš„å€¼--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>forceRequestEncoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--å¼ºåˆ¶åº”ç­”å¯¹è±¡ï¼ˆHttpServletResponseï¼‰ä½¿ç”¨encodingç¼–ç çš„å€¼--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>init-param</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>forceResponseEncoding<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>init-param</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-mapping</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filter-name</span><span class="token punctuation">></span></span>characterEncodingFilter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-name</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--           /*:è¡¨ç¤ºå¼ºåˆ¶æ‰€æœ‰çš„è¯·æ±‚å…ˆé€šè¿‡è¿‡æ»¤å™¨å¤„ç†ã€‚        --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url-pattern</span><span class="token punctuation">></span></span>/*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url-pattern</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filter-mapping</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¤„ç†é™æ€èµ„æºçš„ä¸¤ç§æ–¹å¼"><a href="#å¤„ç†é™æ€èµ„æºçš„ä¸¤ç§æ–¹å¼" class="headerlink" title="å¤„ç†é™æ€èµ„æºçš„ä¸¤ç§æ–¹å¼"></a>å¤„ç†é™æ€èµ„æºçš„ä¸¤ç§æ–¹å¼</h3><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/context<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>mvc</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/mvc<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd        http://www.springframework.org/schema/context         https://www.springframework.org/schema/context/spring-context.xsd         http://www.springframework.org/schema/mvc          https://www.springframework.org/schema/mvc/spring-mvc.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--å£°æ˜ç»„ä»¶æ‰«æå™¨--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.controller<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--å£°æ˜springmvcä¸­çš„è§†å›¾è§£æå™¨--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.springframework.web.servlet.view.InternalResourceViewResolver<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>prefix<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/WEB-INF/view/<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>suffix<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>.jsp<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--ç¬¬ä¸€ç§æ–¹å¼--></span>    <span class="token comment">&lt;!--&lt;mvc:annotation-driven/>    &lt;mvc:default-servlet-handler/>--></span>    <span class="token comment">&lt;!--ç¬¬äºŒç§æ–¹å¼--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/images/**<span class="token punctuation">"</span></span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/images/<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/html/**<span class="token punctuation">"</span></span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/html/<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/js/**<span class="token punctuation">"</span></span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/js/<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>resources</span> <span class="token attr-name">mapping</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/static/ **<span class="token punctuation">"</span></span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/static/<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>druidæ•°æ®åº“è¿æ¥æ± </title>
      <link href="/2022-02-26-durid-shu-ju-ku-lian-jie-chi.html"/>
      <url>/2022-02-26-durid-shu-ju-ku-lian-jie-chi.html</url>
      
        <content type="html"><![CDATA[<p>applicationContext.xml</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/context<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--       æŠŠæ•°æ®åº“çš„é…ç½®ä¿¡æ¯ï¼Œå†™åœ¨ä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ï¼Œç¼–è¯‘ä¿®æ”¹æ•°æ®åº“çš„é…ç½®å†…å®¹       springçŸ¥é“jdbc.propertiesæ–‡ä»¶çš„ä½ç½®    --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>property-placeholder</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>classpath:jdbc.properties<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token comment">&lt;!--å£°æ˜æ•°æ®æºDataSource, ä½œç”¨æ˜¯è¿æ¥æ•°æ®åº“çš„--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myDataSource<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.alibaba.druid.pool.DruidDataSource<span class="token punctuation">"</span></span>          <span class="token attr-name">init-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>init<span class="token punctuation">"</span></span> <span class="token attr-name">destroy-method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>close<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--setæ³¨å…¥ç»™DruidDataSourceæä¾›è¿æ¥æ•°æ®åº“ä¿¡æ¯ --></span>        <span class="token comment">&lt;!--    ä½¿ç”¨å±æ€§é…ç½®æ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œè¯­æ³• $&#123;key&#125; --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>url<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;jdbc.url&#125;<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token comment">&lt;!--setUrl()--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>username<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;jdbc.username&#125;<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>password<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;jdbc.passwd&#125;<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>maxActive<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$&#123;jdbc.max&#125;<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--å£°æ˜çš„æ˜¯mybatisä¸­æä¾›çš„SqlSessionFactoryBeanç±»ï¼Œè¿™ä¸ªç±»å†…éƒ¨åˆ›å»ºSqlSessionFactoryçš„        SqlSessionFactory  sqlSessionFactory = new ..    --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sqlSessionFactory<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.mybatis.spring.SqlSessionFactoryBean<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--setæ³¨å…¥ï¼ŒæŠŠæ•°æ®åº“è¿æ¥æ± ä»˜ç»™äº†dataSourceå±æ€§--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myDataSource<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token comment">&lt;!--mybatisä¸»é…ç½®æ–‡ä»¶çš„ä½ç½®           configLocationå±æ€§æ˜¯Resourceç±»å‹ï¼Œè¯»å–é…ç½®æ–‡ä»¶           å®ƒçš„èµ‹å€¼ï¼Œä½¿ç”¨valueï¼ŒæŒ‡å®šæ–‡ä»¶çš„è·¯å¾„ï¼Œä½¿ç”¨classpath:è¡¨ç¤ºæ–‡ä»¶çš„ä½ç½®        --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>configLocation<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>classpath:mybatis.xml<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--åˆ›å»ºdaoå¯¹è±¡ï¼Œä½¿ç”¨SqlSessionçš„getMapperï¼ˆStudentDao.classï¼‰        MapperScannerConfigurer:åœ¨å†…éƒ¨è°ƒç”¨getMapper()ç”Ÿæˆæ¯ä¸ªdaoæ¥å£çš„ä»£ç†å¯¹è±¡ã€‚    --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.mybatis.spring.mapper.MapperScannerConfigurer<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--æŒ‡å®šSqlSessionFactoryå¯¹è±¡çš„id--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sqlSessionFactoryBeanName<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>sqlSessionFactory<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token comment">&lt;!--æŒ‡å®šåŒ…åï¼Œ åŒ…åæ˜¯daoæ¥å£æ‰€åœ¨çš„åŒ…åã€‚            MapperScannerConfigurerä¼šæ‰«æè¿™ä¸ªåŒ…ä¸­çš„æ‰€æœ‰æ¥å£ï¼ŒæŠŠæ¯ä¸ªæ¥å£éƒ½æ‰§è¡Œ            ä¸€æ¬¡getMapper()æ–¹æ³•ï¼Œå¾—åˆ°æ¯ä¸ªæ¥å£çš„daoå¯¹è±¡ã€‚            åˆ›å»ºå¥½çš„daoå¯¹è±¡æ”¾å…¥åˆ°springçš„å®¹å™¨ä¸­çš„ã€‚ daoå¯¹è±¡çš„é»˜è®¤åç§°æ˜¯ æ¥å£åé¦–å­—æ¯å°å†™        --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>basePackage<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.dao<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--å£°æ˜service--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>studentService<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.service.impl.StudentServiceImpl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>studentDao<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>studentDao<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>jdbc.properties</p><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">jdbc.url</span><span class="token punctuation">=</span><span class="token attr-value">jdbc:mysql://localhost:3306/springdb?useSSL=false&amp;serverTimezone=UTC</span><span class="token attr-name">jdbc.username</span><span class="token punctuation">=</span><span class="token attr-value">root</span><span class="token attr-name">jdbc.passwd</span><span class="token punctuation">=</span><span class="token attr-value">123456</span><span class="token attr-name">jdbc.max</span><span class="token punctuation">=</span><span class="token attr-value">30</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> druid </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŠ¨æ€ä»£ç†</title>
      <link href="/2022-02-24-dong-tai-dai-li.html"/>
      <url>/2022-02-24-dong-tai-dai-li.html</url>
      
        <content type="html"><![CDATA[<ul><li>åœ¨åŸæœ‰ç¨‹åºä¸å˜çš„æƒ…å†µä¸‹é€šè¿‡åŠ¨æ€ä»£ç†å¢åŠ æ–°çš„åŠŸèƒ½(åŠŸèƒ½å¢å¼º)</li><li>å‡å°‘ä»£ç çš„é‡å¤</li><li>ä¸“æ³¨ä¸šåŠ¡é€»è¾‘ä»£ç </li><li>è§£è€¦åˆï¼Œè®©ä¸šåŠ¡åŠŸèƒ½å’Œæ—¥å¿—ï¼Œäº‹åŠ¡éä¸šåŠ¡åŠŸèƒ½åˆ†ç¦»</li></ul><h3 id="jdkåŠ¨æ€ä»£ç†å®ç°æ¡ˆä¾‹"><a href="#jdkåŠ¨æ€ä»£ç†å®ç°æ¡ˆä¾‹" class="headerlink" title="jdkåŠ¨æ€ä»£ç†å®ç°æ¡ˆä¾‹"></a>jdkåŠ¨æ€ä»£ç†å®ç°æ¡ˆä¾‹</h3><ul><li>ä½¿ç”¨JDKä¸­çš„Proxyï¼ŒMethodï¼ŒInvocationHanderlåˆ›å»ºå¯¹è±¡ã€‚</li><li>JDKåŠ¨æ€ä»£ç†è¦æ±‚ç›®æ ‡ç±»å¿…é¡»å®ç°æ¥å£</li></ul><p>SomeService</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">SomeService</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">void</span> <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">void</span> <span class="token function">doOther</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>SomeServiceImpl</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SomeServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">SomeService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ‰§è¡Œä¸šåŠ¡æ–¹æ³•doSome"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doOther</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ‰§è¡Œä¸šåŠ¡æ–¹æ³•doOther"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ServiceTools</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">SimpleDateFormat</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServiceTools</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">doLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss:SSS"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> format <span class="token operator">=</span> simpleDateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"éä¸šåŠ¡æ–¹æ³•,æ–¹æ³•çš„æ‰§è¡Œæ—¶é—´:"</span><span class="token operator">+</span>format<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">doTrans</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"éä¸šåŠ¡æ–¹æ³•,æ–¹æ³•æ‰§è¡Œå®Œæ¯•åæäº¤äº‹åŠ¡"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>MyInvocationHandler</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ServiceTools</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">InvocationHandler</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Method</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyInvocationHandler</span> <span class="token keyword">implements</span> <span class="token class-name">InvocationHandler</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">Object</span> target<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">MyInvocationHandler</span><span class="token punctuation">(</span><span class="token class-name">Object</span> target<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>target <span class="token operator">=</span> target<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">invoke</span><span class="token punctuation">(</span><span class="token class-name">Object</span> proxy<span class="token punctuation">,</span> <span class="token class-name">Method</span> method<span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// é€šè¿‡ä»£ç†å¯¹è±¡æ‰§è¡Œæ–¹æ³•æ—¶,ä¼šè°ƒç”¨invoke()</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ‰§è¡Œäº†MyInvocationHandlerä¸­çš„invoke()æ–¹æ³•"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> methodName <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//doSome , doOther</span>        <span class="token class-name">Object</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"doSome"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>methodName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">ServiceTools</span><span class="token punctuation">.</span><span class="token function">doLog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            res <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//SomeServiceImpl.doOther(), doSome()</span>            <span class="token class-name">ServiceTools</span><span class="token punctuation">.</span><span class="token function">doTrans</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            res <span class="token operator">=</span> method<span class="token punctuation">.</span><span class="token function">invoke</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> res<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>MyApp</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>handler<span class="token punctuation">.</span></span><span class="token class-name">MyInvocationHandler</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">SomeService</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>service<span class="token punctuation">.</span>impl<span class="token punctuation">.</span></span><span class="token class-name">SomeServiceImpl</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">InvocationHandler</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>reflect<span class="token punctuation">.</span></span><span class="token class-name">Proxy</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyApp</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// ä½¿ç”¨jdkçš„Proxyåˆ›å»ºä»£ç†å¯¹è±¡</span>        <span class="token class-name">SomeService</span> someService <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SomeServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// åˆ›å»ºInvocationHandlerå¯¹è±¡</span>        <span class="token class-name">InvocationHandler</span> invocationHandler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyInvocationHandler</span><span class="token punctuation">(</span>someService<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// ä½¿ç”¨Proxyåˆ›å»ºä»£ç†</span>        <span class="token class-name">SomeService</span> proxy <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">SomeService</span><span class="token punctuation">)</span> <span class="token class-name">Proxy</span><span class="token punctuation">.</span><span class="token function">newProxyInstance</span><span class="token punctuation">(</span>someService<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>                someService<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> invocationHandler<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// é€šè¿‡ä»£ç†æ‰§è¡Œæ–¹æ³•,ä¼šè°ƒç”¨handlerä¸­çš„invoke()æ–¹æ³•</span>        proxy<span class="token punctuation">.</span><span class="token function">doOther</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"------------------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        proxy<span class="token punctuation">.</span><span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">æ‰§è¡Œäº†<span class="token class-name">MyInvocationHandler</span>ä¸­çš„<span class="token function">invoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>æ–¹æ³•æ‰§è¡Œä¸šåŠ¡æ–¹æ³•doOther<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>æ‰§è¡Œäº†<span class="token class-name">MyInvocationHandler</span>ä¸­çš„<span class="token function">invoke</span><span class="token punctuation">(</span><span class="token punctuation">)</span>æ–¹æ³•éä¸šåŠ¡æ–¹æ³•<span class="token punctuation">,</span>æ–¹æ³•çš„æ‰§è¡Œæ—¶é—´<span class="token operator">:</span><span class="token number">2022</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">24</span> <span class="token number">13</span><span class="token operator">:</span><span class="token number">05</span><span class="token operator">:</span><span class="token number">12</span><span class="token operator">:</span><span class="token number">283</span>æ‰§è¡Œä¸šåŠ¡æ–¹æ³•doSomeéä¸šåŠ¡æ–¹æ³•<span class="token punctuation">,</span>æ–¹æ³•æ‰§è¡Œå®Œæ¯•åæäº¤äº‹åŠ¡<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="CGLBåŠ¨æ€ä»£ç†"><a href="#CGLBåŠ¨æ€ä»£ç†" class="headerlink" title="CGLBåŠ¨æ€ä»£ç†"></a>CGLBåŠ¨æ€ä»£ç†</h3><ul><li>ç¬¬ä¸‰æ–¹å·¥å…·åº“ï¼Œåˆ›å»ºä»£ç†å¯¹è±¡ï¼ŒåŸç†æ˜¯ç»§æ‰¿ã€‚é€šè¿‡ç»§æ‰¿ç›®æ ‡ç±»ï¼Œåˆ›å»ºå­ç±»</li><li>å­ç±»å°±æ˜¯ä»£ç†å¯¹è±¡ï¼Œè¦æ±‚ç›®æ ‡ç±»ä¸èƒ½æ˜¯finalçš„ï¼Œæ–¹æ³•ä¹Ÿä¸èƒ½æ˜¯finalçš„</li></ul><h3 id="aspectj"><a href="#aspectj" class="headerlink" title="aspectj"></a>aspectj</h3><p>aspectjæ¡†æ¶ä¹Ÿå¯å®ç°AOPåŠŸèƒ½å¢å¼º,å…·ä½“å¯çœ‹springä¸­ç¬”è®°</p>]]></content>
      
      
      <categories>
          
          <category> è®¾è®¡æ¨¡å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¾èµ–ä½¿ç”¨åˆé›†</title>
      <link href="/2022-02-23-yi-lai-shi-yong-he-ji.html"/>
      <url>/2022-02-23-yi-lai-shi-yong-he-ji.html</url>
      
        <content type="html"><![CDATA[<h3 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h3><p>jdkç‰ˆæœ¬</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">></span></span>1.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å•å…ƒæµ‹è¯•</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>4.11<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>springä¾èµ–</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-context<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.2.7.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>aspectjä¾èµ–</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-aspects<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.2.5.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Mybatisä¾èµ–</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.5.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>mysqlé©±åŠ¨</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>8.0.17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>duridæ•°æ®åº“è¿æ¥æ± </p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>druid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.1.12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> mybatiså’Œspringé›†æˆä¾èµ–</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.mybatis<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis-spring<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>1.3.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>springäº‹åŠ¡</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-tx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.2.5.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.2.5.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>servletä¾èµ–</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>javax.servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> jspä¾èµ–</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.servlet.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jsp-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.2.1-b03<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>mavenä¾èµ–(å†…ç½®ç›‘å¬å™¨)</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.2.5.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>web.xml<span class="token comment">&lt;!--é…ç½®ç›‘å¬å™¨:ç›®çš„æ˜¯åˆ›å»ºå®¹å™¨å¯¹è±¡,åˆ›å»ºäº†å®¹å™¨å¯¹è±¡,å°±èƒ½æŠŠspring.xmlé…ç½®æ–‡ä»¶ä¸­çš„æ‰€æœ‰å¯¹è±¡éƒ½åˆ›å»ºå¥½ã€‚    ç”¨æˆ·å‘èµ·è¯·æ±‚å°±å¯ä»¥ç›´æ¥ä½¿ç”¨å¯¹è±¡--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-param</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-name</span><span class="token punctuation">></span></span>contextConfigLocation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-name</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>param-value</span><span class="token punctuation">></span></span>classpath:spring.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>param-value</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-param</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--æ³¨å†Œç›‘å¬å™¨ContextLoaderListenter--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>listener-class</span><span class="token punctuation">></span></span>org.springframework.web.context.ContextLoaderListener<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener-class</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>listener</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>springmcvä¾èµ–</p><pre class="line-numbers language-none"><code class="language-none">&lt;dependency&gt;    &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt;    &lt;artifactId&gt;spring-webmvc&lt;&#x2F;artifactId&gt;    &lt;version&gt;5.2.5.RELEASE&lt;&#x2F;version&gt;&lt;&#x2F;dependency&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>servletä¾èµ–</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>javax.servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>3.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>jacksonä¾èµ–</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jackson-core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.9.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>jackson-databind<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.9.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>springboot çˆ¶å·¥ç¨‹ä¾èµ–</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.3.2.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/></span></span> <span class="token comment">&lt;!-- lookup parent from repository --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>springboot webèµ·æ­¥ä¾èµ– + å›¾å½¢ç›‘æ§</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-actuator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>springbootæ¡†æ¶æµ‹è¯•èµ·æ­¥ä¾èµ–</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.junit.vintage<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>junit-vintage-engine<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>thymeleaf ä¾èµ–</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter-thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>springbootå†…çº¿tomcatå¯¹jspçš„è§£æä¾èµ–</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.apache.tomcat.embed<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>tomcat-embed-jasper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span>æ‰‹åŠ¨æŒ‡å®šjspç¼–è¯‘çš„ä½ç½®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">></span></span>src/main/webapp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>targetPath</span><span class="token punctuation">></span></span>META-INF/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>targetPath</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">></span></span>*.*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>mysqlé©±åŠ¨</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mysql.version</span><span class="token punctuation">></span></span>8.0.17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mysql.version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Mybatisæ•´åˆSpringBootæ¡†æ¶èµ·æ­¥ä¾èµ–</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.mybatis.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>mybatis-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Dubboé›†æˆSpringBootæ¡†æ¶èµ·æ­¥ä¾èµ–</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.alibaba.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>dubbo-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>2.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>zookeeperæ³¨å†Œä¸­å¿ƒ</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>com.101tec<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>zkclient<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>0.10<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>SpringBootæ•´åˆzookeeperå®¢æˆ·ç«¯</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-zookeeper-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>æ·»åŠ zookeeper3.4.8ç‰ˆæœ¬</p><pre class="line-numbers language-none"><code class="language-none">&lt;dependency&gt;    &lt;groupId&gt;org.apache.zookeeper&lt;&#x2F;groupId&gt;    &lt;artifactId&gt;zookeeper&lt;&#x2F;artifactId&gt;    &lt;version&gt;3.4.8&lt;&#x2F;version&gt;&lt;&#x2F;dependency&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>springbootæ¡†æ¶éwebåº”ç”¨èµ·æ­¥ä¾èµ–</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>springbootæ¡†æ¶ç»§æ‰¿thymeleafæ¨¡æ¿èµ·æ­¥ä¾èµ–</p><pre class="line-numbers language-XML" data-language="XML"><code class="language-XML">&lt;dependency&gt;   &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;   &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;&#x2F;artifactId&gt;&lt;&#x2F;dependency&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>spring cloud Hoxton.SR1</p><pre class="line-numbers language-none"><code class="language-none">&lt;dependency&gt;  &lt;groupId&gt;org.springframework.cloud&lt;&#x2F;groupId&gt;  &lt;artifactId&gt;spring-cloud-dependencies&lt;&#x2F;artifactId&gt;  &lt;version&gt;Hoxton.SR1&lt;&#x2F;version&gt;  &lt;type&gt;pom&lt;&#x2F;type&gt;  &lt;scope&gt;import&lt;&#x2F;scope&gt;&lt;&#x2F;dependency&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>é¿å…å¤åˆ¶ç²˜è´´ä»£ç </p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>cn.hutool<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>hutool-all<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">></span></span>5.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Eureka2.0ä¾èµ– eureka-server</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-server<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>Eureka2.0ä¾èµ– eureka-client ï¼ˆè‡ªå¸¦ribbonä¾èµ–ï¼‰</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-eureka-client<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>ribbonä¾èµ–</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupld</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupld</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactld</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-ribbon<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactid</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>SpringCloud consul-server</p><pre class="line-numbers language-none"><code class="language-none">&lt;dependency&gt;    &lt;groupId&gt;org.springframework.cloud&lt;&#x2F;groupId&gt;    &lt;artifactId&gt;spring-cloud-starter-consul-discovery&lt;&#x2F;artifactId&gt;&lt;&#x2F;dependency&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>SpringCloud openfeign</p><pre class="line-numbers language-none"><code class="language-none">&lt;dependency&gt;    &lt;groupId&gt;org.springframework.cloud&lt;&#x2F;groupId&gt;    &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;&#x2F;artifactId&gt;&lt;&#x2F;dependency&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>SpringCloud feign</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-feign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>SpringCloud hystrix</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-hystrix<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>SpringCloud hystrix dashboard</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-cloud-starter-netflix-hystrix-dashboard<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ’ä»¶"><a href="#æ’ä»¶" class="headerlink" title="æ’ä»¶"></a>æ’ä»¶</h3><p>æŠŠsrc/main/javaç›®å½•ä¸­çš„xmlæ–‡ä»¶åŒ…å«åˆ°è¾“å‡ºç»“æœä¸­ã€‚è¾“å‡ºåˆ°Classesç›®å½•ä¸­</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">></span></span>src/main/java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--æ‰€åœ¨çš„ç›®å½•--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--åŒ…æ‹¬ç›®å½•ä¸‹çš„.properties,.xml æ–‡ä»¶éƒ½ä¼šæ‰«æåˆ°--></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">></span></span>**/*.properties<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">></span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">></span></span>**/*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filtering</span><span class="token punctuation">></span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filtering</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>springbooté¡¹ç›®æ‰“åŒ…ç¼–è¯‘æ’ä»¶é»˜è®¤jaråŒ…</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>springbootæ‰‹åŠ¨æŒ‡å®šèµ„æºæ–‡ä»¶å¤¹ä¸ºresources</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">></span></span>src/main/java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">></span></span>**/*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>springbootç»§æ‰¿lombokä¾èµ–</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>springbootçƒ­éƒ¨ç½²å’Œdevtoolsä¾èµ–</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-devtools<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">></span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ³¨è§£çš„ä½¿ç”¨åˆé›†</title>
      <link href="/2022-02-23-zhu-jie-de-shi-yong-he-ji.html"/>
      <url>/2022-02-23-zhu-jie-de-shi-yong-he-ji.html</url>
      
        <content type="html"><![CDATA[<h3 id="spring"><a href="#spring" class="headerlink" title="spring"></a>spring</h3><h4 id="Component-ã€-Respotory-ã€-Serviceã€-Controller"><a href="#Component-ã€-Respotory-ã€-Serviceã€-Controller" class="headerlink" title="@Component ã€@Respotory ã€@Serviceã€@Controller"></a>@Component ã€@Respotory ã€@Serviceã€@Controller</h4><ul><li>ç”¨æ¥åˆ›å»ºå¯¹è±¡ï¼Œç­‰åŒäº<bean>çš„åŠŸèƒ½</li><li>å±æ€§ value å°±æ˜¯å¯¹è±¡çš„åç§°ï¼Œä¹Ÿå°±æ˜¯beançš„idå€¼</li><li>valueçš„å€¼æ˜¯å”¯ä¸€çš„ï¼Œåˆ›å»ºçš„å¯¹è±¡åœ¨æ•´ä¸ªspringå®¹å™¨ä¸­å°±ä¸€ä¸ª</li><li>ä½ç½®ï¼š åœ¨ç±»çš„ä¸Šé¢</li><li>@Component(value = â€œmyStudentâ€) ç­‰åŒäº <bean id="someService1" class="com.bjpowernode.ba01"/></li><li><code>@Respotory</code> (ç”¨åœ¨æŒä¹…å±‚ç±»çš„ä¸Šé¢) ï¼šæ”¾åœ¨daoçš„å®ç°ç±»ä¸Šé¢ï¼Œåˆ›å»ºdaoå¯¹è±¡ï¼Œdaoå¯¹è±¡æ˜¯èƒ½è®¿é—®æ•°æ®åº“çš„ã€‚</li><li><code>@Service</code> ï¼ˆç”¨åœ¨ä¸šåŠ¡å±‚ä¸Šé¢ï¼‰ï¼šæ”¾åœ¨serviceçš„å®ç°ç±»ä¸Šé¢ï¼Œåˆ›å»ºserviceå¯¹è±¡ï¼Œserviceå¯¹è±¡æ˜¯åšä¸šåŠ¡å¤„ç†ï¼Œå¯ä»¥æœ‰äº‹åŠ¡ç­‰åŠŸèƒ½</li><li><code>@Controller</code> (ç”¨åœ¨æ§åˆ¶å™¨ä¸Šé¢) ï¼šæ”¾åœ¨æ§åˆ¶å™¨ï¼ˆå¤„ç†å™¨ï¼‰ç±»çš„ä¸Šé¢ï¼Œåˆ›å»ºæ§åˆ¶å™¨å¯¹è±¡ï¼Œèƒ½å¤Ÿæ¥æ”¶ç”¨æˆ·æäº¤çš„å‚æ•°ï¼Œæ˜¾ç¤ºè¯·æ±‚çš„å¤„ç†ç»“æœ</li><li>åœ¨ä¸ç¡®å®šä¸€ä¸ªç±»ä½¿ç”¨åœ¨å“ªä¸ªå±‚æ—¶ï¼Œä½¿ç”¨@Componentæ³¨è§£ã€‚</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"myStudent"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@Component</span><span class="token punctuation">(</span><span class="token string">"myStudent"</span><span class="token punctuation">)</span> <span class="token comment">// value å¯ä»¥çœç•¥</span><span class="token comment">// ä¸æŒ‡å®šå¯¹è±¡åç§°ï¼Œæœ‰springæä¾›é»˜è®¤åç§° ï¼ˆé»˜è®¤ä¸ºç±»åçš„é¦–å­—æ¯å°å†™ï¼‰</span><span class="token annotation punctuation">@Component</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å£°æ˜ç»„ä»¶æ‰«æå™¨(component-scan),ç»„ä»¶å°±æ˜¯javaå¯¹è±¡<ul><li>base-packageï¼šæŒ‡å®šæ³¨è§£åœ¨é¡¹ç›®ä¸­çš„åŒ…å</li><li>å·¥ä½œæ–¹å¼ï¼šspringä¼šæ‰«æbase-packageæŒ‡å®šçš„åŒ…ï¼ŒæŠŠåŒ…ä¸­å’Œå­åŒ…ä¸­çš„æ‰€æœ‰ç±»ï¼Œæ‰¾åˆ°ç±»çš„æ³¨è§£ï¼ŒæŒ‰ç…§æ³¨è§£çš„åŠŸèƒ½åˆ›å»ºå¯¹è±¡ï¼Œæˆ–ç»™å±æ€§èµ‹å€¼</li></ul></li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--æœ¬åŒ…--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.ba01<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--;æˆ–,--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.ba01;com.bjpowernode.ba02;<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--æŒ‡å®šçˆ¶åŒ…--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>component-scan</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ComponentScan"><a href="#ComponentScan" class="headerlink" title="@ComponentScan"></a>@ComponentScan</h4><ul><li>æ‰«æå™¨ï¼Œæ‰«ææŒ‡å®šçš„åŒ…ï¼Œæ‰«æ@Componentæ³¨è§£æ‰€åœ¨åŒ…çš„æŠ¥å</li><li>å¸¸ç”¨åœ¨é…ç½®ç±»ä¸Š</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span>value <span class="token operator">=</span><span class="token string">"classpath:config.properties"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span>basePackages<span class="token operator">=</span><span class="token string">"com.ssm.vo"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> springConfig<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Value"><a href="#Value" class="headerlink" title="@Value"></a>@Value</h4><ul><li>ç®€å•ç±»å‹çš„å±æ€§èµ‹å€¼</li><li>å±æ€§ï¼švalue æ˜¯stringç±»å‹çš„ï¼Œè¡¨ç¤ºç®€å•ç±»å‹çš„å±æ€§å€¼</li><li>ä½ç½®ï¼š<ul><li>åœ¨å±æ€§å®šä¹‰çš„ä¸Šé¢ï¼Œæ— éœ€setæ–¹æ³•ï¼Œæ¨èä½¿ç”¨</li><li>åœ¨setæ–¹æ³•ä¸Šé¢</li></ul></li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"å¼ é£"</span><span class="token punctuation">)</span><span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"11"</span><span class="token punctuation">)</span><span class="token keyword">private</span> <span class="token class-name">Integer</span> age<span class="token punctuation">;</span><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">"å¼ é£"</span><span class="token punctuation">)</span> <span class="token comment">// value å¯ä»¥çœç•¥</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Autowired-Qualifier"><a href="#Autowired-Qualifier" class="headerlink" title="@Autowired @Qualifier"></a>@Autowired @Qualifier</h4><ul><li>å¼•ç”¨ç±»å‹ï¼Œå®ç°å¼•ç”¨ç±»å‹çš„èµ‹å€¼</li><li><font color="red">é»˜è®¤ä½¿ç”¨çš„æ˜¯byTypeè‡ªåŠ¨æ³¨å…¥</font></li><li>å¦‚æœè¦ä½¿ç”¨<code>byName</code>æ–¹å¼<ul><li>åœ¨å±æ€§ä¸Šé¢åŠ å…¥@Autowired</li><li>åœ¨å±æ€§ä¸Šé¢åŠ å…¥@Qualifier(value = â€œbeançš„idâ€) ï¼šè¡¨ç¤ºä½¿ç”¨æŒ‡å®šåç§°çš„beanå®Œæˆèµ‹å€¼</li></ul></li><li>å±æ€§ï¼šrequiredï¼Œæ˜¯ä¸€ä¸ªbooleanç±»å‹çš„ï¼Œé»˜è®¤æ˜¯true<ul><li>require=true: è¡¨ç¤ºå¼•ç”¨ç±»å‹èµ‹å€¼å¤±è´¥ï¼Œç¨‹åºæŠ¥é”™ï¼Œå¹¶ç»ˆæ­¢æ‰§è¡Œ</li><li>require=falseï¼šè¡¨ç¤ºå¼•ç”¨ç±»å‹èµ‹å€¼å¤±è´¥ï¼Œç¨‹åºæ­£å¸¸æ‰§è¡Œï¼Œå¼•ç”¨ç±»å‹æ˜¯null</li></ul></li><li>ä½ç½®ï¼š<ul><li>åœ¨å±æ€§å®šä¹‰ä¸Šé¢ï¼Œæ— éœ€setæ–¹æ³•ï¼Œæ¨èä½¿ç”¨</li><li>åœ¨setæ–¹æ³•ä¸Šé¢</li></ul></li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// é»˜è®¤ï¼šbyType  require=true</span><span class="token annotation punctuation">@Autowired</span><span class="token punctuation">(</span>require<span class="token operator">=</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token keyword">private</span> <span class="token class-name">School</span> school<span class="token punctuation">;</span><span class="token comment">// byName</span><span class="token annotation punctuation">@Autowired</span><span class="token annotation punctuation">@Qualifier</span><span class="token punctuation">(</span><span class="token string">"mySchool"</span><span class="token punctuation">)</span><span class="token keyword">private</span> <span class="token class-name">School</span> school<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Resource"><a href="#Resource" class="headerlink" title="@Resource"></a>@Resource</h4><ul><li>å¼•ç”¨ç±»å‹</li><li>æ¥è‡ªjdkä¸­çš„æ³¨è§£ï¼Œspringæ¡†æ¶æä¾›äº†å¯¹è¯¥æ³¨è§£çš„æ”¯æŒ</li><li><font color="red">é»˜è®¤ä½¿ç”¨çš„æ˜¯byNameè‡ªåŠ¨æ³¨å…¥</font><ul><li>å…ˆä½¿ç”¨byNameè‡ªå®šæ³¨å…¥ï¼Œå¦‚æœbyNameèµ‹å€¼å¤±è´¥ï¼Œå†ä½¿ç”¨byType</li><li>åªä½¿ç”¨byNameï¼Œéœ€è¦å¢åŠ ä¸€ä¸ªnameå±æ€§ï¼Œnameçš„å€¼æ˜¯beançš„id(åç§°)</li></ul></li><li>ä½ç½®ï¼š<ul><li>åœ¨å±æ€§å®šä¹‰ä¸Šé¢ï¼Œæ— éœ€setæ–¹æ³•ï¼Œæ¨èä½¿ç”¨</li><li>åœ¨setæ–¹æ³•ä¸Šé¢</li></ul></li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Resource</span><span class="token keyword">private</span> <span class="token class-name">School</span> school<span class="token punctuation">;</span><span class="token annotation punctuation">@Resource</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"myschool"</span><span class="token punctuation">)</span><span class="token keyword">private</span> <span class="token class-name">School</span> school<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="aspectj-springå†…ç½®AOPæ¡†æ¶"><a href="#aspectj-springå†…ç½®AOPæ¡†æ¶" class="headerlink" title="aspectj(springå†…ç½®AOPæ¡†æ¶)"></a>aspectj(springå†…ç½®AOPæ¡†æ¶)</h3><h4 id="Aspectj"><a href="#Aspectj" class="headerlink" title="@Aspectj"></a>@Aspectj</h4><ul><li>ä½œç”¨ï¼šè¡¨ç¤ºå½“å‰ç±»æ˜¯åˆ‡é¢ç±»</li><li>åˆ‡é¢ç±»ï¼šç”¨æ¥ç»™ä¸šåŠ¡æ–¹æ³•å¢åŠ åŠŸèƒ½çš„ç±»ï¼Œåœ¨è¿™ä¸ªç±»ä¸­æœ‰åˆ‡é¢çš„åŠŸèƒ½ä»£ç </li><li>ä½ç½®ï¼šåœ¨ç±»å®šä¹‰çš„ä¸Šé¢</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Aspect</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAspect</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="Before"><a href="#Before" class="headerlink" title="@Before"></a>@Before</h4><ul><li><font color="red">å‰ç½®é€šçŸ¥æ³¨è§£</font></li><li>å±æ€§valueï¼šæ˜¯åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼Œè¡¨ç¤ºåˆ‡é¢çš„åŠŸèƒ½æ‰§è¡Œçš„ä½ç½®</li><li>åœ¨ç›®æ ‡æ–¹æ³•ä¹‹å‰æ‰§è¡Œ</li><li>ä¸ä¼šæ”¹å˜å’Œå½±å“æ–¹æ³•çš„æ‰§è¡Œå’Œæ‰§è¡Œç»“æœ</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Before</span><span class="token punctuation">(</span>value <span class="token operator">=</span><span class="token string">"execution(void *..SomeServiceImpl.doSome(String,Integer))"</span> <span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">myBefore2</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> joinPoint<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="AfterReturning"><a href="#AfterReturning" class="headerlink" title="@AfterReturning"></a>@AfterReturning</h4><ul><li><font color="red">åç½®é€šçŸ¥æ³¨è§£</font></li><li>åœ¨ç›®æ ‡æ–¹æ³•ä¹‹åæ‰§è¡Œ</li><li>èƒ½å¤Ÿè·å–åˆ°ç›®æ ‡æ–¹æ³•çš„è¿”å›å€¼ï¼Œå¯ä»¥æ ¹æ®è¿™ä¸ªè¿”å›å€¼åšä¸åŒçš„å¤„ç†åŠŸèƒ½r</li><li>Object  res = doOther</li><li>å¯ä»¥ä¿®æ”¹è¿™ä¸ªè¿”å›å€¼</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@AfterReturning</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"execution(* *..SomeServiceImpl.doOther(..))"</span><span class="token punctuation">,</span>returning <span class="token operator">=</span> <span class="token string">"res"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">myAfterReturning</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> joinPoint<span class="token punctuation">,</span><span class="token class-name">Object</span> res<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="Around"><a href="#Around" class="headerlink" title="@Around"></a>@Around</h4><ul><li><font color="red">ç¯ç»•é€šçŸ¥æ³¨è§£</font></li><li>åœ¨ç›®æ ‡æ–¹æ³•å‰åéƒ½èƒ½å¢åŠ åŠŸèƒ½</li><li>æ§åˆ¶ç›®æ ‡æ–¹æ³•æ˜¯å¦è¢«è°ƒç”¨æ‰§è¡Œ</li><li>ä¿®æ”¹åŸæ¥ç›®æ ‡æ–¹æ³•çš„æ‰§è¡Œç»“æœï¼Œå½±å“æœ€åçš„è°ƒç”¨ç»“æœ</li><li>å‚æ•°ï¼šProceedingJoinPoint æ‰§è¡Œç›®æ ‡æ–¹æ³•</li><li> è¿”å›å€¼ï¼šç›®æ ‡æ–¹æ³•çš„æ‰§è¡Œç»“æœï¼Œå¯ä»¥è¢«ä¿®æ”¹</li><li>å¸¸ç”¨ä½œäº‹åŠ¡ç®¡ç†</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"execution(* *..SomeServiceImpl.doFirst(..))"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">myAround</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> proceedingJoinPoint<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="AfterThrowing"><a href="#AfterThrowing" class="headerlink" title="@AfterThrowing"></a>@AfterThrowing</h4><ul><li><p><font color="red">å¼‚å¸¸é€šçŸ¥æ³¨è§£</font></p></li><li><p>å‚æ•°æœ‰ä¸€ä¸ªException å’Œ JoinPoint</p></li><li><p> å±æ€§ï¼švalue åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</p></li><li><p> throwing è‡ªå®šä¹‰å˜é‡ï¼Œè¡¨ç¤ºæ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸å¯¹è±¡</p></li><li><p>å˜é‡åå’Œæ–¹æ³•å‚æ•°åä¸€æ ·</p></li><li><p>åœ¨ç›®æ ‡æ–¹æ³•æŠ›å‡ºå¼‚å¸¸æ—¶æ‰§è¡Œ</p></li><li><p>åšå¼‚å¸¸ç›‘æ§ç¨‹åº</p></li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@AfterThrowing</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"execution(* *..SomeServiceImpl.doSecond(..))"</span><span class="token punctuation">,</span> throwing <span class="token operator">=</span> <span class="token string">"ex"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">myAfterException</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="After"><a href="#After" class="headerlink" title="@After"></a>@After</h4><ul><li><font color="red">æœ€ç»ˆé€šçŸ¥æ³¨è§£</font></li><li>å‚æ•°æœ‰ä¸€ä¸ªJoinPoint</li><li>å±æ€§ï¼švalue åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</li><li>æ€»æ˜¯ä¼šåœ¨ç›®æ ‡æ–¹æ³•ä¹‹åæ‰§è¡Œ</li><li>ä¸€èˆ¬åšèµ„æºæ¸…é™¤å·¥ä½œ</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@After</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"execution(* *..SomeServiceImpl.doThird(..))"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">void</span>  <span class="token function">myAfter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="Pointcut"><a href="#Pointcut" class="headerlink" title="@Pointcut"></a>@Pointcut</h4><ul><li><font color="red">å®šä¹‰ç®¡ç†åˆ‡å…¥ç‚¹æ³¨è§£</font></li><li>å¤šä¸ªåˆ‡å…¥ç‚¹è¡¨è¾¾å¼æ˜¯é‡å¤çš„,å¯ä»¥å¤ç”¨,å¯ä»¥ä½¿ç”¨@Pointcut</li><li>å±æ€§ï¼švalue åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</li><li>å½“ä½¿ç”¨@Pointcutå®šä¹‰åœ¨ä¸€ä¸ªæ–¹æ³•çš„ä¸Šé¢,æ­¤æ—¶è¿™ä¸ªæ–¹æ³•åç§°å°±æ˜¯åˆ‡å…¥ç‚¹è¡¨è¾¾å¼,å…¶ä»–é€šçŸ¥ä¸­,valueå±æ€§å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•åç§°,ä»£æ›¿åˆ‡å…¥ç‚¹è¡¨è¾¾å¼</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@After</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"mypt()"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">void</span>  <span class="token function">myAfter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ‰§è¡Œæœ€ç»ˆé€šçŸ¥ï¼Œæ€»æ˜¯ä¼šæ‰§è¡Œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token annotation punctuation">@Pointcut</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"execution(* *..SomeServiceImpl.doThird(..))"</span> <span class="token punctuation">)</span><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">mypt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//æ— éœ€ä»£ç </span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Transactional"><a href="#Transactional" class="headerlink" title="@Transactional"></a>@Transactional</h4><p><code>@Transactional</code> çš„æ‰€æœ‰å¯é€‰å±æ€§å¦‚ä¸‹æ‰€ç¤ºï¼š</p><p> â¢ <code>propagation</code>ï¼šç”¨äºè®¾ç½®äº‹åŠ¡ä¼ æ’­å±æ€§ã€‚è¯¥å±æ€§ç±»å‹ä¸º Propagation æšä¸¾ï¼Œé»˜è®¤å€¼ä¸ºPropagation.REQUIREDã€‚</p><p> â¢<code> isolation</code>ï¼šç”¨äºè®¾ç½®äº‹åŠ¡çš„éš”ç¦»çº§åˆ«ã€‚è¯¥å±æ€§ç±»å‹ä¸º Isolation æšä¸¾ï¼Œé»˜è®¤å€¼ä¸º Isolation.DEFAULTã€‚ â¢ readOnlyï¼šç”¨äºè®¾ç½®è¯¥æ–¹æ³•å¯¹æ•°æ®åº“çš„æ“ä½œæ˜¯å¦æ˜¯åªè¯»çš„ã€‚è¯¥å±æ€§ä¸º booleanï¼Œé»˜è®¤å€¼ ä¸º falseã€‚</p><p> â¢<code> timeout</code>ï¼šç”¨äºè®¾ç½®æœ¬æ“ä½œä¸æ•°æ®åº“è¿æ¥çš„è¶…æ—¶æ—¶é™ã€‚å•ä½ä¸ºç§’ï¼Œç±»å‹ä¸º intï¼Œé»˜è®¤å€¼ä¸º -1ï¼Œå³æ²¡æœ‰æ—¶é™ã€‚</p><p> â¢<code> rollbackFor</code>ï¼šæŒ‡å®šéœ€è¦å›æ»šçš„å¼‚å¸¸ç±»ã€‚ç±»å‹ä¸º Class[]ï¼Œé»˜è®¤å€¼ä¸ºç©ºæ•°ç»„ã€‚å½“ç„¶ï¼Œè‹¥åªæœ‰ ä¸€ä¸ªå¼‚å¸¸ç±»æ—¶ï¼Œå¯ä»¥ä¸ä½¿ç”¨æ•°ç»„ã€‚ </p><p>â¢ <code>rollbackForClassName</code>ï¼šæŒ‡å®šéœ€è¦å›æ»šçš„å¼‚å¸¸ç±»ç±»åã€‚ç±»å‹ä¸º String[]ï¼Œé»˜è®¤å€¼ä¸ºç©ºæ•°ç»„ã€‚ å½“ç„¶ï¼Œè‹¥åªæœ‰ä¸€ä¸ªå¼‚å¸¸ç±»æ—¶ï¼Œå¯ä»¥ä¸ä½¿ç”¨æ•°ç»„ã€‚</p><p>â¢<code> noRollbackFor</code>ï¼šæŒ‡å®šä¸éœ€è¦å›æ»šçš„å¼‚å¸¸ç±»ã€‚ç±»å‹ä¸º Class[]ï¼Œé»˜è®¤å€¼ä¸ºç©ºæ•°ç»„ã€‚å½“ç„¶ï¼Œè‹¥ åªæœ‰ä¸€ä¸ªå¼‚å¸¸ç±»æ—¶ï¼Œå¯ä»¥ä¸ä½¿ç”¨æ•°ç»„ã€‚</p><p> â¢ <code>noRollbackForClassName</code>ï¼šæŒ‡å®šä¸éœ€è¦å›æ»šçš„å¼‚å¸¸ç±»ç±»åã€‚ç±»å‹ä¸º String[]ï¼Œé»˜è®¤å€¼ä¸ºç©º æ•°ç»„ã€‚å½“ç„¶ï¼Œè‹¥åªæœ‰ä¸€ä¸ªå¼‚å¸¸ç±»æ—¶ï¼Œå¯ä»¥ä¸ä½¿ç”¨æ•°ç»„ã€‚ </p><p> â¢  éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ@Transactional è‹¥ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œåªèƒ½ç”¨äº public æ–¹æ³•ä¸Šã€‚å¯¹äºå…¶ä»–é public æ–¹æ³•ï¼Œå¦‚æœåŠ ä¸Šäº†æ³¨è§£@Transactionalï¼Œè™½ç„¶ Spring ä¸ä¼šæŠ¥é”™ï¼Œä½†ä¸ä¼šå°†æŒ‡å®šäº‹åŠ¡ç»‡å…¥åˆ°è¯¥ æ–¹æ³•ä¸­ã€‚å› ä¸º Spring ä¼šå¿½ç•¥æ‰æ‰€æœ‰é public æ–¹æ³•ä¸Šçš„@Transaction æ³¨è§£ã€‚ è‹¥@Transaction æ³¨è§£åœ¨ç±»ä¸Šï¼Œåˆ™è¡¨ç¤ºè¯¥ç±»ä¸Šæ‰€æœ‰çš„æ–¹æ³•å‡å°†åœ¨æ‰§è¡Œæ—¶ç»‡å…¥äº‹åŠ¡ã€‚</p><ul><li>éœ€å£°æ˜äº‹åŠ¡ç®¡ç†å™¨å¯¹è±¡</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--ä½¿ç”¨springçš„äº‹åŠ¡å¤„ç†--></span><span class="token comment">&lt;!--å£°æ˜äº‹åŠ¡ç®¡ç†å™¨--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>transactionManager<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.springframework.jdbc.datasource.DataSourceTransactionManager<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--è¿æ¥çš„æ•°æ®åº“,æŒ‡å®šæ•°æ®æº--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myDataSource<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å¼€å¯æ³¨è§£é©±åŠ¨</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml">  <span class="token comment">&lt;!--å¼€å¯äº‹åŠ¡æ³¨è§£é©±åŠ¨,å‘Šè¯‰springä½¿ç”¨æ³¨è§£é©±åŠ¨ç®¡ç†äº‹åŠ¡,åˆ›å»ºä»£ç†é©±åŠ¨--></span><span class="token comment">&lt;!--  &lt;tx:annotation-driven  transaction-manager = "transactionManager"/>--></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>annotation-driven</span> <span class="token attr-name">transaction-manager</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>transactionManager<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Transactional</span><span class="token punctuation">(</span>    propagation <span class="token operator">=</span> <span class="token class-name">Propagation</span><span class="token punctuation">.</span>REQUIRED<span class="token punctuation">,</span>    isolation <span class="token operator">=</span> <span class="token class-name">Isolation</span><span class="token punctuation">.</span>DEFAULT<span class="token punctuation">,</span>    readOnly <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span>    rollbackFor <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">NullPointerException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>        <span class="token class-name">NotEnoughException</span><span class="token punctuation">.</span><span class="token keyword">class</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token comment">// é»˜è®¤ä¼ æ’­è¡Œä¸ºæ˜¯REQUIRED,é»˜è®¤éš”ç¦»çº§åˆ«DEFAULT æŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸ å›æ»šäº‹åŠ¡</span><span class="token annotation punctuation">@Transactional</span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="SpringMVC"><a href="#SpringMVC" class="headerlink" title="SpringMVC"></a>SpringMVC</h3><h4 id="RequestMapping"><a href="#RequestMapping" class="headerlink" title="@RequestMapping"></a>@RequestMapping</h4><ul><li>è¯·æ±‚æ˜ å°„ï¼ŒæŠŠä¸€ä¸ªè¯·æ±‚åœ°å€å’Œä¸€ä¸ªæ–¹æ³•ç»‘å®šåœ¨ä¸€èµ·ï¼Œä¸€ä¸ªè¯·æ±‚æŒ‡å®šä¸€ä¸ªæ–¹æ³•å¤„ç†</li><li>value: æ˜¯ä¸€ä¸ªstringï¼Œè¡¨ç¤ºè¯·æ±‚çš„urlåœ°å€ã€‚valueçš„å€¼å¿…é¡»æ˜¯å”¯ä¸€çš„ï¼Œä¸èƒ½é‡å¤ã€‚æ¨èä½¿ç”¨ä»¥â€/â€œå¼€å§‹</li><li>methd: è¡¨ç¤ºè¯·æ±‚çš„æ–¹å¼ã€‚å®ƒçš„å€¼æ—¶æšä¸¾ç±»å‹ï¼Œå¸¸ç”¨getå’Œpostä¸¤ç§æ–¹å¼ã€‚ä¸æŒ‡å®šè¯·æ±‚æ–¹å¼åˆ™æ²¡æœ‰é™åˆ¶</li><li>produces : æŒ‡å®šç¼–ç æ ¼å¼</li><li>ä½ç½®ï¼šåœ¨æ–¹æ³•å’Œç±»çš„ä¸Šé¢<ul><li>åœ¨ç±»çš„ä¸Šé¢äº›ä»£è¡¨æ‰€æœ‰è¯·æ±‚çš„å…¬å…±éƒ¨åˆ†</li></ul></li><li>ä½¿ç”¨RequestMappingä¿®é¥°çš„æ–¹æ³•å«åšå¤„ç†å™¨æ–¹æ³•æˆ–è€…æ§åˆ¶å™¨æ–¹æ³•ã€‚</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/some.do"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"/some.do"</span><span class="token punctuation">,</span><span class="token string">"/first.do"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/test"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyController</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/some.do"</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>GET<span class="token punctuation">)</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/other.do"</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>POST<span class="token punctuation">)</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"returnStringData.do"</span><span class="token punctuation">,</span>produces <span class="token operator">=</span> <span class="token string">"text/plain;charset=utf-8"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="RequestParam"><a href="#RequestParam" class="headerlink" title="@RequestParam"></a>@RequestParam</h4><ul><li>è§£å†³è¯·æ±‚ä¸­å‚æ•°åå’Œå¤„ç†å™¨æ–¹æ³•çš„å½¢å‚åä¸ä¸€æ ·</li><li>valueï¼šè¯·æ±‚ä¸­çš„å‚æ•°åç§°</li><li>åœ¨å¤„ç†å™¨æ–¹æ³•çš„å½¢å‚å®šä¹‰å‰é¢</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestParam</span><span class="token punctuation">(</span><span class="token string">"rname"</span><span class="token punctuation">)</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token class-name">Integer</span> age<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="RequestBody"><a href="#RequestBody" class="headerlink" title="@RequestBody"></a>@RequestBody</h4><ul><li>ä¸»è¦ç”¨æ¥æ¥æ”¶å‰ç«¯ä¼ é€’ç»™åç«¯çš„jsonå­—ç¬¦ä¸²ä¸­çš„æ•°æ®çš„(è¯·æ±‚ä½“ä¸­çš„æ•°æ®çš„)ï¼›</li><li>ä¸€èˆ¬éƒ½ç”¨POSTæ–¹å¼è¿›è¡Œæäº¤</li><li>åœ¨åç«¯çš„åŒä¸€ä¸ªæ¥æ”¶æ–¹æ³•é‡Œï¼Œ@RequestBodyä¸@RequestParam()å¯ä»¥åŒæ—¶ä½¿ç”¨ï¼Œ@RequestBodyæœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªï¼Œè€Œ@RequestParam()å¯ä»¥æœ‰å¤šä¸ªã€‚</li><li>ä½ç½®ï¼šä¸€èˆ¬æ”¾åœ¨controllerå±‚çš„å…·ä½“è¯·æ±‚æ–¹æ³•çš„å…¥å‚ä¸­</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token class-name">CommonResult</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">Payment</span> payment<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="ResponseBody"><a href="#ResponseBody" class="headerlink" title="@ResponseBody"></a>@ResponseBody</h4><ul><li>æŠŠå¤„ç†å™¨çš„æ–¹æ³•è¿”å›å¯¹è±¡è½¬ä¸ºjsonåï¼Œé€šè¿‡HttpServletResponseè¾“å‡ºç»™æµè§ˆå™¨</li><li>ä½ç½®ï¼šæ–¹æ³•çš„å®šä¹‰ä¸Šé¢ã€‚å’Œå…¶ä»–æ³¨è§£æ²¡æœ‰é¡ºåºå…³ç³»</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/returnStudentJsonArray.do"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ResponseBody</span><span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Student</span><span class="token punctuation">></span></span> <span class="token function">doStudentJsonObjectArray</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Integer</span> age<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ControllerAdvice"><a href="#ControllerAdvice" class="headerlink" title="@ControllerAdvice"></a>@ControllerAdvice</h4><ul><li>æ§åˆ¶å™¨å¢å¼º(ç»™æ§åˆ¶å™¨å¢åŠ åŠŸèƒ½â€“å¼‚å¸¸å¤„ç†åŠŸèƒ½)</li><li>ä½ç½®:åœ¨ç±»çš„ä¸Šé¢</li><li>éœ€åœ¨springmvcé…ç½®æ–‡ä»¶å£°æ˜ç»„ä»¶æ‰«æå™¨,æŒ‡å®š@ControllerAdviceæ‰€åœ¨çš„åŒ…å</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@ControllerAdvice</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GolbalExceptionHandler</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--å¤„ç†å¼‚å¸¸--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>component-scan</span> <span class="token attr-name">base-package</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.handler<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">mvc:</span>annotation-driven</span><span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="ExceptionHandler"><a href="#ExceptionHandler" class="headerlink" title="@ExceptionHandler"></a>@ExceptionHandler</h4><ul><li>å½¢å‚:Exception è¡¨ç¤º Controllerä¸­æŠ›å‡ºçš„å¼‚å¸¸å¯¹è±¡,é€šè¿‡å½¢å‚å¯ä»¥è·å–å‘ç”Ÿçš„å¼‚å¸¸ä¿¡æ¯</li><li>value è¡¨ç¤ºå¼‚å¸¸çš„ç±»å‹,å½“å‘ç”Ÿæ­¤å¼‚å¸¸ç±»å‹æ—¶,æœ‰å½“å‰æ–¹æ³•å¤„ç†</li><li>ä¸å†™valueå³å¤„ç†å…¶ä»–å¼‚å¸¸ç±»</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token class-name">NameException</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">ModelAndView</span> <span class="token function">doNameExceptio</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> exception<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Springboot"><a href="#Springboot" class="headerlink" title="Springboot"></a>Springboot</h3><h4 id="SpringBootApplication"><a href="#SpringBootApplication" class="headerlink" title="@SpringBootApplication"></a>@SpringBootApplication</h4><ul><li>SpringBootæ ¸å¿ƒæ³¨è§£,ä¸»è¦ç”¨äºå¼€å¯springè‡ªåŠ¨é…ç½®</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ConfigurationProperties"><a href="#ConfigurationProperties" class="headerlink" title="@ConfigurationProperties"></a>@ConfigurationProperties</h4><ul><li>è‡ªå®šä¹‰é…ç½®å±æ€§å‰ç¼€</li><li>å±æ€§å¿…é¡»æœ‰å‰ç¼€</li><li>å°†æ•´ä¸ªæ–‡ä»¶æ˜ å°„æˆä¸€ä¸ªå¯¹è±¡</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">"abc"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Abc</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> websit<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token attr-name">abc.name</span><span class="token punctuation">=</span><span class="token attr-value">abc</span><span class="token attr-name">abc.websit</span><span class="token punctuation">=</span><span class="token attr-value">http:www.abc.com</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--è§£å†³ä½¿ç”¨@ConfigurationProperties æ³¨è§£å‡ºç°è­¦å‘Šé—®é¢˜--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-configuration-processor<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>optional</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>optional</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Mapper"><a href="#Mapper" class="headerlink" title="@Mapper"></a>@Mapper</h4><ul><li>æ‰«ædaoæ¥å£åˆ°springå®¹å™¨</li><li>ä½ç½®ï¼šdoaå±‚æ¥å£ä¸Šé¢</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Mapper</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">StudentMapper</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="MapperScan"><a href="#MapperScan" class="headerlink" title="@MapperScan()"></a>@MapperScan()</h4><ul><li>å¼€å¯æ‰«æmapperæ¥å£çš„åŒ…ä»¥åŠå­ç›®å½•</li><li>ä½ç½®ï¼šspring bootå¯åŠ¨å…¥å£ç±»ä¸Šæ·»åŠ </li><li>basePackages ï¼š æŒ‡å®šæ‰€éœ€è¦æ‰«æçš„åŒ…ä»¥åŠå­ç›®å½•ï¼Œå¯ä»¥çœç•¥</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@MapperScan</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token string">"com.bjpowernode.springboot.mapper"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">&#123;</span>   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="EnableTransactionManagement"><a href="#EnableTransactionManagement" class="headerlink" title="@EnableTransactionManagement"></a>@EnableTransactionManagement</h4><ul><li>å¼€å¯äº‹åŠ¡ï¼Œï¼ˆå¯é€‰é¡¹ï¼Œåœ¨ä¸šåŠ¡æ–¹æ³•ä¸Šæ·»åŠ @Transactionalé»˜è®¤å°±å¼€å¯äº‹åŠ¡äº†ï¼‰</li><li>ä½ç½®ï¼šå¯åŠ¨ç±»ä¸Š</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableTransactionManagement</span> <span class="token comment">//å¼€å¯äº‹åŠ¡ å¯åŠ å¯ä¸åŠ </span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Transactional-1"><a href="#Transactional-1" class="headerlink" title="@Transactional"></a>@Transactional</h4><ul><li>ä¸ºä¸šåŠ¡æ–¹æ³•æ·»åŠ äº‹åŠ¡ï¼Œå¼€å¯äº‹åŠ¡</li><li>ä½ç½®ï¼šService æ–¹æ³•ä¸Š</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Transactional</span><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">updateStudentById</span><span class="token punctuation">(</span><span class="token class-name">Student</span> student<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="RestController"><a href="#RestController" class="headerlink" title="@RestController"></a>@RestController</h4><ul><li>ç›¸å½“äºæ§åˆ¶å±‚ç±»ä¸ŠåŠ ä¸Š@Controller+æ–¹æ³•ä¸ŠåŠ @ResponseBody,æ–¹æ³•ä¸Šå°±ä¸ç”¨åŠ @ResponseBody</li><li>ä½ç½®ï¼šæ§åˆ¶å±‚ç±»ä¸Šé¢</li><li>æ„å‘³ç€å½“å‰æ§åˆ¶å±‚ç±»ä¸­æ‰€æœ‰æ–¹æ³•è¿”è¿˜çš„éƒ½æ˜¯JSONå¯¹è±¡</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@RestController</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentController</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/student"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">Student</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        student<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">1001</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        student<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"zhangsan"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> student<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/queryStudentById"</span><span class="token punctuation">,</span>method <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>GET<span class="token punctuation">,</span><span class="token class-name">RequestMethod</span><span class="token punctuation">.</span>POST<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">queryStudentById</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">Student</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        student<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> student<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="GetMapping"><a href="#GetMapping" class="headerlink" title="@GetMapping"></a>@GetMapping</h4><ul><li>åªæ¥æ”¶GETè¯·æ±‚ï¼Œå¦‚æœè¯·æ±‚æ–¹å¼ä¸å¯¹ä¼šæŠ¥405é”™è¯¯</li><li>è¯¥æ³¨è§£é€šå¸¸åœ¨æŸ¥è¯¢æ•°æ®ä¸­ä½¿ç”¨</li><li>ç›¸å½“äº @RequestMapping(value = â€œ/queryStudentById2â€,method = RequestMethod.GET)</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/queryStudentById2"</span><span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">queryStudentById2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token string">"Only GET Method"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="PostMapping"><a href="#PostMapping" class="headerlink" title="@PostMapping"></a>@PostMapping</h4><ul><li>åªæ¥æ”¶POSTè¯·æ±‚ï¼Œå¦‚æœè¯·æ±‚æ–¹å¼ä¸å¯¹ä¼šæŠ¥405é”™è¯¯</li><li>è¯¥æ³¨è§£é€šå¸¸åœ¨æ–°å¢æ•°æ®ä¸­ä½¿ç”¨</li><li>ç›¸å½“äº @RequestMapping(value = â€œ/insertâ€,method = RequestMethod.POST)</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/insert"</span><span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">insert</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token string">"Insert Success"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="DeleteMapping"><a href="#DeleteMapping" class="headerlink" title="@DeleteMapping"></a>@DeleteMapping</h4><ul><li>åªæ¥æ”¶DELETEè¯·æ±‚ï¼Œå¦‚æœè¯·æ±‚æ–¹å¼ä¸å¯¹ä¼šæŠ¥405é”™è¯¯</li><li>ç›¸å½“äº @RequestMapping(value = â€œ/deleteâ€,method = RequestMethod.DELETE)</li><li>è¯¥æ³¨è§£é€šå¸¸åœ¨åˆ é™¤æ•°æ®ä¸­ä½¿ç”¨</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@DeleteMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/delete"</span><span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token string">"Delete Success"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="PutMapping"><a href="#PutMapping" class="headerlink" title="@PutMapping"></a>@PutMapping</h4><ul><li>åªæ¥æ”¶PUTè¯·æ±‚ï¼Œå¦‚æœè¯·æ±‚æ–¹å¼ä¸å¯¹ä¼šæŠ¥405é”™è¯¯</li><li>ç›¸å½“äº @RequestMapping(value = â€œ/updateâ€,method = RequestMethod.PUT)</li><li>è¯¥æ³¨è§£é€šå¸¸åœ¨ä¿®æ”¹æ•°æ®ä¸­ä½¿ç”¨</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@PutMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/update"</span><span class="token punctuation">)</span> <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token keyword">return</span> <span class="token string">"Update Success"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="PathVariable"><a href="#PathVariable" class="headerlink" title="@PathVariable"></a>@PathVariable</h4><ul><li>è·å– url ä¸­å‚æ•°çš„æ•°æ®</li><li><font color="red">è¯¥æ³¨è§£æ˜¯å®ç° RESTFul æœ€ä¸»è¦çš„ä¸€ä¸ªæ³¨è§£</font></li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/student/Detail/&#123;id&#125;/&#123;age&#125;"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">student1</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">,</span>                       <span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"age"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> age<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">></span></span> retMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    retMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"id"</span> <span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>    retMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"age"</span> <span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">return</span> retMap<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Configuration"><a href="#Configuration" class="headerlink" title="@Configuration"></a>@Configuration</h4><ul><li>å®šä¹‰æ­¤ç±»ä¸ºé…ç½®ç±»,ç›¸å½“äºxmlæ–‡ä»¶</li><li>ä½ç½®ï¼šç±»çš„ä¸Šé¢</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InterceptorConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="Bean"><a href="#Bean" class="headerlink" title="@Bean"></a>@Bean</h4><ul><li>ä½ç½®:æ–¹æ³•ä¸Šé¢,ä¸»è¦ç”¨åœ¨é…ç½®ç±»é‡Œ</li><li>ç›¸å½“äºä¸€ä¸ª<beans> <bean id="" class=""></beans> æ ‡ç­¾</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ServletConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token keyword">public</span> <span class="token class-name">ServletRegistrationBean</span> <span class="token function">myServletRegistrationBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">ServletRegistrationBean</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Servlet</span><span class="token punctuation">></span></span> servletServletRegistrationBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServletRegistrationBean</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token string">"/myServlet"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> servletServletRegistrationBean<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="WebServlet"><a href="#WebServlet" class="headerlink" title="@WebServlet"></a>@WebServlet</h4><ul><li>servletè¯·æ±‚æ˜ å°„æµè§ˆå™¨åœ°å€</li><li>ä½ç½®:ç±»(ç»§æ‰¿servlet)çš„ä¸Šé¢</li><li>urlPatterns:æ˜ å°„åœ°å€</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@WebServlet</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">"/myServlet"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"MySpringBoot Servlet-1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        resp<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doPost</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> resp<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">&#123;</span>        <span class="token function">doGet</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> resp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ServletComponentScan"><a href="#ServletComponentScan" class="headerlink" title="@ServletComponentScan"></a>@ServletComponentScan</h4><ul><li>å¼€å¯æ‰«ææŒ‡å®šåŒ…ä¸‹çš„servletç±»ã€filterç±»</li><li>ä½ç½®:springbootå¯åŠ¨ç±»ä¸Š</li><li>basePackages:æŒ‡å®šæ‰«æçš„åŒ…</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@ServletComponentScan</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token string">"com.bjpowernode.springboot.servlet"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="WebFilter"><a href="#WebFilter" class="headerlink" title="@WebFilter"></a>@WebFilter</h4><ul><li>filterè¿‡æ»¤å™¨æµè§ˆå™¨åœ°å€</li><li>ä½ç½®:ç±»(å®ç°Filter)çš„ä¸Šé¢</li><li>URLPattern:è¿‡æ»¤åœ°å€</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@WebFilter</span><span class="token punctuation">(</span>urlPatterns <span class="token operator">=</span> <span class="token string">"/myfilter"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="ImportResource"><a href="#ImportResource" class="headerlink" title="@ImportResource"></a>@ImportResource</h4><ul><li>å¯¼å…¥xmlé…ç½®ï¼Œç­‰åŒäºxmlæ–‡ä»¶çš„resources</li><li>å¸¸ç”¨åœ¨é…ç½®ç±»ä¸Šé¢</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@ImportResource</span><span class="token punctuation">(</span>value <span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"classpath:applicationContext.xml"</span><span class="token punctuation">,</span><span class="token string">"classpath:beans.xml"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> springConfig<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="properttSource"><a href="#properttSource" class="headerlink" title="@properttSource"></a>@properttSource</h4><ul><li>è¯»å–propertieså±æ€§é…ç½®æ–‡ä»¶</li><li>éœ€æŒ‡å®špropertiesæ–‡ä»¶çš„ä½ç½®</li><li>å¸¸ç”¨åœ¨é…ç½®ç±»ä¸Šé¢</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span>value <span class="token operator">=</span><span class="token string">"classpath:config.properties"</span><span class="token punctuation">)</span><span class="token annotation punctuation">@ComponentScan</span><span class="token punctuation">(</span>basePackages<span class="token operator">=</span><span class="token string">"com.ssm.vo"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> springConfig<span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Mybatis"><a href="#Mybatis" class="headerlink" title="Mybatis"></a>Mybatis</h3><hr><h4 id="å¾…è¡¥å……"><a href="#å¾…è¡¥å……" class="headerlink" title="å¾…è¡¥å……"></a>å¾…è¡¥å……</h4><h4 id="Param"><a href="#Param" class="headerlink" title="@Param"></a>@Param</h4><ul><li>ä½œç”¨æ˜¯ç”¨äºä¼ é€’å‚æ•°ï¼Œä»è€Œå¯ä»¥ä¸SQLä¸­çš„çš„å­—æ®µåç›¸å¯¹åº”ï¼Œä¸€èˆ¬åœ¨2=&lt;å‚æ•°æ•°&lt;=5æ—¶ä½¿ç”¨æœ€ä½³ã€‚</li><li>å½“ Dao æ¥å£æ–¹æ³•å¤šä¸ªå‚æ•°ï¼Œéœ€è¦<strong>é€šè¿‡åç§°ä½¿ç”¨å‚æ•°</strong>ã€‚åœ¨æ–¹æ³•å½¢å‚å‰é¢åŠ å…¥@Param(â€œè‡ªå®šä¹‰å‚æ•°åâ€)ï¼Œ</li><li>å¦‚æœä½ çš„<strong>daoå±‚</strong>çš„æ–¹æ³•åªéœ€è¦<strong>ä¸€ä¸ª</strong>å‚æ•°ï¼Œé‚£ä¹ˆç”¨ä¸ç”¨**@Param**æ³¨è§£éƒ½å¯ä»¥</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Mapper</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PaymentDao</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Payment</span> payment<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">Payment</span> <span class="token function">getPaymentById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">"idsss"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>getPaymentById<span class="token punctuation">"</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Long<span class="token punctuation">"</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>BaseResultMap<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>    SELECT * FROM payment WHERE id=#&#123;idsss&#125;;<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>#ï¼š<font color="red">å ä½ç¬¦</font>ï¼Œå‘Šè¯‰ mybatis ä½¿ç”¨å®é™…çš„å‚æ•°å€¼ä»£æ›¿ã€‚å¹¶ä½¿ç”¨ PrepareStatement å¯¹è±¡æ‰§è¡Œ sql è¯­å¥, #{â€¦}ä»£æ›¿<br>sql è¯­å¥çš„â€œ?â€ã€‚è¿™æ ·åšæ›´å®‰å…¨ï¼Œæ›´è¿…é€Ÿï¼Œé€šå¸¸ä¹Ÿæ˜¯é¦–é€‰åšæ³•ã€‚</p><p>$ <font color="red">å­—ç¬¦ä¸²æ›¿æ¢</font>ï¼Œå‘Šè¯‰ mybatis ä½¿ç”¨$åŒ…å«çš„â€œå­—ç¬¦ä¸²â€æ›¿æ¢æ‰€åœ¨ä½ç½®ã€‚ä½¿ç”¨ Statement æŠŠ sql è¯­å¥å’Œ${}çš„<br>å†…å®¹è¿æ¥èµ·æ¥ã€‚ä¸»è¦ç”¨åœ¨æ›¿æ¢è¡¨åï¼Œåˆ—åï¼Œä¸åŒåˆ—æ’åºç­‰æ“ä½œã€‚(sqlæ³¨å…¥é—®é¢˜)</p><h3 id="dubbo"><a href="#dubbo" class="headerlink" title="dubbo"></a>dubbo</h3><h4 id="Service"><a href="#Service" class="headerlink" title="@Service"></a>@Service</h4><ul><li>com.alibaba.dubbo.config.annotation.Service;</li><li>ä½ç½®:æœåŠ¡æä¾›è€…å®ç°ç±»ä¸Š</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token punctuation">(</span>interfaceClass <span class="token operator">=</span> <span class="token class-name">StudentService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>version <span class="token operator">=</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>timeout <span class="token operator">=</span> <span class="token number">15000</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">StudentService</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="Reference"><a href="#Reference" class="headerlink" title="@Reference"></a>@Reference</h4><ul><li><p>æ³¨å…¥çš„æ˜¯åˆ†å¸ƒå¼ä¸­çš„è¿œç¨‹æœåŠ¡å¯¹è±¡</p></li><li><p>ä½ç½®:åœ¨å±æ€§å®šä¹‰ä¸Šé¢</p></li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Reference</span><span class="token punctuation">(</span>interfaceClass <span class="token operator">=</span> <span class="token class-name">StudentService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>version <span class="token operator">=</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>check <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token keyword">private</span> <span class="token class-name">StudentService</span> studentService<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="EnableDubboConfiguration"><a href="#EnableDubboConfiguration" class="headerlink" title="@EnableDubboConfiguration"></a>@EnableDubboConfiguration</h4><ul><li>å¼€å¯dubboé…ç½®</li><li>ä½ç½®:springbootå¯åŠ¨ç±»ä¸Š</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableDubboConfiguration</span>  <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="lombok"><a href="#lombok" class="headerlink" title="lombok"></a>lombok</h3><h4 id="Slf4j"><a href="#Slf4j" class="headerlink" title="@Slf4j"></a>@Slf4j</h4><ul><li>lombokæ—¥å¿—æ³¨è§£</li><li>ç”¨äºè·å–æ—¥å¿—ä¿¡æ¯</li><li>ä½ç½®ï¼šç±»çš„ä¸Šé¢</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Controller</span><span class="token annotation punctuation">@Slf4j</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StudentController</span> <span class="token punctuation">&#123;</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">"æŸ¥è¯¢å½“å‰å­¦ç”Ÿçš„æ€»äººæ•°!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Data"><a href="#Data" class="headerlink" title="@Data"></a>@Data</h4><ul><li>è‡ªåŠ¨ç”Ÿæˆgetï¼Œgetï¼ŒtoStringï¼Œequalsç­‰æ–¹æ³•</li><li>ä½ç½®ï¼šç±»çš„ä¸Šé¢</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Data</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> nick<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="AllArgsConstructor"><a href="#AllArgsConstructor" class="headerlink" title="@AllArgsConstructor"></a>@AllArgsConstructor</h4><ul><li>å®ä½“ç±»å…¨éƒ¨å‚æ•°çš„æ„é€ </li><li>ä½ç½®ï¼šå®ä½“ç±»çš„ä¸Šé¢</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@AllArgsConstructor</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Payment</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="NoArgsConstructor"><a href="#NoArgsConstructor" class="headerlink" title="@NoArgsConstructor"></a>@NoArgsConstructor</h4><ul><li>å®ä½“ç±»çš„æ— å‚æ„é€ </li><li>ä½ç½®ï¼šå®ä½“ç±»çš„ä¸Šé¢</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@NoArgsConstructor</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Payment</span> <span class="token keyword">implements</span> <span class="token class-name">Serializable</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="SpringCloud"><a href="#SpringCloud" class="headerlink" title="SpringCloud"></a>SpringCloud</h3><h4 id="EnableEurekaServer"><a href="#EnableEurekaServer" class="headerlink" title="@EnableEurekaServer"></a>@EnableEurekaServer</h4><ul><li>å¯åŠ¨EurekaæœåŠ¡æ³¨å†Œä¸­å¿ƒ</li><li>ä½ç½®ï¼šspringbootå¯åŠ¨ç±»ä¸Š</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableEurekaServer</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EurekaMain7001</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">EurekaMain7001</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="EnableEurekaClient"><a href="#EnableEurekaClient" class="headerlink" title="@EnableEurekaClient"></a>@EnableEurekaClient</h4><ul><li>å¯åŠ¨Eurekaå®¢æˆ·ç«¯æ³¨å†Œä¸­å¿ƒ</li><li>ä½ç½®ï¼šspringbootå¯åŠ¨ç±»ä¸Š</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableEurekaClient</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentMain8001</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">PaymentMain8001</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="LoadBalanced"><a href="#LoadBalanced" class="headerlink" title="@LoadBalanced"></a>@LoadBalanced</h4><ul><li>èµ‹äºˆRestTemplateè´Ÿè½½å‡è¡¡çš„èƒ½åŠ›</li><li>ä½ç½®ï¼šRestTemplateé…ç½®ç±»çš„æ–¹æ³•ä¸Š</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Configuration</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ApplicationContextConfig</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Bean</span>    <span class="token annotation punctuation">@LoadBalanced</span>    <span class="token keyword">public</span> <span class="token class-name">RestTemplate</span> <span class="token function">getResTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="EnableDiscoveryClient"><a href="#EnableDiscoveryClient" class="headerlink" title="@EnableDiscoveryClient"></a>@EnableDiscoveryClient</h4><ul><li>è®©æ³¨å†Œä¸­å¿ƒèƒ½å¤Ÿå‘ç°ï¼Œæ‰«æåˆ°æœåŠ¡</li><li>ç”¨äºä½¿ç”¨consulæˆ–è€…zookeeperä½œä¸ºæ³¨å†Œä¸­å¿ƒæ—¶æ³¨å†ŒæœåŠ¡</li><li>ä½ç½®ï¼šspringbootå¯åŠ¨ç±»ä¸Š</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableEurekaClient</span><span class="token annotation punctuation">@EnableDiscoveryClient</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PaymentMain8001</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">PaymentMain8001</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="RibbonClient-name-â€œCLOUD-PAYMENT-SERVICEâ€-configuration-MySelfRule-class"><a href="#RibbonClient-name-â€œCLOUD-PAYMENT-SERVICEâ€-configuration-MySelfRule-class" class="headerlink" title="@RibbonClient(name = â€œCLOUD-PAYMENT-SERVICEâ€,configuration = MySelfRule.class)"></a>@RibbonClient(name = â€œCLOUD-PAYMENT-SERVICEâ€,configuration = MySelfRule.class)</h4><ul><li>é…ç½®Ribbonè´Ÿè½½å‡è¡¡ç­–ç•¥</li><li><code>name </code>ï¼šæœåŠ¡æä¾›è€…åç§° </li><li><code>configuration</code> ï¼šè´Ÿè½½å‡è¡¡é…ç½®ç±»</li><li>ä½ç½®ï¼šspringbootå¯åŠ¨ç±»ä¸Š</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableEurekaClient</span><span class="token annotation punctuation">@RibbonClient</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"CLOUD-PAYMENT-SERVICE"</span><span class="token punctuation">,</span>configuration <span class="token operator">=</span> <span class="token class-name">MySelfRule</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderMain80</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderMain80</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="EnableFeignClients"><a href="#EnableFeignClients" class="headerlink" title="@EnableFeignClients"></a>@EnableFeignClients</h4><ul><li>ä½¿ç”¨Feignï¼Œæ¿€æ´»å¹¶å¼€å¯</li><li>ä½ç½®ï¼šspringbootå¯åŠ¨ç±»ä¸Š</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableFeignClients</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderFeignMain80</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderFeignMain80</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="FeignClient"><a href="#FeignClient" class="headerlink" title="@FeignClient"></a>@FeignClient</h4><ul><li>valueï¼šæœåŠ¡æä¾›è€…åç§°</li><li>ä½ç½®ï¼šæœåŠ¡æ¶ˆè´¹è€…æ¥å£ç±»ä¸Š</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Component</span><span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"Cloud-PAYMENT-SERVICE"</span><span class="token punctuation">)</span><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">PaymentService</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="EnableHystrixã€-HystrixCommandã€-HystrixPropert"><a href="#EnableHystrixã€-HystrixCommandã€-HystrixPropert" class="headerlink" title="@EnableHystrixã€@HystrixCommandã€@HystrixPropert"></a>@EnableHystrixã€@HystrixCommandã€@HystrixPropert</h4><ul><li><code>@EnableHystrix</code>å¯åŠ¨ç†”æ–­é™çº§æœåŠ¡<ul><li>ä½ç½®ï¼šå¯åŠ¨ç±»ä¸Š</li></ul></li><li><code>@HystrixCommand</code> <ul><li>å±æ€§ <code>fallbackMethod</code>ï¼šæŒ‡å®šå…œåº•çš„æ–¹æ³•</li><li>ä½ç½®ï¼šcontrolleræ–¹æ³•ä¸Š</li></ul></li><li><code>@HystrixProperty</code> : <ul><li><code>name</code> : è®¾ç½®è¶…æ—¶æ—¶é—´</li><li>ä½ç½®ï¼šcontrolleræ–¹æ³•ä¸Š</li></ul></li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableFeignClients</span><span class="token annotation punctuation">@EnableHystrix</span><span class="token comment">//æ·»åŠ åˆ°æ­¤å¤„</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderHystrixMain80</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span>    <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderHystrixMain80</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/consumer/payment/hystrix/timeout/&#123;id&#125;"</span><span class="token punctuation">)</span>    <span class="token annotation punctuation">@HystrixCommand</span><span class="token punctuation">(</span>fallbackMethod <span class="token operator">=</span> <span class="token string">"paymentTimeOutFallbackMethod"</span><span class="token punctuation">,</span>commandProperties <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token annotation punctuation">@HystrixProperty</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">"execution.isolation.thread.timeoutInMilliseconds"</span><span class="token punctuation">,</span>value <span class="token operator">=</span> <span class="token string">"1500"</span><span class="token punctuation">)</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token comment">//        int age = 10/0;</span>        <span class="token class-name">String</span> result <span class="token operator">=</span> paymentHystrixService<span class="token punctuation">.</span><span class="token function">paymentInfo_TimeOut</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å…œåº•æ–¹æ³•</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentTimeOutFallbackMethod</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"æˆ‘æ˜¯æ¶ˆè´¹è€…80ï¼Œå¯¹ä»˜æ”¯ä»˜ç³»ç»Ÿç¹å¿™è¯·10ç§’é’Ÿåå†è¯•æˆ–è€…è‡ªå·±è¿è¡Œå‡ºé”™è¯·æ£€æŸ¥è‡ªå·±,(â”¬ï¼¿â”¬)"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-JAVA" data-language="JAVA"><code class="language-JAVA">@HystrixCommand(fallbackMethod &#x3D; &quot;fallbackMethod&quot;,                 groupKey &#x3D; &quot;strGroupCommand&quot;,                 commandKey &#x3D; &quot;strCommand&quot;,                 threadPoolKey &#x3D; &quot;strThreadPool&quot;,               commandProperties &#x3D; &#123;                &#x2F;&#x2F; è®¾ç½®éš”ç¦»ç­–ç•¥ï¼ŒTHREAD è¡¨ç¤ºçº¿ç¨‹æ±  SEMAPHOREï¼šä¿¡å·æ± éš”ç¦»                @HystrixProperty(name &#x3D; &quot;execution.isolation.strategy&quot;, value &#x3D; &quot;THREAD&quot;),                &#x2F;&#x2F; å½“éš”ç¦»ç­–ç•¥é€‰æ‹©ä¿¡å·æ± éš”ç¦»çš„æ—¶å€™ï¼Œç”¨æ¥è®¾ç½®ä¿¡å·æ± çš„å¤§å°ï¼ˆæœ€å¤§å¹¶å‘æ•°ï¼‰                @HystrixProperty(name &#x3D; &quot;execution.isolation.semaphore.maxConcurrentRequests&quot;, value &#x3D; &quot;10&quot;),                &#x2F;&#x2F; é…ç½®å‘½ä»¤æ‰§è¡Œçš„è¶…æ—¶æ—¶é—´                @HystrixProperty(name &#x3D; &quot;execution.isolation.thread.timeoutinMilliseconds&quot;, value &#x3D; &quot;10&quot;),                &#x2F;&#x2F; æ˜¯å¦å¯ç”¨è¶…æ—¶æ—¶é—´                @HystrixProperty(name &#x3D; &quot;execution.timeout.enabled&quot;, value &#x3D; &quot;true&quot;),                &#x2F;&#x2F; æ‰§è¡Œè¶…æ—¶çš„æ—¶å€™æ˜¯å¦ä¸­æ–­                @HystrixProperty(name &#x3D; &quot;execution.isolation.thread.interruptOnTimeout&quot;, value &#x3D; &quot;true&quot;),            &#x2F;&#x2F; æ‰§è¡Œè¢«å–æ¶ˆçš„æ—¶å€™æ˜¯å¦ä¸­æ–­            @HystrixProperty(name &#x3D; &quot;execution.isolation.thread.interruptOnCancel&quot;, value &#x3D; &quot;true&quot;),            &#x2F;&#x2F; å…è®¸å›è°ƒæ–¹æ³•æ‰§è¡Œçš„æœ€å¤§å¹¶å‘æ•°            @HystrixProperty(name &#x3D; &quot;fallback.isolation.semaphore.maxConcurrentRequests&quot;, value &#x3D; &quot;10&quot;),            &#x2F;&#x2F; æœåŠ¡é™çº§æ˜¯å¦å¯ç”¨ï¼Œæ˜¯å¦æ‰§è¡Œå›è°ƒå‡½æ•°            @HystrixProperty(name &#x3D; &quot;fallback.enabled&quot;, value &#x3D; &quot;true&quot;),            &#x2F;&#x2F; æ˜¯å¦å¯ç”¨æ–­è·¯å™¨            @HystrixProperty(name &#x3D; &quot;circuitBreaker.enabled&quot;, value &#x3D; &quot;true&quot;),            &#x2F;&#x2F; è¯¥å±æ€§ç”¨æ¥è®¾ç½®åœ¨æ»šåŠ¨æ—¶é—´çª—ä¸­ï¼Œæ–­è·¯å™¨ç†”æ–­çš„æœ€å°è¯·æ±‚æ•°ã€‚ä¾‹å¦‚ï¼Œé»˜è®¤è¯¥å€¼ä¸º 20 çš„æ—¶å€™ï¼Œå¦‚æœæ»šåŠ¨æ—¶é—´çª—ï¼ˆé»˜è®¤10ç§’ï¼‰å†…ä»…æ”¶åˆ°äº†19ä¸ªè¯·æ±‚ï¼Œ å³ä½¿è¿™19ä¸ªè¯·æ±‚éƒ½å¤±è´¥äº†ï¼Œæ–­è·¯å™¨ä¹Ÿä¸ä¼šæ‰“å¼€ã€‚            @HystrixProperty(name &#x3D; &quot;circuitBreaker.requestVolumeThreshold&quot;, value &#x3D; &quot;20&quot;),                        &#x2F;&#x2F; è¯¥å±æ€§ç”¨æ¥è®¾ç½®åœ¨æ»šåŠ¨æ—¶é—´çª—ä¸­ï¼Œè¡¨ç¤ºåœ¨æ»šåŠ¨æ—¶é—´çª—ä¸­ï¼Œåœ¨è¯·æ±‚æ•°é‡è¶…è¿‡ circuitBreaker.requestVolumeThreshold çš„æƒ…å†µä¸‹ï¼Œå¦‚æœé”™è¯¯è¯·æ±‚æ•°çš„ç™¾åˆ†æ¯”è¶…è¿‡50, å°±æŠŠæ–­è·¯å™¨è®¾ç½®ä¸º &quot;æ‰“å¼€&quot; çŠ¶æ€ï¼Œå¦åˆ™å°±è®¾ç½®ä¸º &quot;å…³é—­&quot; çŠ¶æ€ã€‚            @HystrixProperty(name &#x3D; &quot;circuitBreaker.errorThresholdPercentage&quot;, value &#x3D; &quot;50&quot;),            &#x2F;&#x2F; è¯¥å±æ€§ç”¨æ¥è®¾ç½®å½“æ–­è·¯å™¨æ‰“å¼€ä¹‹åçš„ä¼‘çœ æ—¶é—´çª—ã€‚ ä¼‘çœ æ—¶é—´çª—ç»“æŸä¹‹åï¼Œä¼šå°†æ–­è·¯å™¨ç½®ä¸º &quot;åŠå¼€&quot; çŠ¶æ€ï¼Œå°è¯•ç†”æ–­çš„è¯·æ±‚å‘½ä»¤ï¼Œå¦‚æœä¾ç„¶å¤±è´¥å°±å°†æ–­è·¯å™¨ç»§ç»­è®¾ç½®ä¸º &quot;æ‰“å¼€&quot; çŠ¶æ€ï¼Œå¦‚æœæˆåŠŸå°±è®¾ç½®ä¸º &quot;å…³é—­&quot; çŠ¶æ€ã€‚            @HystrixProperty(name &#x3D; &quot;circuitBreaker.sleepWindowinMilliseconds&quot;, value &#x3D; &quot;5000&quot;),            &#x2F;&#x2F; æ–­è·¯å™¨å¼ºåˆ¶æ‰“å¼€            @HystrixProperty(name &#x3D; &quot;circuitBreaker.forceOpen&quot;, value &#x3D; &quot;false&quot;),            &#x2F;&#x2F; æ–­è·¯å™¨å¼ºåˆ¶å…³é—­            @HystrixProperty(name &#x3D; &quot;circuitBreaker.forceClosed&quot;, value &#x3D; &quot;false&quot;),            &#x2F;&#x2F; æ»šåŠ¨æ—¶é—´çª—è®¾ç½®ï¼Œè¯¥æ—¶é—´ç”¨äºæ–­è·¯å™¨åˆ¤æ–­å¥åº·åº¦æ—¶éœ€è¦æ”¶é›†ä¿¡æ¯çš„æŒç»­æ—¶é—´            @HystrixProperty(name &#x3D; &quot;metrics.rollingStats.timeinMilliseconds&quot;, value &#x3D; &quot;10000&quot;),                        &#x2F;&#x2F; è¯¥å±æ€§ç”¨æ¥è®¾ç½®æ»šåŠ¨æ—¶é—´çª—ç»Ÿè®¡æŒ‡æ ‡ä¿¡æ¯æ—¶åˆ’åˆ†&quot;æ¡¶&quot;çš„æ•°é‡ï¼Œæ–­è·¯å™¨åœ¨æ”¶é›†æŒ‡æ ‡ä¿¡æ¯çš„æ—¶å€™ä¼šæ ¹æ®è®¾ç½®çš„æ—¶é—´çª—é•¿åº¦æ‹†åˆ†æˆå¤šä¸ª &quot;æ¡¶&quot; æ¥ç´¯è®¡å„åº¦é‡å€¼ï¼Œæ¯ä¸ª&quot;æ¡¶&quot;è®°å½•äº†ä¸€æ®µæ—¶é—´å†…çš„é‡‡é›†æŒ‡æ ‡ã€‚            &#x2F;&#x2F; æ¯”å¦‚ 10 ç§’å†…æ‹†åˆ†æˆ 10 ä¸ª&quot;æ¡¶&quot;æ”¶é›†è¿™æ ·ï¼Œæ‰€ä»¥ timeinMilliseconds å¿…é¡»èƒ½è¢« numBuckets æ•´é™¤ã€‚å¦åˆ™ä¼šæŠ›å¼‚å¸¸            @HystrixProperty(name &#x3D; &quot;metrics.rollingStats.numBuckets&quot;, value &#x3D; &quot;10&quot;),            &#x2F;&#x2F; è¯¥å±æ€§ç”¨æ¥è®¾ç½®å¯¹å‘½ä»¤æ‰§è¡Œçš„å»¶è¿Ÿæ˜¯å¦ä½¿ç”¨ç™¾åˆ†ä½æ•°æ¥è·Ÿè¸ªå’Œè®¡ç®—ã€‚å¦‚æœè®¾ç½®ä¸º false, é‚£ä¹ˆæ‰€æœ‰çš„æ¦‚è¦ç»Ÿè®¡éƒ½å°†è¿”å› -1ã€‚            @HystrixProperty(name &#x3D; &quot;metrics.rollingPercentile.enabled&quot;, value &#x3D; &quot;false&quot;),            &#x2F;&#x2F; è¯¥å±æ€§ç”¨æ¥è®¾ç½®ç™¾åˆ†ä½ç»Ÿè®¡çš„æ»šåŠ¨çª—å£çš„æŒç»­æ—¶é—´ï¼Œå•ä½ä¸ºæ¯«ç§’ã€‚            @HystrixProperty(name &#x3D; &quot;metrics.rollingPercentile.timeInMilliseconds&quot;, value &#x3D; &quot;60000&quot;),            &#x2F;&#x2F; è¯¥å±æ€§ç”¨æ¥è®¾ç½®ç™¾åˆ†ä½ç»Ÿè®¡æ»šåŠ¨çª—å£ä¸­ä½¿ç”¨ â€œ æ¡¶ â€çš„æ•°é‡ã€‚            @HystrixProperty(name &#x3D; &quot;metrics.rollingPercentile.numBuckets&quot;, value &#x3D; &quot;60000&quot;),            &#x2F;&#x2F; è¯¥å±æ€§ç”¨æ¥è®¾ç½®åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æ¯ä¸ª â€œæ¡¶â€ ä¸­ä¿ç•™çš„æœ€å¤§æ‰§è¡Œæ¬¡æ•°ã€‚å¦‚æœåœ¨æ»šåŠ¨æ—¶é—´çª—å†…å‘ç”Ÿè¶…è¿‡è¯¥è®¾å®šå€¼çš„æ‰§è¡Œæ¬¡æ•°ï¼Œ            &#x2F;&#x2F; å°±ä»æœ€åˆçš„ä½ç½®å¼€å§‹é‡å†™ã€‚ä¾‹å¦‚ï¼Œå°†è¯¥å€¼è®¾ç½®ä¸º100, æ»šåŠ¨çª—å£ä¸º10ç§’ï¼Œè‹¥åœ¨10ç§’å†…ä¸€ä¸ª â€œæ¡¶ â€ä¸­å‘ç”Ÿäº†500æ¬¡æ‰§è¡Œï¼Œ            &#x2F;&#x2F; é‚£ä¹ˆè¯¥ â€œæ¡¶â€ ä¸­åªä¿ç•™ æœ€åçš„100æ¬¡æ‰§è¡Œçš„ç»Ÿè®¡ã€‚å¦å¤–ï¼Œå¢åŠ è¯¥å€¼çš„å¤§å°å°†ä¼šå¢åŠ å†…å­˜é‡çš„æ¶ˆè€—ï¼Œå¹¶å¢åŠ æ’åºç™¾åˆ†ä½æ•°æ‰€éœ€çš„è®¡ç®—æ—¶é—´ã€‚            @HystrixProperty(name &#x3D; &quot;metrics.rollingPercentile.bucketSize&quot;, value &#x3D; &quot;100&quot;),                        &#x2F;&#x2F; è¯¥å±æ€§ç”¨æ¥è®¾ç½®é‡‡é›†å½±å“æ–­è·¯å™¨çŠ¶æ€çš„å¥åº·å¿«ç…§ï¼ˆè¯·æ±‚çš„æˆåŠŸã€ é”™è¯¯ç™¾åˆ†æ¯”ï¼‰çš„é—´éš”ç­‰å¾…æ—¶é—´ã€‚            @HystrixProperty(name &#x3D; &quot;metrics.healthSnapshot.intervalinMilliseconds&quot;, value &#x3D; &quot;500&quot;),            &#x2F;&#x2F; æ˜¯å¦å¼€å¯è¯·æ±‚ç¼“å­˜            @HystrixProperty(name &#x3D; &quot;requestCache.enabled&quot;, value &#x3D; &quot;true&quot;),            &#x2F;&#x2F; HystrixCommandçš„æ‰§è¡Œå’Œäº‹ä»¶æ˜¯å¦æ‰“å°æ—¥å¿—åˆ° HystrixRequestLog ä¸­            @HystrixProperty(name &#x3D; &quot;requestLog.enabled&quot;, value &#x3D; &quot;true&quot;),        &#125;,        threadPoolProperties &#x3D; &#123;            &#x2F;&#x2F; è¯¥å‚æ•°ç”¨æ¥è®¾ç½®æ‰§è¡Œå‘½ä»¤çº¿ç¨‹æ± çš„æ ¸å¿ƒçº¿ç¨‹æ•°ï¼Œè¯¥å€¼ä¹Ÿå°±æ˜¯å‘½ä»¤æ‰§è¡Œçš„æœ€å¤§å¹¶å‘é‡            @HystrixProperty(name &#x3D; &quot;coreSize&quot;, value &#x3D; &quot;10&quot;),            &#x2F;&#x2F; è¯¥å‚æ•°ç”¨æ¥è®¾ç½®çº¿ç¨‹æ± çš„æœ€å¤§é˜Ÿåˆ—å¤§å°ã€‚å½“è®¾ç½®ä¸º -1 æ—¶ï¼Œçº¿ç¨‹æ± å°†ä½¿ç”¨ SynchronousQueue å®ç°çš„é˜Ÿåˆ—ï¼Œå¦åˆ™å°†ä½¿ç”¨ LinkedBlockingQueue å®ç°çš„é˜Ÿåˆ—ã€‚            @HystrixProperty(name &#x3D; &quot;maxQueueSize&quot;, value &#x3D; &quot;-1&quot;),            &#x2F;&#x2F; è¯¥å‚æ•°ç”¨æ¥ä¸ºé˜Ÿåˆ—è®¾ç½®æ‹’ç»é˜ˆå€¼ã€‚ é€šè¿‡è¯¥å‚æ•°ï¼Œ å³ä½¿é˜Ÿåˆ—æ²¡æœ‰è¾¾åˆ°æœ€å¤§å€¼ä¹Ÿèƒ½æ‹’ç»è¯·æ±‚ã€‚            &#x2F;&#x2F; è¯¥å‚æ•°ä¸»è¦æ˜¯å¯¹ LinkedBlockingQueue é˜Ÿåˆ—çš„è¡¥å……,å› ä¸º LinkedBlockingQueue é˜Ÿåˆ—ä¸èƒ½åŠ¨æ€ä¿®æ”¹å®ƒçš„å¯¹è±¡å¤§å°ï¼Œè€Œé€šè¿‡è¯¥å±æ€§å°±å¯ä»¥è°ƒæ•´æ‹’ç»è¯·æ±‚çš„é˜Ÿåˆ—å¤§å°äº†ã€‚            @HystrixProperty(name &#x3D; &quot;queueSizeRejectionThreshold&quot;, value &#x3D; &quot;5&quot;),        &#125;       )public String doSomething() &#123;...&#125;                  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="EnableHystrixDashboard"><a href="#EnableHystrixDashboard" class="headerlink" title="@EnableHystrixDashboard"></a>@EnableHystrixDashboard</h4><ul><li>å¼€å¯hystrixdashboardå¯è§†åŒ–ç•Œé¢</li><li>ä½ç½®ï¼šspringbå¯åŠ¨ç±»ä¸Š</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@SpringBootApplication</span><span class="token annotation punctuation">@EnableHystrixDashboard</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HystrixDashboadrMain9001</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">HystrixDashboadrMain9001</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ³¨è§£ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>springæ¡†æ¶</title>
      <link href="/2022-02-22-spring-kuang-jia.html"/>
      <url>/2022-02-22-spring-kuang-jia.html</url>
      
        <content type="html"><![CDATA[<h3 id="IOC-æ§åˆ¶åè½¬"><a href="#IOC-æ§åˆ¶åè½¬" class="headerlink" title="IOC æ§åˆ¶åè½¬"></a>IOC æ§åˆ¶åè½¬</h3><p>æè¿°ï¼šæŠŠå¯¹è±¡çš„åˆ›å»ºï¼Œèµ‹å€¼ï¼Œç®¡ç†å·¥ä½œéƒ½äº¤ç»™ä»£ç ä¹‹å¤–çš„å®¹å™¨å®ç°ï¼Œä¹Ÿå°±æ˜¯å¯¹è±¡çš„åˆ›å»ºæ˜¯ç”±å…¶ä»–å¤–éƒ¨èµ„æºå®Œæˆ</p><ul><li>æ§åˆ¶: åˆ›å»ºå¯¹è±¡,å¯¹è±¡çš„å±æ€§èµ‹å€¼,å¯¹è±¡ä¹‹é—´çš„å…³ç³»ç®¡ç†</li><li>åè½¬: å°†åˆ›å»ºå¯¹è±¡çš„æƒé™äº¤ç»™å®¹å™¨æ¥åˆ›å»º,è€Œä¸æ˜¯ç”±å¼€äººäººå‘˜åˆ›å»º.ç”±å®¹å™¨ä»£ç†å¼€å‘äººå‘˜ç®¡ç†å¯¹è±¡,ç»™å¯¹è±¡èµ‹å€¼</li></ul><blockquote><p>ç›®çš„æ˜¯å‡å°‘å¯¹ä»£ç çš„æ”¹åŠ¨,ä¹Ÿèƒ½å®ç°ä¸åŒçš„åŠŸèƒ½,å®ç°è§£è€¦åˆ</p></blockquote><ul><li><code>spring</code>æ˜¯ä½¿ç”¨çš„<code>DI(Dependency Injection)</code>å®ç°äº†<code>ioc</code>çš„åŠŸèƒ½</li><li><code>spring</code>åº•å±‚åˆ›å»ºå¯¹è±¡,ä½¿ç”¨çš„æ˜¯åå°„æœºåˆ¶</li><li><code>DI</code>ç»™å±æ€§èµ‹å€¼: <ul><li><code>set</code>æ³¨å…¥:<code>spring</code>è°ƒç”¨ç±»çš„<code>set</code>æ–¹æ³•å®ç°å±æ€§çš„èµ‹å€¼<ul><li>ç®€å•ç±»å‹<code>set</code>æ³¨å…¥:&lt;<property name="å±æ€§å" value="å±æ€§å€¼"></property>&gt;</li><li>å¼•ç”¨ç±»å‹<code>set</code>æ³¨å…¥:&lt;<property name="å±æ€§å" ref="beançš„id"></property>&gt;</li></ul></li><li>æ„é€ æ³¨å…¥:<code>spring</code>è°ƒç”¨æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•<ul><li><constructor-arg name="name" value="å¼ ä¸‰"></constructor-arg> nameè¡¨ç¤ºæ„é€ æ–¹æ³•çš„å½¢å‚å</li><li><constructor-arg index="0" value="æå››"></constructor-arg> indexè¡¨ç¤ºæ„é€ æ–¹æ³•å½¢å‚çš„ä½ç½®,ä»0å¼€å§‹</li></ul></li></ul></li></ul><h3 id="hello-Spring"><a href="#hello-Spring" class="headerlink" title="hello Spring"></a>hello Spring</h3><p>SomeService</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">SomeService</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">void</span> <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>SomeServiceImpl</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SomeServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">SomeService</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token class-name">SomeServiceImpl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"SomeServiceæ„é€ æ–¹æ³•æ‰§è¡Œäº†!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ‰§è¡Œäº†SomeServiceImplçš„doSome()æ–¹æ³•"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>beans.xml</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans        http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--springæ˜¯æŠŠåˆ›å»ºå¥½çš„å¯¹è±¡æ”¾å…¥mapä¸­,            springMap.put(id,å¯¹è±¡)            eg: springMap.put(someService,new someServiceImpl())            ä¸€ä¸ªbean æ ‡ç­¾å£°æ˜ä¸€ä¸ªå¯¹è±¡    --></span>    <span class="token comment">&lt;!--  scope="singleton"  ä¸€æ¬¡åˆ›å»ºä¸€ä¸ªå¯¹è±¡--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>someService<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.service.impl.SomeServiceImpl<span class="token punctuation">"</span></span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>singleton<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token comment">&lt;!-- scope="prototype"   ä¸€æ¬¡åˆ›å»ºå¤šä¸ªå¯¹è±¡--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>someService1<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.service.impl.SomeServiceImpl<span class="token punctuation">"</span></span> <span class="token attr-name">scope</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>prototype<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myDate<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>java.util.Date<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>Test</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Test</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test02</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token comment">//ä½¿ç”¨springå®¹å™¨åˆ›å»ºçš„å¯¹å¤</span>    <span class="token class-name">String</span> config <span class="token operator">=</span> <span class="token string">"beans.xml"</span><span class="token punctuation">;</span>    <span class="token comment">//ApplicationContextè¡¨ç¤ºspringå®¹å™¨,é€šè¿‡å®¹å™¨è·å–å¯¹è±¡</span>    <span class="token comment">//ClassPathXmlApplicationContextè¡¨ç¤ºä»ç±»è·¯å¾„åŠ è½½springçš„é…ç½®æ–‡ä»¶</span>    <span class="token class-name">ApplicationContext</span> application <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">SomeService</span> someService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">SomeService</span><span class="token punctuation">)</span> application<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"someService"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    someService<span class="token punctuation">.</span><span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>setæ³¨å…¥</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myStudent<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.ba02.Student<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>22<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æµ·é—®é¦™<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>school<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mySchool<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mySchool<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.ba02.School<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è·¯æ‘å°å­¦<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è·¯æ‘åº„<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è°ƒç”¨æœ‰å‚æ„é€ </p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--ä½¿ç”¨nameå±æ€§æ„é€ æ³¨å…¥--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myStudent<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.ba03.Student<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>å¼ ä¸‰<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>18<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>school<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mySchool<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mySchool<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.ba03.School<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è·¯æ‘å°å­¦<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è·¯æ‘åº„<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--ä½¿ç”¨indexå±æ€§å®ç°æ„é€ æ³¨å…¥--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myStudent2<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.ba03.Student<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>0<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æå››<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>16<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">index</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>2<span class="token punctuation">"</span></span>  <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mySchool<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--çœç•¥index--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myStudent3<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.ba03.Student<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span>  <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>æå››<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span>  <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>16<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span>   <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mySchool<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--åˆ›å»ºfileæ„é€ æ³¨å…¥--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myfile<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>java.io.File<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>parent<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>E:\BaiduNetdiskDownload\Spring\reamme.txt<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>constructor-arg</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>child<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>readme.txt<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>constructor-arg</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å¼•ç”¨ç±»å‹çš„è‡ªåŠ¨æ³¨å…¥<ul><li><code>byName</code> : javaç±»ä¸­å¼•ç”¨ç±»å‹çš„å±æ€§åå’Œspringå®¹å™¨ä¸­(é…ç½®æ–‡ä»¶)<bean>çš„idåç§°ä¸€æ ·,ä¸”æ•°æ®ç±»å‹ä¸€è‡´,è¿™æ ·çš„å®¹å™¨ä¸­çš„bean,springèƒ½å¤Ÿèµ‹å€¼ç»™å¼•ç”¨ç±»å‹</li><li><code>byType</code>: javaç±»ä¸­å¼•ç”¨ç±»å‹çš„æ•°æ®ç±»å‹å’Œspringå®¹å™¨ä¸­(é…ç½®æ–‡ä»¶)<bean>çš„classå±æ€§æ˜¯<font color="red">åŒæº</font>å…³ç³»,ä¸”æ•°æ®ç±»å‹ä¸€è‡´,è¿™æ ·beanèƒ½å¤Ÿèµ‹å€¼ç»™å¼•ç”¨ç±»å‹<ul><li>javaç±»ä¸­å¼•ç”¨ç±»å‹çš„æ•°æ®ç±»å‹å’Œbeançš„classçš„å€¼æ˜¯ä¸€æ ·çš„</li><li>javaç±»ä¸­å¼•ç”¨ç±»å‹çš„æ•°æ®ç±»å‹å’Œbeançš„classçš„å€¼æ˜¯çˆ¶å­ç±»å…³ç³»çš„</li><li>javaç±»ä¸­å¼•ç”¨ç±»å‹çš„æ•°æ®ç±»å‹å’Œbeançš„classçš„å€¼æ˜¯æ¥å£å’Œå®ç°ç±»å…³ç³»çš„</li></ul></li></ul></li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--byname--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myStudent<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.ba04.Student<span class="token punctuation">"</span></span> <span class="token attr-name">autowire</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>byName<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>èƒ¡<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>18<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--        å¼•ç”¨ç±»å‹ ç”¨äº†byNameå³å¯è‡ªåŠ¨æ³¨å…¥             å¼•ç”¨ç±»å‹çš„å±æ€§åå’Œspringå®¹å™¨ä¸­(é…ç½®æ–‡ä»¶)&lt;bean>çš„idåç§°ä¸€æ ·,ä¸”æ•°æ®ç±»å‹ä¸€è‡´--></span>        <span class="token comment">&lt;!--        &lt;property name="school" ref="school">&lt;/property>--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>school<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.ba04.School<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è·¯æ‘å°å­¦<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è·¯æ‘åº„<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token prolog">&lt;?xml version="1.0" encoding="UTF-8"?></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">"</span></span>       <span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--byType--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myStudent<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.ba05.Student<span class="token punctuation">"</span></span> <span class="token attr-name">autowire</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>byType<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>èƒ¡<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>18<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--&lt;bean id="mySchool" class="com.bjpowernode.ba05.School" >        &lt;property name="name" value="è·¯æ‘å°å­¦">&lt;/property>        &lt;property name="address" value="è·¯æ‘åº„">&lt;/property>    &lt;/bean>--></span>    <span class="token comment">&lt;!--    schoolçš„å­ç±»--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>primarySchool<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.ba05.PrimarySchool<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>åŒ—äº¬å°å­¦<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>åŒ—äº¬<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¤šä¸ªé…ç½®æ–‡ä»¶</p><p>spring-school.xml</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>mySchool<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.ba06.School<span class="token punctuation">"</span></span> <span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ç‰›é€¼å°å­¦<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>address<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>è·¯æ‘åº„<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>spring-student.xml</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myStudent<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.ba06.Student<span class="token punctuation">"</span></span> <span class="token attr-name">autowire</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>byType<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>èƒ¡é‘«äº®<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>age<span class="token punctuation">"</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>28<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>total.xml</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--ä¸»é…ç½®æ–‡ä»¶,ä¸€èˆ¬åŒ…å«å…¶ä»–çš„é…ç½®æ–‡ä»¶--></span><span class="token comment">&lt;!--    &lt;import resource="classpath:ba06/spring-school.xml">&lt;/import>    &lt;import resource="classpath:ba06/spring-student.xml">&lt;/import>--></span><span class="token comment">&lt;!--æˆ–è€…ä½¿ç”¨é€šé…ç¬¦(*)--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>import</span> <span class="token attr-name">resource</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>classpath:ba06/spring-*.xml<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>import</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åŠ è½½test.propertieså±æ€§é…ç½®æ–‡ä»¶</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>property-placeholder</span> <span class="token attr-name">location</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>classpath:test.properties<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">context:</span>property-placeholder</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="AOPé¢å‘åˆ‡é¢ç¼–ç¨‹"><a href="#AOPé¢å‘åˆ‡é¢ç¼–ç¨‹" class="headerlink" title="AOPé¢å‘åˆ‡é¢ç¼–ç¨‹"></a>AOPé¢å‘åˆ‡é¢ç¼–ç¨‹</h3><ul><li>ä»åŠ¨æ€è§’åº¦è€ƒè™‘ç¨‹åºè¿è¡Œè¿‡ç¨‹</li><li>AOPåº•å±‚å°±æ˜¯é‡‡ç”¨åŠ¨æ€ä»£ç†æ¨¡å¼å®ç°çš„ã€‚é‡‡ç”¨äº†ä¸¤ç§ä»£ç†ï¼Œ<font color="red">JDKåŠ¨æ€ä»£ç†(æœ‰æ¥å£)</font>å’Œ<font color="red">CGLBåŠ¨æ€ä»£ç†(æ— æ¥å£)</font></li><li><code>Aspect</code>:åˆ‡é¢ï¼Œè¡¨ç¤ºå¢å¼ºåŠŸèƒ½</li><li><code>Pointcut</code>: åˆ‡å…¥ç‚¹,æŒ‡å¤šä¸ªè¿æ¥ç‚¹æ–¹æ³•çš„é›†åˆ,å¤šä¸ªæ–¹æ³•</li><li><code>Advice</code>:é€šçŸ¥,è¡¨ç¤ºåˆ‡é¢åŠŸèƒ½æ‰§è¡Œçš„æ—¶é—´</li><li>åˆ‡é¢ä¸‰ä¸ªå…³é”®è¦ç´ <ul><li>åˆ‡é¢çš„åŠŸèƒ½ä»£ç ï¼Œåˆ‡é¢è¦å¹²ä»€ä¹ˆ</li><li>åˆ‡é¢çš„æ‰§è¡Œä½ç½®ï¼Œä½¿ç”¨Pointcutè¡¨ç¤ºåˆ‡é¢æ‰§è¡Œçš„ä½ç½®</li><li>åˆ‡é¢çš„æ‰§è¡Œæ—¶é—´ï¼Œä½¿ç”¨Adviceè¡¨ç¤ºæ—¶é—´ï¼Œåœ¨ç›®æ ‡æ–¹æ³•ä¹‹å‰ï¼Œè¿˜æ˜¯ç›®æ ‡æ–¹æ³•ä¹‹å</li></ul></li><li>å¦‚ä½•ç†è§£é¢å‘åˆ‡é¢ç¼–ç¨‹<ul><li>åœ¨åˆ†æé¡¹ç›®åŠŸèƒ½æ—¶,æ‰¾å‡ºåˆ‡é¢</li><li>åˆç†å®‰æ’åˆ‡é¢çš„æ‰§è¡Œæ—¶é—´</li><li>åˆç†å®‰æ’åˆ‡é¢çš„æ‰§è¡Œä½ç½®,åœ¨å“ªä¸ªç±»,å“ªä¸ªæ–¹æ³•å¢åŠ å¢å¼ºåŠŸèƒ½</li></ul></li></ul><h4 id="aspectj"><a href="#aspectj" class="headerlink" title="aspectj"></a>aspectj</h4><ul><li>springä¸­å†…ç½®çš„å¼€æºä¸“é—¨åšaopçš„æ¡†æ¶</li><li>å®ç°æ–¹å¼<ul><li>ä½¿ç”¨xmlçš„é…ç½®æ–‡ä»¶</li><li>ä½¿ç”¨æ³¨è§£</li></ul></li><li>executionè¡¨è¾¾å¼å…±å››éƒ¨åˆ†</li><li>execution(è®¿é—®æƒé™ æ–¹æ³•è¿”å›å€¼ <font color="red">æ–¹æ³•å£°æ˜(å‚æ•°)</font> å¼‚å¸¸ç±»å‹)</li></ul><p><img src="https://img-blog.csdnimg.cn/ac5d0e251ded4097bf94914d42c3e955.png" alt="å¸¸ç”¨äº”ç§åˆ‡å…¥ç‚¹è¡¨è¾¾å¼"></p><p>æ¡ˆä¾‹æ¼”ç¤º</p><p>SomeService</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">SomeService</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">void</span> <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span><span class="token class-name">Integer</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>SomeServiceImpl</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SomeServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">SomeService</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">Integer</span> age<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç›®æ ‡æ–¹æ³•doSome"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>MyAspect å‰ç½®é€šçŸ¥</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Aspect</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAspect</span> <span class="token punctuation">&#123;</span><span class="token comment">/**     * å®šä¹‰æ–¹æ³•æ˜¯å®ç°åˆ‡é¢åŠŸèƒ½     * è¦æ±‚ï¼š     * 1.å…¬å…±æ–¹æ³• public     * 2.æ²¡æœ‰è¿”å›å€¼ void     * 3.æ–¹æ³•åç§°è‡ªå®šä¹‰     * 4.æ–¹æ³•å¯ä»¥æœ‰å‚ï¼Œä¹Ÿå¯ä»¥æ— å‚æ•°     *      å¦‚æœæœ‰å‚æ•°ï¼Œå‚æ•°ä¸æ˜¯è‡ªå®šä¹‰çš„     */</span>    <span class="token comment">/*@Before(value ="execution(public void com.bjpowernode.ba01.SomeServiceImpl.doSome(String,Integer))" )    public void myBefore()&#123;        System.out.println("å‰ç½®é€šçŸ¥;åˆ‡é¢åŠŸèƒ½:åœ¨ç›®æ ‡æ–¹æ³•ä¹‹å‰è¾“å‡ºæ‰§è¡Œæ—¶é—´:"+new Date());    &#125;*/</span>    <span class="token comment">/**     * æŒ‡å®šé€šçŸ¥æ–¹æ³•ä¸­çš„å‚æ•°ï¼š JoinPoint     * ä½œç”¨ï¼šåœ¨é€šçŸ¥æ–¹æ³•ä¸­è·å–æ–¹æ³•æ‰§è¡Œæ—¶çš„ä¿¡æ¯ï¼Œä¾‹å¦‚æ–¹æ³•åç§°ï¼Œæ–¹æ³•å®å‚     * è‹¥åˆ‡é¢åŠŸèƒ½ä¸­éœ€è¦ç”¨åˆ°æ–¹æ³•çš„ä¿¡æ¯ï¼Œå°±åŠ å…¥JoinPoint     * å¿…é¡»æ˜¯ç¬¬ä¸€ä¸ªä½ç½®çš„å‚æ•°     */</span>    <span class="token annotation punctuation">@Before</span><span class="token punctuation">(</span>value <span class="token operator">=</span><span class="token string">"execution(void *..SomeServiceImpl.doSome(String,Integer))"</span> <span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">myBefore2</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> joinPoint<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ–¹æ³•çš„ç­¾å:"</span><span class="token operator">+</span>joinPoint<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ–¹æ³•åç§°:"</span><span class="token operator">+</span>joinPoint<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args <span class="token operator">=</span> joinPoint<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Object</span> arg <span class="token operator">:</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å‚æ•°:"</span><span class="token operator">+</span>arg<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"2===å‰ç½®é€šçŸ¥;åˆ‡é¢åŠŸèƒ½:åœ¨ç›®æ ‡æ–¹æ³•ä¹‹å‰è¾“å‡ºæ‰§è¡Œæ—¶é—´:"</span><span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/*@Before(value ="execution(* *..SomeServiceImpl.*(..))" )    public void myBefore3()&#123;        System.out.println("3====å‰ç½®é€šçŸ¥;åˆ‡é¢åŠŸèƒ½:åœ¨ç›®æ ‡æ–¹æ³•ä¹‹å‰è¾“å‡ºæ‰§è¡Œæ—¶é—´:"+new Date());    &#125;    @Before(value ="execution(* do*(..))" )    public void myBefore4()&#123;        System.out.println("4====å‰ç½®é€šçŸ¥;åˆ‡é¢åŠŸèƒ½:åœ¨ç›®æ ‡æ–¹æ³•ä¹‹å‰è¾“å‡ºæ‰§è¡Œæ—¶é—´:"+new Date());    &#125;*/</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>applicationContext.xml</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>someService<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.ba07.SomeServiceImpl<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myAspect<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>com.bjpowernode.ba07.MyAspect<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>aspectj-autoproxy</span> <span class="token attr-name">proxy-target-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>aspectj-autoproxy</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>MyTest01</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyTest01</span> <span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Test</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> config<span class="token operator">=</span><span class="token string">"applicationContext.xml"</span><span class="token punctuation">;</span>        <span class="token class-name">ApplicationContext</span> applicationContext <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathXmlApplicationContext</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SomeService</span> someService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">SomeService</span><span class="token punctuation">)</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">"someService"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        someService<span class="token punctuation">.</span><span class="token function">doSome</span><span class="token punctuation">(</span><span class="token string">"lisi"</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">æ–¹æ³•çš„ç­¾å<span class="token operator">:</span><span class="token keyword">void</span> <span class="token class-name"><span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>ba01<span class="token punctuation">.</span></span>SomeServiceImpl</span><span class="token punctuation">.</span><span class="token function">doSome</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">)</span>æ–¹æ³•åç§°<span class="token operator">:</span>doSomeå‚æ•°<span class="token operator">:</span>lisiå‚æ•°<span class="token operator">:</span><span class="token number">20</span><span class="token number">2</span><span class="token operator">==</span><span class="token operator">=</span>å‰ç½®é€šçŸ¥<span class="token punctuation">;</span>åˆ‡é¢åŠŸèƒ½<span class="token operator">:</span>åœ¨ç›®æ ‡æ–¹æ³•ä¹‹å‰è¾“å‡ºæ‰§è¡Œæ—¶é—´<span class="token operator">:</span><span class="token class-name">Fri</span> <span class="token class-name">Feb</span> <span class="token number">25</span> <span class="token number">17</span><span class="token operator">:</span><span class="token number">37</span><span class="token operator">:</span><span class="token number">20</span> CST <span class="token number">2022</span>ç›®æ ‡æ–¹æ³•doSome<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>MyAspect åç½®é€šçŸ¥</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Aspect</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAspect</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * å®šä¹‰æ–¹æ³•æ˜¯å®ç°åˆ‡é¢åŠŸèƒ½     * è¦æ±‚ï¼š     * 1.å…¬å…±æ–¹æ³• public     * 2.æ²¡æœ‰è¿”å›å€¼ void     * 3.æ–¹æ³•åç§°è‡ªå®šä¹‰     * 4.æ–¹æ³•è¦æœ‰å‚æ•° æ¨è Object res     * ç‰¹ç‚¹ï¼š     * 1.åœ¨ç›®æ ‡æ–¹æ³•ä¹‹åæ‰§è¡Œ     * 2.èƒ½å¤Ÿè·å–åˆ°ç›®æ ‡æ–¹æ³•çš„è¿”å›å€¼ï¼Œå¯ä»¥æ ¹æ®è¿™ä¸ªè¿”å›å€¼åšä¸åŒçš„å¤„ç†åŠŸèƒ½     * Object res  = doOther     * 3.å¯ä»¥ä¿®æ”¹è¿™ä¸ªè¿”å›å€¼     */</span>    <span class="token comment">/**     * @AfterReturning:åç½®é€šçŸ¥     * @param res     */</span>    <span class="token annotation punctuation">@AfterReturning</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"execution(* *..SomeServiceImpl.doOther(..))"</span><span class="token punctuation">,</span>returning <span class="token operator">=</span> <span class="token string">"res"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">myAfterReturning</span><span class="token punctuation">(</span><span class="token class-name">JoinPoint</span> joinPoint<span class="token punctuation">,</span><span class="token class-name">Object</span> res<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åç½®é€šçŸ¥:æ–¹æ³•çš„å®šä¹‰:"</span><span class="token operator">+</span>joinPoint<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åç½®é€šçŸ¥:æ–¹æ³•åç§°:"</span><span class="token operator">+</span>joinPoint<span class="token punctuation">.</span><span class="token function">getSignature</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åç½®é€šçŸ¥:åœ¨ç›®æ ‡æ–¹æ³•ä¹‹åæ‰§è¡Œçš„,è·å–çš„è¿”å›å€¼æ˜¯:"</span><span class="token operator">+</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            res<span class="token operator">=</span><span class="token string">"Hello Aspectj"</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>MyAspect ç¯ç»•é€šçŸ¥</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Aspect</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAspect</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * - åœ¨ç›®æ ‡æ–¹æ³•å‰åéƒ½èƒ½å¢åŠ åŠŸèƒ½     * - æ§åˆ¶ç›®æ ‡æ–¹æ³•æ˜¯å¦è¢«è°ƒç”¨æ‰§è¡Œ     * - ä¿®æ”¹åŸæ¥ç›®æ ‡æ–¹æ³•çš„æ‰§è¡Œç»“æœï¼Œå½±å“æœ€åçš„è°ƒç”¨ç»“æœ     *   ProceedingJoinPoint æ‰§è¡Œç›®æ ‡æ–¹æ³•     *   è¿”å›å€¼ï¼šç›®æ ‡æ–¹æ³•çš„æ‰§è¡Œç»“æœï¼Œå¯ä»¥è¢«ä¿®æ”¹     */</span>    <span class="token comment">/**     * ç¯ç»•é€šçŸ¥     * @param proceedingJoinPoint     * @return     */</span>    <span class="token annotation punctuation">@Around</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"execution(* *..SomeServiceImpl.doFirst(..))"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">myAround</span><span class="token punctuation">(</span><span class="token class-name">ProceedingJoinPoint</span> proceedingJoinPoint<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Throwable</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args <span class="token operator">=</span> proceedingJoinPoint<span class="token punctuation">.</span><span class="token function">getArgs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> name <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>args<span class="token operator">!=</span><span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> args<span class="token punctuation">.</span>length<span class="token operator">></span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name">Object</span> arg <span class="token operator">=</span> args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            name <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> arg<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">Object</span> res <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç¯ç»•é€šçŸ¥:åœ¨ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å‰,è¾“å‡ºæ—¶é—´"</span><span class="token operator">+</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"zhangsan"</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token comment">//ç­‰åŒäºmethod.invoke</span>            res <span class="token operator">=</span> proceedingJoinPoint<span class="token punctuation">.</span><span class="token function">proceed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç¯ç»•é€šçŸ¥,åœ¨ç›®æ ‡æ–¹æ³•ä¹‹å,æäº¤äº‹åŠ¡"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            res <span class="token operator">=</span> <span class="token string">"Hello Aspectj AOP"</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> res<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>MyAspect å¼‚å¸¸é€šçŸ¥</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Aspect</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAspect</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * å¼‚å¸¸é€šçŸ¥     *  1.public     *  2.æ²¡æœ‰è¿”å›å€¼     *  3.æ–¹æ³•åç§°è‡ªå®šä¹‰     *  4.å‚æ•°æœ‰ä¸€ä¸ªException å’Œ JoinPoint     *  å±æ€§ï¼švalue åˆ‡å…¥ç‚¹è¡¨è¾¾å¼     *        throwing è‡ªå®šä¹‰å˜é‡ï¼Œè¡¨ç¤ºæ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸å¯¹è±¡     *        å˜é‡åå’Œæ–¹æ³•å‚æ•°åä¸€æ ·     *   ç‰¹ç‚¹ï¼š     *   1.åœ¨ç›®æ ‡æ–¹æ³•æŠ›å‡ºå¼‚å¸¸æ—¶æ‰§è¡Œ     *   2.åšå¼‚å¸¸ç›‘æ§ç¨‹åº     * @param ex     */</span>    <span class="token annotation punctuation">@AfterThrowing</span><span class="token punctuation">(</span>            value <span class="token operator">=</span> <span class="token string">"execution(* *..SomeServiceImpl.doSecond(..))"</span><span class="token punctuation">,</span> throwing <span class="token operator">=</span> <span class="token string">"ex"</span>    <span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">myAfterException</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å¼‚å¸¸é€šçŸ¥,æ–¹æ³•å‘ç”Ÿå¼‚å¸¸æ—¶æ‰§è¡Œ:"</span> <span class="token operator">+</span> ex<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>MyAspect æœ€ç»ˆé€šçŸ¥</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Aspect</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAspect</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * æœ€ç»ˆé€šçŸ¥     * 1.public     * 2.æ²¡æœ‰è¿”å›å€¼     * 3.æ–¹æ³•åç§°è‡ªå®šä¹‰     * 4.JoinPoint     * å±æ€§ï¼švalue åˆ‡å…¥ç‚¹è¡¨è¾¾å¼     * ç‰¹ç‚¹ï¼š     * 1.æ€»æ˜¯ä¼šåœ¨ç›®æ ‡æ–¹æ³•ä¹‹åæ‰§è¡Œ     * 2.ä¸€èˆ¬åšèµ„æºæ¸…é™¤å·¥ä½œ     */</span>    <span class="token annotation punctuation">@After</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"execution(* *..SomeServiceImpl.doThird(..))"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">myAfter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ‰§è¡Œæœ€ç»ˆé€šçŸ¥ï¼Œæ€»æ˜¯ä¼šæ‰§è¡Œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>@Pointcut ç®¡ç†åˆ‡å…¥ç‚¹</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Aspect</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyAspect</span> <span class="token punctuation">&#123;</span>    <span class="token comment">/**     * æœ€ç»ˆé€šçŸ¥     */</span>    <span class="token annotation punctuation">@After</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"mypt()"</span><span class="token punctuation">)</span>    <span class="token keyword">public</span> <span class="token keyword">void</span>  <span class="token function">myAfter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ‰§è¡Œæœ€ç»ˆé€šçŸ¥ï¼Œæ€»æ˜¯ä¼šæ‰§è¡Œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * - å®šä¹‰ç®¡ç†åˆ‡å…¥ç‚¹æ³¨è§£     * - å¤šä¸ªåˆ‡å…¥ç‚¹è¡¨è¾¾å¼æ˜¯é‡å¤çš„,å¯ä»¥å¤ç”¨,å¯ä»¥ä½¿ç”¨@Pointcut     * - å±æ€§ï¼švalue åˆ‡å…¥ç‚¹è¡¨è¾¾å¼     * - å½“ä½¿ç”¨@Pointcutå®šä¹‰åœ¨ä¸€ä¸ªæ–¹æ³•çš„ä¸Šé¢,æ­¤æ—¶è¿™ä¸ªæ–¹æ³•åç§°å°±æ˜¯åˆ‡å…¥ç‚¹è¡¨è¾¾å¼,å…¶ä»–é€šçŸ¥ä¸­,valueå±æ€§å°±å¯ä»¥ä½¿ç”¨è¿™ä¸ªæ–¹æ³•åç§°,ä»£æ›¿åˆ‡å…¥ç‚¹è¡¨è¾¾å¼     */</span>    <span class="token annotation punctuation">@Pointcut</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"execution(* *..SomeServiceImpl.doThird(..))"</span> <span class="token punctuation">)</span>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">mypt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//æ— éœ€ä»£ç </span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æœ‰æ¥å£ä¸”ä½¿ç”¨cglbä»£ç†</p><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--    å¦‚æœæœŸæœ›ç›®æ ‡ç±»æœ‰æ¥å£,ä½¿ç”¨cglbä»£ç† åŠ ä¸Š            proxy-target-class="true" å³å¯        --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>aspectj-autoproxy</span> <span class="token attr-name">proxy-target-class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>aspectj-autoproxy</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="springäº‹åŠ¡å¤„ç†"><a href="#springäº‹åŠ¡å¤„ç†" class="headerlink" title="springäº‹åŠ¡å¤„ç†"></a>springäº‹åŠ¡å¤„ç†</h3><ul><li>äº‹åŠ¡æ˜¯æŒ‡ä¸€ç»„sqlè¯­å¥çš„é›†åˆï¼Œé›†åˆä¸­æœ‰å¤šæ¡sqlè¯­å¥ï¼Œè¿™äº›è¯­å¥çš„æ‰§è¡Œè¦æ˜¯ä¸€è‡´çš„ï¼Œä½œä¸ºä¸€ä¸ªæ•´ä½“æ‰§è¡Œã€‚è¦ä¹ˆåŒæ—¶æˆåŠŸï¼ŒåŒæ—¶å¤±è´¥ã€‚</li><li>springæä¾›ä¸€ç§å¤„ç†äº‹åŠ¡çš„ç»Ÿä¸€æ¨¡å‹ï¼Œä½¿ç”¨ç»Ÿä¸€æ­¥éª¤ï¼Œæ–¹å¼å®Œæˆå¤šç§ä¸åŒæ•°æ®åº“è®¿é—®æŠ€æœ¯çš„äº‹åŠ¡å¤„ç†ã€‚</li><li>äº‹åŠ¡å†…éƒ¨æäº¤ï¼Œå›æ»šäº‹åŠ¡ï¼Œä½¿ç”¨çš„æ˜¯äº‹åŠ¡ç®¡ç†å™¨å¯¹è±¡</li></ul><h4 id="äº‹åŠ¡çš„éš”ç¦»çº§åˆ«"><a href="#äº‹åŠ¡çš„éš”ç¦»çº§åˆ«" class="headerlink" title="äº‹åŠ¡çš„éš”ç¦»çº§åˆ«"></a>äº‹åŠ¡çš„éš”ç¦»çº§åˆ«</h4><p>DEFAULTï¼šé‡‡ç”¨ DB é»˜è®¤çš„äº‹åŠ¡éš”ç¦»çº§åˆ«ã€‚MySql çš„é»˜è®¤ä¸º REPEATABLE_READï¼› Oracle é»˜è®¤ä¸º READ_COMMITTEDã€‚ </p><p>â¢ READ_UNCOMMITTEDï¼šè¯»æœªæäº¤ã€‚æœªè§£å†³ä»»ä½•å¹¶å‘é—®é¢˜ã€‚</p><p>â¢ READ_COMMITTEDï¼šè¯»å·²æäº¤ã€‚è§£å†³è„è¯»ï¼Œå­˜åœ¨ä¸å¯é‡å¤è¯»ä¸å¹»è¯»ã€‚ </p><p>â¢ REPEATABLE_READï¼šå¯é‡å¤è¯»ã€‚è§£å†³è„è¯»ã€ä¸å¯é‡å¤è¯»ï¼Œå­˜åœ¨å¹»è¯» </p><p>â¢ SERIALIZABLEï¼šä¸²è¡ŒåŒ–ã€‚ä¸å­˜åœ¨å¹¶å‘é—®é¢˜ã€‚</p><h4 id="äº‹åŠ¡çš„è¶…æ—¶æ—¶é—´"><a href="#äº‹åŠ¡çš„è¶…æ—¶æ—¶é—´" class="headerlink" title="äº‹åŠ¡çš„è¶…æ—¶æ—¶é—´"></a>äº‹åŠ¡çš„è¶…æ—¶æ—¶é—´</h4><p>â¢ è¡¨ç¤ºä¸€ä¸ªæ–¹æ³•æœ€é•¿çš„æ‰§è¡Œæ—¶é—´ï¼Œå¦‚æœæ–¹æ³•æ‰§è¡Œæ—¶è¶…è¿‡äº†æ—¶é—´ï¼Œäº‹åŠ¡å°±å›æ»šã€‚é»˜è®¤-1ã€‚</p><h4 id="äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸º"><a href="#äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸º" class="headerlink" title="äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸º"></a>äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸º</h4><ul><li>æ‰€è°“äº‹åŠ¡ä¼ æ’­è¡Œä¸ºæ˜¯æŒ‡ï¼Œå¤„äºä¸åŒäº‹åŠ¡ä¸­çš„æ–¹æ³•åœ¨ç›¸äº’è°ƒç”¨æ—¶ï¼Œæ‰§è¡ŒæœŸé—´äº‹åŠ¡çš„ç»´æŠ¤æƒ… å†µã€‚å¦‚ï¼ŒA äº‹åŠ¡ä¸­çš„æ–¹æ³• doSome()è°ƒç”¨ B äº‹åŠ¡ä¸­çš„æ–¹æ³• doOther()ï¼Œåœ¨è°ƒç”¨æ‰§è¡ŒæœŸé—´äº‹åŠ¡çš„ ç»´æŠ¤æƒ…å†µï¼Œå°±ç§°ä¸ºäº‹åŠ¡ä¼ æ’­è¡Œä¸ºã€‚äº‹åŠ¡ä¼ æ’­è¡Œä¸ºæ˜¯åŠ åœ¨æ–¹æ³•ä¸Šçš„ã€‚</li><li><font color="red">PROPAGATION_REQUIRED</font><ul><li>æŒ‡å®šçš„æ–¹æ³•å¿…é¡»åœ¨äº‹åŠ¡å†…æ‰§è¡Œã€‚è‹¥å½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±åŠ å…¥åˆ°å½“å‰äº‹åŠ¡ä¸­ï¼›è‹¥å½“å‰æ²¡æœ‰äº‹ åŠ¡ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°äº‹åŠ¡ã€‚è¿™ç§ä¼ æ’­è¡Œä¸ºæ˜¯æœ€å¸¸è§çš„é€‰æ‹©ï¼Œä¹Ÿæ˜¯ Spring é»˜è®¤çš„äº‹åŠ¡ä¼ æ’­è¡Œä¸º</li></ul></li><li><font color="red">PROPAGATION_REQUIRES_NEW </font><ul><li>æŒ‡å®šçš„æ–¹æ³•æ”¯æŒå½“å‰äº‹åŠ¡ï¼Œä½†è‹¥å½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œä¹Ÿå¯ä»¥ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œã€‚</li></ul></li><li><font color="red">PROPAGATION_SUPPORTS</font><ul><li>æ€»æ˜¯æ–°å»ºä¸€ä¸ªäº‹åŠ¡ï¼Œè‹¥å½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±å°†å½“å‰äº‹åŠ¡æŒ‚èµ·ï¼Œç›´åˆ°æ–°äº‹åŠ¡æ‰§è¡Œå®Œæ¯•ã€‚</li></ul></li><li>PROPAGATION_MANDATORY </li><li>PROPAGATION_NESTED </li><li>PROPAGATION_NEVER</li><li>PROPAGATION_NOT_SUPPORTED</li></ul><h4 id="äº‹åŠ¡æäº¤äº‹åŠ¡ï¼Œå›æ»šäº‹åŠ¡çš„æ—¶æœº"><a href="#äº‹åŠ¡æäº¤äº‹åŠ¡ï¼Œå›æ»šäº‹åŠ¡çš„æ—¶æœº" class="headerlink" title="äº‹åŠ¡æäº¤äº‹åŠ¡ï¼Œå›æ»šäº‹åŠ¡çš„æ—¶æœº"></a>äº‹åŠ¡æäº¤äº‹åŠ¡ï¼Œå›æ»šäº‹åŠ¡çš„æ—¶æœº</h4><ul><li>å½“ä¸šåŠ¡æ–¹æ³•æ‰§è¡ŒæˆåŠŸæ—¶ï¼Œæ²¡æœ‰æŠ›å‡ºå¼‚å¸¸ï¼Œå½“æ–¹æ³•æ‰§è¡Œå®Œæ¯•ï¼Œspringåœ¨æ–¹æ³•æ‰§è¡Œåæäº¤äº‹åŠ¡ã€‚äº‹åŠ¡ç®¡ç†å™¨commit</li><li>å½“ä¸šåŠ¡æ–¹æ³•æŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸æˆ–errorï¼Œspringæ‰§è¡Œå›æ»šï¼Œè°ƒç”¨äº‹åŠ¡ç®¡ç†å™¨çš„rollback</li><li>å½“ä¸šåŠ¡æ–¹æ³•æŠ›å‡ºéè¿è¡Œæ—¶å¼‚å¸¸ï¼Œä¸»è¦æ˜¯å—æŸ¥å¼‚å¸¸ï¼Œæäº¤äº‹åŠ¡<ul><li>å—æŸ¥å¼‚å¸¸ï¼šå³å†™ä»£ç æ—¶å¿…é¡»å¤„ç†çš„å¼‚å¸¸ã€‚ä¾‹å¦‚ï¼šIOExceptionï¼ŒSQLException</li></ul></li></ul><h4 id="æ³¨è§£äº‹åŠ¡-å°é¡¹ç›®"><a href="#æ³¨è§£äº‹åŠ¡-å°é¡¹ç›®" class="headerlink" title="æ³¨è§£äº‹åŠ¡(å°é¡¹ç›®)"></a>æ³¨è§£äº‹åŠ¡(å°é¡¹ç›®)</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BuyGoodsServiceImpl</span> <span class="token keyword">implements</span> <span class="token class-name">BuyGoodsService</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">SaleDao</span> saleDao<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">GoodsDao</span> goodsDao<span class="token punctuation">;</span> <span class="token comment">/*   @Transactional(            propagation = Propagation.REQUIRED,            isolation = Isolation.DEFAULT,            readOnly = false,            rollbackFor = &#123;                    NullPointerException.class,                    NotEnoughException.class            &#125;    )*/</span>  <span class="token annotation punctuation">@Transactional</span>  <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">buy</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> goodsid<span class="token punctuation">,</span> <span class="token class-name">Integer</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"buyæ–¹æ³•çš„å¼€å§‹"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Sale</span> sale <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        sale<span class="token punctuation">.</span><span class="token function">setGid</span><span class="token punctuation">(</span>goodsid<span class="token punctuation">)</span><span class="token punctuation">;</span>        sale<span class="token punctuation">.</span><span class="token function">setNums</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>        saleDao<span class="token punctuation">.</span><span class="token function">insertSale</span><span class="token punctuation">(</span>sale<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Goods</span> goods <span class="token operator">=</span> goodsDao<span class="token punctuation">.</span><span class="token function">selectGoods</span><span class="token punctuation">(</span>goodsid<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>goods <span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NotEnoughException</span><span class="token punctuation">(</span><span class="token string">"ç¼–å·æ˜¯ï¼š"</span><span class="token operator">+</span>goodsid<span class="token operator">+</span><span class="token string">",å•†å“ä¸å­˜åœ¨"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>goods<span class="token punctuation">.</span><span class="token function">getAmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> nums<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NotEnoughException</span><span class="token punctuation">(</span><span class="token string">"ç¼–å·æ˜¯ï¼š"</span><span class="token operator">+</span>goodsid<span class="token operator">+</span><span class="token string">",å•†å“åº“å­˜ä¸è¶³"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">Goods</span> buyGoods <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Goods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        buyGoods<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span>goodsid<span class="token punctuation">)</span><span class="token punctuation">;</span>        buyGoods<span class="token punctuation">.</span><span class="token function">setAmount</span><span class="token punctuation">(</span>nums<span class="token punctuation">)</span><span class="token punctuation">;</span>        goodsDao<span class="token punctuation">.</span><span class="token function">updateGoods</span><span class="token punctuation">(</span>buyGoods<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"buyæ–¹æ³•çš„å®Œæˆ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setSaleDao</span><span class="token punctuation">(</span><span class="token class-name">SaleDao</span> saleDao<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>saleDao <span class="token operator">=</span> saleDao<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setGoodsDao</span><span class="token punctuation">(</span><span class="token class-name">GoodsDao</span> goodsDao<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>goodsDao <span class="token operator">=</span> goodsDao<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--å¼€å¯äº‹åŠ¡æ³¨è§£é©±åŠ¨,å‘Šè¯‰springä½¿ç”¨æ³¨è§£é©±åŠ¨ç®¡ç†äº‹åŠ¡,åˆ›å»ºä»£ç†é©±åŠ¨--></span><span class="token comment">&lt;!--  &lt;tx:annotation-driven  transaction-manager = "transactionManager"/>--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>annotation-driven</span> <span class="token attr-name">transaction-manager</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>transactionManager<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="äº‹åŠ¡é…ç½®æ–‡ä»¶-å¤§é¡¹ç›®"><a href="#äº‹åŠ¡é…ç½®æ–‡ä»¶-å¤§é¡¹ç›®" class="headerlink" title="äº‹åŠ¡é…ç½®æ–‡ä»¶(å¤§é¡¹ç›®)"></a>äº‹åŠ¡é…ç½®æ–‡ä»¶(å¤§é¡¹ç›®)</h4><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token comment">&lt;!--å£°æ˜å¼äº‹åŠ¡å¤„ç†ï¼šå’Œæºä»£ç å®Œå…¨åˆ†ç¦»çš„--></span><span class="token comment">&lt;!--1.å£°æ˜äº‹åŠ¡ç®¡ç†å™¨å¯¹è±¡--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>bean</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>transactionManager<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>org.springframework.jdbc.datasource.DataSourceTransactionManager<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>dataSource<span class="token punctuation">"</span></span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myDataSource<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>bean</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--2.å£°æ˜ä¸šåŠ¡æ–¹æ³•å®ƒçš„äº‹åŠ¡å±æ€§ï¼ˆéš”ç¦»çº§åˆ«ï¼Œä¼ æ’­è¡Œä¸ºï¼Œè¶…æ—¶æ—¶é—´ï¼‰          id:è‡ªå®šä¹‰åç§°ï¼Œè¡¨ç¤º &lt;tx:advice> å’Œ &lt;/tx:advice>ä¹‹é—´çš„é…ç½®å†…å®¹çš„          transaction-manager:äº‹åŠ¡ç®¡ç†å™¨å¯¹è±¡çš„id    --></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>advice</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myAdvice<span class="token punctuation">"</span></span> <span class="token attr-name">transaction-manager</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>transactionManager<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--tx:attributesï¼šé…ç½®äº‹åŠ¡å±æ€§--></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>attributes</span><span class="token punctuation">></span></span>        <span class="token comment">&lt;!--tx:methodï¼šç»™å…·ä½“çš„æ–¹æ³•é…ç½®äº‹åŠ¡å±æ€§ï¼Œmethodå¯ä»¥æœ‰å¤šä¸ªï¼Œåˆ†åˆ«ç»™ä¸åŒçš„æ–¹æ³•è®¾ç½®äº‹åŠ¡å±æ€§                name:æ–¹æ³•åç§°ï¼Œ1ï¼‰å®Œæ•´çš„æ–¹æ³•åç§°ï¼Œä¸å¸¦æœ‰åŒ…å’Œç±»ã€‚                              2ï¼‰æ–¹æ³•å¯ä»¥ä½¿ç”¨é€šé…ç¬¦,* è¡¨ç¤ºä»»æ„å­—ç¬¦                propagationï¼šä¼ æ’­è¡Œä¸ºï¼Œæšä¸¾å€¼                isolationï¼šéš”ç¦»çº§åˆ«                rollback-forï¼šä½ æŒ‡å®šçš„å¼‚å¸¸ç±»åï¼Œå…¨é™å®šç±»åã€‚ å‘ç”Ÿå¼‚å¸¸ä¸€å®šå›æ»š            --></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>buy<span class="token punctuation">"</span></span> <span class="token attr-name">propagation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>REQUIRED<span class="token punctuation">"</span></span> <span class="token attr-name">isolation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>DEFAULT<span class="token punctuation">"</span></span>                   <span class="token attr-name">rollback-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>java.lang.NullPointerException,com.bjpowernode.excep.NotEnoughException<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>        <span class="token comment">&lt;!--ä½¿ç”¨é€šé…ç¬¦ï¼ŒæŒ‡å®šå¾ˆå¤šçš„æ–¹æ³•--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>add*<span class="token punctuation">"</span></span> <span class="token attr-name">propagation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>REQUIRES_NEW<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token comment">&lt;!--æŒ‡å®šä¿®æ”¹æ–¹æ³•--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modify*<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token comment">&lt;!--åˆ é™¤æ–¹æ³•--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>remove*<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>        <span class="token comment">&lt;!--æŸ¥è¯¢æ–¹æ³•ï¼Œqueryï¼Œsearchï¼Œfind--></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">tx:</span>method</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>*<span class="token punctuation">"</span></span> <span class="token attr-name">propagation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>SUPPORTS<span class="token punctuation">"</span></span> <span class="token attr-name">read-only</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>true<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>attributes</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">tx:</span>advice</span><span class="token punctuation">></span></span><span class="token comment">&lt;!--é…ç½®aop--></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">></span></span>    <span class="token comment">&lt;!--é…ç½®åˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼šæŒ‡å®šå“ªäº›åŒ…ä¸­ç±»ï¼Œè¦ä½¿ç”¨äº‹åŠ¡            id:åˆ‡å…¥ç‚¹è¡¨è¾¾å¼çš„åç§°ï¼Œå”¯ä¸€å€¼            expressionï¼šåˆ‡å…¥ç‚¹è¡¨è¾¾å¼ï¼ŒæŒ‡å®šå“ªäº›ç±»è¦ä½¿ç”¨äº‹åŠ¡ï¼Œaspectjä¼šåˆ›å»ºä»£ç†å¯¹è±¡            com.bjpowernode.service            com.crm.service            com.service        --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>pointcut</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>servicePt<span class="token punctuation">"</span></span> <span class="token attr-name">expression</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>execution(* *..service..*.*(..))<span class="token punctuation">"</span></span><span class="token punctuation">/></span></span>    <span class="token comment">&lt;!--é…ç½®å¢å¼ºå™¨ï¼šå…³è”adivceå’Œpointcut           advice-ref:é€šçŸ¥ï¼Œä¸Šé¢tx:adviceå“ªé‡Œçš„é…ç½®           pointcut-refï¼šåˆ‡å…¥ç‚¹è¡¨è¾¾å¼çš„id        --></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">aop:</span>advisor</span> <span class="token attr-name">advice-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myAdvice<span class="token punctuation">"</span></span> <span class="token attr-name">pointcut-ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>servicePt<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token namespace">aop:</span>config</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ¡†æ¶ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> spring </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaå®ç”¨å°åŠŸèƒ½æ¡ˆä¾‹</title>
      <link href="/2022-02-22-java-shi-yong-xiao-gong-neng-an-li.html"/>
      <url>/2022-02-22-java-shi-yong-xiao-gong-neng-an-li.html</url>
      
        <content type="html"><![CDATA[<h3 id="éšæœºæ•°"><a href="#éšæœºæ•°" class="headerlink" title="éšæœºæ•°"></a>éšæœºæ•°</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// ç”Ÿæˆ20-30ä¹‹é—´çš„éšæœºæ•°</span><span class="token class-name">Random</span> rand <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">int</span> num <span class="token operator">=</span> rand<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">21</span><span class="token punctuation">;</span><span class="token comment">// Math ç±»ä¸­çš„ random æ–¹æ³•è¿”å›ä¸€ä¸ª [0.0, 1.0) åŒºé—´çš„ double å€¼ã€‚ä¸‹é¢è¿™æ®µä»£ç èƒ½å¾—åˆ°ä¸€ä¸ª min å’Œ max ä¹‹é—´çš„éšæœºæ•°ï¼š</span><span class="token keyword">int</span> randomWithMathRandom <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// [3-1)</span><span class="token keyword">int</span> randomWithMathRandom <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="éªŒè¯ç "><a href="#éªŒè¯ç " class="headerlink" title="éªŒè¯ç "></a>éªŒè¯ç </h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">String</span> <span class="token class-name">ZiMu</span> <span class="token operator">=</span> <span class="token string">"qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGJKLZXCVBNM1234567890"</span><span class="token punctuation">;</span>    <span class="token class-name">String</span> result <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>    <span class="token class-name">Random</span> random <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> index <span class="token operator">=</span> random<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token class-name">ZiMu</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token class-name">ZiMu</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>        result <span class="token operator">+=</span> c<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ—¥æœŸ"><a href="#æ—¥æœŸ" class="headerlink" title="æ—¥æœŸ"></a>æ—¥æœŸ</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Date</span> dNow <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">SimpleDateFormat</span> ft <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span> <span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd hh:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å½“å‰æ—¶é—´ä¸º: "</span> <span class="token operator">+</span> ft<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>dNow<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Excelè‡ªåŠ¨åŒ–åŠå…¬</title>
      <link href="/2022-02-16-excel-zi-dong-hua-ban-gong.html"/>
      <url>/2022-02-16-excel-zi-dong-hua-ban-gong.html</url>
      
        <content type="html"><![CDATA[<h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip <span class="token function">install</span> <span class="token assign-left variable">openpyxl</span><span class="token operator">==</span><span class="token number">3.0</span>.7<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="åŸºæœ¬æ“ä½œ"><a href="#åŸºæœ¬æ“ä½œ" class="headerlink" title="åŸºæœ¬æ“ä½œ"></a>åŸºæœ¬æ“ä½œ</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> openpyxl<span class="token keyword">print</span><span class="token punctuation">(</span>openpyxl<span class="token punctuation">.</span>__version__<span class="token punctuation">)</span><span class="token comment"># ç”¨openpyxlè¯»å–excelè¡¨æ ¼</span>wb <span class="token operator">=</span> openpyxl<span class="token punctuation">.</span>load_workbook<span class="token punctuation">(</span><span class="token string">'ä¿¡æ¯è¡¨.xlsx'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>wb<span class="token punctuation">)</span><span class="token comment"># è·å–å·¥ä½œè’²sheetè¡¨åç§°</span>sheet1 <span class="token operator">=</span> wb<span class="token punctuation">.</span>sheetnames<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"sheetè¡¨åç§°:\n"</span><span class="token punctuation">,</span> sheet1<span class="token punctuation">)</span><span class="token comment"># è·å–æŒ‡å®šsheetå¯¹è±¡</span>sheet <span class="token operator">=</span> wb<span class="token punctuation">[</span><span class="token string">'åŸºæœ¬ä¿¡æ¯'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>sheet<span class="token punctuation">)</span><span class="token comment"># è·å–æ´»åŠ¨è¡¨(ç›®å‰æ´»åŠ¨çš„è¡¨)</span><span class="token keyword">print</span><span class="token punctuation">(</span>wb<span class="token punctuation">.</span>active<span class="token punctuation">)</span><span class="token comment"># ä»è¡¨ä¸­è·å–å•å…ƒæ ¼</span>cell <span class="token operator">=</span> sheet<span class="token punctuation">[</span><span class="token string">'A4'</span><span class="token punctuation">]</span>  <span class="token comment"># åˆ›å»ºä¸€ä¸ªcellå¯¹è±¡</span><span class="token comment"># å‚æ•°</span><span class="token keyword">print</span><span class="token punctuation">(</span>cell<span class="token punctuation">.</span>value<span class="token punctuation">)</span>  <span class="token comment"># value:cellä¸­å­˜å‚¨çš„å€¼</span><span class="token keyword">print</span><span class="token punctuation">(</span>cell<span class="token punctuation">.</span>row<span class="token punctuation">)</span>  <span class="token comment"># è¡Œç´¢å¼•</span><span class="token keyword">print</span><span class="token punctuation">(</span>cell<span class="token punctuation">.</span>column<span class="token punctuation">)</span>  <span class="token comment"># åˆ—ç´¢å¼•</span><span class="token keyword">print</span><span class="token punctuation">(</span>cell<span class="token punctuation">.</span>coordinate<span class="token punctuation">)</span>  <span class="token comment"># åæ ‡</span><span class="token comment"># ç”¨å­—æ¯æŒ‡å®šè¡Œåˆ—</span><span class="token keyword">print</span><span class="token punctuation">(</span>sheet<span class="token punctuation">.</span>cell<span class="token punctuation">(</span>row<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> column<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token comment">#  éå†ä¸€ä¸ªçŸ©å½¢åŒºåŸŸä¸­çš„æ‰€æœ‰cellå¯¹è±¡</span><span class="token keyword">for</span> cell_row <span class="token keyword">in</span> sheet<span class="token punctuation">[</span><span class="token string">'A3'</span><span class="token punctuation">:</span><span class="token string">'D8'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>    <span class="token keyword">for</span> cell <span class="token keyword">in</span> cell_row<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>cell<span class="token punctuation">.</span>coordinate<span class="token punctuation">,</span> cell<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token comment"># è®¿é—®ç‰¹å®šè¡Œæˆ–åˆ—çš„å•å…ƒæ ¼çš„å€¼,åˆ©ç”¨worksheetå¯¹è±¡çš„rowså’Œcolumnå±æ€§</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">list</span><span class="token punctuation">(</span>sheet<span class="token punctuation">.</span>columns<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">for</span> cell <span class="token keyword">in</span> <span class="token builtin">list</span><span class="token punctuation">(</span>sheet<span class="token punctuation">.</span>columns<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>cell<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token comment"># è·å–å·¥ä½œè¡¨ä¸­æœ€å¤§è¡Œå’Œæœ€å¤§åˆ—çš„æ•°é‡</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'--------------------------'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>sheet<span class="token punctuation">.</span>max_row<span class="token punctuation">,</span> sheet<span class="token punctuation">.</span>max_column<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ¡ˆä¾‹æ¼”ç¤º"><a href="#æ¡ˆä¾‹æ¼”ç¤º" class="headerlink" title="æ¡ˆä¾‹æ¼”ç¤º"></a>æ¡ˆä¾‹æ¼”ç¤º</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> openpyxl<span class="token punctuation">,</span> pprint<span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'opening workbook...'</span><span class="token punctuation">)</span>wb <span class="token operator">=</span> openpyxl<span class="token punctuation">.</span>load_workbook<span class="token punctuation">(</span><span class="token string">'äººå£ç»Ÿè®¡ç®€æ˜“è¡¨.xlsx'</span><span class="token punctuation">)</span>sheet <span class="token operator">=</span> wb<span class="token punctuation">[</span><span class="token string">'äººå£ç»Ÿè®¡è¡¨'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>wb<span class="token punctuation">.</span>sheetnames<span class="token punctuation">)</span><span class="token comment"># countryDataå°†åŒ…å«è®¡ç®—çš„æ¯ä¸ªå¿çš„æ€»äººå£å’Œæ™®æŸ¥åŒºæ•°ç›®</span>countyData <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Reading rows...'</span><span class="token punctuation">)</span><span class="token keyword">for</span> row <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> sheet<span class="token punctuation">.</span>max_row <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    state <span class="token operator">=</span> sheet<span class="token punctuation">[</span><span class="token string">'B'</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value    county <span class="token operator">=</span> sheet<span class="token punctuation">[</span><span class="token string">'C'</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value    pop <span class="token operator">=</span> sheet<span class="token punctuation">[</span><span class="token string">'D'</span> <span class="token operator">+</span> <span class="token builtin">str</span><span class="token punctuation">(</span>row<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value    countyData<span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span>state<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    countyData<span class="token punctuation">[</span>state<span class="token punctuation">]</span><span class="token punctuation">.</span>setdefault<span class="token punctuation">(</span>county<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token string">'tracts'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">'pop'</span><span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    countyData<span class="token punctuation">[</span>state<span class="token punctuation">]</span><span class="token punctuation">[</span>county<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'tracts'</span><span class="token punctuation">]</span><span class="token operator">+=</span><span class="token number">1</span>    countyData<span class="token punctuation">[</span>state<span class="token punctuation">]</span><span class="token punctuation">[</span>county<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'pop'</span><span class="token punctuation">]</span><span class="token operator">+=</span><span class="token builtin">int</span><span class="token punctuation">(</span>pop<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Writing results...'</span><span class="token punctuation">)</span>resultFile <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'census2022.py'</span><span class="token punctuation">,</span><span class="token string">'w'</span><span class="token punctuation">)</span><span class="token comment"># å°†countyDataæ•°æ®å†™å…¥åˆ°addDataå­—å…¸ä¸­</span>resultFile<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">'allData = '</span><span class="token operator">+</span>pprint<span class="token punctuation">.</span>pformat<span class="token punctuation">(</span>countyData<span class="token punctuation">)</span><span class="token punctuation">)</span>resultFile<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'Done'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-py" data-language="py"><code class="language-py"><span class="token keyword">import</span> os<span class="token keyword">import</span> census2022<span class="token keyword">print</span><span class="token punctuation">(</span>census2022<span class="token punctuation">.</span>allData<span class="token punctuation">[</span><span class="token string">'AL'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'FT'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å†™å…¥æ•°æ®åŸºæœ¬æ“ä½œ"><a href="#å†™å…¥æ•°æ®åŸºæœ¬æ“ä½œ" class="headerlink" title="å†™å…¥æ•°æ®åŸºæœ¬æ“ä½œ"></a>å†™å…¥æ•°æ®åŸºæœ¬æ“ä½œ</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> openpyxlwb <span class="token operator">=</span> openpyxl<span class="token punctuation">.</span>Workbook<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>wb<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>wb<span class="token punctuation">.</span>sheetnames<span class="token punctuation">)</span>sheet <span class="token operator">=</span> wb<span class="token punctuation">.</span>active<span class="token comment"># è®¾ç½®sheetåç§°</span>sheet<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'è·Ÿè¿›è®°å½•è¡¨'</span><span class="token keyword">print</span><span class="token punctuation">(</span>wb<span class="token punctuation">.</span>sheetnames<span class="token punctuation">)</span><span class="token comment"># ä¿å­˜</span>wb<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'ç¬¬ä¸€ä¸ªå·¥ä½œè’².xlsx'</span><span class="token punctuation">)</span><span class="token comment"># åˆ›å»ºå’Œåˆ é™¤å·¥ä½œè¡¨</span>wb <span class="token operator">=</span> openpyxl<span class="token punctuation">.</span>load_workbook<span class="token punctuation">(</span><span class="token string">'ç¬¬ä¸€ä¸ªå·¥ä½œè’².xlsx'</span><span class="token punctuation">)</span>wb<span class="token punctuation">.</span>create_sheet<span class="token punctuation">(</span>title<span class="token operator">=</span><span class="token string">'é”€å”®è®°å½•'</span><span class="token punctuation">)</span>wb<span class="token punctuation">.</span>create_sheet<span class="token punctuation">(</span>index<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> title<span class="token operator">=</span><span class="token string">'å…»æ®–è®°å½•'</span><span class="token punctuation">)</span>  <span class="token comment"># ä¸‹æ ‡ä¸º1çš„ä½ç½®</span><span class="token keyword">del</span> wb<span class="token punctuation">[</span><span class="token string">'å…»æ®–è®°å½•'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>wb<span class="token punctuation">.</span>sheetnames<span class="token punctuation">)</span>wb<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'ç¬¬ä¸€ä¸ªå·¥ä½œè’².xlsx'</span><span class="token punctuation">)</span><span class="token comment"># å†™å…¥æ•°æ®</span>sheet <span class="token operator">=</span> wb<span class="token punctuation">[</span><span class="token string">'é”€å”®è®°å½•'</span><span class="token punctuation">]</span>sheet<span class="token punctuation">[</span><span class="token string">'A1'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'hello'</span>sheet<span class="token punctuation">[</span><span class="token string">'B1'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'world'</span>wb<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'ç¬¬ä¸€ä¸ªå·¥ä½œè’².xlsx'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å®šå‘ä¿®æ”¹æ•°æ®"><a href="#å®šå‘ä¿®æ”¹æ•°æ®" class="headerlink" title="å®šå‘ä¿®æ”¹æ•°æ®"></a>å®šå‘ä¿®æ”¹æ•°æ®</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> openpyxlwb <span class="token operator">=</span> openpyxl<span class="token punctuation">.</span>load_workbook<span class="token punctuation">(</span><span class="token string">'ç”µå­äº§å“ä»·æ ¼è¡¨.xlsx'</span><span class="token punctuation">)</span>sheet <span class="token operator">=</span> wb<span class="token punctuation">[</span><span class="token string">'Sheet1'</span><span class="token punctuation">]</span>PRICE_UPDATES <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'è‹¹æœ'</span><span class="token punctuation">:</span> <span class="token number">3</span><span class="token punctuation">,</span>                 <span class="token string">'é¦™è•‰'</span><span class="token punctuation">:</span> <span class="token number">4</span><span class="token punctuation">,</span>                 <span class="token string">'æ©˜å­'</span><span class="token punctuation">:</span> <span class="token number">5</span>                 <span class="token punctuation">&#125;</span><span class="token keyword">for</span> rowNum <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> sheet<span class="token punctuation">.</span>max_row <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    productName <span class="token operator">=</span> sheet<span class="token punctuation">.</span>cell<span class="token punctuation">(</span>row<span class="token operator">=</span>rowNum<span class="token punctuation">,</span> column<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value    <span class="token keyword">if</span> productName <span class="token keyword">in</span> PRICE_UPDATES<span class="token punctuation">:</span>        sheet<span class="token punctuation">.</span>cell<span class="token punctuation">(</span>row<span class="token operator">=</span>rowNum<span class="token punctuation">,</span> column<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value <span class="token operator">=</span> PRICE_UPDATES<span class="token punctuation">[</span>productName<span class="token punctuation">]</span>wb<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'updateProductsSales.xlsx'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å•å…ƒæ ¼æ ·å¼åˆ¶å®š"><a href="#å•å…ƒæ ¼æ ·å¼åˆ¶å®š" class="headerlink" title="å•å…ƒæ ¼æ ·å¼åˆ¶å®š"></a>å•å…ƒæ ¼æ ·å¼åˆ¶å®š</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> openpyxl<span class="token punctuation">.</span>styles <span class="token keyword">import</span> Font<span class="token punctuation">,</span> PatternFill<span class="token punctuation">,</span> Side<span class="token punctuation">,</span> Border<span class="token punctuation">,</span> Alignment<span class="token keyword">import</span> openpyxlwb <span class="token operator">=</span> openpyxl<span class="token punctuation">.</span>Workbook<span class="token punctuation">(</span><span class="token punctuation">)</span>sheet <span class="token operator">=</span> wb<span class="token punctuation">.</span>activesheet<span class="token punctuation">[</span><span class="token string">'A1'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'å­—ä½“'</span><span class="token comment"># italic: æ–œä½“ underline: ä¸‹åˆ’çº¿ b: åŠ ç²— color: RGBå€¼</span>sheet<span class="token punctuation">[</span><span class="token string">'A1'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>font <span class="token operator">=</span> Font<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">'æ¥·ä½“'</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'8470FF'</span><span class="token punctuation">,</span> size<span class="token operator">=</span><span class="token number">12</span><span class="token punctuation">,</span> italic<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span> underline<span class="token operator">=</span><span class="token string">'single'</span><span class="token punctuation">,</span> b<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token comment"># cellå¡«å……è‰²</span>sheet<span class="token punctuation">[</span><span class="token string">'A2'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>fill <span class="token operator">=</span> PatternFill<span class="token punctuation">(</span>patternType<span class="token operator">=</span><span class="token string">'solid'</span><span class="token punctuation">,</span> fgColor<span class="token operator">=</span><span class="token string">'8470FF'</span><span class="token punctuation">)</span><span class="token comment"># è®¾ç½®è¾¹æ¡†æ ·å¼</span>sheet<span class="token punctuation">[</span><span class="token string">'A4'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'æ•ˆæœ1'</span>sheet<span class="token punctuation">[</span><span class="token string">'A5'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'æ•ˆæœ2'</span>s1 <span class="token operator">=</span> Side<span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">'thin'</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'8470FF'</span><span class="token punctuation">)</span>s2 <span class="token operator">=</span> Side<span class="token punctuation">(</span>style<span class="token operator">=</span><span class="token string">'double'</span><span class="token punctuation">,</span> color<span class="token operator">=</span><span class="token string">'8470FF'</span><span class="token punctuation">)</span>sheet<span class="token punctuation">[</span><span class="token string">'A4'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>border <span class="token operator">=</span> Border<span class="token punctuation">(</span>top<span class="token operator">=</span>s1<span class="token punctuation">)</span>sheet<span class="token punctuation">[</span><span class="token string">'A5'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>border <span class="token operator">=</span> Border<span class="token punctuation">(</span>top<span class="token operator">=</span>s2<span class="token punctuation">,</span> bottom<span class="token operator">=</span>s1<span class="token punctuation">,</span> left<span class="token operator">=</span>s2<span class="token punctuation">,</span> right<span class="token operator">=</span>s1<span class="token punctuation">)</span>sheet<span class="token punctuation">[</span><span class="token string">'B1'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'æ•ˆæœ1'</span>sheet<span class="token punctuation">[</span><span class="token string">'B2'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'æ•ˆæœ2'</span>sheet<span class="token punctuation">[</span><span class="token string">'B3'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'æ•ˆæœ3'</span>B1 <span class="token operator">=</span> sheet<span class="token punctuation">[</span><span class="token string">'B1'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>alignment <span class="token operator">=</span> Alignment<span class="token punctuation">(</span>horizontal<span class="token operator">=</span><span class="token string">'right'</span><span class="token punctuation">)</span>B2 <span class="token operator">=</span> sheet<span class="token punctuation">[</span><span class="token string">'B2'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>alignment <span class="token operator">=</span> Alignment<span class="token punctuation">(</span>horizontal<span class="token operator">=</span><span class="token string">'center'</span><span class="token punctuation">)</span>B3 <span class="token operator">=</span> sheet<span class="token punctuation">[</span><span class="token string">'B3'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>alignment <span class="token operator">=</span> Alignment<span class="token punctuation">(</span>horizontal<span class="token operator">=</span><span class="token string">'general'</span><span class="token punctuation">)</span>wb<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'styles.xlsx'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ•°æ®è¿‡æ»¤"><a href="#æ•°æ®è¿‡æ»¤" class="headerlink" title="æ•°æ®è¿‡æ»¤"></a>æ•°æ®è¿‡æ»¤</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> openpyxl<span class="token punctuation">.</span>styles <span class="token keyword">import</span> Alignment<span class="token keyword">import</span> openpyxlwb <span class="token operator">=</span> openpyxl<span class="token punctuation">.</span>load_workbook<span class="token punctuation">(</span><span class="token string">'æ•°æ®ç­›é€‰è¡¨.xlsx'</span><span class="token punctuation">)</span>sheet <span class="token operator">=</span> wb<span class="token punctuation">[</span><span class="token string">'Sheet1'</span><span class="token punctuation">]</span>sheet<span class="token punctuation">.</span>auto_filter<span class="token punctuation">.</span>ref <span class="token operator">=</span> <span class="token string">'A1:D4'</span><span class="token comment"># add_filter_culumn å‚æ•°1ï¼šæŒ‡å®šåˆ— å‚æ•°2ï¼šç­›é€‰å†…å®¹</span>sheet<span class="token punctuation">.</span>auto_filter<span class="token punctuation">.</span>add_filter_column<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'åŒ—äº¬'</span><span class="token punctuation">,</span> <span class="token string">'ä¸Šæµ·'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># add_sort_condition å‚æ•°1: æŒ‡å®šåŒºåŸŸ å‚æ•°2ï¼šå‡é™åº</span>sheet<span class="token punctuation">.</span>auto_filter<span class="token punctuation">.</span>add_sort_condition<span class="token punctuation">(</span>ref<span class="token operator">=</span><span class="token string">'D2:D4'</span><span class="token punctuation">,</span> descending<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>wb<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'æ•°æ®ç­›é€‰è¡¨.xlsx'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å…¬å¼"><a href="#å…¬å¼" class="headerlink" title="å…¬å¼"></a>å…¬å¼</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> openpyxlwb <span class="token operator">=</span> openpyxl<span class="token punctuation">.</span>Workbook<span class="token punctuation">(</span><span class="token punctuation">)</span>sheet <span class="token operator">=</span> wb<span class="token punctuation">.</span>activesheet<span class="token punctuation">[</span><span class="token string">'A1'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">200</span>sheet<span class="token punctuation">[</span><span class="token string">'A2'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span>sheet<span class="token punctuation">[</span><span class="token string">'A3'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'=SUM(A1:A2)'</span>wb<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'sum.xlsx'</span><span class="token punctuation">)</span>wb <span class="token operator">=</span> openpyxl<span class="token punctuation">.</span>load_workbook<span class="token punctuation">(</span><span class="token string">'sum.xlsx'</span><span class="token punctuation">,</span>read_only<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>sheet <span class="token operator">=</span> wb<span class="token punctuation">.</span>active<span class="token keyword">print</span><span class="token punctuation">(</span>sheet<span class="token punctuation">[</span><span class="token string">'A3'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å•å…ƒæ ¼"><a href="#å•å…ƒæ ¼" class="headerlink" title="å•å…ƒæ ¼"></a>å•å…ƒæ ¼</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> openpyxlwb <span class="token operator">=</span> openpyxl<span class="token punctuation">.</span>load_workbook<span class="token punctuation">(</span><span class="token string">'è¡Œå’Œåˆ—.xlsx'</span><span class="token punctuation">)</span>sheet <span class="token operator">=</span> wb<span class="token punctuation">[</span><span class="token string">'Sheet1'</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>sheet<span class="token punctuation">.</span>row_dimensions<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>sheet<span class="token punctuation">.</span>column_dimensions<span class="token punctuation">)</span><span class="token comment"># è®¾ç½®è¡Œé«˜</span>sheet<span class="token punctuation">.</span>row_dimensions<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span>height <span class="token operator">=</span> <span class="token number">50</span><span class="token comment"># è®¾ç½®åˆ—å®½</span>sheet<span class="token punctuation">.</span>column_dimensions<span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token number">80</span><span class="token comment"># åˆå¹¶</span>sheet<span class="token punctuation">.</span>merge_cells<span class="token punctuation">(</span><span class="token string">'D1:G5'</span><span class="token punctuation">)</span>sheet<span class="token punctuation">[</span><span class="token string">'D1'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'hello'</span><span class="token comment"># æ‹†åˆ†</span>sheet<span class="token punctuation">.</span>unmerge_cells<span class="token punctuation">(</span><span class="token string">'D1:G5'</span><span class="token punctuation">)</span>wb<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'è¡Œå’Œåˆ—.xlsx'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> office </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Open-CVå›¾åƒå¤„ç†</title>
      <link href="/2022-01-14-open-cv-tu-xiang-chu-li.html"/>
      <url>/2022-01-14-open-cv-tu-xiang-chu-li.html</url>
      
        <content type="html"><![CDATA[<h3 id="å‡ ä½•å˜æ¢"><a href="#å‡ ä½•å˜æ¢" class="headerlink" title="å‡ ä½•å˜æ¢"></a>å‡ ä½•å˜æ¢</h3><h4 id="å›¾åƒç¼©æ”¾"><a href="#å›¾åƒç¼©æ”¾" class="headerlink" title="å›¾åƒç¼©æ”¾"></a>å›¾åƒç¼©æ”¾</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%%</span><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token comment">#%%</span>img <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'1.jpg'</span><span class="token punctuation">)</span><span class="token comment">#%%</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#%%</span><span class="token comment"># ç»å¯¹å°ºå¯¸  esc + m</span>rows<span class="token punctuation">,</span>cols <span class="token operator">=</span> img<span class="token punctuation">.</span>shape<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token comment">#%%</span>rows<span class="token comment">#%%</span>cols<span class="token comment">#%%</span>res <span class="token operator">=</span> cv<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>img<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token operator">*</span>cols<span class="token punctuation">,</span><span class="token number">2</span><span class="token operator">*</span>rows<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#%%</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>res<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#%%</span>res<span class="token punctuation">.</span>shape<span class="token comment">#%%</span>res1 <span class="token operator">=</span> cv<span class="token punctuation">.</span>resize<span class="token punctuation">(</span>img<span class="token punctuation">,</span><span class="token boolean">None</span><span class="token punctuation">,</span>fx<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">,</span>fy<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token comment">#%%</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>res1<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#%%</span>res1<span class="token punctuation">.</span>shape<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å›¾åƒå¹³ç§»"><a href="#å›¾åƒå¹³ç§»" class="headerlink" title="å›¾åƒå¹³ç§»"></a>å›¾åƒå¹³ç§»</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%% md</span><span class="token comment"># å›¾åƒå¹³ç§»</span><span class="token comment">#%%</span>rows<span class="token comment">#%%</span>M <span class="token operator">=</span> np<span class="token punctuation">.</span>float32<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#%%</span>res2 <span class="token operator">=</span> cv<span class="token punctuation">.</span>warpAffine<span class="token punctuation">(</span>img<span class="token punctuation">,</span>M<span class="token punctuation">,</span><span class="token punctuation">(</span>cols<span class="token punctuation">,</span>rows<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#%%</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>res2<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#%%</span>res2 <span class="token operator">=</span> cv<span class="token punctuation">.</span>warpAffine<span class="token punctuation">(</span>img<span class="token punctuation">,</span>M<span class="token punctuation">,</span><span class="token punctuation">(</span>cols<span class="token punctuation">,</span>rows<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#%%</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>res2<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å›¾åƒæ—‹è½¬"><a href="#å›¾åƒæ—‹è½¬" class="headerlink" title="å›¾åƒæ—‹è½¬"></a>å›¾åƒæ—‹è½¬</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%%</span>M <span class="token operator">=</span> cv<span class="token punctuation">.</span>getRotationMatrix2D<span class="token punctuation">(</span><span class="token punctuation">(</span>cols<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">,</span>rows<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">45</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">)</span><span class="token comment">#%%</span>res3 <span class="token operator">=</span> cv<span class="token punctuation">.</span>warpAffine<span class="token punctuation">(</span>img<span class="token punctuation">,</span>M<span class="token punctuation">,</span><span class="token punctuation">(</span>cols<span class="token punctuation">,</span>rows<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#%%</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>res3<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å›¾åƒä»¿å°„å˜æ¢"><a href="#å›¾åƒä»¿å°„å˜æ¢" class="headerlink" title="å›¾åƒä»¿å°„å˜æ¢"></a>å›¾åƒä»¿å°„å˜æ¢</h4><p>å›¾åƒçš„ä»¿å°„å˜æ¢æ¶‰åŠåˆ°å›¾åƒçš„å½¢çŠ¶ä½ç½®è§’åº¦çš„å˜åŒ–ï¼Œæ˜¯æ·±åº¦å­¦ä¹ é¢„å¤„ç†ä¸­å¸¸åˆ°çš„åŠŸèƒ½,ä»¿å°„å˜æ¢ä¸»è¦æ˜¯å¯¹å›¾åƒçš„ç¼©æ”¾ï¼Œæ—‹è½¬ï¼Œç¿»è½¬å’Œå¹³ç§»ç­‰æ“ä½œçš„ç»„åˆã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 2.1 åˆ›å»ºå˜æ¢çŸ©é˜µ</span>pts1 <span class="token operator">=</span> np<span class="token punctuation">.</span>float32<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>pts2 <span class="token operator">=</span> np<span class="token punctuation">.</span>float32<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">250</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>M <span class="token operator">=</span> cv<span class="token punctuation">.</span>getAffineTransform<span class="token punctuation">(</span>pts1<span class="token punctuation">,</span>pts2<span class="token punctuation">)</span><span class="token comment"># 2.2 å®Œæˆä»¿å°„å˜æ¢</span>dst <span class="token operator">=</span> cv<span class="token punctuation">.</span>warpAffine<span class="token punctuation">(</span>img<span class="token punctuation">,</span>M<span class="token punctuation">,</span><span class="token punctuation">(</span>cols<span class="token punctuation">,</span>rows<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å›¾åƒçš„æŠ•å°„å˜æ¢"><a href="#å›¾åƒçš„æŠ•å°„å˜æ¢" class="headerlink" title="å›¾åƒçš„æŠ•å°„å˜æ¢"></a>å›¾åƒçš„æŠ•å°„å˜æ¢</h4><p>é€å°„å˜æ¢æ˜¯è§†è§’å˜åŒ–çš„ç»“æœï¼Œæ˜¯æŒ‡åˆ©ç”¨é€è§†ä¸­å¿ƒã€åƒç‚¹ã€ç›®æ ‡ç‚¹ä¸‰ç‚¹å…±çº¿çš„æ¡ä»¶ï¼ŒæŒ‰é€è§†æ—‹è½¬å®šå¾‹ä½¿æ‰¿å½±é¢ï¼ˆé€è§†é¢ï¼‰ç»•è¿¹çº¿ï¼ˆé€è§†è½´ï¼‰æ—‹è½¬æŸä¸€è§’åº¦ï¼Œç ´ååŸæœ‰çš„æŠ•å½±å…‰çº¿æŸï¼Œä»èƒ½ä¿æŒæ‰¿å½±é¢ä¸ŠæŠ•å½±å‡ ä½•å›¾å½¢ä¸å˜çš„å˜æ¢ã€‚</p><p>å®ƒçš„æœ¬è´¨å°†å›¾åƒæŠ•å½±åˆ°ä¸€ä¸ªæ–°çš„è§†å¹³é¢</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 2.1 åˆ›å»ºå˜æ¢çŸ©é˜µ</span>pts1 <span class="token operator">=</span> np<span class="token punctuation">.</span>float32<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">56</span><span class="token punctuation">,</span><span class="token number">65</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">368</span><span class="token punctuation">,</span><span class="token number">52</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">28</span><span class="token punctuation">,</span><span class="token number">387</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">389</span><span class="token punctuation">,</span><span class="token number">390</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>pts2 <span class="token operator">=</span> np<span class="token punctuation">.</span>float32<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">145</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">80</span><span class="token punctuation">,</span><span class="token number">290</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">310</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>T <span class="token operator">=</span> cv<span class="token punctuation">.</span>getPerspectiveTransform<span class="token punctuation">(</span>pts1<span class="token punctuation">,</span>pts2<span class="token punctuation">)</span><span class="token comment"># 2.2 è¿›è¡Œå˜æ¢</span>dst <span class="token operator">=</span> cv<span class="token punctuation">.</span>warpPerspective<span class="token punctuation">(</span>img<span class="token punctuation">,</span>T<span class="token punctuation">,</span><span class="token punctuation">(</span>cols<span class="token punctuation">,</span>rows<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å›¾åƒçš„é‡‘å­—å¡”"><a href="#å›¾åƒçš„é‡‘å­—å¡”" class="headerlink" title="å›¾åƒçš„é‡‘å­—å¡”"></a>å›¾åƒçš„é‡‘å­—å¡”</h4><p>å›¾åƒé‡‘å­—å¡”æ˜¯å›¾åƒå¤šå°ºåº¦è¡¨è¾¾çš„ä¸€ç§ï¼Œæœ€ä¸»è¦ç”¨äºå›¾åƒçš„åˆ†å‰²ï¼Œæ˜¯ä¸€ç§ä»¥å¤šåˆ†è¾¨ç‡æ¥è§£é‡Šå›¾åƒçš„æœ‰æ•ˆä½†æ¦‚å¿µç®€å•çš„ç»“æ„ã€‚</p><p>å›¾åƒé‡‘å­—å¡”ç”¨äºæœºå™¨è§†è§‰å’Œå›¾åƒå‹ç¼©ï¼Œä¸€å¹…å›¾åƒçš„é‡‘å­—å¡”æ˜¯ä¸€ç³»åˆ—ä»¥é‡‘å­—å¡”å½¢çŠ¶æ’åˆ—çš„åˆ†è¾¨ç‡é€æ­¥é™ä½ï¼Œä¸”æ¥æºäºåŒä¸€å¼ åŸå§‹å›¾çš„å›¾åƒé›†åˆã€‚å…¶é€šè¿‡æ¢¯æ¬¡å‘ä¸‹é‡‡æ ·è·å¾—ï¼Œç›´åˆ°è¾¾åˆ°æŸä¸ªç»ˆæ­¢æ¡ä»¶æ‰åœæ­¢é‡‡æ ·ã€‚</p><p>é‡‘å­—å¡”çš„åº•éƒ¨æ˜¯å¾…å¤„ç†å›¾åƒçš„é«˜åˆ†è¾¨ç‡è¡¨ç¤ºï¼Œè€Œé¡¶éƒ¨æ˜¯ä½åˆ†è¾¨ç‡çš„è¿‘ä¼¼ï¼Œå±‚çº§è¶Šé«˜ï¼Œå›¾åƒè¶Šå°ï¼Œåˆ†è¾¨ç‡è¶Šä½ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">imgup <span class="token operator">=</span> cv<span class="token punctuation">.</span>pyrUp<span class="token punctuation">(</span>img<span class="token punctuation">)</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>imgup<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>imgdown <span class="token operator">=</span> cv<span class="token punctuation">.</span>pyrDown<span class="token punctuation">(</span>img<span class="token punctuation">)</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>imgdown<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><strong>æ€»ç»“</strong></p><ol><li><p>å›¾åƒç¼©æ”¾ï¼šå¯¹å›¾åƒè¿›è¡Œæ”¾å¤§æˆ–ç¼©å°</p><p><code>cv.resize()</code></p></li><li><p>å›¾åƒå¹³ç§»ï¼š</p><p>æŒ‡å®šå¹³ç§»çŸ©é˜µåï¼Œè°ƒç”¨<code>cv.warpAffine()</code>å¹³ç§»å›¾åƒ</p></li><li><p>å›¾åƒæ—‹è½¬ï¼š</p><p>è°ƒç”¨<code>cv.getRotationMatrix2D</code>è·å–æ—‹è½¬çŸ©é˜µï¼Œç„¶åè°ƒç”¨<code>cv.warpAffine()</code>è¿›è¡Œæ—‹è½¬</p></li><li><p>ä»¿å°„å˜æ¢ï¼š</p><p>è°ƒç”¨<code>cv.getAffineTransform</code>å°†åˆ›å»ºå˜æ¢çŸ©é˜µï¼Œæœ€åè¯¥çŸ©é˜µå°†ä¼ é€’ç»™<code>cv.warpAffine()</code>è¿›è¡Œå˜æ¢</p></li><li><p>é€å°„å˜æ¢ï¼š</p><p>é€šè¿‡å‡½æ•°<code>cv.getPerspectiveTransform()</code>æ‰¾åˆ°å˜æ¢çŸ©é˜µï¼Œå°†<code>cv.warpPerspective()</code>è¿›è¡ŒæŠ•å°„å˜æ¢</p></li><li><p>é‡‘å­—å¡”</p><p>å›¾åƒé‡‘å­—å¡”æ˜¯å›¾åƒå¤šå°ºåº¦è¡¨è¾¾çš„ä¸€ç§ï¼Œä½¿ç”¨çš„APIï¼š</p><p><code>cv.pyrUp()</code>: å‘ä¸Šé‡‡æ ·</p><p><code>cv.pyrDown()</code>: å‘ä¸‹é‡‡æ ·</p></li></ol><h3 id="å½¢æ€å­¦æ“ä½œ"><a href="#å½¢æ€å­¦æ“ä½œ" class="headerlink" title="å½¢æ€å­¦æ“ä½œ"></a>å½¢æ€å­¦æ“ä½œ</h3><h4 id="è¿é€šæ€§"><a href="#è¿é€šæ€§" class="headerlink" title="è¿é€šæ€§"></a>è¿é€šæ€§</h4><p><img src="https://img-blog.csdnimg.cn/df2470c5480f4cce902391e7206ffd49.png" alt="4,8,Dé‚»æ¥"></p>]]></content>
      
      
      <categories>
          
          <category> å›¾åƒå¤„ç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenCV </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>open-CVçš„åˆæ­¥å­¦ä¹ </title>
      <link href="/2022-01-12-open-cv-de-chu-bu-xue-xi.html"/>
      <url>/2022-01-12-open-cv-de-chu-bu-xue-xi.html</url>
      
        <content type="html"><![CDATA[<h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å®‰è£…æŒ‡å®šç‰ˆæœ¬</span>pip <span class="token function">install</span> opencv-python<span class="token operator">==</span><span class="token number">3.4</span>.2.17<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># æµ‹è¯•æ˜¯å¦å®‰è£…æˆåŠŸ</span><span class="token keyword">import</span> cv2lena  <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"1.jpg"</span><span class="token punctuation">)</span>cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">"image"</span><span class="token punctuation">,</span>lena<span class="token punctuation">)</span>cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åˆ©ç”¨SIFTå’ŒSURFç­‰è¿›è¡Œç‰¹å¾æå–</span>pip <span class="token function">install</span> opencv-contrib-python<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="Open-CVåŸºæœ¬æ“ä½œ"><a href="#Open-CVåŸºæœ¬æ“ä½œ" class="headerlink" title="Open-CVåŸºæœ¬æ“ä½œ"></a>Open-CVåŸºæœ¬æ“ä½œ</h3><h4 id="å›¾åƒçš„åŸºç¡€æ“ä½œ"><a href="#å›¾åƒçš„åŸºç¡€æ“ä½œ" class="headerlink" title="å›¾åƒçš„åŸºç¡€æ“ä½œ"></a>å›¾åƒçš„åŸºç¡€æ“ä½œ</h4><ul><li>å›¾åƒçš„IOæ“ä½œï¼Œè¯»å–å’Œä¿å­˜æ–¹æ³•</li><li>åœ¨å›¾åƒä¸Šç»˜åˆ¶å‡ ä½•å›¾å½¢</li><li>æ€ä¹ˆè·å–å›¾åƒçš„å±æ€§</li><li>æ€ä¹ˆè®¿é—®å›¾åƒçš„åƒç´ ï¼Œè¿›è¡Œé€šé“åˆ†ç¦»ï¼Œåˆå¹¶ç­‰</li><li>æ€ä¹ˆå®ç°é¢œè‰²ç©ºé—´çš„å˜æ¢</li><li>å›¾åƒçš„ç®—æœ¯è¿ç®—</li></ul><h4 id="1-1-è¯»å–å›¾åƒ"><a href="#1-1-è¯»å–å›¾åƒ" class="headerlink" title="1.1 è¯»å–å›¾åƒ"></a>1.1 è¯»å–å›¾åƒ</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python">lena  <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><p>è¯»å–æ–¹å¼çš„æ ‡å¿—</p><ul><li><p>cv.IMREAD*COLORï¼šä»¥å½©è‰²æ¨¡å¼åŠ è½½å›¾åƒï¼Œä»»ä½•å›¾åƒçš„é€æ˜åº¦éƒ½å°†è¢«å¿½ç•¥ã€‚è¿™æ˜¯é»˜è®¤å‚æ•°ã€‚</p></li><li><p>cv.IMREAD*GRAYSCALEï¼šä»¥ç°åº¦æ¨¡å¼åŠ è½½å›¾åƒ</p></li><li><p>cv.IMREAD_UNCHANGEDï¼šåŒ…æ‹¬alphaé€šé“çš„åŠ è½½å›¾åƒæ¨¡å¼ã€‚</p><p><strong>å¯ä»¥ä½¿ç”¨1ã€0æˆ–è€…-1æ¥æ›¿ä»£ä¸Šé¢ä¸‰ä¸ªæ ‡å¿—</strong></p></li></ul></li><li><p>å‚è€ƒä»£ç </p></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv<span class="token comment"># ä»¥ç°åº¦å›¾çš„å½¢å¼è¯»å–å›¾åƒ</span>img <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'1.jpg'</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="1-2-æ˜¾ç¤ºå›¾åƒ"><a href="#1-2-æ˜¾ç¤ºå›¾åƒ" class="headerlink" title="1.2 æ˜¾ç¤ºå›¾åƒ"></a>1.2 æ˜¾ç¤ºå›¾åƒ</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python">cv<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‚æ•°ï¼š</p><ul><li>æ˜¾ç¤ºå›¾åƒçš„çª—å£åç§°ï¼Œä»¥å­—ç¬¦ä¸²ç±»å‹è¡¨ç¤º</li><li>è¦åŠ è½½çš„å›¾åƒ</li></ul><p><strong>æ³¨æ„ï¼šåœ¨è°ƒç”¨æ˜¾ç¤ºå›¾åƒçš„APIåï¼Œè¦è°ƒç”¨cv.waitKey()ç»™å›¾åƒç»˜åˆ¶ç•™ä¸‹æ—¶é—´ï¼Œå¦åˆ™çª—å£ä¼šå‡ºç°æ— å“åº”æƒ…å†µï¼Œå¹¶ä¸”å›¾åƒæ— æ³•æ˜¾ç¤ºå‡ºæ¥</strong>ã€‚</p><ul><li>å‚è€ƒä»£ç </li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> cv2lena  <span class="token operator">=</span> cv2<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">"1.jpg"</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>cv2<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">"image"</span><span class="token punctuation">,</span>lena<span class="token punctuation">)</span>cv2<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="1-3-ä¿å­˜å›¾åƒ"><a href="#1-3-ä¿å­˜å›¾åƒ" class="headerlink" title="1.3 ä¿å­˜å›¾åƒ"></a>1.3 ä¿å­˜å›¾åƒ</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python">cv<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‚æ•°ï¼š</p><ul><li>æ–‡ä»¶åï¼Œè¦ä¿å­˜åœ¨å“ªé‡Œ</li><li>è¦ä¿å­˜çš„å›¾åƒ</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">cv<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span><span class="token string">'2.jpg'</span><span class="token punctuation">,</span>img<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="1-4-å®Œæ•´ä»£ç æ¼”ç¤º"><a href="#1-4-å®Œæ•´ä»£ç æ¼”ç¤º" class="headerlink" title="1.4 å®Œæ•´ä»£ç æ¼”ç¤º"></a>1.4 å®Œæ•´ä»£ç æ¼”ç¤º</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token comment"># 1 è¯»å–å›¾åƒ</span>img <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'1.jpg'</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment"># 2 æ˜¾ç¤ºå›¾åƒ</span><span class="token comment"># 2.1 åˆ©ç”¨opencvå±•ç¤ºå›¾åƒ</span>cv<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span><span class="token string">'image'</span><span class="token punctuation">,</span>img<span class="token punctuation">)</span><span class="token comment"># 2.2 åœ¨matplotplotlibä¸­å±•ç¤ºå›¾åƒ</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># ç»“æŸ</span><span class="token comment"># cv.destroyAllWindows()</span>plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'åŒ¹é…ç»“æœ'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> plt<span class="token punctuation">.</span>yticks<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span>k <span class="token operator">=</span> cv<span class="token punctuation">.</span>waitKey<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment"># 3 ä¿å­˜å›¾åƒ</span>cv<span class="token punctuation">.</span>imwrite<span class="token punctuation">(</span><span class="token string">'2.jpg'</span><span class="token punctuation">,</span>img<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç»˜åˆ¶å‡ ä½•å›¾å½¢"><a href="#ç»˜åˆ¶å‡ ä½•å›¾å½¢" class="headerlink" title="ç»˜åˆ¶å‡ ä½•å›¾å½¢"></a>ç»˜åˆ¶å‡ ä½•å›¾å½¢</h3><h4 id="2-1-ç»˜åˆ¶ç›´çº¿"><a href="#2-1-ç»˜åˆ¶ç›´çº¿" class="headerlink" title="2.1 ç»˜åˆ¶ç›´çº¿"></a>2.1 ç»˜åˆ¶ç›´çº¿</h4><pre class="line-numbers language-none"><code class="language-none">cv.line(img,start,end,color,thickness)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‚æ•°ï¼š</p><ul><li>img:è¦ç»˜åˆ¶ç›´çº¿çš„å›¾åƒ</li><li>Start,end: ç›´çº¿çš„èµ·ç‚¹å’Œç»ˆç‚¹</li><li>color: çº¿æ¡çš„é¢œè‰²</li><li>Thickness: çº¿æ¡å®½åº¦</li></ul><h4 id="2-2-ç»˜åˆ¶åœ†å½¢"><a href="#2-2-ç»˜åˆ¶åœ†å½¢" class="headerlink" title="2.2 ç»˜åˆ¶åœ†å½¢"></a>2.2 ç»˜åˆ¶åœ†å½¢</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python">cv<span class="token punctuation">.</span>circle<span class="token punctuation">(</span>img<span class="token punctuation">,</span>centerpoint<span class="token punctuation">,</span> r<span class="token punctuation">,</span> color<span class="token punctuation">,</span> thickness<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‚æ•°ï¼š</p><ul><li>img:è¦ç»˜åˆ¶åœ†å½¢çš„å›¾åƒ</li><li>Centerpoint, r: åœ†å¿ƒå’ŒåŠå¾„</li><li>color: çº¿æ¡çš„é¢œè‰²</li><li>Thickness: çº¿æ¡å®½åº¦ï¼Œä¸º-1æ—¶ç”Ÿæˆé—­åˆå›¾æ¡ˆå¹¶å¡«å……é¢œè‰²</li></ul><h4 id="2-3-ç»˜åˆ¶çŸ©å½¢"><a href="#2-3-ç»˜åˆ¶çŸ©å½¢" class="headerlink" title="2.3 ç»˜åˆ¶çŸ©å½¢"></a>2.3 ç»˜åˆ¶çŸ©å½¢</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python">cv<span class="token punctuation">.</span>rectangle<span class="token punctuation">(</span>img<span class="token punctuation">,</span>leftupper<span class="token punctuation">,</span>rightdown<span class="token punctuation">,</span>color<span class="token punctuation">,</span>thickness<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‚æ•°ï¼š</p><ul><li>img:è¦ç»˜åˆ¶çŸ©å½¢çš„å›¾åƒ</li><li>Leftupper, rightdown: çŸ©å½¢çš„å·¦ä¸Šè§’å’Œå³ä¸‹è§’åæ ‡</li><li>color: çº¿æ¡çš„é¢œè‰²</li><li>Thickness: çº¿æ¡å®½åº¦</li></ul><h4 id="2-4-å‘å›¾åƒä¸­æ·»åŠ æ–‡å­—"><a href="#2-4-å‘å›¾åƒä¸­æ·»åŠ æ–‡å­—" class="headerlink" title="2.4 å‘å›¾åƒä¸­æ·»åŠ æ–‡å­—"></a>2.4 å‘å›¾åƒä¸­æ·»åŠ æ–‡å­—</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python">cv<span class="token punctuation">.</span>putText<span class="token punctuation">(</span>img<span class="token punctuation">,</span>text<span class="token punctuation">,</span>station<span class="token punctuation">,</span> font<span class="token punctuation">,</span> fontsize<span class="token punctuation">,</span>color<span class="token punctuation">,</span>thickness<span class="token punctuation">,</span>cv<span class="token punctuation">.</span>LINE_AA<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‚æ•°ï¼š</p><ul><li>img: å›¾åƒ</li><li>textï¼šè¦å†™å…¥çš„æ–‡æœ¬æ•°æ®</li><li>stationï¼šæ–‡æœ¬çš„æ”¾ç½®ä½ç½®</li><li>fontï¼šå­—ä½“</li><li>Fontsize :å­—ä½“å¤§å°</li></ul><h4 id="2-5-æ•ˆæœæ¼”ç¤º"><a href="#2-5-æ•ˆæœæ¼”ç¤º" class="headerlink" title="2.5 æ•ˆæœæ¼”ç¤º"></a>2.5 æ•ˆæœæ¼”ç¤º</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token comment"># 1 åˆ›å»ºä¸€ä¸ªç©ºç™½çš„å›¾åƒ</span>img <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">,</span><span class="token number">512</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span> np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span><span class="token comment"># 2 ç»˜åˆ¶å›¾å½¢</span>cv<span class="token punctuation">.</span>line<span class="token punctuation">(</span>img<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">511</span><span class="token punctuation">,</span><span class="token number">511</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>cv<span class="token punctuation">.</span>line<span class="token punctuation">(</span>img<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">511</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">511</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>cv<span class="token punctuation">.</span>rectangle<span class="token punctuation">(</span>img<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">384</span><span class="token punctuation">,</span><span class="token number">384</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">510</span><span class="token punctuation">,</span><span class="token number">128</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>cv<span class="token punctuation">.</span>circle<span class="token punctuation">(</span>img<span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">63</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>font <span class="token operator">=</span> cv<span class="token punctuation">.</span>FONT_HERSHEY_SIMPLEXcv<span class="token punctuation">.</span>putText<span class="token punctuation">(</span>img<span class="token punctuation">,</span><span class="token string">'OpenCV'</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">,</span> font<span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span>cv<span class="token punctuation">.</span>LINE_AA<span class="token punctuation">)</span><span class="token comment"># 3 å›¾åƒå±•ç¤º</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'åŒ¹é…ç»“æœ'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> plt<span class="token punctuation">.</span>xticks<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> plt<span class="token punctuation">.</span>yticks<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>show<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/64cc9aa678134e3c947b644b6a6aec72.png" alt="æ•ˆæœå±•ç¤º"></p><h3 id="3-è·å–å¹¶ä¿®æ”¹å›¾åƒä¸­çš„åƒç´ ç‚¹"><a href="#3-è·å–å¹¶ä¿®æ”¹å›¾åƒä¸­çš„åƒç´ ç‚¹" class="headerlink" title="3.è·å–å¹¶ä¿®æ”¹å›¾åƒä¸­çš„åƒç´ ç‚¹"></a>3.è·å–å¹¶ä¿®æ”¹å›¾åƒä¸­çš„åƒç´ ç‚¹</h3><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è¡Œå’Œåˆ—çš„åæ ‡å€¼è·å–è¯¥åƒç´ ç‚¹çš„åƒç´ å€¼ã€‚å¯¹äºBGRå›¾åƒï¼Œå®ƒè¿”å›ä¸€ä¸ªè“ï¼Œç»¿ï¼Œçº¢å€¼çš„æ•°ç»„ã€‚å¯¹äºç°åº¦å›¾åƒï¼Œä»…è¿”å›ç›¸åº”çš„å¼ºåº¦å€¼ã€‚ä½¿ç”¨ç›¸åŒçš„æ–¹æ³•å¯¹åƒç´ å€¼è¿›è¡Œä¿®æ”¹ã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cvimg <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'messi5.jpg'</span><span class="token punctuation">)</span><span class="token comment"># è·å–æŸä¸ªåƒç´ ç‚¹çš„å€¼</span>px <span class="token operator">=</span> img<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token comment"># ä»…è·å–è“è‰²é€šé“çš„å¼ºåº¦å€¼</span>blue <span class="token operator">=</span> img<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token comment"># ä¿®æ”¹æŸä¸ªä½ç½®çš„åƒç´ å€¼</span>img<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">255</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4-è·å–å›¾åƒçš„å±æ€§"><a href="#4-è·å–å›¾åƒçš„å±æ€§" class="headerlink" title="4 è·å–å›¾åƒçš„å±æ€§"></a>4 è·å–å›¾åƒçš„å±æ€§</h3><p>å›¾åƒå±æ€§åŒ…æ‹¬è¡Œæ•°ï¼Œåˆ—æ•°å’Œé€šé“æ•°ï¼Œå›¾åƒæ•°æ®ç±»å‹ï¼Œåƒç´ æ•°ç­‰ã€‚</p><table><thead><tr><th>å±æ€§</th><th>API</th></tr></thead><tbody><tr><td>å½¢çŠ¶</td><td>img.shape</td></tr><tr><td>å›¾åƒå¤§å°</td><td>img.size</td></tr><tr><td>æ•°æ®ç±»å‹</td><td>img.dtype</td></tr></tbody></table><h3 id="5-å›¾åƒé€šé“çš„æ‹†åˆ†ä¸åˆå¹¶"><a href="#5-å›¾åƒé€šé“çš„æ‹†åˆ†ä¸åˆå¹¶" class="headerlink" title="5 å›¾åƒé€šé“çš„æ‹†åˆ†ä¸åˆå¹¶"></a>5 å›¾åƒé€šé“çš„æ‹†åˆ†ä¸åˆå¹¶</h3><p>æœ‰æ—¶éœ€è¦åœ¨Bï¼ŒGï¼ŒRé€šé“å›¾åƒä¸Šå•ç‹¬å·¥ä½œã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦å°†BGRå›¾åƒåˆ†å‰²ä¸ºå•ä¸ªé€šé“ã€‚æˆ–è€…åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œå¯èƒ½éœ€è¦å°†è¿™äº›å•ç‹¬çš„é€šé“åˆå¹¶åˆ°BGRå›¾åƒã€‚ä½ å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å®Œæˆã€‚</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># é€šé“æ‹†åˆ†</span>b<span class="token punctuation">,</span>g<span class="token punctuation">,</span>r <span class="token operator">=</span> cv<span class="token punctuation">.</span>split<span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token comment"># é€šé“åˆå¹¶</span>img <span class="token operator">=</span> cv<span class="token punctuation">.</span>merge<span class="token punctuation">(</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span>g<span class="token punctuation">,</span>r<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="6-è‰²å½©ç©ºé—´çš„æ”¹å˜"><a href="#6-è‰²å½©ç©ºé—´çš„æ”¹å˜" class="headerlink" title="6 è‰²å½©ç©ºé—´çš„æ”¹å˜"></a>6 è‰²å½©ç©ºé—´çš„æ”¹å˜</h3><p>OpenCVä¸­æœ‰150å¤šç§é¢œè‰²ç©ºé—´è½¬æ¢æ–¹æ³•ã€‚æœ€å¹¿æ³›ä½¿ç”¨çš„è½¬æ¢æ–¹æ³•æœ‰ä¸¤ç§ï¼ŒBGRâ†”Grayå’ŒBGRâ†”HSVã€‚</p><p>APIï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">cv<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>input_imageï¼Œflag<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><p>å‚æ•°ï¼š</p><ul><li>input_image: è¿›è¡Œé¢œè‰²ç©ºé—´è½¬æ¢çš„å›¾åƒ</li><li>flag: è½¬æ¢ç±»å‹<ul><li>cv.COLOR_BGR2GRAY : BGRâ†”Gray</li><li>cv.COLOR_BGR2HSV: BGRâ†’HSV</li></ul></li></ul><h4 id="ä»£ç æ¼”ç¤º"><a href="#ä»£ç æ¼”ç¤º" class="headerlink" title="ä»£ç æ¼”ç¤º"></a>ä»£ç æ¼”ç¤º</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%%</span><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token comment">#%%</span>img <span class="token operator">=</span> np<span class="token punctuation">.</span>zeros<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">,</span><span class="token number">256</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>np<span class="token punctuation">.</span>uint8<span class="token punctuation">)</span><span class="token comment">#%%</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#%%</span>img<span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token comment">#%%</span>img<span class="token punctuation">.</span>shape<span class="token comment">#%%</span>img<span class="token punctuation">.</span>dtype<span class="token comment">#%%</span>img<span class="token punctuation">.</span>size<span class="token comment">#%%</span>img <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'1.jpg'</span><span class="token punctuation">)</span><span class="token comment">#%%</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#%%</span>b<span class="token punctuation">,</span>g<span class="token punctuation">,</span>r <span class="token operator">=</span> cv<span class="token punctuation">.</span>split<span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token comment">#%%</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>b<span class="token punctuation">,</span>cmap<span class="token operator">=</span>plt<span class="token punctuation">.</span>cm<span class="token punctuation">.</span>gray<span class="token punctuation">)</span><span class="token comment">#%%</span>img2 <span class="token operator">=</span> cv<span class="token punctuation">.</span>merge<span class="token punctuation">(</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span>g<span class="token punctuation">,</span>r<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#%%</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img2<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#%%</span>gray  <span class="token operator">=</span> cv<span class="token punctuation">.</span>cvtColor<span class="token punctuation">(</span>img<span class="token punctuation">,</span>cv<span class="token punctuation">.</span>COLOR_BGR2GRAY<span class="token punctuation">)</span><span class="token comment">#%%</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>gray<span class="token punctuation">,</span>cmap<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç®—æ•°æ“ä½œ"><a href="#ç®—æ•°æ“ä½œ" class="headerlink" title="ç®—æ•°æ“ä½œ"></a>ç®—æ•°æ“ä½œ</h3><h4 id="1-å›¾åƒåŠ æ³•"><a href="#1-å›¾åƒåŠ æ³•" class="headerlink" title="1.å›¾åƒåŠ æ³•"></a>1.å›¾åƒåŠ æ³•</h4><p>ä»£ç æ¼”ç¤º</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%%</span><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> cv2 <span class="token keyword">as</span> cv<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token comment">#%%</span>img <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'1.jpg'</span><span class="token punctuation">)</span><span class="token comment">#%%</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#%%</span>imggray <span class="token operator">=</span> cv<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'2.jpg'</span><span class="token punctuation">)</span><span class="token comment">#%%</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>imggray<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#%%</span>img2 <span class="token operator">=</span> cv<span class="token punctuation">.</span>add<span class="token punctuation">(</span>img<span class="token punctuation">,</span>imggray<span class="token punctuation">)</span><span class="token comment">#%%</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img2<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä¸¤ç§ç»“æœå¯¹æ¯”(Opencvæ›´å¥½ä¸€ç‚¹)</p><p><img src="https://img-blog.csdnimg.cn/1533667874f24412a2c886f858f3e7fa.png" alt="OpenCV"><img src="https://img-blog.csdnimg.cn/f026174e259d43abba3ce2c79365a703.png" alt="Numpy"></p><h4 id="2-å›¾åƒçš„æ··åˆ"><a href="#2-å›¾åƒçš„æ··åˆ" class="headerlink" title="2.å›¾åƒçš„æ··åˆ"></a>2.å›¾åƒçš„æ··åˆ</h4><p>è¿™å…¶å®ä¹Ÿæ˜¯åŠ æ³•ï¼Œä½†æ˜¯ä¸åŒçš„æ˜¯ä¸¤å¹…å›¾åƒçš„æƒé‡ä¸åŒï¼Œè¿™å°±ä¼šç»™äººä¸€ç§æ··åˆæˆ–è€…é€æ˜çš„æ„Ÿè§‰ã€‚å›¾åƒæ··åˆçš„è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š</p><blockquote><p>g(x) = (1âˆ’Î±)f0(x) + Î±f1(x)</p></blockquote><p>é€šè¿‡ä¿®æ”¹ Î± çš„å€¼ï¼ˆ0 â†’ 1ï¼‰,å®ç°ä¸åŒæƒé‡çš„å›¾åƒæ··åˆ</p><p>å‚è€ƒä»£ç </p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%%</span>img4 <span class="token operator">=</span> cv<span class="token punctuation">.</span>addWeighted<span class="token punctuation">(</span>img<span class="token punctuation">,</span><span class="token number">0.4</span><span class="token punctuation">,</span>imggray<span class="token punctuation">,</span><span class="token number">0.6</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">#%%</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img4<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/9a7b1bc9fd0d4be18ffda46ea54982b9.png" alt="å›¾åƒæ··åˆ"></p><blockquote><p>æ³¨æ„ï¼šè¿™é‡Œéƒ½è¦æ±‚ä¸¤å¹…å›¾åƒæ˜¯ç›¸åŒå¤§å°çš„ã€‚</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> å›¾åƒå¤„ç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenCV </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>centos7ç¨‹åºå¯åŠ¨å‘½ä»¤åˆé›†</title>
      <link href="/2021-12-20-centos7-cheng-xu-qi-dong-ming-ling-he-ji.html"/>
      <url>/2021-12-20-centos7-cheng-xu-qi-dong-ming-ling-he-ji.html</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">./redis-server <span class="token punctuation">..</span>/redis.conf <span class="token operator">&amp;</span>./redis-cli -a <span class="token number">123456</span> -h <span class="token number">192.168</span>.174.131./zkServer.sh start<span class="token punctuation">[</span>root@localhost sbin<span class="token punctuation">]</span><span class="token comment"># ./nginx -c /usr/java/nginx/conf/nginx.conf</span>./mysqld_safe <span class="token operator">&amp;</span><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># nohup java -jar  /usr/java/jenkins/jenkins.war >/usr/java/jenkins/jenkins.out &amp;</span><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># cat /root/.jenkins/secrets/initialAdminPassword</span>å¯†ç :6ffe5db2ab1e4110ac62a31ee93a6039fdfs_trackerd /etc/fdfs/tracker.conffdfs_storaged /etc/fdfs/storage.conf/usr/java/nginx_fdfs/sbin/nginx -c /usr/java/nginx_fdfs/conf/nginx.confnginx Windowsç‰ˆå¯åŠ¨ nginx.exe å…³é—­:nginx.exe -s stop<span class="token punctuation">[</span>root@localhost java<span class="token punctuation">]</span><span class="token comment"># rabbitmq-server start &amp;</span>systemctl start dockerdocker run -it centos /bin/bashF:<span class="token punctuation">\</span>elasticsearch<span class="token punctuation">\</span>elasticsearch-head-master<span class="token operator">></span>cnpm <span class="token function">install</span>F:<span class="token punctuation">\</span>elasticsearch<span class="token punctuation">\</span>elasticsearch-head-master<span class="token operator">></span>npm run startcanal  ./startup.shæ¸…ç†æµè§ˆå™¨ç¼“å­˜ ctrl <span class="token builtin class-name">shift</span> delä¸‹è½½æ–‡ä»¶åˆ°æ¡Œé¢ sz æ–‡ä»¶åä¸Šä¼ æ–‡ä»¶ rz -y<span class="token punctuation">(</span>è¦†ç›–<span class="token punctuation">)</span>git@github.com:1600767556/mybatis.git<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å…³é—­é˜²ç«å¢™</span>systemctl stop firewalld<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="zookeeper3-4-8"><a href="#zookeeper3-4-8" class="headerlink" title="zookeeper3.4.8"></a>zookeeper3.4.8</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> <span class="token punctuation">..</span><span class="token builtin class-name">cd</span> usr/java/zookeeper-3.4.8/bin/<span class="token comment"># å¯åŠ¨</span>./zkServer.sh start./zkCli.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/da03b1bf0060417a8fd8850e1e8dd2dd.png" alt="å¯åŠ¨å‘½ä»¤"></p><h3 id="MySQL8-0-17"><a href="#MySQL8-0-17" class="headerlink" title="MySQL8.0.17"></a>MySQL8.0.17</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> usr/java/mysql/bin/<span class="token comment"># å¯åŠ¨</span>./mysqld_safe <span class="token operator">&amp;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/c40d5874cf594c6a85babaaa58336099.png" alt="å¯åŠ¨ç»“æœ"></p><h3 id="Redis3-2-9"><a href="#Redis3-2-9" class="headerlink" title="Redis3.2.9"></a>Redis3.2.9</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> usr/java/redis-3.2.9/src/<span class="token comment"># å¯åŠ¨</span>./redis-server <span class="token punctuation">..</span>/redis.conf <span class="token operator">&amp;</span>./redis-cli -a <span class="token number">123456</span> -h <span class="token number">192.168</span>.174.131<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/b3bd6fd80b16464e932f276b6976e36b.png" alt="å¯åŠ¨ç»“æœ"></p><h3 id="nginx1-18-0"><a href="#nginx1-18-0" class="headerlink" title="nginx1.18.0"></a>nginx1.18.0</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> usr/java/nginx/sbin/<span class="token comment"># å¯åŠ¨</span>./nginx -c /usr/java/nginx/conf/nginx.conf<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/03bcb38e2cb94676ac445510c382acde.png" alt="å¯åŠ¨å‘½ä»¤"><br><img src="https://img-blog.csdnimg.cn/786015dd22054117b843f0a62c43bbe9.png" alt="å¯åŠ¨ç»“æœ"></p><h3 id="Consul1-11-4"><a href="#Consul1-11-4" class="headerlink" title="Consul1.11.4"></a>Consul1.11.4</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å¯åŠ¨</span>consul agent -dev    åªèƒ½127.0.0.1å¯ä»¥è®¿é—®consul agent -dev  -client <span class="token number">0.0</span>.0.0 -ui  æŒ‡å®šipå¯ä»¥è®¿é—®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/937e91a6b4dc49cbbd6ced1b2ddbba37.png" alt="Centos7å¯åŠ¨"></p><p><img src="https://img-blog.csdnimg.cn/fb04c57fe10a4a518bda4f336c320826.png" alt="è¿è¡Œç»“æœ"></p>]]></content>
      
      
      <categories>
          
          <category> ç³»ç»Ÿé…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> centos7 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç³»ç»Ÿé‡è£…åéœ€è¦é…ç½®çš„åœ°æ–¹</title>
      <link href="/2021-12-20-xi-tong-chong-zhuang-hou-xu-yao-pei-zhi-de-di-fang.html"/>
      <url>/2021-12-20-xi-tong-chong-zhuang-hou-xu-yao-pei-zhi-de-di-fang.html</url>
      
        <content type="html"><![CDATA[<h3 id="éœ€è¦å®‰è£…çš„è½¯ä»¶"><a href="#éœ€è¦å®‰è£…çš„è½¯ä»¶" class="headerlink" title="éœ€è¦å®‰è£…çš„è½¯ä»¶"></a>éœ€è¦å®‰è£…çš„è½¯ä»¶</h3><ul><li>google</li><li>7-zip</li><li>MySQL8.0+Navicat</li><li>pycharm</li><li>IDEAç ´è§£</li><li>office+visio</li><li>Typora</li><li>vmware16</li><li>æœç‹—è¾“å…¥æ³•</li><li>TIM</li><li>postman</li><li>æ›´æ–°<code>pip</code>åˆ°æœ€æ–°ç‰ˆæœ¬</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">python -m pip <span class="token function">install</span> --upgrade pip<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>xshellå’Œxftp</li><li>360<ul><li>ä¸ºäº†å®‰è£…xshellå’Œxftpæ‰€ç¼ºå¤±çš„dllæ–‡ä»¶</li></ul></li></ul><h3 id="éœ€è¦é…ç½®çš„ç¯å¢ƒå˜é‡"><a href="#éœ€è¦é…ç½®çš„ç¯å¢ƒå˜é‡" class="headerlink" title="éœ€è¦é…ç½®çš„ç¯å¢ƒå˜é‡"></a>éœ€è¦é…ç½®çš„ç¯å¢ƒå˜é‡</h3><ul><li>jdk</li><li>git</li><li>node</li><li>Maven</li><li>anaconda</li></ul><p><img src="https://img-blog.csdnimg.cn/34071642a9754bd7a66ac9923eb69267.png" alt="JAVA&amp;MAVEN"></p><p><img src="https://img-blog.csdnimg.cn/5e0deccd8f7a464b8a2072e62752e51f.png" alt="ç¯å¢ƒå˜é‡"></p><h3 id="éœ€è¦ç™»å½•çš„è´¦å·"><a href="#éœ€è¦ç™»å½•çš„è´¦å·" class="headerlink" title="éœ€è¦ç™»å½•çš„è´¦å·"></a>éœ€è¦ç™»å½•çš„è´¦å·</h3><ul><li>edgeç™»å½•</li><li>googleç™»å½•(ç”¨åˆ°æ’ä»¶iGG)</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç³»ç»Ÿé…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Win10 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®åˆ†æä¸‰å¤§ç±»åº“çš„åŸºæœ¬ä½¿ç”¨</title>
      <link href="/2021-11-26-shu-ju-fen-xi-san-da-lei-ku-de-ji-ben-shi-yong.html"/>
      <url>/2021-11-26-shu-ju-fen-xi-san-da-lei-ku-de-ji-ben-shi-yong.html</url>
      
        <content type="html"><![CDATA[<h3 id="numpy"><a href="#numpy" class="headerlink" title="numpy"></a>numpy</h3><h4 id="å¸¸ç”¨æ–¹æ³•"><a href="#å¸¸ç”¨æ–¹æ³•" class="headerlink" title="å¸¸ç”¨æ–¹æ³•"></a>å¸¸ç”¨æ–¹æ³•</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> pltarray <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>arr <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'q'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>img_array <span class="token operator">=</span> plt<span class="token punctuation">.</span>imread<span class="token punctuation">(</span><span class="token string">'./7.jpg'</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img_array<span class="token punctuation">)</span> <span class="token comment"># å°†numpyæ•°ç»„è¿›è¡Œå¯è§†åŒ–å±•ç¤º</span>img_arraymg <span class="token operator">=</span> img_array <span class="token operator">-</span> <span class="token number">100</span> <span class="token comment"># å°†æ¯ä¸€ä¸ªæ•°ç»„å…ƒç´ å‡100</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img_arraymg<span class="token punctuation">)</span> <span class="token comment"># å°†numpyæ•°ç»„è¿›è¡Œå¯è§†åŒ–å±•ç¤º</span>np<span class="token punctuation">.</span>ones<span class="token punctuation">(</span>shape<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>np<span class="token punctuation">.</span>linspace<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token comment"># ä¸€ç»´ç­‰å·®æ•°åˆ—æ•°ç»„</span>np<span class="token punctuation">.</span>arange<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">50</span><span class="token punctuation">,</span>step<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment"># ä¸€ç»´ç­‰å·®æ•°åˆ—</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å¸¸ç”¨å±æ€§"><a href="#å¸¸ç”¨å±æ€§" class="headerlink" title="å¸¸ç”¨å±æ€§"></a>å¸¸ç”¨å±æ€§</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>arr<span class="token punctuation">.</span>shape <span class="token comment"># æ•°ç»„å½¢çŠ¶</span>arr<span class="token punctuation">.</span>ndim <span class="token comment"># æ•°ç»„ç»´åº¦</span>arr<span class="token punctuation">.</span>size <span class="token comment"># æ•°ç»„å…ƒç´ ä¸ªæ•°</span>arr<span class="token punctuation">.</span>dtype <span class="token comment"># æ•°ç»„å…ƒç´ ç±»å‹</span><span class="token builtin">type</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token comment"># æ•°ç»„æ•°æ®ç±»å‹</span>arr <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>dtype <span class="token operator">=</span> <span class="token string">'int32'</span><span class="token punctuation">)</span>arr<span class="token punctuation">.</span>dtypearr<span class="token punctuation">.</span>dtype<span class="token operator">=</span><span class="token string">'uint8'</span>arr<span class="token punctuation">.</span>dtype<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç´¢å¼•-amp-åˆ‡ç‰‡"><a href="#ç´¢å¼•-amp-åˆ‡ç‰‡" class="headerlink" title="ç´¢å¼•&amp;åˆ‡ç‰‡"></a>ç´¢å¼•&amp;åˆ‡ç‰‡</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python">arr <span class="token operator">=</span> np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment"># arræ•°ç»„å‰ä¸¤è¡Œ</span>arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment"># arræ•°ç»„å‰ä¸¤åˆ—</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token comment"># arræ•°ç»„å‰ä¸¤è¡Œå’Œå‰ä¸¤åˆ—çš„æ•°ç»„</span>arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment"># arræ•°ç»„è¡Œå€’ç½®</span>arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment"># arræ•°ç»„åˆ—å€’ç½®</span>arr<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">#arræ•°ç»„è¡Œåˆ—å€’ç½®</span>img_array<span class="token punctuation">.</span>shape <span class="token comment"># å›¾ç‰‡è¡Œåˆ—é¢œè‰²</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img_array<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># å›¾ç‰‡å€’ç½®</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img_array<span class="token punctuation">[</span><span class="token number">200</span><span class="token punctuation">:</span><span class="token number">400</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">:</span><span class="token number">1500</span><span class="token punctuation">,</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment"># å›¾ç‰‡è£å‰ª</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="èšåˆ-amp-çŸ©é˜µ"><a href="#èšåˆ-amp-çŸ©é˜µ" class="headerlink" title="èšåˆ&amp;çŸ©é˜µ"></a>èšåˆ&amp;çŸ©é˜µ</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python">arr<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># äºŒç»´æ•°ç»„->ä¸€ç»´æ•°ç»„</span>arr<span class="token punctuation">.</span>reshape<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># ä¸€ç»´æ•°ç»„->å¤šç»´</span><span class="token comment"># çº§è”æ“ä½œ å°†å¤šä¸ªnumpyæ•°ç»„è¿›è¡Œæ¨ªå‘æˆ–çºµå‘æ‹¼æ¥</span>np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span>arr<span class="token punctuation">)</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment"># 0:åˆ—</span>np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span>arr<span class="token punctuation">)</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment"># 1:è¡Œ</span><span class="token comment"># å›¾ç‰‡æ‹¼æ¥</span>img_2 <span class="token operator">=</span> np<span class="token punctuation">.</span>concatenate<span class="token punctuation">(</span><span class="token punctuation">(</span>img_array2<span class="token punctuation">,</span>img_array2<span class="token punctuation">,</span>img_array2<span class="token punctuation">)</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>img_2<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å¸¸ç”¨èšåˆå‡½æ•° <code>sumï¼Œmaxï¼Œminï¼Œmean</code></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">arr<span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment"># ç¬¬ä¸€åˆ—çš„å’Œ</span>arr<span class="token punctuation">.</span>mean<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>å¸¸ç”¨æ•°å­¦å‡½æ•° <code>sin cos tan </code>,<code>aroundï¼ˆa,decimalsï¼‰</code> a: æ•°ç»„ decimalsï¼šèˆå…¥çš„å°æ•°ä½æ•°ï¼Œé»˜è®¤ä¸º0.å¦‚æœä¸ºè´Ÿï¼Œæ•´æ•°å°†å››èˆäº”å…¥åˆ°å°æ•°ç‚¹å·¦ä¾§ä½ç½®</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">np<span class="token punctuation">.</span>sin<span class="token punctuation">(</span>arr<span class="token punctuation">)</span>np<span class="token punctuation">.</span>around<span class="token punctuation">(</span><span class="token number">3.8</span><span class="token punctuation">)</span> <span class="token comment"># å››èˆäº”å…¥</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>å¸¸ç”¨ç»Ÿè®¡å‡½æ•°<ul><li>numpy.amin() å’Œ numpy.amax() ï¼šç”¨äºè®¡ç®—æ•°ç»„ä¸­çš„å…ƒç´ æ²¿æŒ‡å®šè½´çš„æœ€å°å€¼å’Œæœ€å¤§å€¼</li><li>numpy.ptp()ï¼š æœ€å¤§å€¼å’Œæœ€å°å€¼çš„å·®</li><li>numpy.median()ï¼š è®¡ç®—æ•°ç»„aä¸­å…ƒç´ çš„ä¸­ä½æ•°</li><li>æ ‡å‡†å·® std() ï¼šæ ‡å‡†å·®æ˜¯ä¸€ç»„æ•°æ®å¹³å‡å€¼åˆ†æ•£ç¨‹åº¦çš„ä¸€ç§åº¦é‡<ul><li>å…¬å¼ï¼šstd = sqrt(mean((x-x.mean())**2))</li></ul></li><li>æ–¹å·® var() ï¼šç»Ÿè®¡ä¸­çš„æ–¹å·®æ˜¯æ¯ä¸ªæ ·æœ¬æœ¬å€¼ä¸å¹³å‡æ•°ä¹‹å·®å¹³æ–¹å€¼çš„å¹³å‡æ•°ï¼Œå³æ ‡å‡†å·®å°±æ˜¯æ–¹å·®çš„å¹³æ–¹æ ¹</li></ul></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>std<span class="token punctuation">(</span><span class="token punctuation">)</span>arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>var<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>çŸ©é˜µ</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">a1 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>a2 <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>np<span class="token punctuation">.</span>dot<span class="token punctuation">(</span>a1<span class="token punctuation">,</span>a2<span class="token punctuation">)</span><span class="token comment"># è¿è¡Œç»“æœ</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">,</span>       <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="pandas"><a href="#pandas" class="headerlink" title="pandas"></a>pandas</h3><h4 id="Series"><a href="#Series" class="headerlink" title="Series"></a>Series</h4><ul><li><code>Series</code>æ˜¯ä¸€ç§ç±»ä¼¼äºä¸€ç»´æ•°ç»„çš„å¯¹è±¡,ç”±ä¸¤éƒ¨åˆ†ç»„æˆ<ul><li><code>values</code>:ä¸€ç»´æ•°ç»„</li><li><code>index</code>:ç›¸å…³çš„æ•°æ®ç´¢å¼•æ ‡ç­¾</li></ul></li><li><code>Series</code>çš„åˆ›å»º<ul><li>ç”±åˆ—è¡¨æˆ–<code>numpy</code>æ•°ç»„åˆ›å»º</li><li>ç”±å­—å…¸åˆ›å»º</li></ul></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%%</span><span class="token keyword">from</span> pandas <span class="token keyword">import</span> Seriess <span class="token operator">=</span> Series<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'four'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#%%</span><span class="token keyword">import</span> numpy <span class="token keyword">as</span> npSeries<span class="token punctuation">(</span>data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span>dtype<span class="token operator">=</span><span class="token string">'int64'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">#%% ç”¨æ¥æŒ‡å®šæ˜¾ç¤ºç¼©å½±</span>s <span class="token operator">=</span> Series<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'four'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>ss<span class="token punctuation">.</span>dtype<span class="token comment">#%% ä¸ºä»€ä¹ˆéœ€è¦æœ‰æ˜¾ç¤ºç´¢å¼•</span>dic <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token string">'è¯­æ–‡'</span><span class="token punctuation">:</span><span class="token number">100</span><span class="token punctuation">,</span>    <span class="token string">'æ•°å­¦'</span><span class="token punctuation">:</span><span class="token number">55</span><span class="token punctuation">,</span>    <span class="token string">'ç†ç»¼'</span><span class="token punctuation">:</span><span class="token number">333</span><span class="token punctuation">&#125;</span>s <span class="token operator">=</span> Series<span class="token punctuation">(</span>data<span class="token operator">=</span>dic<span class="token punctuation">)</span>s<span class="token comment">#%%</span>s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>s<span class="token punctuation">.</span>è¯­æ–‡s<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token comment">#%%</span>s<span class="token punctuation">.</span>shapes<span class="token punctuation">.</span>sizes<span class="token punctuation">.</span>indexs<span class="token punctuation">.</span>valuess<span class="token punctuation">.</span>dtype<span class="token comment">#%%</span>s <span class="token operator">=</span> Series<span class="token punctuation">(</span>data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>s<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment"># æ˜¾ç¤ºå‰nä¸ªæ•°æ®</span><span class="token comment">#%%</span>s<span class="token punctuation">.</span>tail<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token comment"># æ˜¾ç¤ºånä¸ªå…ƒç´ </span><span class="token comment">#%%</span>s<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#%%</span>s<span class="token punctuation">.</span>notnull<span class="token comment">#%%</span><span class="token comment"># Seriesçš„ç®—æœ¯è¿ç®—--æ³•åˆ™:ç´¢å¼•ä¸€è‡´çš„å…ƒç´ è¿›è¡Œè¿ç®—,å¦åˆ™è¡¥ç©º</span>s1  <span class="token operator">=</span> Series<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>s2  <span class="token operator">=</span> Series<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>s <span class="token operator">=</span> s1<span class="token operator">+</span>s2s<span class="token comment">#%%</span>s<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="DataFram"><a href="#DataFram" class="headerlink" title="DataFram"></a>DataFram</h4><ul><li><code>DataFrame</code>æ˜¯ä¸€ä¸ªè¡¨æ ¼å‹çš„æ•°æ®ç»“æ„,ç”±æŒ‰ä¸€å®šé¡ºåºæ’åˆ—çš„å¤šåˆ—æ•°æ®ç»„æˆ.æ—¢æœ‰è¡Œç´¢å¼•,ä¹Ÿæœ‰åˆ—ç´¢å¼•<ul><li>è¡Œç´¢å¼•:<code>index</code></li><li>åˆ—ç´¢å¼•:<code>columns</code></li><li>å€¼:<code>values</code></li></ul></li><li><code>DataFram</code>çš„åˆ›å»º<ul><li><code>ndarray</code>åˆ›å»º</li><li>å­—å…¸åˆ›å»º</li></ul></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> pandas <span class="token keyword">import</span> DataFramedf <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>df<span class="token comment">#%%</span>df <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>df<span class="token comment">#%%</span>dic <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token string">'name'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'zhangsna'</span><span class="token punctuation">,</span><span class="token string">'lisi'</span><span class="token punctuation">,</span><span class="token string">'wangwu'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string">'salary'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">8000</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span>df <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>dic<span class="token punctuation">)</span>df<span class="token comment">#%%</span>df<span class="token punctuation">.</span>valuesdf<span class="token punctuation">.</span>columnsdf<span class="token punctuation">.</span>indexdf<span class="token punctuation">.</span>shapedf<span class="token punctuation">.</span>dtypes<span class="token comment">#%%</span>dic <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token string">'å¼ ä¸‰'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string">'æå››'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span>df <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>dic<span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'è¯­æ–‡'</span><span class="token punctuation">,</span><span class="token string">'æ•°å­¦'</span><span class="token punctuation">,</span><span class="token string">'è‹±è¯­'</span><span class="token punctuation">,</span><span class="token string">'ç†ç»¼'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>df<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç´¢å¼•-amp-åˆ‡ç‰‡-1"><a href="#ç´¢å¼•-amp-åˆ‡ç‰‡-1" class="headerlink" title="ç´¢å¼•&amp;åˆ‡ç‰‡"></a>ç´¢å¼•&amp;åˆ‡ç‰‡</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%%</span><span class="token keyword">from</span> pandas <span class="token keyword">import</span> DataFramedf <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>df<span class="token comment">#%%</span>df <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>df<span class="token comment">#%%</span>dic <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token string">'name'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'zhangsna'</span><span class="token punctuation">,</span><span class="token string">'lisi'</span><span class="token punctuation">,</span><span class="token string">'wangwu'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string">'salary'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">8000</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span>df <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>dic<span class="token punctuation">)</span>df<span class="token comment">#%%</span>df<span class="token punctuation">.</span>valuesdf<span class="token punctuation">.</span>columnsdf<span class="token punctuation">.</span>indexdf<span class="token punctuation">.</span>shapedf<span class="token punctuation">.</span>dtypes<span class="token comment">#%%</span>dic <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token string">'å¼ ä¸‰'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string">'æå››'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span>df <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>dic<span class="token punctuation">,</span>index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'è¯­æ–‡'</span><span class="token punctuation">,</span><span class="token string">'æ•°å­¦'</span><span class="token punctuation">,</span><span class="token string">'è‹±è¯­'</span><span class="token punctuation">,</span><span class="token string">'ç†ç»¼'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>df<span class="token comment">#%%</span>df  <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">,</span><span class="token string">'d'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>df<span class="token comment">#%%</span><span class="token comment"># å–å•åˆ—,å¦‚æœdfæœ‰æ˜¾ç¤ºçš„ç´¢å¼•,é€šè¿‡ç´¢å¼•æœºåˆ¶å»å–è¡Œæˆ–åˆ—çš„æ—¶å€™åªèƒ½é€šè¿‡æ˜¾ç¤ºç´¢å¼•</span>df<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span><span class="token comment"># å¼ºè¡Œä½¿ç”¨ è¡Œ</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token comment">#%%</span><span class="token comment"># å–å¤šåˆ—</span>df<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token comment"># - iloc: éšå¼ç´¢å¼•å–è¡Œ</span><span class="token comment"># - loc: æ˜¾å¼ç´¢å¼•å–è¡Œ</span><span class="token comment"># å–å•è¡Œ</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token comment"># å–å¤šè¡Œ</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token comment"># 0è¡Œ3åˆ— å•ä¸ªå…ƒç´ </span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">]</span><span class="token comment"># å¤šä¸ªå…ƒç´ </span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token comment">#%%</span><span class="token comment"># åˆ‡è¡Œ</span>df<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token comment"># åˆ‡åˆ—</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="è¿ç®—"><a href="#è¿ç®—" class="headerlink" title="è¿ç®—"></a>è¿ç®—</h4><ul><li>åŒSeries</li></ul><h4 id="æ—¶é—´æ•°æ®ç±»å‹è½¬æ¢"><a href="#æ—¶é—´æ•°æ®ç±»å‹è½¬æ¢" class="headerlink" title="æ—¶é—´æ•°æ®ç±»å‹è½¬æ¢"></a>æ—¶é—´æ•°æ®ç±»å‹è½¬æ¢</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%%</span>dic <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token string">'time'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'2020-10-01'</span><span class="token punctuation">,</span><span class="token string">'2021-11-11'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string">'temp'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span>df <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>dic<span class="token punctuation">)</span>df<span class="token punctuation">[</span><span class="token string">'time'</span><span class="token punctuation">]</span><span class="token comment">#%% å°†timeåˆ—çš„æ•°æ®ç±»å‹è½¬æ¢æˆæ—¶é—´åºåˆ—ç±»å‹</span><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pddf<span class="token punctuation">[</span><span class="token string">'time'</span><span class="token punctuation">]</span> <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'time'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>dfdf<span class="token punctuation">[</span><span class="token string">'time'</span><span class="token punctuation">]</span><span class="token comment">#%% å°†timeåˆ—ä½œä¸ºæºæ•°æ®çš„è¡Œç´¢å¼•</span>df<span class="token punctuation">.</span>set_index<span class="token punctuation">(</span><span class="token string">'time'</span><span class="token punctuation">,</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>df<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ¡ˆä¾‹æ¼”ç¤º"><a href="#æ¡ˆä¾‹æ¼”ç¤º" class="headerlink" title="æ¡ˆä¾‹æ¼”ç¤º"></a>æ¡ˆä¾‹æ¼”ç¤º</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%%</span><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd<span class="token keyword">from</span> pandas <span class="token keyword">import</span> Series<span class="token punctuation">,</span>DataFrame<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> tushare <span class="token keyword">as</span> ts<span class="token comment">#%% è·å–æŸåªè‚¡ç¥¨çš„å†å²è¡Œæƒ…æ•°æ®</span>df  <span class="token operator">=</span>ts<span class="token punctuation">.</span>get_k_data<span class="token punctuation">(</span>code<span class="token operator">=</span><span class="token string">'600519'</span><span class="token punctuation">,</span>start<span class="token operator">=</span><span class="token string">'2000-01-01'</span><span class="token punctuation">)</span>df<span class="token punctuation">.</span>to_csv<span class="token punctuation">(</span><span class="token string">'./maotai.csv'</span><span class="token punctuation">)</span><span class="token comment">#%%</span>df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'./maotai.csv'</span><span class="token punctuation">)</span>df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#%% åˆ é™¤dfæŒ‡å®šåˆ—</span>df<span class="token punctuation">.</span>drop<span class="token punctuation">(</span>labels<span class="token operator">=</span><span class="token string">'Unnamed: 0'</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#%% æŸ¥çœ‹æ¯ä¸€åˆ—çš„æ•°æ®ç±»å‹</span>df<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># å°†timeåˆ—è½¬ä¸ºæ—¶é—´æ•°æ®ç±»å‹</span>df<span class="token punctuation">[</span><span class="token string">'date'</span><span class="token punctuation">]</span> <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'date'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>df<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#%% å°†dateåˆ—ä½œä¸ºæºæ•°æ®çš„è¡Œç´¢å¼•</span>df<span class="token punctuation">.</span>set_index<span class="token punctuation">(</span><span class="token string">'date'</span><span class="token punctuation">,</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#%% è¾“å‡ºè¯¥è‚¡ç¥¨æ‰€æœ‰æ”¶ç›˜æ¯”å¼€ç›˜ä¸Šæ¶¨ç™¾åˆ†ä¹‹ä¸‰ä»¥ä¸Šçš„æ—¥æœŸ</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'close'</span><span class="token punctuation">]</span><span class="token operator">-</span>df<span class="token punctuation">[</span><span class="token string">'open'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">/</span>df<span class="token punctuation">[</span><span class="token string">'open'</span><span class="token punctuation">]</span><span class="token operator">></span><span class="token number">0.06</span><span class="token punctuation">]</span><span class="token punctuation">.</span>index<span class="token comment">#%% è¾“å‡ºè¯¥è‚¡ç¥¨æ‰€æœ‰å¼€ç›˜æ¯”å‰æ—¥æ”¶ç›Šè·Œå¹…è¶…è¿‡2%çš„æ—¥æœŸ</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'open'</span><span class="token punctuation">]</span><span class="token operator">-</span>df<span class="token punctuation">[</span><span class="token string">'close'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>shift<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span>df<span class="token punctuation">[</span><span class="token string">'close'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>shift<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token number">0.02</span><span class="token comment"># å–å‡ºTrueå¯¹åº”çš„è¡Œæ•°æ®</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'open'</span><span class="token punctuation">]</span><span class="token operator">-</span>df<span class="token punctuation">[</span><span class="token string">'close'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>shift<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">/</span>df<span class="token punctuation">[</span><span class="token string">'close'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>shift<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">&lt;</span><span class="token operator">-</span><span class="token number">0.02</span><span class="token punctuation">]</span><span class="token punctuation">.</span>index<span class="token comment">#%% å–å‡ºæ¯ä¸ªæœˆçš„ç¬¬ä¸€ä¸ªäº¤æ˜“æ—¥çš„ç¬¬ä¸€è¡Œæ•°æ®</span>new_df <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'2010-01'</span><span class="token punctuation">:</span><span class="token string">'2020-02'</span><span class="token punctuation">]</span>df_monthly <span class="token operator">=</span> new_df<span class="token punctuation">.</span>resample<span class="token punctuation">(</span><span class="token string">'M'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>first<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#%% ä¹°å…¥è‚¡ç¥¨èŠ±è´¹çš„é‡‘é¢</span>cost <span class="token operator">=</span> df_monthly<span class="token punctuation">[</span><span class="token string">'open'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">100</span>cost<span class="token comment">#%% å–å‡ºè‚¡ç¥¨åˆ°æ‰‹çš„é’±</span><span class="token comment"># ç‰¹æ®Šæƒ…å†µ : 2020å¹´ä¹°å…¥çš„è‚¡ç¥¨å–ä¸å‡ºå» å¾—åˆ‡é™¤æœ€åä¸€å¹´çš„æ•°æ®</span>df_yearly <span class="token operator">=</span> new_df<span class="token punctuation">.</span>resample<span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>last<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>resv <span class="token operator">=</span> df_yearly<span class="token punctuation">[</span><span class="token string">'open'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">1200</span>resv<span class="token comment">#%% ä½¿ç”¨æ˜¨å¤©çš„æ”¶ç›˜ä»·ä½œä¸ºå‰©ä½™è‚¡ç¥¨çš„å•ä»·</span>last_month <span class="token operator">=</span> <span class="token number">200</span><span class="token operator">*</span>new_df<span class="token punctuation">[</span><span class="token string">'close'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>last_month<span class="token comment">#%% è®¡ç®—æ€»æ”¶ç›Š</span>resv<span class="token operator">+</span>last_month<span class="token operator">-</span>cost<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%% åŒå‡çº¿ç­–ç•¥åˆ¶å®š</span><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd<span class="token keyword">from</span> pandas <span class="token keyword">import</span> Series<span class="token punctuation">,</span>DataFrame<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> tushare <span class="token keyword">as</span> ts<span class="token comment">#%%</span>df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'./maotai.csv'</span><span class="token punctuation">)</span>df<span class="token comment">#%% åˆ é™¤dfæŒ‡å®šåˆ—</span>df<span class="token punctuation">.</span>drop<span class="token punctuation">(</span>labels<span class="token operator">=</span><span class="token string">'Unnamed: 0'</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>df<span class="token punctuation">[</span><span class="token string">'date'</span><span class="token punctuation">]</span> <span class="token operator">=</span> pd<span class="token punctuation">.</span>to_datetime<span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'date'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>df<span class="token punctuation">.</span>set_index<span class="token punctuation">(</span><span class="token string">'date'</span><span class="token punctuation">,</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token comment">#%% 5æ—¥å‡çº¿å’Œ30æ—¥å‡çº¿</span>ma5 <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'close'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>rolling<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>ma30 <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'close'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>rolling<span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span>ma30<span class="token comment">#%%</span><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token operator">%</span>matplotlib inlineplt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>ma5<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">:</span><span class="token number">180</span><span class="token punctuation">]</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>ma30<span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">:</span><span class="token number">180</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment">#%% åˆ†æè¾“å‡ºæ‰€æœ‰çš„é‡‘å‰æ—¥æœŸå’Œæ­»å‰æ—¥æœŸ</span>ma5 <span class="token operator">=</span> ma5<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token punctuation">]</span>ma30 <span class="token operator">=</span> ma30<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token punctuation">]</span>df <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token number">30</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token comment">#%%</span>s1 <span class="token operator">=</span> ma5<span class="token operator">&lt;</span>ma30s2 <span class="token operator">=</span> ma5<span class="token operator">></span>ma30df<span class="token comment"># df=df.reset_index()</span><span class="token comment">#%%</span>death_ex <span class="token operator">=</span> s1 <span class="token operator">&amp;</span> s2<span class="token punctuation">.</span>shift<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment"># åˆ¤å®šæ­»å‰æ¡ä»¶</span>death_date <span class="token operator">=</span> df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>death_ex<span class="token punctuation">]</span><span class="token punctuation">.</span>index <span class="token comment"># æ­»å‰å¯¹åº”è¡Œæ•°æ®æ—¶é—´</span><span class="token comment">#%%</span>golden_ex <span class="token operator">=</span> <span class="token operator">~</span><span class="token punctuation">(</span>s1 <span class="token operator">|</span> s2<span class="token punctuation">.</span>shift<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment"># åˆ¤å®šé‡‘å‰æ¡ä»¶</span>golden_date <span class="token operator">=</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>golden_ex<span class="token punctuation">]</span><span class="token punctuation">.</span>index <span class="token comment"># é‡‘å‰æ—¶é—´</span>golden_date<span class="token comment">#%%</span>s1 <span class="token operator">=</span> Series<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>index<span class="token operator">=</span>golden_date<span class="token punctuation">)</span> <span class="token comment"># 1ä½œä¸ºé‡‘å‰çš„æ ‡è¯†</span>s2 <span class="token operator">=</span> Series<span class="token punctuation">(</span>data<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>index<span class="token operator">=</span>death_date<span class="token punctuation">)</span> <span class="token comment"># 0ä½œä¸ºé‡‘å‰çš„æ ‡è¯†</span>s  <span class="token operator">=</span>s1<span class="token punctuation">.</span>append<span class="token punctuation">(</span>s2<span class="token punctuation">)</span>s <span class="token operator">=</span> s<span class="token punctuation">.</span>sort_index<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># é‡‘å‰å’Œæ­»å‰å¯¹åº”çš„æ—¶é—´</span>s <span class="token operator">=</span> s<span class="token punctuation">[</span><span class="token string">'2010'</span><span class="token punctuation">:</span><span class="token string">'2020'</span><span class="token punctuation">]</span>s<span class="token comment">#%%</span>first_money <span class="token operator">=</span> <span class="token number">100000</span> <span class="token comment"># æœ¬é‡‘ä¸å˜</span>money <span class="token operator">=</span> first_money <span class="token comment"># ä¹°å–æ“ä½œå¯å˜çš„</span>hold <span class="token operator">=</span>  <span class="token number">0</span> <span class="token comment"># æŒæœ‰è‚¡ç¥¨çš„æ•°é‡(100è‚¡=1æ‰‹)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> s<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span> <span class="token comment"># é‡‘å‰æ—¶é—´</span>        time <span class="token operator">=</span> s<span class="token punctuation">.</span>index<span class="token punctuation">[</span>i<span class="token punctuation">]</span>        p <span class="token operator">=</span> df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>time<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'open'</span><span class="token punctuation">]</span> <span class="token comment"># è‚¡ç¥¨å•ä»·</span>        hand_count <span class="token operator">=</span> money <span class="token operator">//</span> <span class="token punctuation">(</span>p<span class="token operator">*</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token comment"># æœ€å¤šä¹°å¤šå°‘æ‰‹è‚¡ç¥¨</span>        hold <span class="token operator">=</span> hand_count <span class="token operator">*</span> <span class="token number">100</span>        money <span class="token operator">-=</span><span class="token punctuation">(</span>hold<span class="token operator">*</span>p<span class="token punctuation">)</span>    <span class="token keyword">else</span><span class="token punctuation">:</span>        death_time <span class="token operator">=</span> s<span class="token punctuation">.</span>index<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token comment"># æ­»å‰æ—¶é—´</span>        p_death <span class="token operator">=</span> df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>death_time<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">'open'</span><span class="token punctuation">]</span> <span class="token comment"># å–è‚¡ç¥¨çš„å•ä»·</span>        money<span class="token operator">+=</span> <span class="token punctuation">(</span>p_death<span class="token operator">*</span>hold<span class="token punctuation">)</span> <span class="token comment"># å–å‡ºè‚¡ç¥¨çš„æ”¶å…¥</span>        hold <span class="token operator">=</span> <span class="token number">0</span><span class="token comment"># åˆ¤å®šæœ€åä¸€å¤©æ˜¯é‡‘å‰è¿˜æ˜¯æ­»å‰</span>last_monry <span class="token operator">=</span> hold<span class="token operator">*</span>df<span class="token punctuation">[</span><span class="token string">'close'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment"># å‰©ä½™è‚¡ç¥¨çš„ä»·å€¼</span><span class="token comment"># æ€»æ”¶ç›Š</span>money<span class="token operator">+</span>last_monry<span class="token operator">-</span>first_money<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åŸºäºpandasçš„æ•°æ®æ¸…æ´—"><a href="#åŸºäºpandasçš„æ•°æ®æ¸…æ´—" class="headerlink" title="åŸºäºpandasçš„æ•°æ®æ¸…æ´—"></a>åŸºäºpandasçš„æ•°æ®æ¸…æ´—</h3><ul><li>åŸå§‹æ•°æ®ä¸­å­˜åœ¨ç¼ºå¤±å€¼(ç©ºå€¼)</li><li>é‡å¤å€¼</li><li>å¼‚å¸¸å€¼</li></ul><h4 id="å¤„ç†ä¸¢å¤±æ•°æ®-ç©ºå€¼"><a href="#å¤„ç†ä¸¢å¤±æ•°æ®-ç©ºå€¼" class="headerlink" title="å¤„ç†ä¸¢å¤±æ•°æ®(ç©ºå€¼)"></a>å¤„ç†ä¸¢å¤±æ•°æ®(ç©ºå€¼)</h4><ul><li>åœ¨æ•°æ®åˆ†æä¸­éœ€è¦ä½¿ç”¨<strong>æµ®ç‚¹å‹çš„ç©º</strong>è€Œä¸æ˜¯å¯¹è±¡ç±»å‹çš„ç©º <ul><li><code>NAN</code>å¯ä»¥å‚ä¸è¿ç®—</li><li><code>None</code>ä¸å¯ä»¥å‚ä¸è¿ç®—</li></ul></li><li>åœ¨pandasä¸­é‡åˆ°Noneå½¢å¼çš„ç©ºå€¼åˆ™pandasä¼šå°†å…¶å¼ºè½¬æˆNANçš„å½¢å¼</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%% åŸºäºpandasçš„æ•°æ®æ¸…æ´—</span><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token builtin">type</span><span class="token punctuation">(</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token builtin">type</span><span class="token punctuation">(</span>np<span class="token punctuation">.</span>nan<span class="token punctuation">)</span><span class="token comment">#%%</span><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd<span class="token keyword">from</span> pandas <span class="token keyword">import</span> DataFrame<span class="token punctuation">,</span>Seriesdf <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">None</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> np<span class="token punctuation">.</span>nandf<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">None</span>df<span class="token comment">#%% æ–¹å¼ä¸€:å¯¹ç©ºå€¼è¿›è¡Œè¿‡æ»¤(åˆ é™¤ç©ºæ‰€åœ¨çš„è¡Œæ•°æ®)</span><span class="token comment"># isnull notnull any(æ£€æµ‹è¡Œæˆ–åˆ—ä¸­æ˜¯å¦æœ‰True) all</span>df<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">any</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment"># å°†ä¸Šéƒ¨çš„å¸ƒå°”å€¼ä½œä¸ºåŸæ•°æ®çš„è¡Œç´¢å¼•</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">any</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token comment"># trueå¯¹åº”çš„è¡Œæ•°æ®å°±æ˜¯å­˜åœ¨ç¼ºå¤±å€¼çš„è¡Œæ•°æ®</span>drop_index <span class="token operator">=</span> df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">.</span>isnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">any</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">.</span>index <span class="token comment"># å³å°†è¦åˆ é™¤çš„è¡Œç´¢å¼•</span>df<span class="token punctuation">.</span>drop<span class="token punctuation">(</span>labels<span class="token operator">=</span>drop_index<span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment"># å°†ç¼ºå¤±è¡Œè¿›è¡Œåˆ é™¤</span><span class="token comment">#%% all ç”¨æ¥æ£€æµ‹false æœ‰falseå°±false</span>df<span class="token punctuation">.</span>notnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">.</span>notnull<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token builtin">all</span><span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token comment">#%% æ–¹å¼äºŒ--dropna:ç›´æ¥å°†ç¼ºå¤±çš„è¡Œæˆ–åˆ—è¿›è¡Œåˆ é™¤</span>df<span class="token punctuation">.</span>dropna<span class="token punctuation">(</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">#%% å¯¹ç¼ºå¤±å€¼è¿›è¡Œè¦†ç›–</span><span class="token comment"># ä½¿ç”¨æ°´å¹³å’Œç«–ç›´æ–¹å‘çš„å‘å‰å‘åå¡«å……å»å¡«å……ç©ºå€¼</span>df<span class="token punctuation">.</span>fillna<span class="token punctuation">(</span>method<span class="token operator">=</span><span class="token string">'ffill'</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>fillna<span class="token punctuation">(</span>method<span class="token operator">=</span><span class="token string">'bfill'</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å¤„ç†é‡å¤æ•°æ®å’Œå¼‚å¸¸æ•°æ®"><a href="#å¤„ç†é‡å¤æ•°æ®å’Œå¼‚å¸¸æ•°æ®" class="headerlink" title="å¤„ç†é‡å¤æ•°æ®å’Œå¼‚å¸¸æ•°æ®"></a>å¤„ç†é‡å¤æ•°æ®å’Œå¼‚å¸¸æ•°æ®</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%% å¤„ç†é‡å¤æ•°æ®</span>df <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>df<span class="token punctuation">.</span>iloc<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">]</span>df<span class="token comment">#%%</span>df<span class="token punctuation">.</span>drop_duplicates<span class="token punctuation">(</span>keep<span class="token operator">=</span><span class="token string">'first'</span><span class="token punctuation">)</span> <span class="token comment"># keep = False last</span><span class="token comment">#%% å¤„ç†å¼‚å¸¸æ•°æ®</span>df <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>random<span class="token punctuation">(</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>df<span class="token comment"># åˆ¤å®šå¼‚å¸¸æ¡ä»¶</span>twice_std <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'C'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>std<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">2</span>df<span class="token punctuation">[</span><span class="token string">'C'</span><span class="token punctuation">]</span><span class="token operator">></span>twice_stddf<span class="token punctuation">.</span>loc<span class="token punctuation">[</span><span class="token operator">~</span><span class="token punctuation">(</span>df<span class="token punctuation">[</span><span class="token string">'C'</span><span class="token punctuation">]</span><span class="token operator">></span>twice_std<span class="token punctuation">)</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="DataFrameçš„çº§è”å’Œåˆå¹¶æ“ä½œ"><a href="#DataFrameçš„çº§è”å’Œåˆå¹¶æ“ä½œ" class="headerlink" title="DataFrameçš„çº§è”å’Œåˆå¹¶æ“ä½œ"></a>DataFrameçš„çº§è”å’Œåˆå¹¶æ“ä½œ</h3><ul><li>çº§è”(æ•°æ®æ‹¼æ¥)</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%% DataFramçš„çº§è”å’Œåˆå¹¶æ“ä½œ</span><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd<span class="token keyword">from</span> pandas <span class="token keyword">import</span> DataFrame<span class="token comment">#%%</span>df1 <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>df2 <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">,</span><span class="token string">'D'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>df1df2<span class="token comment">#%%</span>pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">(</span>df1<span class="token punctuation">,</span>df2<span class="token punctuation">)</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">#%% ä¸åŒ¹é…çº§è” å¤–è¿æ¥(outer):è¡¥NAN(é»˜è®¤æ¨¡å¼) ä¿è¯æ•°æ®çš„å®Œæ•´æ€§ å†…è¿æ¥:åªè¿æ¥åŒ¹é…çš„é¡¹</span>pd<span class="token punctuation">.</span>concat<span class="token punctuation">(</span><span class="token punctuation">(</span>df1<span class="token punctuation">,</span>df2<span class="token punctuation">)</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>join<span class="token operator">=</span><span class="token string">'inner'</span><span class="token punctuation">)</span><span class="token comment">#%%</span>df1<span class="token punctuation">.</span>append<span class="token punctuation">(</span>df2<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>åˆå¹¶(æ•°æ®åˆå¹¶)</li><li>mergeä¸concatçš„åŒºåˆ«åœ¨äº,mergeéœ€è¦ä¾æ®æŸä¸€å…±åŒåˆ—æ¥åˆå¹¶</li><li>ä½¿ç”¨pd.merge()åˆå¹¶æ—¶,ä¼šè‡ªåŠ¨æ ¹æ®ä¸¤è€…ç›¸åŒcolumnåç§°çš„é‚£ä¸€åˆ—,ä½œä¸ºkeyæ¥è¿›è¡Œåˆå¹¶</li><li>æ³¨æ„æ¯ä¸€åˆ—å…ƒç´ çš„é¡ºåºä¸è¦æ±‚ä¸€è‡´</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%% åˆå¹¶</span>df1  <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token string">'employee'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'Bob'</span><span class="token punctuation">,</span><span class="token string">'jack'</span><span class="token punctuation">,</span><span class="token string">'lisa'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                  <span class="token string">'group'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'Accounting'</span><span class="token punctuation">,</span><span class="token string">'Engineering'</span><span class="token punctuation">,</span><span class="token string">'Engineering'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>df1<span class="token comment">#%%</span>df2  <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token string">'employee'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'lisa'</span><span class="token punctuation">,</span><span class="token string">'jack'</span><span class="token punctuation">,</span><span class="token string">'Bob'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>                  <span class="token string">'hire_date'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">2018</span><span class="token punctuation">,</span><span class="token number">2020</span><span class="token punctuation">,</span><span class="token number">2021</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>df2<span class="token comment">#%%</span>pd<span class="token punctuation">.</span>merge<span class="token punctuation">(</span>df2<span class="token punctuation">,</span>df1<span class="token punctuation">,</span>on<span class="token operator">=</span><span class="token string">'employee'</span> <span class="token punctuation">)</span> <span class="token comment"># ctrl+p çœ‹å‚æ•°æŒ‰æƒ…å†µä¼ é€’</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="pandasé«˜çº§æ“ä½œ"><a href="#pandasé«˜çº§æ“ä½œ" class="headerlink" title="pandasé«˜çº§æ“ä½œ"></a>pandasé«˜çº§æ“ä½œ</h3><h4 id="æ›¿æ¢æ“ä½œ"><a href="#æ›¿æ¢æ“ä½œ" class="headerlink" title="æ›¿æ¢æ“ä½œ"></a>æ›¿æ¢æ“ä½œ</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%% æ›¿æ¢æ“ä½œ</span>df <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>df<span class="token comment">#%%</span>df<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>to_replace<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span>value<span class="token operator">=</span><span class="token string">'Two'</span><span class="token punctuation">)</span><span class="token comment">#%%</span>df<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>to_replace<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">74</span><span class="token punctuation">:</span><span class="token string">'one'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token comment">#%%</span>df<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>to_replace<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token number">3</span><span class="token punctuation">:</span><span class="token number">50</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>value<span class="token operator">=</span><span class="token string">'five ten'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ˜ å°„æ“ä½œ"><a href="#æ˜ å°„æ“ä½œ" class="headerlink" title="æ˜ å°„æ“ä½œ"></a>æ˜ å°„æ“ä½œ</h4><ul><li>åˆ›å»ºä¸€ä¸ªæ˜ å°„å…³ç³»è¡¨,æŠŠ<code>values</code>å…ƒç´ çš„å’Œä¸€ä¸ªç‰¹å®šçš„æ ‡ç­¾æˆ–è€…å­—ç¬¦ä¸²ç»‘å®š(ç»™ä¸€ä¸ªå…ƒç´ æä¾›ä¸åŒçš„è¡¨ç°å½¢å¼)</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%%</span>dic <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token string">'name'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'å¼ ä¸‰'</span><span class="token punctuation">,</span><span class="token string">'æå››'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string">'salary'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">2000</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span>df  <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>dic<span class="token punctuation">)</span>df<span class="token comment">#%%</span>dic  <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token string">'å¼ ä¸‰'</span><span class="token punctuation">:</span><span class="token string">'ssm'</span><span class="token punctuation">,</span>    <span class="token string">'æå››'</span><span class="token punctuation">:</span><span class="token string">'shaoshao'</span><span class="token punctuation">&#125;</span>df<span class="token punctuation">[</span><span class="token string">'e_name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span>dic<span class="token punctuation">)</span>df<span class="token comment">#%% è¿ç®—å·¥å…·(æ±‚ç¨åè–ªèµ„)</span><span class="token keyword">def</span> <span class="token function">salary_after</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> s <span class="token operator">-</span> <span class="token punctuation">(</span>s<span class="token operator">-</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">0.5</span>df<span class="token punctuation">[</span><span class="token string">'after_sal'</span><span class="token punctuation">]</span> <span class="token operator">=</span>  df<span class="token punctuation">[</span><span class="token string">'salary'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span>salary_after<span class="token punctuation">)</span>df<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ’åºå®ç°çš„éšæœºæŠ½æ ·"><a href="#æ’åºå®ç°çš„éšæœºæŠ½æ ·" class="headerlink" title="æ’åºå®ç°çš„éšæœºæŠ½æ ·"></a>æ’åºå®ç°çš„éšæœºæŠ½æ ·</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%% æ’åºå®ç°çš„éšæœºæŠ½æ ·</span>df  <span class="token operator">=</span>DataFrame<span class="token punctuation">(</span>data<span class="token operator">=</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span>size<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>columns<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>df<span class="token comment">#%% å°†åŸå§‹æ•°æ®æ‰“ä¹±</span>df<span class="token punctuation">.</span>take<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment"># ä¹±åºçš„éšæœºåºåˆ—</span>df<span class="token punctuation">.</span>take<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>permutation<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>take<span class="token punctuation">(</span>np<span class="token punctuation">.</span>random<span class="token punctuation">.</span>permutation<span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åˆ†ç»„èšåˆ"><a href="#åˆ†ç»„èšåˆ" class="headerlink" title="åˆ†ç»„èšåˆ"></a>åˆ†ç»„èšåˆ</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%%</span>df <span class="token operator">=</span> DataFrame<span class="token punctuation">(</span><span class="token punctuation">&#123;</span>    <span class="token string">'item'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'apple'</span><span class="token punctuation">,</span><span class="token string">'banan'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string">'price'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string">'color'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token string">'red'</span><span class="token punctuation">,</span><span class="token string">'yellow'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token string">'weight'</span><span class="token punctuation">:</span><span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">]</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>df<span class="token comment">#%% æŸ¥çœ‹è¯¦ç»†çš„åˆ†ç»„æƒ…å†µ</span>df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token string">'item'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>groups<span class="token comment">#%% è®¡ç®—æ¯ä¸€ç§æ°´æœçš„å¹³å‡ä»·æ ¼</span>df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token string">'item'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#%% å°†æ°´æœæ ¹æ®é¢œè‰²çš„å¹³å‡é‡é‡æ±‡æ€»åˆ°æºæ•°æ®</span>dic <span class="token operator">=</span> df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token string">'color'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'weight'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>mean<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>to_dict<span class="token punctuation">(</span><span class="token punctuation">)</span>df<span class="token punctuation">[</span><span class="token string">'mean_w'</span><span class="token punctuation">]</span> <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'color'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span>dic<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="é«˜çº§æ•°æ®èšåˆ-transform-apply-è‡ªå®šä¹‰"><a href="#é«˜çº§æ•°æ®èšåˆ-transform-apply-è‡ªå®šä¹‰" class="headerlink" title="é«˜çº§æ•°æ®èšåˆ(transform apply) è‡ªå®šä¹‰"></a>é«˜çº§æ•°æ®èšåˆ(transform apply) è‡ªå®šä¹‰</h4><ul><li>transform apply ä¹Ÿå¯ä¼ å…¥ä¸€ä¸ª<code>lambda</code>è¡¨è¾¾å¼</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%% é«˜çº§æ•°æ®èšåˆ(transform apply) è‡ªå®šä¹‰</span><span class="token keyword">def</span> <span class="token function">my_mean</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">:</span>    m_sum <span class="token operator">=</span> <span class="token number">0</span>    <span class="token keyword">for</span> i <span class="token keyword">in</span> s<span class="token punctuation">:</span>        m_sum <span class="token operator">+=</span> i    <span class="token keyword">return</span> m_sum <span class="token operator">/</span> <span class="token builtin">len</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token comment">#%%</span>df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token string">'item'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>transform<span class="token punctuation">(</span>my_mean<span class="token punctuation">)</span><span class="token comment">#%%</span>df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token string">'item'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'price'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">apply</span><span class="token punctuation">(</span>my_mean<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é€è§†è¡¨"><a href="#é€è§†è¡¨" class="headerlink" title="é€è§†è¡¨"></a>é€è§†è¡¨</h3><ul><li>é€è§†è¡¨æ˜¯ä¸€ç§å¯¹æ•°æ®åŠ¨æ€æ’å¸ƒå¹¶ä¸”åˆ†ç±»æ±‡æ€»çš„è¡¨æ ¼æ ¼å¼</li><li><code>pivot_table</code> å››ä¸ªé‡è¦å‚æ•°<code>index,values,columns,aggfunc</code><ul><li><code>index</code>:åˆ†ç±»æ±‡æ€»çš„åˆ†ç±»æ¡ä»¶</li><li><code>values</code>:å¯¹è®¡ç®—çš„æ•°æ®è¿›è¡Œç­›é€‰</li><li><code>aggfunc</code>:è®¾ç½®å¯¹æ•°æ®èšåˆæ—¶è¿›è¡Œçš„å‡½æ•°æ“ä½œ,é»˜è®¤<code>aggfunc = &#39;mean&#39;</code></li><li><code>columns</code>:è®¾ç½®åˆ—å±‚æ¬¡å­—æ®µ</li><li><code>fill_value</code>: None-&gt;0</li></ul></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">df<span class="token punctuation">.</span>pivot_table<span class="token punctuation">(</span>index<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'å¯¹æ‰‹'</span><span class="token punctuation">,</span><span class="token string">'ä¸»å®¢åœº'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>values<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'å¾—åˆ†'</span><span class="token punctuation">,</span><span class="token string">'è®¡åˆ†æ¿'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>aggfunc<span class="token operator">=</span><span class="token string">'sum'</span><span class="token punctuation">,</span>columns<span class="token operator">=</span><span class="token string">'å¯¹æ‰‹'</span><span class="token punctuation">,</span>fill_value<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="äº¤å‰è¡¨"><a href="#äº¤å‰è¡¨" class="headerlink" title="äº¤å‰è¡¨"></a>äº¤å‰è¡¨</h3><ul><li>è®¡ç®—åˆ†ç»„çš„ç‰¹æ®Šé€è§†å›¾,å¯¹æ•°æ®è¿›è¡Œæ±‡æ€»</li><li>`pd.corsstab(index,columns)<ul><li><code>index</code>:åˆ†ç»„æ•°æ®,äº¤å‰è¡¨çš„è¡Œç´¢å¼•</li><li><code>columns</code>:äº¤å‰è¡¨çš„åˆ—ç´¢å¼•</li></ul></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">pd<span class="token punctuation">.</span>crosstab<span class="token punctuation">(</span>df<span class="token punctuation">.</span>smoke<span class="token punctuation">,</span>df<span class="token punctuation">.</span>sex<span class="token punctuation">)</span> <span class="token comment"># age sex è¡¨ä¸­çš„ç´¢å¼•</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="2012ç¾å›½å¤§é€‰çŒ®é‡‘æ•°æ®åˆ†æ"><a href="#2012ç¾å›½å¤§é€‰çŒ®é‡‘æ•°æ®åˆ†æ" class="headerlink" title="2012ç¾å›½å¤§é€‰çŒ®é‡‘æ•°æ®åˆ†æ"></a>2012ç¾å›½å¤§é€‰çŒ®é‡‘æ•°æ®åˆ†æ</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%%</span><span class="token comment"># å¯¼å…¥åŒ…</span><span class="token keyword">import</span> pandas <span class="token keyword">as</span> pd<span class="token comment">#%%</span><span class="token comment"># è¯»å–æ•°æ®</span>df <span class="token operator">=</span> pd<span class="token punctuation">.</span>read_csv<span class="token punctuation">(</span><span class="token string">'./data/2012_Federal_Election_Commission_Database.csv'</span><span class="token punctuation">)</span>df<span class="token comment">#%%</span><span class="token comment"># å¯¹æ–°æ•°æ®è¿›è¡Œçºµè§ˆ,æŸ¥çœ‹æ˜¯å¦å­˜åœ¨ç¼ºå¤±æ•°æ®</span>df<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#%%</span><span class="token comment"># ç”¨ç»Ÿè®¡å­¦æŒ‡æ ‡å¿«é€Ÿæè¿°å±æ€§çš„æ‘˜è¦</span>df<span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#%%</span><span class="token comment"># ç©ºå€¼å¤„ç† -> å°†å…¶å¡«å……ä¸ºNOT PROVIDE</span>df<span class="token punctuation">.</span>fillna<span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">'NOT PROVIDE'</span><span class="token punctuation">,</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>df<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#%%</span><span class="token comment"># å¼‚å¸¸å€¼å¤„ç† å°†æèµ é‡‘é¢&lt;=0çš„æ•°æ®åˆ é™¤</span>df<span class="token punctuation">[</span><span class="token string">'contb_receipt_amt'</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">0</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">'contb_receipt_amt'</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">]</span>drop_index <span class="token operator">=</span> df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">'contb_receipt_amt'</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>indexdf<span class="token punctuation">.</span>drop<span class="token punctuation">(</span>labels<span class="token operator">=</span>drop_index<span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token comment">#df.info()</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">'contb_receipt_amt'</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token comment">#%%</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">'contb_receipt_amt'</span><span class="token punctuation">]</span><span class="token operator">&lt;=</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token comment">#%%</span><span class="token comment"># å¼‚å¸¸å€¼å¤„ç† å°†æèµ é‡‘é¢&lt;=0çš„æ•°æ®åˆ é™¤</span>df<span class="token punctuation">[</span><span class="token string">'contb_receipt_amt'</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">0</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">'contb_receipt_amt'</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span><span class="token number">0</span> <span class="token punctuation">]</span>drop_index <span class="token operator">=</span> df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">'contb_receipt_amt'</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span><span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>indexdf<span class="token punctuation">.</span>drop<span class="token punctuation">(</span>labels<span class="token operator">=</span>drop_index<span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">#%%</span><span class="token comment"># ç”¨ç»Ÿè®¡å­¦æŒ‡æ ‡å¿«é€Ÿæè¿°å±æ€§çš„æ‘˜è¦</span>df<span class="token punctuation">.</span>describe<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#%%</span><span class="token comment"># ç©ºå€¼å¤„ç† -> å°†å…¶å¡«å……ä¸ºNOT PROVIDE</span>df<span class="token punctuation">.</span>fillna<span class="token punctuation">(</span>value<span class="token operator">=</span><span class="token string">'NOT PROVIDE'</span><span class="token punctuation">,</span>inplace<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span>df<span class="token punctuation">.</span>info<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#%%</span><span class="token comment"># å¼‚å¸¸å€¼å¤„ç† å°†æèµ é‡‘é¢&lt;=0çš„æ•°æ®åˆ é™¤</span>df<span class="token punctuation">[</span><span class="token string">'contb_receipt_amt'</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span> <span class="token number">0</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">'contb_receipt_amt'</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span><span class="token number">0</span> <span class="token punctuation">]</span>drop_index <span class="token operator">=</span> df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">'contb_receipt_amt'</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span><span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>indexdf<span class="token punctuation">.</span>drop<span class="token punctuation">(</span>labels<span class="token operator">=</span>drop_index<span class="token punctuation">,</span>axis<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token comment">#%%</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">'contb_receipt_amt'</span><span class="token punctuation">]</span> <span class="token operator">&lt;=</span><span class="token number">0</span> <span class="token punctuation">]</span><span class="token comment">#%%</span><span class="token comment">#é€šè¿‡æœç´¢å¼•æ“ç­‰é€”å¾„ï¼Œè·å–åˆ°æ¯ä¸ªæ€»ç»Ÿå€™é€‰äººçš„æ‰€å±å…šæ´¾ï¼Œå»ºç«‹å­—å…¸partiesï¼Œå€™é€‰äººåå­—ä½œä¸ºé”®ï¼Œæ‰€å±å…šæ´¾ä½œä¸ºå¯¹åº”çš„å€¼</span>parties <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'Bachmann, Michelle'</span><span class="token punctuation">:</span> <span class="token string">'Republican'</span><span class="token punctuation">,</span>           <span class="token string">'Cain, Herman'</span><span class="token punctuation">:</span> <span class="token string">'Republican'</span><span class="token punctuation">,</span>           <span class="token string">'Gingrich, Newt'</span><span class="token punctuation">:</span> <span class="token string">'Republican'</span><span class="token punctuation">,</span>           <span class="token string">'Huntsman, Jon'</span><span class="token punctuation">:</span> <span class="token string">'Republican'</span><span class="token punctuation">,</span>           <span class="token string">'Johnson, Gary Earl'</span><span class="token punctuation">:</span> <span class="token string">'Republican'</span><span class="token punctuation">,</span>           <span class="token string">'McCotter, Thaddeus G'</span><span class="token punctuation">:</span> <span class="token string">'Republican'</span><span class="token punctuation">,</span>           <span class="token string">'Obama, Barack'</span><span class="token punctuation">:</span> <span class="token string">'Democrat'</span><span class="token punctuation">,</span>           <span class="token string">'Paul, Ron'</span><span class="token punctuation">:</span> <span class="token string">'Republican'</span><span class="token punctuation">,</span>           <span class="token string">'Pawlenty, Timothy'</span><span class="token punctuation">:</span> <span class="token string">'Republican'</span><span class="token punctuation">,</span>           <span class="token string">'Perry, Rick'</span><span class="token punctuation">:</span> <span class="token string">'Republican'</span><span class="token punctuation">,</span>           <span class="token string">"Roemer, Charles E. 'Buddy' III"</span><span class="token punctuation">:</span> <span class="token string">'Republican'</span><span class="token punctuation">,</span>           <span class="token string">'Romney, Mitt'</span><span class="token punctuation">:</span> <span class="token string">'Republican'</span><span class="token punctuation">,</span>           <span class="token string">'Santorum, Rick'</span><span class="token punctuation">:</span> <span class="token string">'Republican'</span><span class="token punctuation">&#125;</span><span class="token comment"># æ–°å»ºä¸€åˆ—ä¸ºå„ä¸ªå€™é€‰äººæ‰€åœ¨å…šæ´¾çš„party</span>df<span class="token punctuation">[</span><span class="token string">'party'</span><span class="token punctuation">]</span>  <span class="token operator">=</span>df<span class="token punctuation">[</span><span class="token string">'cand_nm'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span>parties<span class="token punctuation">)</span><span class="token comment">#%%</span>df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#%%</span><span class="token comment"># æŸ¥çœ‹partyè¿™ä¸€åˆ—æœ‰å“ªäº›ä¸åŒçš„å…ƒç´ </span>df<span class="token punctuation">[</span><span class="token string">'party'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>unique<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#%%</span>df<span class="token punctuation">[</span><span class="token string">'party'</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value_counts<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#%%</span><span class="token comment"># æŸ¥çœ‹å„å…šæ´¾æ”¶åˆ°çš„æ”¿æ²»ç°é‡‘æ€»æ•°contb_receipt_amt</span>df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token string">'party'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'contb_receipt_amt'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#%%</span><span class="token comment"># æŸ¥çœ‹æ¯å¤©å„ä¸ªå…šæ´¾æ”¶åˆ°çš„æ”¿æ²»çŒ®é‡‘æ€»æ•°contb_receipt_amt</span>df<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'contb_receipt_dt'</span><span class="token punctuation">,</span><span class="token string">'party'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'contb_receipt_amt'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#%%</span>months <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token string">'JAN'</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token string">'FEB'</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'MAR'</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token string">'APR'</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token string">'MAY'</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">'JUN'</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token string">'JUL'</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token string">'AUG'</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token string">'SEP'</span><span class="token punctuation">:</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token string">'OCT'</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">'NOV'</span><span class="token punctuation">:</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token string">'DEC'</span><span class="token punctuation">:</span><span class="token number">12</span><span class="token punctuation">&#125;</span><span class="token comment">#%%</span><span class="token comment"># å°†è¡¨ä¸­çš„æ—¥æœŸæ”¹ä¸º'yyyy-mm-dd'</span><span class="token keyword">def</span> <span class="token function">transformDate</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">:</span>    day<span class="token punctuation">,</span>month<span class="token punctuation">,</span>year <span class="token operator">=</span> d<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span>    month <span class="token operator">=</span> months<span class="token punctuation">[</span>month<span class="token punctuation">]</span>    <span class="token keyword">return</span> <span class="token string">'20'</span><span class="token operator">+</span>year<span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span><span class="token builtin">str</span><span class="token punctuation">(</span>month<span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'-'</span><span class="token operator">+</span>daydf<span class="token punctuation">[</span><span class="token string">'contb_receipt_dt'</span><span class="token punctuation">]</span>  <span class="token operator">=</span> df<span class="token punctuation">[</span><span class="token string">'contb_receipt_dt'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span>transformDate<span class="token punctuation">)</span><span class="token comment">#%%</span>df<span class="token punctuation">.</span>head<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">#%%</span><span class="token comment"># æŸ¥çœ‹è€å…µ(æçŒ®è€…çš„èŒä¸š) DISABLED VETERAN ä¸»è¦æ”¯æŒè° æé’±æœ€å¤š</span>df<span class="token punctuation">[</span><span class="token string">'contbr_occupation'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'DISABLED VETERAN'</span>df_old <span class="token operator">=</span> df<span class="token punctuation">.</span>loc<span class="token punctuation">[</span>df<span class="token punctuation">[</span><span class="token string">'contbr_occupation'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'DISABLED VETERAN'</span><span class="token punctuation">]</span><span class="token comment"># æ ¹æ®å€™é€‰äººç»„åˆ†,å¯¹æèµ é‡‘é¢æ±‚å’Œ</span>df_old<span class="token punctuation">.</span>groupby<span class="token punctuation">(</span>by<span class="token operator">=</span><span class="token string">'cand_nm'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'contb_receipt_amt'</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token builtin">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="matplotlibç»˜å›¾"><a href="#matplotlibç»˜å›¾" class="headerlink" title="matplotlibç»˜å›¾"></a>matplotlibç»˜å›¾</h3><h4 id="çº¿å½¢å›¾"><a href="#çº¿å½¢å›¾" class="headerlink" title="çº¿å½¢å›¾"></a>çº¿å½¢å›¾</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%%  matplotlib ç»˜å›¾</span><span class="token keyword">import</span> matplotlib<span class="token punctuation">.</span>pyplot <span class="token keyword">as</span> plt<span class="token keyword">import</span> numpy <span class="token keyword">as</span> np<span class="token comment">#%% ç»˜åˆ¶çº¿å½¢å›¾</span>x <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span>y <span class="token operator">=</span> x <span class="token operator">+</span> <span class="token number">3</span>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token comment">#%%</span>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>x<span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">,</span>y<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token comment">#%% è®¾ç½®ç»˜åˆ¶åæ ‡çš„æ¯”ä¾‹</span>plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span>figsize<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token comment">#%% è®¾ç½®å›¾ä¾‹</span>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'x,y'</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>y<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'x+1,y-2'</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># param : ncol=2</span><span class="token comment">#%% è®¾ç½®è½´çš„æ ‡è¯†</span>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>plt<span class="token punctuation">.</span>xlabel<span class="token punctuation">(</span><span class="token string">'temp'</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>ylabel<span class="token punctuation">(</span><span class="token string">'dist'</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>title<span class="token punctuation">(</span><span class="token string">'dist and temp'</span><span class="token punctuation">)</span><span class="token comment">#%% å›¾ä¾‹ä¿å­˜</span>fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>label<span class="token operator">=</span><span class="token string">'x,y'</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>legend<span class="token punctuation">(</span><span class="token punctuation">)</span>fig<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span><span class="token string">'123.png'</span><span class="token punctuation">)</span><span class="token comment">#%% å…¶ä»–æ ·å¼é£æ ¼</span>plt<span class="token punctuation">.</span>plot<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">,</span>c<span class="token operator">=</span><span class="token string">'red'</span><span class="token punctuation">,</span>alpha<span class="token operator">=</span><span class="token number">0.5</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æŸ±çŠ¶å›¾"><a href="#æŸ±çŠ¶å›¾" class="headerlink" title="æŸ±çŠ¶å›¾"></a>æŸ±çŠ¶å›¾</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%%</span><span class="token comment"># æŸ±çŠ¶å›¾</span>plt<span class="token punctuation">.</span>bar<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span>plt<span class="token punctuation">.</span>barh<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç›´æ–¹å›¾"><a href="#ç›´æ–¹å›¾" class="headerlink" title="ç›´æ–¹å›¾"></a>ç›´æ–¹å›¾</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%%</span><span class="token comment"># ç›´æ–¹å›¾</span>data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>plt<span class="token punctuation">.</span>hist<span class="token punctuation">(</span>data<span class="token punctuation">,</span>bins<span class="token operator">=</span><span class="token number">20</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="é¥¼å›¾"><a href="#é¥¼å›¾" class="headerlink" title="é¥¼å›¾"></a>é¥¼å›¾</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%%</span><span class="token comment"># é¥¼å›¾ labeldistance è·åœ†å¿ƒçš„è·ç¦»  autopct æ‰€å çš„æ¯”ä¾‹</span>arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>plt<span class="token punctuation">.</span>pie<span class="token punctuation">(</span>arr<span class="token punctuation">,</span>labels<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>labeldistance<span class="token operator">=</span><span class="token number">0.3</span><span class="token punctuation">,</span>shadow<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">,</span>explode<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0.2</span><span class="token punctuation">,</span><span class="token number">0.3</span><span class="token punctuation">,</span><span class="token number">0.5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>autopct<span class="token operator">=</span><span class="token string">'%0.6f%%'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ•£ç‚¹å›¾"><a href="#æ•£ç‚¹å›¾" class="headerlink" title="æ•£ç‚¹å›¾"></a>æ•£ç‚¹å›¾</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#%%</span><span class="token comment"># æ•£ç‚¹å›¾</span>x <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">)</span>y <span class="token operator">=</span> x<span class="token operator">**</span><span class="token number">2</span><span class="token operator">+</span><span class="token number">2</span>plt<span class="token punctuation">.</span>scatter<span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åˆ†æ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jupyteråŸºæœ¬æ“ä½œ</title>
      <link href="/2021-11-26-jupyter-ji-ben-cao-zuo.html"/>
      <url>/2021-11-26-jupyter-ji-ben-cao-zuo.html</url>
      
        <content type="html"><![CDATA[<h3 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><ul><li>å¯åŠ¨: åœ¨ç»ˆç«¯ä¸­å½•å…¥<code>jupyter notebook</code>,å›è½¦å³å¯</li><li>å¿«æ·é”®:<ul><li>æ·»åŠ <code>cell</code>:<code>a</code>æˆ–è€…<code>b</code></li><li>åˆ é™¤:<code>x</code></li><li>ä¿®æ”¹<code>cell</code>æ¨¡å¼:<ul><li>m:<code>Markdown</code>æ¨¡å¼</li><li>y :<code>code</code>æ¨¡å¼</li></ul></li><li>æ‰§è¡Œ<code>cell</code>: <code>shift+enter</code></li><li><code>tab</code>: è‡ªåŠ¨è¡¥å…¨</li><li>æ‰“å¼€å¸®åŠ©æ–‡æ¡£:<code>shift+tab</code></li></ul></li><li>åœ¨ideaä¸­ä½¿ç”¨ jupyter<ul><li><code>pip install jupyter notebook</code></li><li>ctrl + enter : è¿è¡Œcell</li><li>shift + enter : æ–°å»ºcell</li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç³»ç»Ÿé…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> pycharm </tag>
            
            <tag> jupyter </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Githubæœç´¢è¯­æ³•</title>
      <link href="/2021-11-25-github-sou-suo-yu-fa.html"/>
      <url>/2021-11-25-github-sou-suo-yu-fa.html</url>
      
        <content type="html"><![CDATA[<p> å¯ä»¥ä½¿â½¤<a href="https://github.com/">æœç´¢</a>é¡µé¢æˆ–<a href="https://github.com/search">é«˜çº§æœç´¢</a>é¡µé¢æ¥æœç´¢GitHub </p><table><thead><tr><th>Query</th><th>Examples</th></tr></thead><tbody><tr><td>&gt;n</td><td>cats stars:&gt;100 åŒ¹é…å…³é”®å­—â€œcatsâ€ä¸”starså¤§äº100çš„ä»“åº“</td></tr><tr><td>&lt;n</td><td>cats stars:&gt;100 åŒ¹é…å…³é”®å­—â€œcatsâ€ä¸”starså°äº100çš„ä»“åº“</td></tr><tr><td>&gt;=n</td><td>cats stars:&gt;=100 åŒ¹é…å…³é”®å­—â€œcatsâ€ä¸”starså¤§äºç­‰äº100çš„ä»“åº“</td></tr><tr><td>&lt;=n</td><td>cats stars:&lt;=100 åŒ¹é…å…³é”®å­—â€œcatsâ€ä¸”starså°äºç­‰äº100çš„ä»“åº“</td></tr><tr><td>n..*</td><td>cats stars:100..* åŒ¹é…å…³é”®å­—â€œcatsâ€ä¸”starså¤§äºç­‰äº100çš„ä»“åº“</td></tr><tr><td>*..n</td><td>cats stars:*..100 åŒ¹é…å…³é”®å­—â€œcatsâ€ä¸”starså°äºç­‰äº100çš„ä»“åº“</td></tr><tr><td>n..n</td><td>cats stars:10..50 åŒ¹é…å…³é”®å­—â€œcatsâ€ä¸”starså¤§äº10å°äº50çš„ä»“åº“</td></tr></tbody></table><h3 id="æœç´¢ä»£ç "><a href="#æœç´¢ä»£ç " class="headerlink" title="æœç´¢ä»£ç "></a>æœç´¢ä»£ç </h3><h4 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h4><ul><li> åªèƒ½æœç´¢â¼©äº384 KBçš„â½‚ä»¶ã€‚</li><li> åªèƒ½æœç´¢å°‘äº500,000ä¸ªâ½‚ä»¶çš„å­˜å‚¨åº“ã€‚</li><li> ç™»å½•çš„â½¤æˆ·å¯ä»¥æœç´¢æ‰€æœ‰å…¬å…±å­˜å‚¨åº“ ã€‚</li><li>é™¤<code>filename</code>æœç´¢å¤–ï¼Œæœç´¢æºä»£ç æ—¶ï¼Œå¿…é¡»åŒ…å«ä¸€ä¸ªæœç´¢è¯ã€‚ä¾‹å¦‚ï¼šæœç´¢<code>language:java</code>æ— æ•ˆï¼Œè€Œæ˜¯è¿™æ ·ï¼š<code>amazing language:java</code></li><li> æœç´¢ç»“æœæœ€å¤šå¯ä»¥æ˜¾ç¤ºæ¥â¾ƒåŒâ¼€â½‚ä»¶çš„ä¸¤ä¸ªâ½šæ®µï¼Œä½†â½‚ä»¶ä¸­å¯èƒ½ä¼šæœ‰æ›´å¤šç»“æœã€‚  </li><li> ä¸èƒ½å°†ä»¥ä¸‹é€šé…ç¬¦ç”¨ä½œæœç´¢æŸ¥è¯¢çš„ä¸€éƒ¨åˆ†<code>. , : ; / \  &#39; &quot; = * ! ? # $ &amp; + ^ | ~ &lt; &gt; ( ) &#123; &#125; [ ]</code>,æœç´¢å°†å¿½ç•¥è¿™äº›ç¬¦å·ã€‚</li></ul><h4 id="æ—¥æœŸæ¡ä»¶"><a href="#æ—¥æœŸæ¡ä»¶" class="headerlink" title="æ—¥æœŸæ¡ä»¶"></a>æ—¥æœŸæ¡ä»¶</h4><p><code>cats pushed:&lt;2012-07-05</code> æœç´¢åœ¨2012å¹´07â½‰05â½‡å‰pushä»£ç ï¼Œä¸”catsä½œä¸ºå…³é”®å­—</p><p><code>cats pushed:2016-04-30..2016-07-04</code>â½‡æœŸåŒºé—´</p><p><code>cats created:&gt;=2017-04-01</code>åˆ›å»ºæ—¶é—´</p><h4 id="é€»è¾‘è¿ç®—"><a href="#é€»è¾‘è¿ç®—" class="headerlink" title="é€»è¾‘è¿ç®—"></a>é€»è¾‘è¿ç®—</h4><p>ANDã€ORã€NOT</p><h4 id="æ’é™¤è¿ç®—"><a href="#æ’é™¤è¿ç®—" class="headerlink" title="æ’é™¤è¿ç®—"></a>æ’é™¤è¿ç®—</h4><p><code>cats pushed:&lt;2012-07-05 -language:java </code>æœç´¢åœ¨2012å¹´07â½‰05â½‡å‰pushä»£ç ï¼Œä¸”catsä½œä¸ºå…³é”®å­—ï¼Œæ’é™¤ <code>java </code>è¯­â¾”ä»“åº“ã€‚</p><h4 id="åŒ…å«æœç´¢"><a href="#åŒ…å«æœç´¢" class="headerlink" title="åŒ…å«æœç´¢"></a>åŒ…å«æœç´¢</h4><p><code>cats in:file</code> æœç´¢â½‚ä»¶ä¸­åŒ…å«catsçš„ä»£ç </p><p><code>cats in:path</code> æœç´¢è·¯å¾„ä¸­åŒ…å«catsçš„ä»£ç </p><p><code>cats in:path,file </code>æœç´¢è·¯å¾„ã€â½‚ä»¶ä¸­åŒ…å«catsçš„ä»£ç </p><p><code>console path:app/public language:javascript</code> æœç´¢å…³é”®å­—<code>console</code>ï¼Œä¸”è¯­â¾”ä¸ºjavascriptï¼Œåœ¨app/publicä¸‹çš„ä»£ç </p><h4 id="ä¸»ä½“æœç´¢"><a href="#ä¸»ä½“æœç´¢" class="headerlink" title="ä¸»ä½“æœç´¢"></a>ä¸»ä½“æœç´¢</h4><p><code>user:USERNAME</code> â½¤æˆ·åæœç´¢</p><p><code>org: ORGNAME</code> ç»„ç»‡æœç´¢</p><p><code>repo:USERNAME/REPOSITORY</code> æŒ‡å®šä»“åº“æœç´¢</p><h4 id="æ–‡ä»¶å¤§å°"><a href="#æ–‡ä»¶å¤§å°" class="headerlink" title="æ–‡ä»¶å¤§å°"></a>æ–‡ä»¶å¤§å°</h4><p><code>size&gt;10000</code>æœç´¢å¤§å°å¤§äº1kbçš„æ–‡ä»¶</p><h4 id="æ–‡ä»¶åç§°"><a href="#æ–‡ä»¶åç§°" class="headerlink" title="æ–‡ä»¶åç§°"></a>æ–‡ä»¶åç§°</h4><p><code>filename:config.php language:php</code> æœç´¢æ–‡ä»¶åä¸ºconfig.php,ä¸”è¯­è¨€ä¸ºphpçš„ä»£ç </p><h4 id="æ‰©å±•å"><a href="#æ‰©å±•å" class="headerlink" title="æ‰©å±•å"></a>æ‰©å±•å</h4><p><code>extension:EXTENSION </code><strong>æŒ‡å®šæ‰©å±•å</strong></p><h3 id="å¸¸è§ç”¨æ³•ç¤ºä¾‹"><a href="#å¸¸è§ç”¨æ³•ç¤ºä¾‹" class="headerlink" title="å¸¸è§ç”¨æ³•ç¤ºä¾‹"></a>å¸¸è§ç”¨æ³•ç¤ºä¾‹</h3><p><code> in:name mini-app</code> #ä»“åº“æ ‡é¢˜æœç´¢å«æœ‰å…³é”®å­—â€mini-appâ€</p><p><code> in:descripton web</code> #ä»“åº“æè¿°æœç´¢å«æœ‰å…³é”®å­—â€webâ€ </p><p><code>in:readme node #README</code>æ–‡ä»¶æœç´ å«æœ‰å…³é”®å­—â€nodeâ€ </p><p>`org:github`` #åŒ¹é…githubåä¸‹çš„ä»“åº“</p><p><code> stars:&gt;3000</code> #starsæ•°é‡å¤§äº3000çš„æœç´¢ä»“åº“</p><p><code> stars:1000..3000</code> #starsæ•°é‡å¤§äº1000å°äº3000çš„ä»“åº“</p><p><code> forks:&gt;1000</code> #forksæ•°é‡å¤§äº1000çš„æœç´¢å…³é”®å­—</p><p><code>forks:1000..3000</code>#forksæ•°é‡å¤§äº1000å°äº3000çš„æœç´¢ä»“åº“</p><p><code> size:&gt;=5000</code> #æŒ‡å®šä»“åº“å¤§äº5000k(5M)çš„æœç´¢ä»“åº“</p><p><code> pushed:&gt;2019-02-12</code> #å‘å¸ƒæ—¶é—´å¤§äº2019-02-12çš„ä»“åº“</p><p><code> created:&gt;2019-02-12</code> #åˆ›å»ºæ—¶é—´å¤§äº2019-02-12çš„ä»“åº“</p><p><code> mirror:true(false)</code> #æ˜¯å¦æ˜¯é•œåƒä»“åº“ archived:true(false) #æ˜¯å¦æ˜¯åºŸå¼ƒçš„ä»“åº“</p><p><code> user:jack</code> #ç”¨æˆ·åä¸ºâ€jackâ€çš„ä»“åº“</p><p><code> license:apache-2.0</code> #ä»“åº“çš„ LICENSEä¸ºâ€apache-2.0â€</p><p><code> language:java</code> #ä½¿ç”¨â€javaâ€è¯­è¨€çš„ä»“åº“</p><p><code> user:jack in:name web</code> #ç»„åˆæœç´¢,ç”¨æˆ·åä¸ºâ€jackâ€,ä¸”æ ‡é¢˜å«æœ‰â€webâ€çš„</p><p><code> topic:jekyll</code> #åŒ¹é…topicä¸­å«æœ‰å…³é”®å­—â€jekyllâ€çš„ä»“åº“</p><p><code> topic:5</code> #åŒ¹é…æ‹¥æœ‰5ä¸ªtopicçš„ä»“åº“</p><p><code> topic:&gt;3</code> #åŒ¹é…æ‹¥æœ‰3ä¸ªä»¥ä¸Štopicçš„ä»“åº“</p><p><code> is:public</code> #å…¬å¼€çš„ä»“åº“</p><p><code> is:private</code> #åŒ¹é…æœ‰æƒé™çš„ç§æœ‰ä»“åº“ </p><hr><p>æ¡ˆä¾‹æ¼”ç¤ºï¼š</p><p><code>in:name spring cloud stars:&gt;3000 pushed:&gt;2021-10-01</code></p><p><code>in:description æ¤ç‰©å¤§æˆ˜åƒµå°¸ stars:&gt;100 languageï¼šjava</code></p><p><code>in:readme æ¤ç‰©å¤§æˆ˜åƒµå°¸ stars:&gt;100 created:&gt;2019</code></p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonä¸€äº›ç±»åº“çš„åŸºæœ¬æ“ä½œ</title>
      <link href="/2021-11-24-python-yi-xie-lei-ku-de-ji-ben-cao-zuo.html"/>
      <url>/2021-11-24-python-yi-xie-lei-ku-de-ji-ben-cao-zuo.html</url>
      
        <content type="html"><![CDATA[<h3 id="Xwlt"><a href="#Xwlt" class="headerlink" title="Xwlt"></a>Xwlt</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> xlwtworkbook <span class="token operator">=</span> xlwt<span class="token punctuation">.</span>Workbook<span class="token punctuation">(</span>encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>worksheet <span class="token operator">=</span> workbook<span class="token punctuation">.</span>add_sheet<span class="token punctuation">(</span><span class="token string">'sheet1'</span><span class="token punctuation">)</span>worksheet<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'hello'</span><span class="token punctuation">)</span>workbook<span class="token punctuation">.</span>save<span class="token punctuation">(</span><span class="token string">'student.xls'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Sqlite"><a href="#Sqlite" class="headerlink" title="Sqlite"></a>Sqlite</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> sqlite3conn <span class="token operator">=</span> sqlite3<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token string">'test.db'</span><span class="token punctuation">)</span>c <span class="token operator">=</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>sql <span class="token operator">=</span> <span class="token triple-quoted-string string">'''    insert into company (id,name,age,address,salary)    values (1,'å¼ ä¸‰',22,'å±±è¥¿',8000)'''</span>sql <span class="token operator">=</span> <span class="token triple-quoted-string string">'''    select * from company'''</span>cursor <span class="token operator">=</span> c<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token keyword">for</span> row <span class="token keyword">in</span> cursor<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'id='</span><span class="token punctuation">,</span>row<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'name='</span><span class="token punctuation">,</span>row<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'age='</span><span class="token punctuation">,</span>row<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'address='</span><span class="token punctuation">,</span>row<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># conn.commit()</span>conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æˆåŠŸ"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="Flask"><a href="#Flask" class="headerlink" title="Flask"></a>Flask</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token punctuation">,</span>render_template<span class="token keyword">import</span> timeapp <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">hello_world</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token string">'Hello world!'</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/1/'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">hello_world2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    a <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment"># å­—å…¸,åˆ—è¡¨ç­‰å…¶ä»–ç±»å‹ä¹Ÿå¯</span>    <span class="token keyword">return</span> render_template<span class="token punctuation">(</span><span class="token string">'index.html'</span><span class="token punctuation">,</span>var <span class="token operator">=</span> a<span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/welcome/&lt;name>'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">welcome</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token string">'Hello %s'</span> <span class="token operator">%</span> name<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/welcome/&lt;int:id>'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">welcome2</span><span class="token punctuation">(</span><span class="token builtin">id</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token string">'Hello id: %d'</span> <span class="token operator">%</span> <span class="token builtin">id</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    app<span class="token punctuation">.</span>run<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="WordCloud"><a href="#WordCloud" class="headerlink" title="WordCloud"></a>WordCloud</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> jieba  <span class="token comment"># åˆ†è¯</span><span class="token keyword">from</span> matplotlib <span class="token keyword">import</span> pyplot <span class="token keyword">as</span> plt  <span class="token comment"># ç»˜å›¾å¯è§†åŒ–</span><span class="token keyword">from</span> wordcloud <span class="token keyword">import</span> WordCloud  <span class="token comment"># è¯äº‘</span><span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image  <span class="token comment"># å›¾ç‰‡å¤„ç†</span><span class="token keyword">import</span> numpy <span class="token keyword">as</span> np  <span class="token comment"># çŸ©é˜µè¿ç®—</span><span class="token keyword">import</span> sqlite3  <span class="token comment"># æ•°æ®åº“</span>conn <span class="token operator">=</span> sqlite3<span class="token punctuation">.</span>connect<span class="token punctuation">(</span><span class="token string">'test.db'</span><span class="token punctuation">)</span>cur <span class="token operator">=</span> conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>sql <span class="token operator">=</span> <span class="token string">'select name,address from company'</span>data <span class="token operator">=</span> cur<span class="token punctuation">.</span>execute<span class="token punctuation">(</span>sql<span class="token punctuation">)</span>text <span class="token operator">=</span> <span class="token string">''</span><span class="token keyword">for</span> item <span class="token keyword">in</span> data<span class="token punctuation">:</span>    text <span class="token operator">=</span> text <span class="token operator">+</span> item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>cur<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>cut <span class="token operator">=</span> jieba<span class="token punctuation">.</span>cut<span class="token punctuation">(</span>text<span class="token punctuation">)</span>string <span class="token operator">=</span> <span class="token string">' '</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>cut<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">len</span><span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token punctuation">)</span>img <span class="token operator">=</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'639cad061d950a7b7700d56c07d162d9f3d3c9f2.jpg'</span><span class="token punctuation">)</span>img_array <span class="token operator">=</span> np<span class="token punctuation">.</span>array<span class="token punctuation">(</span>img<span class="token punctuation">)</span>  <span class="token comment"># å›¾ç‰‡->æ•°ç»„</span>wc <span class="token operator">=</span> WordCloud<span class="token punctuation">(</span>background_color<span class="token operator">=</span><span class="token string">'white'</span><span class="token punctuation">,</span>               mask<span class="token operator">=</span>img_array<span class="token punctuation">,</span>               font_path<span class="token operator">=</span><span class="token string">'CENTURY.TTF'</span><span class="token punctuation">)</span>wc<span class="token punctuation">.</span>generate_from_text<span class="token punctuation">(</span>string<span class="token punctuation">)</span><span class="token comment"># ç»˜åˆ¶å›¾ç‰‡</span>fig <span class="token operator">=</span> plt<span class="token punctuation">.</span>figure<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>plt<span class="token punctuation">.</span>imshow<span class="token punctuation">(</span>wc<span class="token punctuation">)</span>plt<span class="token punctuation">.</span>axis<span class="token punctuation">(</span><span class="token string">'off'</span><span class="token punctuation">)</span> <span class="token comment">#æ˜¯å¦æ˜¾ç¤ºåæ ‡è½´</span><span class="token comment"># plt.show()</span>plt<span class="token punctuation">.</span>savefig<span class="token punctuation">(</span><span class="token string">'word.jpg'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonçˆ¬è™«ä¹‹åˆ†å¸ƒå¼çˆ¬è™«</title>
      <link href="/2021-11-24-python-pa-chong-zhi-fen-bu-shi-pa-chong.html"/>
      <url>/2021-11-24-python-pa-chong-zhi-fen-bu-shi-pa-chong.html</url>
      
        <content type="html"><![CDATA[<ul><li>æ­å»ºåˆ†å¸ƒå¼æœºç¾¤,è®©å…¶å¯¹ä¸€ç»„èµ„æºè¿›è¡Œåˆ†å¸ƒå¼è”åˆçˆ¬å–</li><li>æå‡çˆ¬å–æ•ˆç‡</li><li>å®ç°åˆ†å¸ƒå¼:<ul><li>pip install scrapy-redis</li></ul></li><li>scrapy-redis ç»„ä»¶çš„ä½œç”¨:<ul><li>ç»™åŸç”Ÿçš„scrapyæ¡†æ¶æä¾›å¯ä»¥è¢«å…±äº«çš„ç®¡é“å’Œè°ƒåº¦å™¨</li></ul></li></ul><hr><h3 id="åˆ†å¸ƒå¼çˆ¬è™«"><a href="#åˆ†å¸ƒå¼çˆ¬è™«" class="headerlink" title="åˆ†å¸ƒå¼çˆ¬è™«"></a>åˆ†å¸ƒå¼çˆ¬è™«</h3><p>å®ç°æ­¥éª¤:</p><ul><li><p><code>scrapy startproject firstdemo</code></p></li><li><p><code>scrapy genspider -t crawl xxx [www.xxx.com</code>](<a href="http://www.xxx.com/">http://www.xxx.com/</a>)</p></li><li><p>ä¿®æ”¹å½“å‰çˆ¬è™«æ–‡ä»¶</p><ul><li>å¯¼åŒ… : <code>from scrapy_redis.spiders import RedisCrawlSpider</code></li><li>å°†<code>start_urls</code>å’Œ<code>allowed_domains</code>è¿›è¡Œæ³¨é‡Š </li><li>æ·»åŠ æ–°å±æ€§: <code>redis_key = &#39;sun&#39; </code>å¯ä»¥è¢«å…±äº«çš„è°ƒåº¦å™¨çš„åç§°</li><li>ç¼–å†™æ•°æ®è§£æç›¸å…³æ“ä½œ</li><li>å°†å½“å‰çˆ¬è™«ç±»çš„çˆ¶ç±»ä¿®æ”¹æˆ<code>RedisCrawlSpider</code></li></ul></li><li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶<code>settings</code></p></li><li><p>æŒ‡å®šä½¿ç”¨å¯ä»¥è¢«å…±äº«çš„ç®¡é“</p><ul><li><code>ITEM_PIPELINES = &#123;    &#39;scrapy_redis.pipelines.RedisPipeline&#39;: 400&#125;</code></li></ul></li><li><p>æŒ‡å®šè°ƒåº¦å™¨</p><ul><li>å¢åŠ ä¸€ä¸ªå»é‡å®¹å™¨ç±»çš„é…ç½®,ä½¿ç”¨<code>redis</code>çš„<code>set</code>é›†åˆæ¥å­˜å‚¨è¯·æ±‚çš„æŒ‡çº¹æ•°æ®,ä»è€Œå®ç°è¯·æ±‚å»é‡çš„æŒä¹…åŒ– <code>DUPEFILTER_CLASS = &#39;scrapy_redis.dupefilter.RFPDupeFilter&#39;</code></li><li>ä½¿ç”¨<code>scrapy_redis</code>ç»„ä»¶ è‡ªå·±çš„è°ƒåº¦å™¨<code> SCHEDULER = &#39;scrapy_redis.scheduler.Scheduler&#39;</code></li><li>é…ç½®è°ƒåº¦å™¨æ˜¯å¦è¦æŒä¹…åŒ–,ä¹Ÿå°±æ˜¯å½“çˆ¬è™«ç»“æŸ,æ˜¯å¦è¦æ¸…ç©º<code>Redis</code>ä¸­è¯·æ±‚é˜Ÿåˆ—å’Œå»é‡æŒ‡çº¹<code>set</code>(äººè¯:çˆ¬è™«ä¸€èˆ¬æœºå™¨å®•æœºäº†,é‡å¯åæ˜¯å¦ç»§ç»­çˆ¬è™«è¿˜æ˜¯ä»0å¼€å§‹) <code>SCHEDULER_PERSIST = True</code></li></ul></li><li><p>æŒ‡å®š<code>redis</code>æœåŠ¡å™¨</p><ul><li><code>REDIS_HOST = &#39;127.0.0.1&#39;</code></li><li><code>REDIS_PORT = 6379</code></li></ul></li><li><p><code>redis</code>ç›¸å…³æ“ä½œé…ç½®</p><ul><li><p>linuxæˆ–mac:</p><ul><li><code>redis.conf</code></li></ul></li><li><p>windows:<code>redis.windows.conf</code></p><ul><li>å°†<code>bind 127.0.0.1</code> åˆ é™¤</li><li>å…³é—­ä¿æŠ¤æ¨¡å¼ <code>protected-mode yes</code> æ”¹ä¸º <code>no</code></li></ul></li><li><p>ç»“åˆé…ç½®æ–‡ä»¶å¼€å¯redisæœåŠ¡</p><ul><li><code>redis-server redis.windows.conf</code></li></ul></li><li><p>å¯åŠ¨å®¢æˆ·ç«¯</p><ul><li><code>redis-cli</code></li></ul></li></ul></li><li><p>æ‰§è¡Œå·¥ç¨‹</p><ul><li><code>scrapy runspider xxx.py</code></li><li>å‘è°ƒåº¦å™¨é˜Ÿåˆ—(redis)ä¸­æ”¾å…¥ä¸€ä¸ªèµ·å§‹url<ul><li><code>lpush xxx www.xx.com</code></li></ul></li><li>æŸ¥çœ‹é˜Ÿåˆ—ä¸­æ‰€æœ‰çš„å†…å®¹å’Œæ•°é‡:<ul><li><code>lrange xx:items 0 -1</code></li><li><code>llen xx:items</code></li></ul></li></ul></li><li><p>æœ€ç»ˆçˆ¬å–åˆ°çš„æ•°æ®å­˜å‚¨åœ¨äº†<code>redis</code>çš„<code>proName:items</code>è¿™ä¸ªæ•°æ®ç»“æ„ä¸­</p></li></ul><hr><p>ä»£ç å®ç°</p><p><code>sun2.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> scrapy<span class="token punctuation">.</span>linkextractors <span class="token keyword">import</span> LinkExtractor<span class="token keyword">from</span> scrapy<span class="token punctuation">.</span>spiders <span class="token keyword">import</span> CrawlSpider<span class="token punctuation">,</span> Rule<span class="token keyword">from</span> scrapy_redis<span class="token punctuation">.</span>spiders <span class="token keyword">import</span> RedisCrawlSpider<span class="token keyword">from</span> sun2Pro<span class="token punctuation">.</span>items <span class="token keyword">import</span> Sun2ProItem<span class="token keyword">class</span> <span class="token class-name">Sun2Spider</span><span class="token punctuation">(</span>RedisCrawlSpider<span class="token punctuation">)</span><span class="token punctuation">:</span>    name <span class="token operator">=</span> <span class="token string">'sun2'</span>    redis_key <span class="token operator">=</span> <span class="token string">'sun'</span>    rules <span class="token operator">=</span> <span class="token punctuation">(</span>        Rule<span class="token punctuation">(</span>LinkExtractor<span class="token punctuation">(</span>allow<span class="token operator">=</span><span class="token string">r'id=2&amp;page=\d+'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> callback<span class="token operator">=</span><span class="token string">'parse_item'</span><span class="token punctuation">,</span> follow<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">parse_item</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>        li_list <span class="token operator">=</span> response<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'/html/body/div[2]/div[3]/ul[2]/li'</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> li <span class="token keyword">in</span> li_list<span class="token punctuation">:</span>            new_num <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./span[1]/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>            new_title <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./span[3]/a/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>            item <span class="token operator">=</span> Sun2ProItem<span class="token punctuation">(</span><span class="token punctuation">)</span>            item<span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">]</span> <span class="token operator">=</span> new_title            item<span class="token punctuation">[</span><span class="token string">'new_num'</span><span class="token punctuation">]</span> <span class="token operator">=</span> new_num            <span class="token keyword">yield</span> item<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>items</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> scrapy<span class="token keyword">class</span> <span class="token class-name">Sun2ProItem</span><span class="token punctuation">(</span>scrapy<span class="token punctuation">.</span>Item<span class="token punctuation">)</span><span class="token punctuation">:</span>    title <span class="token operator">=</span> scrapy<span class="token punctuation">.</span>Field<span class="token punctuation">(</span><span class="token punctuation">)</span>    new_num <span class="token operator">=</span> scrapy<span class="token punctuation">.</span>Field<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>settings</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python">DOWNLOAD_DELAY <span class="token operator">=</span> <span class="token number">3</span><span class="token comment"># æŒ‡å®šç®¡é“</span>ITEM_PIPELINES <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token string">'scrapy_redis.pipelines.RedisPipeline'</span><span class="token punctuation">:</span> <span class="token number">400</span><span class="token punctuation">&#125;</span><span class="token comment"># æŒ‡å®šè°ƒåº¦å™¨</span><span class="token comment"># å¢åŠ ä¸€ä¸ªå»é‡å®¹å™¨ç±»çš„é…ç½®,ä½¿ç”¨redisçš„seté›†åˆæ¥å­˜å‚¨è¯·æ±‚çš„æŒ‡çº¹æ•°æ®,ä»è€Œå®ç°è¯·æ±‚å»é‡çš„æŒä¹…åŒ–</span>DUPEFILTER_CLASS <span class="token operator">=</span> <span class="token string">'scrapy_redis.dupefilter.RFPDupeFilter'</span><span class="token comment"># ä½¿ç”¨scrapy_redisç»„ä»¶ è‡ªå·±çš„è°ƒåº¦å™¨</span>SCHEDULER <span class="token operator">=</span> <span class="token string">'scrapy_redis.scheduler.Scheduler'</span><span class="token comment"># é…ç½®è°ƒåº¦å™¨æ˜¯å¦è¦æŒä¹…åŒ–,ä¹Ÿå°±æ˜¯å½“çˆ¬è™«ç»“æŸ,æ˜¯å¦è¦æ¸…ç©ºRedisä¸­è¯·æ±‚é˜Ÿåˆ—å’Œå»é‡æŒ‡çº¹set(äººè¯:çˆ¬è™«ä¸€èˆ¬æœºå™¨å®•æœºäº†,é‡å¯åæ˜¯å¦ç»§ç»­çˆ¬è™«è¿˜æ˜¯ä»0å¼€å§‹)</span>SCHEDULER_PERSIST <span class="token operator">=</span> <span class="token boolean">True</span><span class="token comment"># æŒ‡å®šredis</span>REDIS_HOST <span class="token operator">=</span> <span class="token string">'127.0.0.1'</span>REDIS_PORT <span class="token operator">=</span> <span class="token number">6379</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¢é‡å¼çˆ¬è™«"><a href="#å¢é‡å¼çˆ¬è™«" class="headerlink" title="å¢é‡å¼çˆ¬è™«"></a>å¢é‡å¼çˆ¬è™«</h3><ul><li>ç›‘æµ‹ç½‘ç«™æ•°æ®æ›´æ–°æƒ…å†µ,åªä¼šçˆ¬å–ç½‘ç«™æœ€æ–°å‡ºæ¥çš„æ•°æ®</li><li><strong>æ ¸å¿ƒ</strong>:ç›‘æµ‹é¡µé¢urlä¹‹å‰æ˜¯å¦è¯·æ±‚è¿‡<ul><li>å°†çˆ¬å–è¿‡çš„urlå­˜å‚¨åˆ°<code>redis</code>çš„<code>set</code>æ•°æ®ç»“æ„ä¸­</li></ul></li><li>æŸ¥çœ‹æ‰€æœ‰çš„ <code>urls</code> : <code>semebers urls</code></li></ul><hr><p>æ¡ˆä¾‹æ¼”ç¤º</p><p><code>movie.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> scrapy<span class="token keyword">from</span> scrapy<span class="token punctuation">.</span>linkextractors <span class="token keyword">import</span> LinkExtractor<span class="token keyword">from</span> scrapy<span class="token punctuation">.</span>spiders <span class="token keyword">import</span> CrawlSpider<span class="token punctuation">,</span> Rule<span class="token keyword">from</span> redis <span class="token keyword">import</span> Redis<span class="token keyword">from</span> moviePro<span class="token punctuation">.</span>items <span class="token keyword">import</span> MovieproItem<span class="token keyword">class</span> <span class="token class-name">MovieSpider</span><span class="token punctuation">(</span>CrawlSpider<span class="token punctuation">)</span><span class="token punctuation">:</span>    name <span class="token operator">=</span> <span class="token string">'movie'</span>    start_urls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'http://www.male37.live/index.php/vod/type/id/2/page/2.html'</span><span class="token punctuation">]</span>    rules <span class="token operator">=</span> <span class="token punctuation">(</span>        <span class="token comment"># Rule(LinkExtractor(allow=r'/id/3/page/\d+/\.html'), callback='parse_item', follow=True),</span>        Rule<span class="token punctuation">(</span>LinkExtractor<span class="token punctuation">(</span>allow<span class="token operator">=</span><span class="token string">r'id/\d+/page/\d+\.html'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> callback<span class="token operator">=</span><span class="token string">'parse_item'</span><span class="token punctuation">,</span> follow<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    <span class="token punctuation">)</span>    conn <span class="token operator">=</span> Redis<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">6379</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">parse_item</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>        li_list <span class="token operator">=</span> response<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'/html/body/div[1]/div/div[1]/div/div/div[2]/ul/li'</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> li <span class="token keyword">in</span> li_list<span class="token punctuation">:</span>            detail_url <span class="token operator">=</span> <span class="token string">'http://www.male37.live'</span> <span class="token operator">+</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./div/a/@href'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>            ex <span class="token operator">=</span> self<span class="token punctuation">.</span>conn<span class="token punctuation">.</span>sadd<span class="token punctuation">(</span><span class="token string">'urls'</span><span class="token punctuation">,</span> detail_url<span class="token punctuation">)</span>            <span class="token keyword">if</span> ex <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'è¯¥urlæ²¡æœ‰è¢«çˆ¬å–è¿‡,å¯ä»¥è¿›è¡Œæ•°æ®çˆ¬å–!'</span><span class="token punctuation">)</span>                <span class="token keyword">yield</span> scrapy<span class="token punctuation">.</span>Request<span class="token punctuation">(</span>url<span class="token operator">=</span>detail_url<span class="token punctuation">,</span> callback<span class="token operator">=</span>self<span class="token punctuation">.</span>parse_detail<span class="token punctuation">)</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æ•°æ®è¿˜æ²¡æ›´æ–°,æš‚æ— æ–°æ•°æ®å¯çˆ¬å–!'</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">parse_detail</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>        item <span class="token operator">=</span> MovieproItem<span class="token punctuation">(</span><span class="token punctuation">)</span>        item<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> response<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span>            <span class="token string">'/html/body/div[1]/div/div[1]/div[1]/div/div/div/div[2]/h1/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'--------------'</span><span class="token punctuation">)</span>        item<span class="token punctuation">[</span><span class="token string">'desc'</span><span class="token punctuation">]</span> <span class="token operator">=</span> response<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span>            <span class="token string">'/html/body/div[1]/div/div[1]/div[1]/div/div/div/div[2]/p[5]/span[2]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>        item<span class="token punctuation">[</span><span class="token string">'desc'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token string">'desc'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">yield</span> item<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>items.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> scrapy<span class="token keyword">class</span> <span class="token class-name">MovieproItem</span><span class="token punctuation">(</span>scrapy<span class="token punctuation">.</span>Item<span class="token punctuation">)</span><span class="token punctuation">:</span>    name <span class="token operator">=</span> scrapy<span class="token punctuation">.</span>Field<span class="token punctuation">(</span><span class="token punctuation">)</span>    desc <span class="token operator">=</span> scrapy<span class="token punctuation">.</span>Field<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>pipelines.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MovieproPipeline</span><span class="token punctuation">:</span>    conn <span class="token operator">=</span> <span class="token boolean">None</span>    <span class="token keyword">def</span> <span class="token function">open_spider</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> spider<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>conn <span class="token operator">=</span> spider<span class="token punctuation">.</span>conn    <span class="token keyword">def</span> <span class="token function">process_item</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">,</span> spider<span class="token punctuation">)</span><span class="token punctuation">:</span>        dic <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token string">'name'</span><span class="token punctuation">:</span> item<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>            <span class="token string">'desc'</span><span class="token punctuation">:</span> item<span class="token punctuation">[</span><span class="token string">'desc'</span><span class="token punctuation">]</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>dic<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>conn<span class="token punctuation">.</span>lpush<span class="token punctuation">(</span><span class="token string">'movieData'</span><span class="token punctuation">,</span> dic<span class="token punctuation">)</span>        <span class="token keyword">return</span> item<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>settings</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python">REDIS_HOST <span class="token operator">=</span> <span class="token string">'127.0.0.1'</span>REDIS_PORT <span class="token operator">=</span> <span class="token number">6379</span>ITEM_PIPELINES <span class="token operator">=</span> <span class="token punctuation">&#123;</span>   <span class="token string">'moviePro.pipelines.MovieproPipeline'</span><span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> çˆ¬è™« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonçˆ¬è™«ä¹‹scrapyæ¡†æ¶å­¦ä¹ </title>
      <link href="/2021-11-20-scrapy-kuang-jia-xue-xi.html"/>
      <url>/2021-11-20-scrapy-kuang-jia-xue-xi.html</url>
      
        <content type="html"><![CDATA[<h3 id="scrapyå®‰è£…æ­¥éª¤"><a href="#scrapyå®‰è£…æ­¥éª¤" class="headerlink" title="scrapyå®‰è£…æ­¥éª¤"></a>scrapyå®‰è£…æ­¥éª¤</h3><ul><li>pip install wheel</li><li>ä¸‹è½½twisted : åœ°å€:<a href="https://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted">https://www.lfd.uci.edu/~gohlke/pythonlibs/#twisted</a> (é€‰æ‹©å¯¹åº”çš„ç‰ˆæœ¬)</li><li>å®‰è£…twisted : pip install aiohttp-3.8.1-cp38-cp38-win_amd64.whl</li><li>pip install pywin32</li><li>pip install scrapy</li><li>æµ‹è¯•ç»ˆç«¯è¾“å…¥: scrapy</li><li>åˆ›å»ºå·¥ç¨‹ ç»ˆç«¯è¾“å…¥: scrapy startproject firstdemo</li><li>åœ¨sprdersç›®å½• ç»ˆç«¯è¾“å…¥:scrapy genspider first <a href="http://www.xxx.com/">www.xxx.com</a></li><li>æ‰§è¡Œå·¥ç¨‹ : scrapy crawl first (spiderName)  â€“nolong  (ä¸è¾“å‡ºæ—¥å¿—)</li><li>ROBOTSTXT_OBEY = False</li><li>é…ç½®æ–‡ä»¶<code>settings.py</code>ä¸­åŠ ä¸Š LOG_ERROR = â€˜ERRORâ€™</li><li>USER_AGENT: â€˜Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36â€™</li></ul><h3 id="scrapyæŒä¹…åŒ–å­˜å‚¨"><a href="#scrapyæŒä¹…åŒ–å­˜å‚¨" class="headerlink" title="scrapyæŒä¹…åŒ–å­˜å‚¨"></a>scrapyæŒä¹…åŒ–å­˜å‚¨</h3><h4 id="åŸºäºç»ˆç«¯æŒ‡ä»¤"><a href="#åŸºäºç»ˆç«¯æŒ‡ä»¤" class="headerlink" title="åŸºäºç»ˆç«¯æŒ‡ä»¤"></a>åŸºäºç»ˆç«¯æŒ‡ä»¤</h4><ul><li>æŒä¹…åŒ–å­˜å‚¨å¯¹åº”çš„ç»ˆç«¯æŒ‡ä»¤åªèƒ½ä¸ºï¼š(â€˜jsonâ€™, â€˜jsonlinesâ€™, â€˜jlâ€™, â€˜csvâ€™, â€˜xmlâ€™, â€˜marshalâ€™, â€˜pickleâ€™)</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> scrapy<span class="token keyword">class</span> <span class="token class-name">FirstSpider</span><span class="token punctuation">(</span>scrapy<span class="token punctuation">.</span>Spider<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># çˆ¬è™«æ–‡ä»¶åç§°</span>    name <span class="token operator">=</span> <span class="token string">'qiubai'</span>    <span class="token comment"># å…è®¸çš„åŸŸå</span>    <span class="token comment"># allowed_domains = ['www.xxx.com']</span>    <span class="token comment"># èµ·å§‹urlåˆ—è¡¨:å­˜æ”¾çš„urlä¼šè¢«scrapyè‡ªåŠ¨è¿›è¡Œè¯·æ±‚çš„å‘é€</span>    start_urls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'https://www.qiushibaike.com/text/'</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">parse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>        all_data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        div_list <span class="token operator">=</span> response<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//div[@class="col1 old-style-col1"]/div'</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> div <span class="token keyword">in</span> div_list<span class="token punctuation">:</span>            <span class="token comment"># extract: å°†Selectorå¯¹è±¡ä¸­dataå‚æ•°å­˜å‚¨çš„å­—ç¬¦ä¸²æå–å‡ºæ¥</span>            <span class="token comment"># author = div.xpath('./div[1]/a[2]/h2/text()')[0].extract() ä½œç”¨ä¸€æ · å¿…é¡»æ˜¯ä¸€ä¸ªåˆ—å…ƒç´ </span>            author <span class="token operator">=</span> div<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./div[1]/a[2]/h2/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>            content <span class="token operator">=</span> div<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./a[1]/div/span//text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract<span class="token punctuation">(</span><span class="token punctuation">)</span>            content <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>content<span class="token punctuation">)</span>            dic <span class="token operator">=</span> <span class="token punctuation">&#123;</span>                <span class="token string">'author'</span><span class="token punctuation">:</span> author<span class="token punctuation">,</span>                <span class="token string">'content'</span><span class="token punctuation">:</span> content            <span class="token punctuation">&#125;</span>            all_data<span class="token punctuation">.</span>append<span class="token punctuation">(</span>dic<span class="token punctuation">)</span>            <span class="token keyword">break</span>        <span class="token keyword">return</span> all_data<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åŸºäºç®¡é“"><a href="#åŸºäºç®¡é“" class="headerlink" title="åŸºäºç®¡é“"></a>åŸºäºç®¡é“</h4><ul><li>ç¼–ç æµç¨‹<ul><li>æ•°æ®è§£æ</li><li>åœ¨<code>item</code>ç±»ä¸­å®šä¹‰ç›¸å…³çš„å±æ€§</li><li>å°†è§£æçš„æ•°æ®å°è£…åˆ°<code>item</code>ç±»å‹çš„å¯¹è±¡</li><li>åœ¨<code>item</code>ç±»å‹çš„å¯¹è±¡æäº¤ç»™ç®¡é“è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨çš„æ“ä½œ</li><li>åœ¨ç®¡é“ç±»çš„<code>process_item</code>ä¸­è¦å°†å…¶å—åˆ°çš„<code>item</code>å¯¹è±¡å­˜å‚¨çš„æ•°æ®è¿›è¡ŒæŒä¹…åŒ–å­˜å‚¨æ“ä½œ</li><li>åœ¨é…ç½®æ–‡ä»¶ä¸­å¼€å¯ç®¡é“</li></ul></li><li><font color="red">ç®¡é“æ–‡ä»¶ä¸­ä¸€ä¸ªç®¡é“ç±»å¯¹åº”ä¸€ç»„æ•°æ®å­˜å‚¨åˆ°ä¸€ä¸ªå¹³å°æˆ–è€…è½½ä½“ä¸­</font></li><li><font color="red">çˆ¬è™«æ–‡ä»¶æäº¤çš„itemåªä¼šç»™ç®¡é“æ–‡ä»¶ä¸­ç¬¬ä¸€ä¸ªè¢«æ‰§è¡Œçš„ç®¡é“ç±»æ¥å—</font></li><li><font color="red">process_itemä¸­çš„return itemè¡¨ç¤ºå°†itemä¼ é€’ç»™ä¸‹ä¸€ä¸ªå³å°†è¢«æ‰§è¡Œçš„ç®¡é“ç±»</font></li></ul><p><code>qiubai.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">parse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>    div_list <span class="token operator">=</span> response<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//div[@class="col1 old-style-col1"]/div'</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> div <span class="token keyword">in</span> div_list<span class="token punctuation">:</span>        <span class="token comment"># extract: å°†Selectorå¯¹è±¡ä¸­dataå‚æ•°å­˜å‚¨çš„å­—ç¬¦ä¸²æå–å‡ºæ¥</span>        author <span class="token operator">=</span> div<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./div[1]/a[2]/h2/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>        content <span class="token operator">=</span> div<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./a[1]/div/span//text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract<span class="token punctuation">(</span><span class="token punctuation">)</span>        content <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>content<span class="token punctuation">)</span>        item <span class="token operator">=</span> QiubaiproItem<span class="token punctuation">(</span><span class="token punctuation">)</span>        item<span class="token punctuation">[</span><span class="token string">'author'</span><span class="token punctuation">]</span> <span class="token operator">=</span> author        item<span class="token punctuation">[</span><span class="token string">'content'</span><span class="token punctuation">]</span> <span class="token operator">=</span> content        <span class="token keyword">yield</span> item  <span class="token comment"># å°†itemæäº¤ç»™ç®¡é“</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>pipelines.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å­˜å‚¨åˆ°æœ¬åœ°</span><span class="token keyword">class</span> <span class="token class-name">QiubaiproPipeline</span><span class="token punctuation">:</span>    fp <span class="token operator">=</span> <span class="token boolean">None</span>    <span class="token comment"># é‡å†™çˆ¶ç±»çš„æ–¹æ³•,è¯¥æ–¹æ³•åªåœ¨çˆ¬è™«æ—¶è°ƒç”¨ä¸€æ¬¡</span>    <span class="token keyword">def</span> <span class="token function">open_spider</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> spider<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>fp <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./qiubai.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>    <span class="token comment"># æ¥å—çˆ¬è™«è¿‡æ¥çš„itemå¯¹è±¡,å¤„ç†itemç±»å‹çš„å¯¹è±¡,æ¯æ¥æ”¶ä¸€ä¸ªitemå¯¹è±¡è°ƒç”¨ä¸€æ¬¡</span>    <span class="token keyword">def</span> <span class="token function">process_item</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">,</span> spider<span class="token punctuation">)</span><span class="token punctuation">:</span>        author <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">'author'</span><span class="token punctuation">]</span>        content <span class="token operator">=</span> item<span class="token punctuation">[</span><span class="token string">'content'</span><span class="token punctuation">]</span>        self<span class="token punctuation">.</span>fp<span class="token punctuation">.</span>write<span class="token punctuation">(</span>author <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> content <span class="token operator">+</span> <span class="token string">'\n'</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> item    <span class="token comment"># é‡å†™çˆ¶ç±»çš„æ–¹æ³•,è¯¥æ–¹æ³•åªåœ¨çˆ¬è™«ç»“æŸè°ƒç”¨ä¸€æ¬¡</span>    <span class="token keyword">def</span> <span class="token function">close_spider</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> spider<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ç»“æŸçˆ¬è™«!'</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>fp<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># å­˜å‚¨åˆ°æ•°æ®åº“</span><span class="token comment"># ç®¡é“æ–‡ä»¶ä¸­ä¸€ä¸ªç®¡é“ç±»å¯¹åº”ä¸€ç»„æ•°æ®å­˜å‚¨åˆ°ä¸€ä¸ªå¹³å°æˆ–è€…è½½ä½“ä¸­</span><span class="token keyword">class</span> <span class="token class-name">mysqlPileLine</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    conn <span class="token operator">=</span> <span class="token boolean">None</span>    cursor <span class="token operator">=</span> <span class="token boolean">None</span>    <span class="token keyword">def</span> <span class="token function">open_spider</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> spider<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>conn <span class="token operator">=</span> pymysql<span class="token punctuation">.</span>connect<span class="token punctuation">(</span>host<span class="token operator">=</span><span class="token string">'127.0.0.1'</span><span class="token punctuation">,</span> port<span class="token operator">=</span><span class="token number">3306</span><span class="token punctuation">,</span> user<span class="token operator">=</span><span class="token string">'root'</span><span class="token punctuation">,</span> password<span class="token operator">=</span><span class="token string">'hxl158120'</span><span class="token punctuation">,</span> db<span class="token operator">=</span><span class="token string">'qiubai'</span><span class="token punctuation">,</span>                                    charset<span class="token operator">=</span><span class="token string">'utf8'</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">process_item</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">,</span> spider<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>cursor <span class="token operator">=</span> self<span class="token punctuation">.</span>conn<span class="token punctuation">.</span>cursor<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">try</span><span class="token punctuation">:</span>            self<span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>execute<span class="token punctuation">(</span><span class="token string">'insert into qiubai values("%s","%s")'</span> <span class="token operator">%</span> <span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token string">"author"</span><span class="token punctuation">]</span><span class="token punctuation">,</span> item<span class="token punctuation">[</span><span class="token string">"content"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>            self<span class="token punctuation">.</span>conn<span class="token punctuation">.</span>commit<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">except</span> Exception <span class="token keyword">as</span> e<span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>            self<span class="token punctuation">.</span>conn<span class="token punctuation">.</span>rollback<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> item    <span class="token keyword">def</span> <span class="token function">close_spider</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> spider<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>cursor<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>        self<span class="token punctuation">.</span>conn<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>items.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> scrapy<span class="token keyword">class</span> <span class="token class-name">QiubaiproItem</span><span class="token punctuation">(</span>scrapy<span class="token punctuation">.</span>Item<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># define the fields for your item here like:</span>    <span class="token comment"># name = scrapy.Field()</span>    author <span class="token operator">=</span> scrapy<span class="token punctuation">.</span>Field<span class="token punctuation">(</span><span class="token punctuation">)</span>    content <span class="token operator">=</span> scrapy<span class="token punctuation">.</span>Field<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> <code>settings.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python">ITEM_PIPELINES <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token comment"># 300 ä¼˜å…ˆçº§ æ•°å€¼è¶Šå° ä¼˜å…ˆçº§è¶Šé«˜</span>    <span class="token string">'qiubaiPro.pipelines.QiubaiproPipeline'</span><span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">,</span>    <span class="token string">'qiubaiPro.pipelines.mysqlPileLine'</span><span class="token punctuation">:</span> <span class="token number">301</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>åŸºäºSpiderçš„å…¨ç«™æ•°æ®çˆ¬å–å½¼å²¸ç½‘å›¾ç‰‡åç§°å’Œå›¾ç‰‡å¹¶è¿›è¡Œæœ¬åœ°å­˜å‚¨</li></ul><p><code>meinv.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> scrapy<span class="token keyword">from</span> meinvPro<span class="token punctuation">.</span>items <span class="token keyword">import</span> MeinvproItem<span class="token keyword">class</span> <span class="token class-name">MeinvSpider</span><span class="token punctuation">(</span>scrapy<span class="token punctuation">.</span>Spider<span class="token punctuation">)</span><span class="token punctuation">:</span>    name <span class="token operator">=</span> <span class="token string">'meinv'</span>    <span class="token comment"># allowed_domains = ['www.xxx.com']</span>    start_urls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'https://pic.netbian.com/4kmeinv/index.html'</span><span class="token punctuation">]</span>    url <span class="token operator">=</span> <span class="token string">'https://pic.netbian.com/4kmeinv/index_%d.html'</span>    page_num <span class="token operator">=</span> <span class="token number">2</span>    <span class="token keyword">def</span> <span class="token function">parse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>        li_list <span class="token operator">=</span> response<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//*[@id="main"]/div[3]/ul/li'</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> li <span class="token keyword">in</span> li_list<span class="token punctuation">:</span>            img_name <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./a/b/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token comment"># è‹¥æœ‰å›¾ç‰‡æ‡’åŠ è½½ ä½¿ç”¨ä¼ªå±æ€§</span>            img_src <span class="token operator">=</span> <span class="token string">'https://pic.netbian.com/'</span> <span class="token operator">+</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./a/img/@src'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>img_name<span class="token punctuation">,</span> img_src<span class="token punctuation">)</span>            item <span class="token operator">=</span> MeinvproItem<span class="token punctuation">(</span><span class="token punctuation">)</span>            item<span class="token punctuation">[</span><span class="token string">'img_src'</span><span class="token punctuation">]</span> <span class="token operator">=</span> img_src            <span class="token keyword">yield</span> item        <span class="token keyword">if</span> self<span class="token punctuation">.</span>page_num <span class="token operator">&lt;=</span> <span class="token number">10</span><span class="token punctuation">:</span>            new_url <span class="token operator">=</span> <span class="token builtin">format</span><span class="token punctuation">(</span>self<span class="token punctuation">.</span>url <span class="token operator">%</span> self<span class="token punctuation">.</span>page_num<span class="token punctuation">)</span>            self<span class="token punctuation">.</span>page_num <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">yield</span> scrapy<span class="token punctuation">.</span>Request<span class="token punctuation">(</span>url<span class="token operator">=</span>new_url<span class="token punctuation">,</span> callback<span class="token operator">=</span>self<span class="token punctuation">.</span>parse<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>items.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> scrapy<span class="token keyword">class</span> <span class="token class-name">MeinvproItem</span><span class="token punctuation">(</span>scrapy<span class="token punctuation">.</span>Item<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># define the fields for your item here like:</span>    img_src <span class="token operator">=</span> scrapy<span class="token punctuation">.</span>Field<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>pipelines.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> itemadapter <span class="token keyword">import</span> ItemAdapter<span class="token keyword">from</span> scrapy<span class="token punctuation">.</span>pipelines<span class="token punctuation">.</span>images <span class="token keyword">import</span> ImagesPipeline<span class="token keyword">import</span> scrapy<span class="token comment"># class MeinvproPipeline:</span><span class="token comment">#     def process_item(self, item, spider):</span><span class="token comment">#         return item</span><span class="token keyword">class</span> <span class="token class-name">imgsPileLine</span><span class="token punctuation">(</span>ImagesPipeline<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># æ ¹æ®å›¾ç‰‡åœ°å€è¿›è¡Œå›¾ç‰‡æ•°æ®è¯·æ±‚</span>    <span class="token keyword">def</span> <span class="token function">get_media_requests</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">,</span> info<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">yield</span> scrapy<span class="token punctuation">.</span>Request<span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token string">'img_src'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    <span class="token comment"># æŒ‡å®šå›¾ç‰‡å­˜å‚¨è·¯å¾„</span>    <span class="token keyword">def</span> <span class="token function">file_path</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">,</span> info<span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        img_Name <span class="token operator">=</span> request<span class="token punctuation">.</span>url<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>        <span class="token keyword">return</span> img_Name    <span class="token keyword">def</span> <span class="token function">item_completed</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> results<span class="token punctuation">,</span> item<span class="token punctuation">,</span> info<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> item<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>settings.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># æŒ‡å®šå›¾ç‰‡å­˜å‚¨ç›®å½•</span>IMAGES_STORE <span class="token operator">=</span> <span class="token string">'./imgs'</span><span class="token comment"># æ›´æ¢ç®¡é“</span>ITEM_PIPELINES <span class="token operator">=</span> <span class="token punctuation">&#123;</span>   <span class="token string">'meinvPro.pipelines.imgsPileLine'</span><span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="äº”å¤§æ ¸å¿ƒç»„ä»¶"><a href="#äº”å¤§æ ¸å¿ƒç»„ä»¶" class="headerlink" title="äº”å¤§æ ¸å¿ƒç»„ä»¶"></a>äº”å¤§æ ¸å¿ƒç»„ä»¶</h3><ul><li>å¼•æ“(Scrapy)<ul><li>ç”¨æ¥å¤„ç†æ•´ä¸ªç³»ç»Ÿçš„æ•°æ®æµå¤„ç†,è§¦å‘äº‹åŠ¡(æ¡†æ¶æ ¸å¿ƒ)ã€‚</li></ul></li><li>è°ƒåº¦å™¨(Scheduler)<ul><li>ç”¨æ¥æ¥æ”¶å¼•æ“å‘è¿‡æ¥çš„è¯·æ±‚,å‹å…¥é˜Ÿåˆ—ä¸­,å¹¶åœ¨å¼•æ“å†æ¬¡è¯·æ±‚çš„æ—¶å€™è¿”å›,å¯ä»¥æƒ³è±¡æˆä¸€ä¸ªURL(æŠ“å–ç½‘é¡µçš„ç½‘å€æˆ–è€…è¯´æ˜¯é“¾æ¥)çš„ä¼˜å…ˆé˜Ÿåˆ—,ç”±ä»–æ¥å†³å®šä¸‹ä¸€ä¸ªè¦æŠ“å–çš„ç½‘å€æ˜¯ä»€ä¹ˆ,åŒæ—¶å»é™¤é‡å¤çš„ç½‘å€ã€‚</li></ul></li><li>ä¸‹è½½å™¨(Downloader)<ul><li>ç”¨äºä¸‹è½½ç½‘é¡µçš„å†…å®¹,å¹¶å°†ç½‘é¡µå†…å®¹è¿”å›ç»™èœ˜è››(Scrapyä¸‹è½½æ˜¯å»ºç«‹åœ¨twistedè¿™ä¸ªé«˜æ•ˆçš„å¼‚æ­¥æ¨¡å‹ä¸Šçš„)ã€‚</li></ul></li><li>çˆ¬è™«(Spiders)<ul><li>çˆ¬è™«ä¸»è¦æ˜¯å¹²æ´»çš„,ç”¨äºä»ç‰¹å®šçš„ç½‘é¡µä¸­æå–è‡ªå·±éœ€è¦çš„ä¿¡æ¯,å³æ‰€è°“çš„å®ä½“(item).ç”¨æˆ·ä¹Ÿå¯ä»¥ä»ä¸­å–å‡ºé“¾æ¥,è®©Scrapyç»§ç»­æŠ“å–ä¸‹ä¸€ä¸ªé¡µé¢ã€‚</li></ul></li><li>é¡¹ç›®ç®¡é“(Pipeline)<ul><li>è´Ÿè´£å¤„ç†çˆ¬è™«ä»ç½‘é¡µä¸­æŠ½å–çš„å®ä½“,ä¸»è¦çš„åŠŸèƒ½æ˜¯æŒä¹…åŒ–å®ä½“ã€éªŒè¯å®ä½“çš„æœ‰æ•ˆæ€§,æ¸…æ¥šä¸éœ€è¦çš„ä¿¡æ¯,å½“é¡µé¢è¢«çˆ¬è™«è§£æå,å°†è¢«å‘é€åˆ°é¡¹ç›®ç®¡é“,å¹¶ç»è¿‡å‡ ä¸ªç‰¹å®šçš„æ¬¡åºå¤„ç†æ•°æ®ã€‚</li></ul></li></ul><h3 id="è¯·æ±‚ä¼ å‚"><a href="#è¯·æ±‚ä¼ å‚" class="headerlink" title="è¯·æ±‚ä¼ å‚"></a>è¯·æ±‚ä¼ å‚</h3><ul><li>ä½¿ç”¨åœºæ™¯ï¼šçˆ¬å–è§£æçš„æ•°æ®ä¸åœ¨åŒä¸€å¼ é¡µé¢ä¸­ï¼ˆè¯¦æƒ…é¡µï¼‰ã€‚</li></ul><p><code>meta=&#123;&#39;item&#39;:item&#125;</code></p><p>æ¡ˆä¾‹æ¼”ç¤º</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> scrapy<span class="token keyword">from</span> bossPro<span class="token punctuation">.</span>items <span class="token keyword">import</span> BossproItem<span class="token keyword">class</span> <span class="token class-name">BossSpider</span><span class="token punctuation">(</span>scrapy<span class="token punctuation">.</span>Spider<span class="token punctuation">)</span><span class="token punctuation">:</span>    name <span class="token operator">=</span> <span class="token string">'boss'</span>    start_urls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'https://jh.58.com/job/?param6693=8|10&amp;PGTID=0d100000-0021-349d-98e8-58c336a9edba&amp;ClickID=2'</span><span class="token punctuation">]</span>    <span class="token comment"># å›è°ƒå‡½æ•°æ¥æ”¶item</span>    <span class="token keyword">def</span> <span class="token function">parse_detail</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>        item <span class="token operator">=</span> response<span class="token punctuation">.</span>meta<span class="token punctuation">[</span><span class="token string">'item'</span><span class="token punctuation">]</span>        job_desc <span class="token operator">=</span> response<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'/html/body/div[3]/div[3]/div[2]/div[1]/div[1]/div[1]//text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract<span class="token punctuation">(</span><span class="token punctuation">)</span>        job_desc <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>job_desc<span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>job_desc<span class="token punctuation">)</span>        item<span class="token punctuation">[</span><span class="token string">'job_desc'</span><span class="token punctuation">]</span> <span class="token operator">=</span> job_desc        <span class="token keyword">yield</span> item    <span class="token keyword">def</span> <span class="token function">parse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>        li_list <span class="token operator">=</span> response<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//*[@id="list_con"]/li'</span><span class="token punctuation">)</span>        <span class="token comment"># print(li_list)</span>        <span class="token keyword">for</span> li <span class="token keyword">in</span> li_list<span class="token punctuation">:</span>            item <span class="token operator">=</span> BossproItem<span class="token punctuation">(</span><span class="token punctuation">)</span>            job_address <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./div[1]/div[1]/a/span[1]/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>            job_name <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./div[1]/div[1]/a/span[2]/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>            item<span class="token punctuation">[</span><span class="token string">'job_name'</span><span class="token punctuation">]</span> <span class="token operator">=</span> jo b_name            <span class="token keyword">print</span><span class="token punctuation">(</span>job_address<span class="token punctuation">,</span>job_name<span class="token punctuation">)</span>            detail_url <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./div[1]/div[1]/a/@href'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token comment"># è¯·æ±‚ä¼ å‚ï¼šmeta = &#123;&#125;ï¼Œå¯ä»¥å°†metaå­—å…¸ä¼ é€’ç»™è¯·æ±‚å¯¹åº”çš„å›è°ƒå‡½æ•°</span>            <span class="token keyword">yield</span> scrapy<span class="token punctuation">.</span>Request<span class="token punctuation">(</span>detail_url<span class="token punctuation">,</span> callback<span class="token operator">=</span>self<span class="token punctuation">.</span>parse_detail<span class="token punctuation">,</span>meta<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">'item'</span><span class="token punctuation">:</span>item<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä¸­é—´ä»¶"><a href="#ä¸­é—´ä»¶" class="headerlink" title="ä¸­é—´ä»¶"></a>ä¸­é—´ä»¶</h3><ul><li>ä½äºå¼•æ“å’Œä¸‹è½½å™¨ä¹‹é—´</li><li>ç”¨äºæ‹¦æˆªåˆ°æ•´ä¸ªå·¥ç¨‹ä¸­æ‰€æœ‰è¯·æ±‚å’Œå“åº”</li><li>æ‹¦æˆªè¯·æ±‚<ul><li>UAä¼ªè£…</li><li>ä»£ç†IP</li></ul></li><li>æ‹¦æˆªç›¸åº”<ul><li>ç¯¡æ”¹å“åº”æ•°æ®(å“åº”å¯¹è±¡)</li></ul></li></ul><p>æ¡ˆä¾‹æ¼”ç¤º (ipæ›´æ¢å¤±è´¥)</p><p><code>middle.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> scrapy<span class="token keyword">class</span> <span class="token class-name">MiddleSpider</span><span class="token punctuation">(</span>scrapy<span class="token punctuation">.</span>Spider<span class="token punctuation">)</span><span class="token punctuation">:</span>    name <span class="token operator">=</span> <span class="token string">'middle'</span>    start_urls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'https://www.baidu.com/s?wd=ip'</span><span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">parse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>        page_text <span class="token operator">=</span> response<span class="token punctuation">.</span>text        <span class="token keyword">print</span><span class="token punctuation">(</span>page_text<span class="token punctuation">)</span>        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'ip.html'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>            fp<span class="token punctuation">.</span>write<span class="token punctuation">(</span>page_text<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>middlewares.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MiddleproDownloaderMiddleware</span><span class="token punctuation">:</span>    <span class="token comment"># UAä¼ªè£…</span>    user_agent_list<span class="token operator">=</span><span class="token punctuation">[</span>    <span class="token string">'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.64 Safari/537.11'</span>    <span class="token punctuation">]</span>    <span class="token comment"># ä»£ç†æ± </span>    PROXY_http <span class="token operator">=</span> <span class="token punctuation">[</span>        <span class="token string">'153.180.102.104:80'</span><span class="token punctuation">,</span>        <span class="token string">'195.208.131.189:56055'</span>    <span class="token punctuation">]</span>    PROXY_https <span class="token operator">=</span> <span class="token punctuation">[</span>        <span class="token string">'120.83.49.90.9000'</span><span class="token punctuation">,</span>        <span class="token string">'95.189.112.214:35508'</span>    <span class="token punctuation">]</span>    <span class="token keyword">def</span> <span class="token function">process_request</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> spider<span class="token punctuation">)</span><span class="token punctuation">:</span>        request<span class="token punctuation">.</span>headers<span class="token punctuation">[</span><span class="token string">'User-Agent'</span><span class="token punctuation">]</span> <span class="token operator">=</span> random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>self<span class="token punctuation">.</span>user_agent_list<span class="token punctuation">)</span><span class="token comment"># æ–¹ä¾¿æµ‹è¯•</span>        request<span class="token punctuation">.</span>meta<span class="token punctuation">[</span><span class="token string">'proxy'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'http://121.232.148.116:9000'</span>        <span class="token keyword">return</span> <span class="token boolean">None</span>    <span class="token keyword">def</span> <span class="token function">process_response</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> spider<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> response    <span class="token keyword">def</span> <span class="token function">process_exception</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> exception<span class="token punctuation">,</span> spider<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># ä»£ç†</span>        <span class="token keyword">if</span> request<span class="token punctuation">.</span>url<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token string">'http'</span><span class="token punctuation">:</span>            request<span class="token punctuation">.</span>meta<span class="token punctuation">[</span><span class="token string">'proxy'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'http://'</span><span class="token operator">+</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>self<span class="token punctuation">.</span>PROXY_http<span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            request<span class="token punctuation">.</span>meta<span class="token punctuation">[</span><span class="token string">'proxy'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'https://'</span><span class="token operator">+</span>random<span class="token punctuation">.</span>choice<span class="token punctuation">(</span>self<span class="token punctuation">.</span>PROXY_https<span class="token punctuation">)</span>        <span class="token keyword">return</span> request <span class="token comment"># å°†ä¿®æ­£åçš„è¯·æ±‚å¯¹è±¡è¿›è¡Œé‡æ–°å‘é€</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>settings.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å¼€å¯</span>DOWNLOADER_MIDDLEWARES <span class="token operator">=</span> <span class="token punctuation">&#123;</span>   <span class="token string">'middlePro.middlewares.MiddleproDownloaderMiddleware'</span><span class="token punctuation">:</span> <span class="token number">543</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>çˆ¬å–ç½‘æ˜“å„å¤§æ¿å—æ–‡ç« æ ‡é¢˜å’Œå†…å®¹å¹¶æœ¬åœ°å­˜å‚¨</li></ul><p><code>wangyi.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> scrapy<span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver<span class="token keyword">from</span> wangyiPro<span class="token punctuation">.</span>items <span class="token keyword">import</span> WangyiproItem<span class="token keyword">class</span> <span class="token class-name">WangyiSpider</span><span class="token punctuation">(</span>scrapy<span class="token punctuation">.</span>Spider<span class="token punctuation">)</span><span class="token punctuation">:</span>    name <span class="token operator">=</span> <span class="token string">'wangyi'</span>    <span class="token comment"># allowed_domains = ['www.xxx.com']</span>    start_urls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'https://news.163.com/'</span><span class="token punctuation">]</span>    models_urls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment"># å­˜å‚¨æ¿å—å¯¹åº”è¯¦æƒ…é¡µå¯¹åº”çš„url</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>bro <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span>executable_path<span class="token operator">=</span><span class="token string">'E:\PyCharm\pachong\com\ssm\seleniumTest\chromedriver.exe'</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">parse</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>        li_list <span class="token operator">=</span> response<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//*[@id="index2016_wrap"]/div[1]/div[2]/div[2]/div[2]/div[2]/div/ul/li'</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>li_list<span class="token punctuation">)</span>        alist <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>        <span class="token keyword">for</span> index <span class="token keyword">in</span> alist<span class="token punctuation">:</span>            model_url <span class="token operator">=</span> li_list<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./a/@href'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>            self<span class="token punctuation">.</span>models_urls<span class="token punctuation">.</span>append<span class="token punctuation">(</span>model_url<span class="token punctuation">)</span>        <span class="token keyword">for</span> url <span class="token keyword">in</span> self<span class="token punctuation">.</span>models_urls<span class="token punctuation">:</span>            <span class="token keyword">yield</span> scrapy<span class="token punctuation">.</span>Request<span class="token punctuation">(</span>url<span class="token punctuation">,</span> callback<span class="token operator">=</span>self<span class="token punctuation">.</span>parse_model<span class="token punctuation">)</span>    <span class="token comment"># è§£ææ¯ä¸ªæ¿å—é¡µé¢ä¸­å¯¹åº”æ–°é—»çš„æ ‡é¢˜å’Œæ–°é—»è¯¦æƒ…é¡µçš„url</span>    <span class="token keyword">def</span> <span class="token function">parse_model</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>        div_list <span class="token operator">=</span> response<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'/html/body/div/div[3]/div[4]/div[1]/div[1]/div/ul/li/div/div'</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> div <span class="token keyword">in</span> div_list<span class="token punctuation">:</span>            title <span class="token operator">=</span> div<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./div/div[1]/h3/a/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span>            new_detail_url <span class="token operator">=</span> div<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./div/div[1]/h3/a/@href'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>            item <span class="token operator">=</span> WangyiproItem<span class="token punctuation">(</span><span class="token punctuation">)</span>            item<span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">]</span> <span class="token operator">=</span> title            <span class="token comment"># å¯¹æ–°é—»è¯¦æƒ…é¡µçš„urlå‘èµ·è¯·æ±‚</span>            <span class="token keyword">yield</span> scrapy<span class="token punctuation">.</span>Request<span class="token punctuation">(</span>url<span class="token operator">=</span>new_detail_url<span class="token punctuation">,</span> callback<span class="token operator">=</span>self<span class="token punctuation">.</span>parse_detail<span class="token punctuation">,</span> meta<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">'item'</span><span class="token punctuation">:</span> item<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">parse_detail</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>        all_data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>        content <span class="token operator">=</span> response<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//*[@id="content"]/div[2]//text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract<span class="token punctuation">(</span><span class="token punctuation">)</span>        content <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>content<span class="token punctuation">)</span>        item <span class="token operator">=</span> response<span class="token punctuation">.</span>meta<span class="token punctuation">[</span><span class="token string">'item'</span><span class="token punctuation">]</span>        item<span class="token punctuation">[</span><span class="token string">'content'</span><span class="token punctuation">]</span> <span class="token operator">=</span> content        dic <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token string">'content'</span><span class="token punctuation">:</span> content        <span class="token punctuation">&#125;</span>        all_data<span class="token punctuation">.</span>append<span class="token punctuation">(</span>dic<span class="token punctuation">)</span>        <span class="token keyword">yield</span> item        <span class="token keyword">return</span> all_data    <span class="token keyword">def</span> <span class="token function">closed</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> spider<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>bro<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>items.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> scrapy<span class="token keyword">class</span> <span class="token class-name">WangyiproItem</span><span class="token punctuation">(</span>scrapy<span class="token punctuation">.</span>Item<span class="token punctuation">)</span><span class="token punctuation">:</span>    title <span class="token operator">=</span> scrapy<span class="token punctuation">.</span>Field<span class="token punctuation">(</span><span class="token punctuation">)</span>    content <span class="token operator">=</span> scrapy<span class="token punctuation">.</span>Field<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>middlewares.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> scrapy<span class="token punctuation">.</span>http <span class="token keyword">import</span> HtmlResponse<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep<span class="token keyword">class</span> <span class="token class-name">WangyiproDownloaderMiddleware</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">process_response</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> request<span class="token punctuation">,</span> response<span class="token punctuation">,</span> spider<span class="token punctuation">)</span><span class="token punctuation">:</span>        bro <span class="token operator">=</span> spider<span class="token punctuation">.</span>bro  <span class="token comment"># è·å–æµè§ˆå™¨å¯¹è±¡</span>        <span class="token comment"># url -> request -> response</span>        <span class="token keyword">if</span> request<span class="token punctuation">.</span>url <span class="token keyword">in</span> spider<span class="token punctuation">.</span>models_urls<span class="token punctuation">:</span>            bro<span class="token punctuation">.</span>get<span class="token punctuation">(</span>request<span class="token punctuation">.</span>url<span class="token punctuation">)</span>            sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>            page_text <span class="token operator">=</span> bro<span class="token punctuation">.</span>page_source            <span class="token comment"># äº”å¤§æ¿å—å¯¹åº”çš„å“åº”å¯¹è±¡ é’ˆå¯¹å®šä½åˆ°çš„è¿™äº›responseè¿›è¡Œç¯¡æ”¹,å®ä¾‹åŒ–ä¸€ä¸ªæ–°çš„å“åº”å¯¹è±¡ ,æ›¿ä»£åŸæ¥çš„å“åº”å¯¹è±¡</span>            new_response <span class="token operator">=</span> HtmlResponse<span class="token punctuation">(</span>url<span class="token operator">=</span>request<span class="token punctuation">.</span>url<span class="token punctuation">,</span> body<span class="token operator">=</span>page_text<span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">,</span> request<span class="token operator">=</span>request<span class="token punctuation">)</span>            <span class="token keyword">return</span> new_response        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token comment"># å…¶ä»–è¯·æ±‚å¯¹åº”çš„å“åº”å¯¹è±¡</span>            <span class="token keyword">return</span> response<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>pipelines.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">WangyiproPipeline</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">process_item</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">,</span> spider<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>        <span class="token keyword">return</span> item<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p><code>settings.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python">USER_AGENT <span class="token operator">=</span> <span class="token string">'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.64 Safari/537.11'</span>ROBOTSTXT_OBEY <span class="token operator">=</span> <span class="token boolean">False</span>LOG_ERROR <span class="token operator">=</span> <span class="token string">'ERROR'</span>DOWNLOADER_MIDDLEWARES <span class="token operator">=</span> <span class="token punctuation">&#123;</span>   <span class="token string">'wangyiPro.middlewares.WangyiproDownloaderMiddleware'</span><span class="token punctuation">:</span> <span class="token number">543</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span>ITEM_PIPELINES <span class="token operator">=</span> <span class="token punctuation">&#123;</span>   <span class="token string">'wangyiPro.pipelines.WangyiproPipeline'</span><span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="CrawlSpiderç±»"><a href="#CrawlSpiderç±»" class="headerlink" title="CrawlSpiderç±»"></a>CrawlSpiderç±»</h3><ul><li>å…¨ç«™æ•°æ®çˆ¬å–çš„æ–¹å¼<ul><li>åŸºäºspider: æ‰‹åŠ¨è¯·æ±‚</li><li>åŸºäºCrawlSpider</li></ul></li><li>CrawlSpiderçš„ä½¿ç”¨<ul><li>åˆ›å»ºå·¥ç¨‹</li><li>cd xxx</li><li>scrapy genspider -t crawl  xxx <a href="http://www.xxx.com/">www.xxx.com</a></li></ul></li><li>é“¾æ¥æå–å™¨:<ul><li>æ ¹æ®æŒ‡å®šè§„åˆ™(allow)è¿›è¡ŒæŒ‡å®šé“¾æ¥æå–</li></ul></li><li>è§„åˆ™è§£æå™¨:<ul><li>å°†é“¾æ¥æå–æå–åˆ°çš„é“¾æ¥è¿›è¡ŒæŒ‡å®šè§„åˆ™ (callback) çš„è§£ææ“ä½œ</li></ul></li></ul><hr><p>æ¡ˆä¾‹æ¼”ç¤º</p><ul><li>çˆ¬å–sunç½‘ç«™ä¸­çš„ç¼–å·,æ–°é—»æ ‡é¢˜,æ–°é—»å†…å®¹,æ ‡å·</li></ul><p><code>sun.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> scrapy<span class="token keyword">from</span> scrapy<span class="token punctuation">.</span>linkextractors <span class="token keyword">import</span> LinkExtractor<span class="token keyword">from</span> scrapy<span class="token punctuation">.</span>spiders <span class="token keyword">import</span> CrawlSpider<span class="token punctuation">,</span> Rule<span class="token keyword">from</span> sunPro<span class="token punctuation">.</span>items <span class="token keyword">import</span> SunproItem<span class="token punctuation">,</span>DetailItem<span class="token keyword">class</span> <span class="token class-name">SunSpider</span><span class="token punctuation">(</span>CrawlSpider<span class="token punctuation">)</span><span class="token punctuation">:</span>    name <span class="token operator">=</span> <span class="token string">'sun'</span>    <span class="token comment"># allowed_domains = ['www.xxx.com']</span>    start_urls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'https://wz.sun0769.com/political/index/politicsNewest?id=2&amp;page=2'</span><span class="token punctuation">]</span>    link <span class="token operator">=</span> LinkExtractor<span class="token punctuation">(</span>allow<span class="token operator">=</span><span class="token string">r'id=2&amp;page=\d+'</span><span class="token punctuation">)</span>    <span class="token comment"># link_detail = 'https://wz.sun0769.com/political/politics/index?' + LinkExtractor(allow=r'id=\d+')</span>    link_detail <span class="token operator">=</span> LinkExtractor<span class="token punctuation">(</span>allow<span class="token operator">=</span><span class="token string">r'id=\d+'</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>link_detail<span class="token punctuation">)</span>    rules <span class="token operator">=</span> <span class="token punctuation">(</span>        <span class="token comment"># LinkExtractor é“¾æ¥æå–å™¨</span>        <span class="token comment"># allows = (æ­£åˆ™) æ ¹æ®æŒ‡å®šè§„åˆ™è¿›è¡Œé“¾æ¥æå–</span>        <span class="token comment"># follow=True : å°†é“¾æ¥æå–å™¨ç»§ç»­ä½œç”¨åˆ°é“¾æ¥æå–å™¨æå–åˆ°çš„é“¾æ¥æ‰€å¯¹åº”çš„é¡µé¢ä¸­</span>        <span class="token comment"># è§„åˆ™è§£æå™¨ : å°†é“¾æ¥æå–æå–åˆ°çš„é“¾æ¥è¿›è¡ŒæŒ‡å®šè§„åˆ™ (callback) çš„è§£ææ“ä½œ</span>        Rule<span class="token punctuation">(</span>link<span class="token punctuation">,</span> callback<span class="token operator">=</span><span class="token string">'parse_item'</span><span class="token punctuation">,</span> follow<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">,</span>        Rule<span class="token punctuation">(</span>link_detail<span class="token punctuation">,</span> callback<span class="token operator">=</span><span class="token string">'parse_detail'</span><span class="token punctuation">)</span>    <span class="token punctuation">)</span>    <span class="token comment"># è§£ææ–°é—»ç¼–å·ã€æ ‡é¢˜</span>    <span class="token keyword">def</span> <span class="token function">parse_item</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>        li_list <span class="token operator">=</span> response<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'/html/body/div[2]/div[3]/ul[2]/li'</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> li <span class="token keyword">in</span> li_list<span class="token punctuation">:</span>            new_num <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./span[1]/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>            new_title <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./span[3]/a/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>            item <span class="token operator">=</span> SunproItem<span class="token punctuation">(</span><span class="token punctuation">)</span>            item<span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">]</span> <span class="token operator">=</span> new_title            item<span class="token punctuation">[</span><span class="token string">'new_num'</span><span class="token punctuation">]</span> <span class="token operator">=</span> new_num            <span class="token keyword">yield</span> item    <span class="token comment"># è§£ææ–°é—»å†…å®¹ã€ç¼–å·</span>    <span class="token keyword">def</span> <span class="token function">parse_detail</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> response<span class="token punctuation">)</span><span class="token punctuation">:</span>        new_id <span class="token operator">=</span> response<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'/html/body/div[3]/div[2]/div[2]/div[1]/span[4]/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>        new_content <span class="token operator">=</span> response<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'/html/body/div[3]/div[2]/div[2]/div[2]/pre/text()'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>extract_first<span class="token punctuation">(</span><span class="token punctuation">)</span>        new_content <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>new_content<span class="token punctuation">)</span>        item <span class="token operator">=</span> DetailItem<span class="token punctuation">(</span><span class="token punctuation">)</span>        item<span class="token punctuation">[</span><span class="token string">'new_id'</span><span class="token punctuation">]</span> <span class="token operator">=</span> new_id        item<span class="token punctuation">[</span><span class="token string">'content'</span><span class="token punctuation">]</span> <span class="token operator">=</span> new_content        <span class="token keyword">yield</span> item<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>items.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> scrapy<span class="token keyword">class</span> <span class="token class-name">SunproItem</span><span class="token punctuation">(</span>scrapy<span class="token punctuation">.</span>Item<span class="token punctuation">)</span><span class="token punctuation">:</span>    title <span class="token operator">=</span> scrapy<span class="token punctuation">.</span>Field<span class="token punctuation">(</span><span class="token punctuation">)</span>    new_num <span class="token operator">=</span> scrapy<span class="token punctuation">.</span>Field<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">DetailItem</span><span class="token punctuation">(</span>scrapy<span class="token punctuation">.</span>Item<span class="token punctuation">)</span><span class="token punctuation">:</span>    new_id <span class="token operator">=</span> scrapy<span class="token punctuation">.</span>Field<span class="token punctuation">(</span><span class="token punctuation">)</span>    content <span class="token operator">=</span> scrapy<span class="token punctuation">.</span>Field<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>pipelines.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">SunproPipeline</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">process_item</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> item<span class="token punctuation">,</span> spider<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token comment"># åˆ¤å®šitemç±»å‹</span>        <span class="token keyword">if</span> item<span class="token punctuation">.</span>__class__<span class="token punctuation">.</span>__name__ <span class="token operator">==</span> <span class="token string">'DetailItem'</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token string">'new_id'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> item<span class="token punctuation">[</span><span class="token string">'content'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">else</span><span class="token punctuation">:</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token string">'new_num'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> item<span class="token punctuation">[</span><span class="token string">'title'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>        <span class="token keyword">return</span> item<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>settings.py</code></p><pre class="line-numbers language-python" data-language="python"><code class="language-python">USER_AGENT <span class="token operator">=</span> <span class="token string">'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.11 (KHTML, like Gecko) Chrome/23.0.1271.64 Safari/537.11'</span>ROBOTSTXT_OBEY <span class="token operator">=</span> <span class="token boolean">False</span>LOG_ERROR <span class="token operator">=</span> <span class="token string">'ERROR'</span>DOWNLOAD_DELAY <span class="token operator">=</span> <span class="token number">3</span>ITEM_PIPELINES <span class="token operator">=</span> <span class="token punctuation">&#123;</span>   <span class="token string">'sunPro.pipelines.SunproPipeline'</span><span class="token punctuation">:</span> <span class="token number">300</span><span class="token punctuation">,</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> çˆ¬è™« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonçˆ¬è™«ä¹‹seleniumå­¦ä¹ </title>
      <link href="/2021-11-19-python-pa-chong-zhong-zhi-selenium-xue-xi.html"/>
      <url>/2021-11-19-python-pa-chong-zhong-zhi-selenium-xue-xi.html</url>
      
        <content type="html"><![CDATA[<h3 id="åŸºæœ¬æ¦‚è¿°"><a href="#åŸºæœ¬æ¦‚è¿°" class="headerlink" title="åŸºæœ¬æ¦‚è¿°"></a>åŸºæœ¬æ¦‚è¿°</h3><ul><li><code>selenium</code>å¯ä»¥ä¾¿æ·çš„è·å–ç½‘ç«™ä¸­çš„åŠ¨æ€åŠ åœ¨çš„æ•°æ®</li><li><code>selenium</code>å¯ä»¥ä¾¿æ·çš„å®ç°æ¨¡æ‹Ÿç™»é™†</li><li><code>selenium</code>æ˜¯åŸºäºæµè§ˆå™¨è‡ªåŠ¨åŒ–çš„ä¸€ä¸ªæ¨¡å—</li></ul><h3 id="ä½¿ç”¨æµç¨‹"><a href="#ä½¿ç”¨æµç¨‹" class="headerlink" title="ä½¿ç”¨æµç¨‹"></a>ä½¿ç”¨æµç¨‹</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip <span class="token function">install</span> selenium<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>æŸ¥çœ‹googleæµè§ˆå™¨ç‰ˆæœ¬å·</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># åœ¨æµè§ˆå™¨ä¸­è¾“å…¥</span>chrome://version/<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>é€‰æ‹©åˆé€‚çš„ç‰ˆæœ¬</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">http://chromedriver.storage.googleapis.com/index.html<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>å°†ä¸‹è½½å¥½çš„<code>chromedriver.exe</code>æ”¾å…¥å¼€å‘ç›®å½•ä¸­å³å¯</li><li>è¿è¡Œæµ‹è¯•</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriverbro <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span>executable_path<span class="token operator">=</span><span class="token string">'./chromedriver'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="æ¡ˆä¾‹æ¼”ç¤º1-ï¼š"><a href="#æ¡ˆä¾‹æ¼”ç¤º1-ï¼š" class="headerlink" title="æ¡ˆä¾‹æ¼”ç¤º1.ï¼š"></a>æ¡ˆä¾‹æ¼”ç¤º1.ï¼š</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver<span class="token keyword">from</span> lxml <span class="token keyword">import</span> html<span class="token keyword">from</span> time <span class="token keyword">import</span> sleepbro <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span>executable_path<span class="token operator">=</span><span class="token string">'./chromedriver'</span><span class="token punctuation">)</span>bro<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'http://scxk.nmpa.gov.cn:81/xk/'</span><span class="token punctuation">)</span><span class="token comment"># è·å–æµè§ˆå™¨å½“å‰é¡µé¢çš„é¡µé¢æºç æ•°æ®</span>page_text <span class="token operator">=</span> bro<span class="token punctuation">.</span>page_sourcetree <span class="token operator">=</span> html<span class="token punctuation">.</span>etree<span class="token punctuation">.</span>HTML<span class="token punctuation">(</span>page_text<span class="token punctuation">)</span>li_list <span class="token operator">=</span> tree<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//ul[@id="gzlist"]/li'</span><span class="token punctuation">)</span><span class="token keyword">for</span> li <span class="token keyword">in</span> li_list<span class="token punctuation">:</span>    name <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./dl/@title'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>sleep<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>bro<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ¡ˆä¾‹æ¼”ç¤º2-ï¼š"><a href="#æ¡ˆä¾‹æ¼”ç¤º2-ï¼š" class="headerlink" title="æ¡ˆä¾‹æ¼”ç¤º2.ï¼š"></a>æ¡ˆä¾‹æ¼”ç¤º2.ï¼š</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> Bybro <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span>executable_path<span class="token operator">=</span><span class="token string">'./chromedriver'</span><span class="token punctuation">)</span>bro<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://lol.qq.com/main.shtml'</span><span class="token punctuation">)</span><span class="token comment"># è·å–æµè§ˆå™¨å½“å‰é¡µé¢çš„é¡µé¢æºç æ•°æ®</span>bro<span class="token punctuation">.</span>execute_script<span class="token punctuation">(</span><span class="token string">'window.scrollTo(0,document.body.scrollHeight)'</span><span class="token punctuation">)</span>sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>search_btn<span class="token operator">=</span>bro<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span><span class="token string">'J_headSearchBtn'</span><span class="token punctuation">)</span><span class="token comment"># search_btn = bro.find_element_by_id('J_headSearchBtn')</span>search_btn<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>search_input <span class="token operator">=</span> bro<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">'J_hoverSearchInput'</span><span class="token punctuation">)</span>search_input<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'æ— é™ç«åŠ›'</span><span class="token punctuation">)</span>btn <span class="token operator">=</span> bro<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">'J_hoverSearchBtn'</span><span class="token punctuation">)</span>btn<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>bro<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://www.4399.com'</span><span class="token punctuation">)</span>sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>bro<span class="token punctuation">.</span>back<span class="token punctuation">(</span><span class="token punctuation">)</span>sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>bro<span class="token punctuation">.</span>forward<span class="token punctuation">(</span><span class="token punctuation">)</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>bro<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="æ¡ˆä¾‹æ¼”ç¤º3"><a href="#æ¡ˆä¾‹æ¼”ç¤º3" class="headerlink" title="æ¡ˆä¾‹æ¼”ç¤º3.:"></a>æ¡ˆä¾‹æ¼”ç¤º3.:</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver <span class="token keyword">import</span> ActionChainsbro <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span>executable_path<span class="token operator">=</span><span class="token string">'./chromedriver'</span><span class="token punctuation">)</span>bro<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://www.runoob.com/try/try.php?filename=jqueryui-api-droppable'</span><span class="token punctuation">)</span><span class="token comment"># å¦‚æœå®šä½çš„æ ‡ç­¾åœ¨iframeæ ‡ç­¾ä¸­ï¼Œéœ€å¦‚ä¸‹æ“ä½œ</span>bro<span class="token punctuation">.</span>switch_to<span class="token punctuation">.</span>frame<span class="token punctuation">(</span><span class="token string">'iframeResult'</span><span class="token punctuation">)</span>  <span class="token comment"># åˆ‡æ¢æµè§ˆå™¨æ ‡ç­¾çš„ä½œç”¨åŸŸ</span>div <span class="token operator">=</span> bro<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">'draggable'</span><span class="token punctuation">)</span><span class="token comment"># åŠ¨ä½œé“¾</span>action <span class="token operator">=</span> ActionChains<span class="token punctuation">(</span>bro<span class="token punctuation">)</span><span class="token comment"># ç‚¹å‡»é•¿æŒ‰æŒ‡å®šçš„æ ‡ç­¾</span>action<span class="token punctuation">.</span>click_and_hold<span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token comment"># (x,y) x: æ°´å¹³ yï¼š ç«–ç›´</span>    action<span class="token punctuation">.</span>move_by_offset<span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span>perform<span class="token punctuation">(</span><span class="token punctuation">)</span>    sleep<span class="token punctuation">(</span><span class="token number">0.3</span><span class="token punctuation">)</span><span class="token comment"># é‡Šæ”¾åŠ¨ä½œé“¾</span>action<span class="token punctuation">.</span>release<span class="token punctuation">(</span><span class="token punctuation">)</span>sleep<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>bro<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="qqç©ºé—´è‡ªåŠ¨ç™»å½•ç­¾åˆ°"><a href="#qqç©ºé—´è‡ªåŠ¨ç™»å½•ç­¾åˆ°" class="headerlink" title="qqç©ºé—´è‡ªåŠ¨ç™»å½•ç­¾åˆ°"></a>qqç©ºé—´è‡ªåŠ¨ç™»å½•ç­¾åˆ°</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver <span class="token keyword">import</span> ActionChainsbro <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span>executable_path<span class="token operator">=</span><span class="token string">'./chromedriver'</span><span class="token punctuation">)</span>bro<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://qzone.qq.com/'</span><span class="token punctuation">)</span><span class="token comment"># å¦‚æœå®šä½çš„æ ‡ç­¾åœ¨iframeæ ‡ç­¾ä¸­ï¼Œéœ€å¦‚ä¸‹æ“ä½œ</span>bro<span class="token punctuation">.</span>switch_to<span class="token punctuation">.</span>frame<span class="token punctuation">(</span><span class="token string">'login_frame'</span><span class="token punctuation">)</span>  <span class="token comment"># åˆ‡æ¢æµè§ˆå™¨æ ‡ç­¾çš„ä½œç”¨åŸŸ</span>a_tag <span class="token operator">=</span> bro<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">'switcher_plogin'</span><span class="token punctuation">)</span>a_tag<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>username_tag <span class="token operator">=</span> bro<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">'u'</span><span class="token punctuation">)</span>password_tag <span class="token operator">=</span> bro<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">'p'</span><span class="token punctuation">)</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>username_tag<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>password_tag<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>btn <span class="token operator">=</span> bro<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">'login_button'</span><span class="token punctuation">)</span>btn<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>qiandao <span class="token operator">=</span> bro<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">'checkin_button'</span><span class="token punctuation">)</span>qiandao<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>bro<span class="token punctuation">.</span>switch_to<span class="token punctuation">.</span>frame<span class="token punctuation">(</span><span class="token string">'checkin_likeTipsFrame'</span><span class="token punctuation">)</span>qiandao_img <span class="token operator">=</span> bro<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>CLASS_NAME<span class="token punctuation">,</span> <span class="token string">'detail-box'</span><span class="token punctuation">)</span>qiandao_img<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>fabu <span class="token operator">=</span> bro<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>CLASS_NAME<span class="token punctuation">,</span> <span class="token string">'btn-submit'</span><span class="token punctuation">)</span>fabu<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>sleep<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>bro<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="éªŒè¯ç è¯†åˆ«å¹¶è‡ªåŠ¨ç™»å½•"><a href="#éªŒè¯ç è¯†åˆ«å¹¶è‡ªåŠ¨ç™»å½•" class="headerlink" title="éªŒè¯ç è¯†åˆ«å¹¶è‡ªåŠ¨ç™»å½•"></a>éªŒè¯ç è¯†åˆ«å¹¶è‡ªåŠ¨ç™»å½•</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># éªŒè¯ç æ¨¡æ‹Ÿç™»é™†</span><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver<span class="token keyword">import</span> time<span class="token keyword">import</span> chaojiying<span class="token keyword">from</span> PIL <span class="token keyword">import</span> Image<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>common<span class="token punctuation">.</span>by <span class="token keyword">import</span> By<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    bro <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span>executable_path<span class="token operator">=</span><span class="token string">'./chromedriver'</span><span class="token punctuation">)</span>    bro<span class="token punctuation">.</span>maximize_window<span class="token punctuation">(</span><span class="token punctuation">)</span>    bro<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">"http://changyan.kuaizhan.com/"</span><span class="token punctuation">)</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    <span class="token comment"># tanchuangguanbi = bro.find_element(By.CLASS_NAME, ' icon-raw-error ')</span>    tanchuangguanbi <span class="token operator">=</span> bro<span class="token punctuation">.</span>find_element_by_class_name<span class="token punctuation">(</span><span class="token string">'icon-raw-error '</span><span class="token punctuation">)</span>    tanchuangguanbi<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>    btn <span class="token operator">=</span> bro<span class="token punctuation">.</span>find_element_by_class_name<span class="token punctuation">(</span><span class="token string">'c-button'</span><span class="token punctuation">)</span>    btn<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>    bro<span class="token punctuation">.</span>save_screenshot<span class="token punctuation">(</span><span class="token string">'aa.png'</span><span class="token punctuation">)</span>    code_img_ele <span class="token operator">=</span> bro<span class="token punctuation">.</span>find_element_by_xpath<span class="token punctuation">(</span><span class="token string">'//*[@id="vcode-img"]'</span><span class="token punctuation">)</span>    <span class="token comment"># è·å–éªŒè¯ç </span>    <span class="token comment"># éªŒè¯ç å·¦ä¸Šè§’åæ ‡xï¼Œy</span>    location <span class="token operator">=</span> code_img_ele<span class="token punctuation">.</span>location    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'location: '</span><span class="token punctuation">,</span> location<span class="token punctuation">)</span>    <span class="token comment"># éªŒè¯ç å¯¹åº”çš„é•¿å®½</span>    size <span class="token operator">=</span> code_img_ele<span class="token punctuation">.</span>size    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'size'</span><span class="token punctuation">,</span> size<span class="token punctuation">)</span>    rangle <span class="token operator">=</span> <span class="token punctuation">(</span>        <span class="token builtin">int</span><span class="token punctuation">(</span>location<span class="token punctuation">[</span><span class="token string">'x'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">1.25</span><span class="token punctuation">,</span><span class="token builtin">int</span><span class="token punctuation">(</span>location<span class="token punctuation">[</span><span class="token string">'y'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">1.25</span><span class="token punctuation">,</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token punctuation">(</span>location<span class="token punctuation">[</span><span class="token string">'x'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> size<span class="token punctuation">[</span><span class="token string">'width'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">1.25</span><span class="token punctuation">,</span><span class="token builtin">int</span><span class="token punctuation">(</span><span class="token punctuation">(</span>location<span class="token punctuation">[</span><span class="token string">'y'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> size<span class="token punctuation">[</span><span class="token string">'height'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">*</span><span class="token number">1.25</span>    <span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>rangle<span class="token punctuation">)</span>    i <span class="token operator">=</span> Image<span class="token punctuation">.</span><span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./aa.png'</span><span class="token punctuation">)</span>    code_img_name <span class="token operator">=</span> <span class="token string">'./code.png'</span>    frame <span class="token operator">=</span> i<span class="token punctuation">.</span>crop<span class="token punctuation">(</span>rangle<span class="token punctuation">)</span>    frame<span class="token punctuation">.</span>save<span class="token punctuation">(</span>code_img_name<span class="token punctuation">)</span>    <span class="token comment"># è§£æéªŒè¯ç </span>    chaojiying <span class="token operator">=</span> chaojiying<span class="token punctuation">.</span>Chaojiying_Client<span class="token punctuation">(</span><span class="token string">'19858165529'</span><span class="token punctuation">,</span> <span class="token string">'hxl158120'</span><span class="token punctuation">,</span> <span class="token string">'925040'</span><span class="token punctuation">)</span>  <span class="token comment"># ç”¨æˆ·ä¸­å¿ƒ>>è½¯ä»¶ID ç”Ÿæˆä¸€ä¸ªæ›¿æ¢ 96001</span>    im <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./code.png'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># æœ¬åœ°å›¾ç‰‡æ–‡ä»¶è·¯å¾„ æ¥æ›¿æ¢ a.jpg æœ‰æ—¶WINç³»ç»Ÿé¡»è¦//</span>    code <span class="token operator">=</span> chaojiying<span class="token punctuation">.</span>PostPic<span class="token punctuation">(</span>im<span class="token punctuation">,</span> <span class="token number">1004</span><span class="token punctuation">)</span>    code_img <span class="token operator">=</span> code<span class="token punctuation">[</span><span class="token string">'pic_str'</span><span class="token punctuation">]</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>code_img<span class="token punctuation">)</span>  <span class="token comment"># 1902 éªŒè¯ç ç±»å‹  å®˜æ–¹ç½‘ç«™>>ä»·æ ¼ä½“ç³» 3.4+ç‰ˆ print åè¦åŠ ()</span>    username_tag <span class="token operator">=</span> bro<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">'normal_login_name'</span><span class="token punctuation">)</span>    username_tag<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'19858165529'</span><span class="token punctuation">)</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>    password_tag <span class="token operator">=</span> bro<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>ID<span class="token punctuation">,</span> <span class="token string">'normal_login_password'</span><span class="token punctuation">)</span>    password_tag<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span><span class="token string">'hxl158120'</span><span class="token punctuation">)</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>    text <span class="token operator">=</span> bro<span class="token punctuation">.</span>find_element_by_id<span class="token punctuation">(</span><span class="token string">'normal_login_vcode'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text    <span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>    <span class="token comment"># fullXpath ç›¸å¯¹è·¯å¾„å®šä½ä¸åˆ°</span>    Verification_code <span class="token operator">=</span> bro<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">'/html/body/div/div/div[4]/div[2]/div[2]/form/div[3]/div/div/div/div/div[1]/input'</span><span class="token punctuation">)</span>    Verification_code<span class="token punctuation">.</span>send_keys<span class="token punctuation">(</span>code_img<span class="token punctuation">)</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>    Login_btn <span class="token operator">=</span> bro<span class="token punctuation">.</span>find_element_by_class_name<span class="token punctuation">(</span><span class="token string">'login-form-button'</span><span class="token punctuation">)</span>    Login_btn<span class="token punctuation">.</span>click<span class="token punctuation">(</span><span class="token punctuation">)</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>bro<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="Google-æ— å¤´æµè§ˆå™¨"><a href="#Google-æ— å¤´æµè§ˆå™¨" class="headerlink" title="Google æ— å¤´æµè§ˆå™¨"></a>Google æ— å¤´æµè§ˆå™¨</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver<span class="token keyword">from</span> time <span class="token keyword">import</span> sleep<span class="token comment"># æ— å¯è§†åŒ–ç•Œé¢</span><span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>chrome<span class="token punctuation">.</span>options <span class="token keyword">import</span> Options<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>chrome<span class="token punctuation">.</span>service <span class="token keyword">import</span> Service<span class="token comment"># è§„é¿seleniumæ£€æµ‹</span><span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver <span class="token keyword">import</span> ChromeOptions<span class="token comment"># å®ç°æ— å¯è§†åŒ–ç•Œé¢çš„æ“ä½œ</span>chrome_options <span class="token operator">=</span> Options<span class="token punctuation">(</span><span class="token punctuation">)</span>chrome_options<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'--headless'</span><span class="token punctuation">)</span>chrome_options<span class="token punctuation">.</span>add_argument<span class="token punctuation">(</span><span class="token string">'--disable-gpu'</span><span class="token punctuation">)</span><span class="token comment"># å®ç°è§„é¿æ£€æµ‹</span>option <span class="token operator">=</span> ChromeOptions<span class="token punctuation">(</span><span class="token punctuation">)</span>option<span class="token punctuation">.</span>add_experimental_option<span class="token punctuation">(</span><span class="token string">'excludeSwitches'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'enable-automation'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>s <span class="token operator">=</span> Service<span class="token punctuation">(</span><span class="token string">"chromedriver.exe"</span><span class="token punctuation">)</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span>service<span class="token operator">=</span>s<span class="token punctuation">)</span><span class="token comment"># bro = webdriver.Chrome(executable_path='./chromedriver',options=chrome_options)</span>bro <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span>chrome_options<span class="token operator">=</span>chrome_options<span class="token punctuation">,</span> options<span class="token operator">=</span>option<span class="token punctuation">)</span>bro<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://qzone.qq.com/'</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>bro<span class="token punctuation">.</span>page_source<span class="token punctuation">)</span>sleep<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>bro<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> çˆ¬è™« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonçˆ¬è™«æ¨¡æ‹Ÿç™»é™†å’Œå¼‚æ­¥çˆ¬è™«</title>
      <link href="/2021-11-17-python-pa-chong-mo-ni-deng-lu-he-yi-bu-pa-chong.html"/>
      <url>/2021-11-17-python-pa-chong-mo-ni-deng-lu-he-yi-bu-pa-chong.html</url>
      
        <content type="html"><![CDATA[<h3 id="æ¨¡æ‹Ÿç™»é™†"><a href="#æ¨¡æ‹Ÿç™»é™†" class="headerlink" title="æ¨¡æ‹Ÿç™»é™†"></a>æ¨¡æ‹Ÿç™»é™†</h3><ul><li>ä½¿ç”¨<strong>è¶…çº§é¹°</strong>å¹³å°è¯†åˆ«éªŒè¯ç çš„ç¼–ç æµç¨‹:<ul><li>å°†éªŒè¯ç å›¾ç‰‡è¿›è¡Œæœ¬åœ°ä¸‹è½½</li><li>è°ƒç”¨å¹³å°æä¾›çš„ç¤ºä¾‹ä»£ç è¿›è¡Œå›¾ç‰‡æ•°æ®è¯†åˆ«</li></ul></li></ul><p>æœ‰<strong>éªŒè¯ç </strong>,éªŒè¯ç å¯ä»¥è¯»å–åˆ°ä½†æµ‹è¯•æœªæˆåŠŸ</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># éªŒè¯ç </span><span class="token keyword">import</span> requests<span class="token keyword">from</span> lxml <span class="token keyword">import</span> html<span class="token keyword">import</span> chaojiying<span class="token comment"># å°è£…è¯†åˆ«éªŒè¯ç å‡½æ•°</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'</span>    <span class="token punctuation">&#125;</span>    url <span class="token operator">=</span> <span class="token string">"https://so.gushiwen.cn/user/login.aspx?from=http://so.gushiwen.cn/user/collect.aspx"</span>    page_text <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>text    tree <span class="token operator">=</span> html<span class="token punctuation">.</span>etree<span class="token punctuation">.</span>HTML<span class="token punctuation">(</span>page_text<span class="token punctuation">)</span>    code_img_src <span class="token operator">=</span> <span class="token string">'https://so.gushiwen.cn/'</span> <span class="token operator">+</span> tree<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//*[@id="imgCode"]/@src'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>code_img_src<span class="token punctuation">)</span>    code_img_data <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>code_img_src<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>content    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./code.jpg'</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>        fp<span class="token punctuation">.</span>write<span class="token punctuation">(</span>code_img_data<span class="token punctuation">)</span>    chaojiying <span class="token operator">=</span> chaojiying<span class="token punctuation">.</span>Chaojiying_Client<span class="token punctuation">(</span><span class="token string">'19858165529'</span><span class="token punctuation">,</span> <span class="token string">'hxl158120'</span><span class="token punctuation">,</span> <span class="token string">'925040'</span><span class="token punctuation">)</span>  <span class="token comment"># ç”¨æˆ·ä¸­å¿ƒ>>è½¯ä»¶ID ç”Ÿæˆä¸€ä¸ªæ›¿æ¢ 96001</span>    im <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./code.jpg'</span><span class="token punctuation">,</span> <span class="token string">'rb'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment"># æœ¬åœ°å›¾ç‰‡æ–‡ä»¶è·¯å¾„ æ¥æ›¿æ¢ a.jpg æœ‰æ—¶WINç³»ç»Ÿé¡»è¦//</span>    code <span class="token operator">=</span> chaojiying<span class="token punctuation">.</span>PostPic<span class="token punctuation">(</span>im<span class="token punctuation">,</span> <span class="token number">1004</span><span class="token punctuation">)</span>    code_img <span class="token operator">=</span> code<span class="token punctuation">[</span><span class="token string">'pic_str'</span><span class="token punctuation">]</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>code_img<span class="token punctuation">)</span>  <span class="token comment"># 1902 éªŒè¯ç ç±»å‹  å®˜æ–¹ç½‘ç«™>>ä»·æ ¼ä½“ç³» 3.4+ç‰ˆ print åè¦åŠ ()</span>    <span class="token comment"># æ¨¡æ‹Ÿç™»é™†</span>    login_url <span class="token operator">=</span> <span class="token string">"https://so.gushiwen.cn/user/login.aspx?"</span>    data <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">'from'</span><span class="token punctuation">:</span> <span class="token string">'http://so.gushiwen.cn/user/collect.aspx'</span><span class="token punctuation">,</span>        <span class="token string">'email'</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>        <span class="token string">'pwd'</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>        <span class="token string">'code'</span><span class="token punctuation">:</span> code_img<span class="token punctuation">,</span>        <span class="token string">'denglu'</span><span class="token punctuation">:</span> <span class="token string">'ç™»å½•'</span><span class="token punctuation">,</span>    <span class="token punctuation">&#125;</span>    response <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token operator">=</span>login_url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>    login_page_text <span class="token operator">=</span> response<span class="token punctuation">.</span>text    <span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span>    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'changyan.html'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>        fp<span class="token punctuation">.</span>write<span class="token punctuation">(</span>login_page_text<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><code>cookie</code> : ç”¨æ¥è®©æœåŠ¡ç«¯è®°å½•å®¢æˆ·ç«¯çš„ç›¸å…³çŠ¶æ€</li><li>è‡ªåŠ¨å¤„ç†: <ul><li><code>cookie</code>æ¥æºäºæ¨¡æ‹Ÿç™»é™†è¯·æ±‚å,ç”±æœåŠ¡ç«¯åˆ›å»º</li><li><code>session</code>ä¼šè¯å¯¹è±¡:<ul><li>è¿›è¡Œè¯·æ±‚çš„å‘é€</li><li>å¦‚æœè¯·æ±‚ä¸­äº§ç”Ÿäº†<code>cookie</code>,åˆ™ç”±<code>cookie</code>ä¼šè¢«è‡ªåŠ¨å­˜å‚¨/æºå¸¦åœ¨<code>session</code>å¯¹è±¡ä¸­</li></ul></li></ul></li></ul><p>æ— <strong>éªŒè¯ç </strong>,æ¨¡æ‹Ÿç™»é™†å¹¶è·å–ç”¨æˆ·æ•°æ® æµ‹è¯•æˆåŠŸ</p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># æ¨¡æ‹Ÿç™»é™†æ— éªŒè¯ç </span><span class="token keyword">import</span> requests<span class="token keyword">from</span> lxml <span class="token keyword">import</span> html<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'</span>    <span class="token punctuation">&#125;</span>    session <span class="token operator">=</span> requests<span class="token punctuation">.</span>session<span class="token punctuation">(</span><span class="token punctuation">)</span>    url <span class="token operator">=</span> <span class="token string">"https://work.shopeebao1688.com/login.html"</span>    page_text <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>text    tree <span class="token operator">=</span> html<span class="token punctuation">.</span>etree<span class="token punctuation">.</span>HTML<span class="token punctuation">(</span>page_text<span class="token punctuation">)</span>    login_url <span class="token operator">=</span> <span class="token string">"https://work.shopeebao1688.com/index/Login/doLogin?username=13668567749&amp;password=yangbiao2021"</span>    data <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">'username'</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>        <span class="token string">'password'</span><span class="token punctuation">:</span> <span class="token string">''</span>    <span class="token punctuation">&#125;</span>    response <span class="token operator">=</span> session<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token operator">=</span>login_url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span>    login_page_text <span class="token operator">=</span> response<span class="token punctuation">.</span>text    <span class="token keyword">print</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>status_code<span class="token punctuation">)</span>    detail_url <span class="token operator">=</span> <span class="token string">"https://work.shopeebao1688.com/main"</span>    <span class="token comment"># ä½¿ç”¨æºå¸¦cookie çš„session è¿›è¡Œgetè¯·æ±‚çš„å‘é€</span>    detail_page_text <span class="token operator">=</span> session<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>detail_url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>text    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'xiabao.html'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>        fp<span class="token punctuation">.</span>write<span class="token punctuation">(</span>detail_page_text<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ä»£ç†"><a href="#ä»£ç†" class="headerlink" title="ä»£ç†"></a>ä»£ç†</h3><ul><li><p>å¸¦è·¯æœåŠ¡å™¨</p></li><li><p>ä»£ç†çš„ä½œç”¨:</p><ul><li>çªç ´è‡ªèº«è®¿é—®é™åˆ¶</li><li>éšè—è‡ªèº«çœŸå®IP</li></ul></li><li><p>ä»£ç†ç›¸å…³ç½‘ç«™</p><ul><li>å¿«ä»£ç†</li></ul></li><li><p>ä»£ç†<code>ip</code>ç±»å‹</p><ul><li><code>http</code>:åº”ç”¨åˆ°httpåè®®å¯¹åº”çš„urlä¸­</li><li><code>https</code>:åº”ç”¨åˆ°httpåè®®å¯¹åº”çš„urlä¸­ </li></ul></li><li><p>ä»£ç†<code>ip</code>çš„åŒ¿ååº¦</p><ul><li>é€æ˜ï¼šæœåŠ¡å™¨çŸ¥é“è¯¥æ¬¡è¯·æ±‚ä½¿ç”¨äº†ä»£ç†ï¼Œä¹ŸçŸ¥é“è¯·æ±‚å¯¹åº”çš„çœŸå®ip</li><li>åŒ¿åï¼šçŸ¥é“ä½¿ç”¨äº†ä»£ç†ï¼Œä½†ä¸çŸ¥é“çœŸå®ip</li><li>é«˜åŒ¿ï¼šä¸çŸ¥é“ä½¿ç”¨äº†ä»£ç†ï¼Œè·Ÿä¸çŸ¥é“çœŸå®çš„ip</li></ul></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># ä»£ç†æœåŠ¡å™¨  æœªæˆåŠŸï¼ˆå¯èƒ½æ˜¯æ²¡æ‰¾åˆ°httpsçš„æœåŠ¡å™¨ï¼‰</span><span class="token keyword">import</span> requestsurl <span class="token operator">=</span> <span class="token string">"https://www.baidu.com/s?ie=UTF-8&amp;wd=ip"</span>headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span>    <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'</span><span class="token punctuation">&#125;</span>page_text <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> proxies<span class="token operator">=</span><span class="token punctuation">&#123;</span><span class="token string">"HTTP"</span><span class="token punctuation">:</span> <span class="token string">'39.99.149.148'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text<span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'ip2.html'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>    fp<span class="token punctuation">.</span>write<span class="token punctuation">(</span>page_text<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¼‚æ­¥çˆ¬è™«ä¹‹çº¿ç¨‹æ± "><a href="#å¼‚æ­¥çˆ¬è™«ä¹‹çº¿ç¨‹æ± " class="headerlink" title="å¼‚æ­¥çˆ¬è™«ä¹‹çº¿ç¨‹æ± "></a>å¼‚æ­¥çˆ¬è™«ä¹‹çº¿ç¨‹æ± </h3><ul><li>çº¿ç¨‹æ± å¤„ç†çš„æ˜¯é˜»å¡ä¸”è€—æ—¶çš„æ“ä½œ</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># çˆ¬å–æ¢¨è§†é¢‘</span><span class="token keyword">import</span> requests<span class="token keyword">from</span> lxml <span class="token keyword">import</span> html<span class="token keyword">from</span> multiprocessing<span class="token punctuation">.</span>dummy <span class="token keyword">import</span> Pool<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'</span>    <span class="token punctuation">&#125;</span>    url <span class="token operator">=</span> <span class="token string">"https://www.pearvideo.com/category_10"</span>    page_text <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>text    tree <span class="token operator">=</span> html<span class="token punctuation">.</span>etree<span class="token punctuation">.</span>HTML<span class="token punctuation">(</span>page_text<span class="token punctuation">)</span>    li_list <span class="token operator">=</span> tree<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//ul[@id="listvideoListUl"]/li'</span><span class="token punctuation">)</span>    urls <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>  <span class="token comment"># æ‰€æœ‰è§†é¢‘çš„è¿æ¥</span>    <span class="token keyword">for</span> li <span class="token keyword">in</span> li_list<span class="token punctuation">:</span>        detail_url <span class="token operator">=</span> <span class="token string">'https://www.pearvideo.com/'</span> <span class="token operator">+</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./div/a/@href'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        href <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./div/a/@href'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        name <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./div/a/div[2]/text()'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'.mp4'</span>        video_id <span class="token operator">=</span> detail_url<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'_'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>        headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'</span>            <span class="token punctuation">,</span> <span class="token string">'Referer'</span><span class="token punctuation">:</span> <span class="token string">'https://www.pearvideo.com/'</span> <span class="token operator">+</span> href        <span class="token punctuation">&#125;</span>        video_href <span class="token operator">=</span> <span class="token string">'https://www.pearvideo.com/videoStatus.jsp?contId='</span> <span class="token operator">+</span> video_id        video_url <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>video_href<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>        video <span class="token operator">=</span> video_url<span class="token punctuation">[</span><span class="token string">"videoInfo"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"videos"</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string">"srcUrl"</span><span class="token punctuation">]</span>        video <span class="token operator">=</span> video<span class="token punctuation">.</span>replace<span class="token punctuation">(</span>video<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'-'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'cont-%s'</span> <span class="token operator">%</span> video_id<span class="token punctuation">)</span>        dic <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token string">'name'</span><span class="token punctuation">:</span> name<span class="token punctuation">,</span>            <span class="token string">'url'</span><span class="token punctuation">:</span> video        <span class="token punctuation">&#125;</span>        urls<span class="token punctuation">.</span>append<span class="token punctuation">(</span>dic<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>urls<span class="token punctuation">)</span>    <span class="token keyword">def</span> <span class="token function">get_video_data</span><span class="token punctuation">(</span>dic<span class="token punctuation">)</span><span class="token punctuation">:</span>        url <span class="token operator">=</span> dic<span class="token punctuation">[</span><span class="token string">'url'</span><span class="token punctuation">]</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>dic<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'æ­£åœ¨ä¸‹è½½ã€‚ã€‚ã€‚'</span><span class="token punctuation">)</span>        data <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>content        <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>dic<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>            fp<span class="token punctuation">.</span>write<span class="token punctuation">(</span>data<span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>dic<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">'ä¸‹è½½æˆåŠŸ'</span><span class="token punctuation">)</span>    <span class="token comment"># ä½¿ç”¨çº¿ç¨‹æ± å¯¹è§†é¢‘æ•°æ®è¿›è¡Œè¯·æ±‚</span>    pool <span class="token operator">=</span> Pool<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>    pool<span class="token punctuation">.</span><span class="token builtin">map</span><span class="token punctuation">(</span>get_video_data<span class="token punctuation">,</span> urls<span class="token punctuation">)</span>    pool<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>    pool<span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å•çº¿ç¨‹-å¼‚æ­¥åç¨‹"><a href="#å•çº¿ç¨‹-å¼‚æ­¥åç¨‹" class="headerlink" title="å•çº¿ç¨‹+å¼‚æ­¥åç¨‹"></a>å•çº¿ç¨‹+å¼‚æ­¥åç¨‹</h3><ul><li><code>event_loop</code>:äº‹ä»¶å¾ªç¯,ç›¸å½“äºä¸€ä¸ªæ— é™å¾ªç¯,æˆ‘ä»¬å¯ä»¥æŠŠä¸€äº›å‡½æ•°æ³¨å†Œåˆ°è¿™ä¸ªäº‹ä»¶å¾ªç¯ä¸Š,å½“æ»¡è¶³æŸäº›æ¡ä»¶æ—¶,å‡½æ•°å°±ä¼šè¢«æ‰§è¡Œ</li><li><code>coroutine</code>: åç¨‹å¯¹è±¡,å¯ä»¥æŠŠåç¨‹å¯¹è±¡æ³¨å†Œåˆ°äº‹ä»¶å¾ªç¯ä¸­,å®ƒä¼šè¢«äº‹ä»¶å¾ªç¯è°ƒç”¨.å¯ä»¥ä½¿ç”¨<code>async</code>å…³é”®å­—å®šä¹‰ä¸€ä¸ªæ–¹æ³•,è¿™ä¸ªæ–¹æ³•åœ¨è°ƒç”¨æ—¶ä¸ä¼šæ‰§è¡Œ,è€Œæ˜¯è¿”å›ä¸€ä¸ªåç¨‹å¯¹è±¡</li><li><code>task</code>:ä»»åŠ¡,å®ƒæ˜¯å¯¹åç¨‹å¯¹è±¡çš„ä¸€ä¸ªå°è£…,åŒ…å«äº†ä»»åŠ¡çš„å„ä¸ªçŠ¶æ€</li><li><code>future</code>: ä»£è¡¨å°†æ¥æ‰§è¡Œæˆ–è¿˜æ²¡æœ‰æ‰§è¡Œçš„ä»»åŠ¡,å®é™…ä¸Šå’Œ<code>task</code>æ²¡æœ‰æœ¬è´¨åŒºåˆ«</li><li><code>async</code>: å®šä¹‰ä¸€ä¸ªåç¨‹</li><li><code>await</code>: ç”¨æ¥æŒ‚èµ·é˜»å¡æ–¹æ³•çš„æ‰§è¡Œ</li></ul><h4 id="åç¨‹åŸºç¡€æ¡ˆä¾‹æ¼”ç¤º"><a href="#åç¨‹åŸºç¡€æ¡ˆä¾‹æ¼”ç¤º" class="headerlink" title="åç¨‹åŸºç¡€æ¡ˆä¾‹æ¼”ç¤º"></a>åç¨‹åŸºç¡€æ¡ˆä¾‹æ¼”ç¤º</h4><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> asyncio<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">request</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ­£åœ¨è¯·æ±‚çš„url"</span><span class="token punctuation">,</span> url<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"è¯·æ±‚æˆåŠŸ"</span><span class="token punctuation">,</span> url<span class="token punctuation">)</span>    <span class="token keyword">return</span> url<span class="token comment"># async ä¿®é¥°çš„å‡½æ•°,è°ƒç”¨ä¹‹åè¿”å›çš„æ˜¯ä¸€ä¸ªåç¨‹å¯¹è±¡</span>c <span class="token operator">=</span> request<span class="token punctuation">(</span><span class="token string">'www.baidu.com'</span><span class="token punctuation">)</span><span class="token comment"># # åˆ›å»ºäº‹ä»¶å¾ªç¯å¯¹è±¡</span><span class="token comment"># loop = asyncio.get_event_loop()</span><span class="token comment"># # å°†åç¨‹å¯¹è±¡æ³¨å†Œåˆ°loopä¸­,ç„¶åå¯åŠ¨loop</span><span class="token comment"># loop.run_until_complete(c)</span><span class="token comment"># taskä½¿ç”¨</span><span class="token comment">#loop = asyncio.get_event_loop()</span><span class="token comment"># åŸºäºloopåˆ›å»ºä¸€ä¸ªtaskå¯¹è±¡</span><span class="token comment"># task = loop.create_task(c)</span><span class="token comment">#</span><span class="token comment"># print(task)</span><span class="token comment"># loop.run_until_complete(task)</span><span class="token comment"># print(task)</span><span class="token comment"># futureçš„ä½¿ç”¨</span><span class="token comment"># loop = asyncio.get_event_loop()</span><span class="token comment"># task = asyncio.ensure_future(c)</span><span class="token comment"># print(task)</span><span class="token comment"># loop.run_until_complete(task)</span><span class="token comment"># print(task)</span><span class="token keyword">def</span> <span class="token function">callback_func</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>task<span class="token punctuation">.</span>result<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment"># ç»‘å®šå›è°ƒ</span>loop <span class="token operator">=</span> asyncio<span class="token punctuation">.</span>get_event_loop<span class="token punctuation">(</span><span class="token punctuation">)</span>task <span class="token operator">=</span> asyncio<span class="token punctuation">.</span>ensure_future<span class="token punctuation">(</span>c<span class="token punctuation">)</span>task<span class="token punctuation">.</span>add_done_callback<span class="token punctuation">(</span>callback_func<span class="token punctuation">)</span>loop<span class="token punctuation">.</span>run_until_complete<span class="token punctuation">(</span>task<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å¤šä»»åŠ¡å¼‚æ­¥åç¨‹"><a href="#å¤šä»»åŠ¡å¼‚æ­¥åç¨‹" class="headerlink" title="å¤šä»»åŠ¡å¼‚æ­¥åç¨‹"></a>å¤šä»»åŠ¡å¼‚æ­¥åç¨‹</h4><ul><li>åŸºç¡€æ¡ˆä¾‹æ¼”ç¤º</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> asyncio<span class="token keyword">import</span> time<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">request</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ­£åœ¨ä¸‹è½½"</span><span class="token punctuation">,</span> url<span class="token punctuation">)</span>    <span class="token comment"># time.sleep(2)  6s</span>    <span class="token comment"># å½“åœ¨asyncioä¸­é‡åˆ°é˜»å¡æ“ä½œå¿…é¡»æ‰‹åŠ¨æŒ‚èµ·</span>    <span class="token keyword">await</span> asyncio<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>  <span class="token comment"># 2s</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"ä¸‹è½½å®Œæ¯•"</span><span class="token punctuation">,</span> url<span class="token punctuation">)</span>start <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span>urls <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token string">'www.baidu.com'</span><span class="token punctuation">,</span>    <span class="token string">'www.4399.com'</span><span class="token punctuation">,</span>    <span class="token string">'www.ssm.com'</span><span class="token punctuation">]</span>stasks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> url <span class="token keyword">in</span> urls<span class="token punctuation">:</span>    c <span class="token operator">=</span> request<span class="token punctuation">(</span>url<span class="token punctuation">)</span>    task <span class="token operator">=</span> asyncio<span class="token punctuation">.</span>ensure_future<span class="token punctuation">(</span>c<span class="token punctuation">)</span>    stasks<span class="token punctuation">.</span>append<span class="token punctuation">(</span>task<span class="token punctuation">)</span>loop <span class="token operator">=</span> asyncio<span class="token punctuation">.</span>get_event_loop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># å°†ä»»åŠ¡åˆ—è¡¨å°è£…åˆ°waitä¸­</span>loop<span class="token punctuation">.</span>run_until_complete<span class="token punctuation">(</span>asyncio<span class="token punctuation">.</span>wait<span class="token punctuation">(</span>stasks<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span>start<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>è¿›é˜¶æ¡ˆä¾‹</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> flask <span class="token keyword">import</span> Flask<span class="token keyword">import</span> timeapp <span class="token operator">=</span> Flask<span class="token punctuation">(</span>__name__<span class="token punctuation">)</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/ssm'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">index_ssm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token string">"hello ssm"</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/shao'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">index_shao</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token string">"hello shao"</span><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>route</span><span class="token punctuation">(</span><span class="token string">'/hxl'</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">index_hxl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>    <span class="token keyword">return</span> <span class="token string">"hello hxl"</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    app<span class="token punctuation">.</span>run<span class="token punctuation">(</span>threaded<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> asyncio<span class="token keyword">import</span> time<span class="token keyword">import</span> aiohttpurls <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token string">'http://127.0.0.1:5000/ssm'</span><span class="token punctuation">,</span> <span class="token string">'http://127.0.0.1:5000/shao'</span><span class="token punctuation">,</span> <span class="token string">'http://127.0.0.1:5000/hxl'</span><span class="token punctuation">]</span>start <span class="token operator">=</span> time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">get_page</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">async</span> <span class="token keyword">with</span> aiohttp<span class="token punctuation">.</span>ClientSession<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> session<span class="token punctuation">:</span>        <span class="token comment"># headers params/data proxy='http://ip:port'</span>        <span class="token keyword">async</span> <span class="token keyword">with</span> <span class="token keyword">await</span> session<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token punctuation">)</span> <span class="token keyword">as</span> response<span class="token punctuation">:</span>            page_text <span class="token operator">=</span> <span class="token keyword">await</span> response<span class="token punctuation">.</span>text<span class="token punctuation">(</span><span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>page_text<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'æ­£åœ¨ä¸‹è½½'</span><span class="token punctuation">,</span> url<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'ä¸‹è½½å®Œæ¯•'</span><span class="token punctuation">,</span> url<span class="token punctuation">)</span>tasks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token keyword">for</span> url <span class="token keyword">in</span> urls<span class="token punctuation">:</span>    c <span class="token operator">=</span> get_page<span class="token punctuation">(</span>url<span class="token punctuation">)</span>    task <span class="token operator">=</span> asyncio<span class="token punctuation">.</span>ensure_future<span class="token punctuation">(</span>c<span class="token punctuation">)</span>    tasks<span class="token punctuation">.</span>append<span class="token punctuation">(</span>task<span class="token punctuation">)</span>loop <span class="token operator">=</span> asyncio<span class="token punctuation">.</span>get_event_loop<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># å°†ä»»åŠ¡åˆ—è¡¨å°è£…åˆ°waitä¸­</span>loop<span class="token punctuation">.</span>run_until_complete<span class="token punctuation">(</span>asyncio<span class="token punctuation">.</span>wait<span class="token punctuation">(</span>tasks<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>time<span class="token punctuation">.</span>time<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> çˆ¬è™« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythoné—®é¢˜åˆé›†</title>
      <link href="/2021-11-16-python-pa-chong-wen-ti-he-ji.html"/>
      <url>/2021-11-16-python-pa-chong-wen-ti-he-ji.html</url>
      
        <content type="html"><![CDATA[<h3 id="ä¸­æ–‡ä¹±ç "><a href="#ä¸­æ–‡ä¹±ç " class="headerlink" title="ä¸­æ–‡ä¹±ç "></a>ä¸­æ–‡ä¹±ç </h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># é€šç”¨ä¸­æ–‡ä¹±ç çš„è§£å†³æ–¹æ¡ˆ</span>img_name <span class="token operator">=</span> img_name<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'iso-8859-1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'gbk'</span><span class="token punctuation">)</span><span class="token comment"># æ‰‹åŠ¨è®¾ç½®ç›¸åº”æ•°æ®çš„ç¼–ç æ ¼å¼</span>response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>response<span class="token punctuation">.</span>encoding <span class="token operator">=</span> <span class="token string">'utf-8'</span><span class="token comment">#  text -> content</span>response<span class="token punctuation">.</span>text æ”¹æˆ response<span class="token punctuation">.</span>content<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="çˆ¬è™«"><a href="#çˆ¬è™«" class="headerlink" title="çˆ¬è™«"></a>çˆ¬è™«</h3><ul><li>è§£å†³pythonçˆ¬è™«<code>requests.exceptions.SSLError: HTTPSConnectionPool(host=&#39;XXX&#39;, port=443)</code>é—®é¢˜</li></ul><ol><li>å®‰è£…<code>cryptography</code>ã€<code>pyOpenSSL</code>ã€<code>certifi</code>ä¸‰ä¸ªæ¨¡å—å³å¯</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip <span class="token function">install</span> cryptographypip <span class="token function">install</span> pyOpenSSLpip <span class="token function">install</span> certifi<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>requestsåº“æç¤ºè­¦å‘Šï¼š<code>InsecureRequestWarning: Unverified HTTPS request is being made. Adding certificate ver</code></li></ul><ol><li>åŠ å…¥å¦‚ä¸‹ä»£ç å³å¯</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python">requests<span class="token punctuation">.</span>packages<span class="token punctuation">.</span>urllib3<span class="token punctuation">.</span>disable_warnings<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>æå–htmlæ–‡ä»¶æŠ¥é”™<code>lxml.etree.XMLSyntaxError: Opening and ending tag mismatch: meta line 4 and head</code></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">åŸå› åœ¨äºhtmlæ ‡ç­¾æœªåŠ  <span class="token operator">/</span> æ‰€æœ‰çš„æ ‡ç­¾æœ€å¥½éƒ½ç”¨ <span class="token operator">/</span> æ¥ç»“æŸ<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><code>TypeError: can only concatenate str (not â€œlistâ€) to str</code>(åˆ—è¡¨å’Œå­—ç¬¦ä¸²çš„æŠ¥é”™è§£å†³æ–¹æ³•)</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å¼ºè½¬å³å¯</span><span class="token builtin">str</span><span class="token punctuation">(</span>title<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>è­¦å‘Š<code>DeprecationWarning: executable_path has been deprecated, please pass in a Service object</code></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># æ˜¯ä½¿ç”¨apiè¿‡æœŸå¯¼è‡´æ­¤è­¦å‘Š ä½¿ç”¨è¿™ä¸ªï¼ˆæµ‹è¯•æ¡ˆä¾‹ï¼‰å³å¯</span><span class="token keyword">from</span> selenium <span class="token keyword">import</span> webdriver<span class="token keyword">from</span> selenium<span class="token punctuation">.</span>webdriver<span class="token punctuation">.</span>chrome<span class="token punctuation">.</span>service <span class="token keyword">import</span> Services <span class="token operator">=</span> Service<span class="token punctuation">(</span><span class="token string">"chromedriver.exe"</span><span class="token punctuation">)</span>driver <span class="token operator">=</span> webdriver<span class="token punctuation">.</span>Chrome<span class="token punctuation">(</span>service<span class="token operator">=</span>s<span class="token punctuation">)</span>driver<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">'https://www.baidu.com/'</span><span class="token punctuation">)</span>driver<span class="token punctuation">.</span>quit<span class="token punctuation">(</span><span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æ ‡ç­¾å®šä½ä¸åˆ°<code>selenium.common.exceptions.ElementNotInteractableException: Message: element not interactable</code></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># ä½¿ç”¨æ ‡ç­¾çš„ç»å¯¹å®šä½</span>bro<span class="token punctuation">.</span>find_element<span class="token punctuation">(</span>By<span class="token punctuation">.</span>XPATH<span class="token punctuation">,</span><span class="token string">''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>lç±»å‹é”™è¯¯ :<code>TypeError: â€˜ItemMetaâ€˜ object does not support item assignment</code></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># æŠ¥é”™åŸå› ï¼šæœªæ‰¾åˆ°å…·ä½“itemï¼Œloadå‡ºé”™ï¼Œitemåé¢éœ€è¦åŠ ()è¿›è¡Œå®ä¾‹åŒ–ã€‚</span>item <span class="token operator">=</span> MeinvproItem<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>scrapyæ¡†æ¶å†™å…¥æ•°æ®åº“ä¸­å­˜å‚¨æ•°æ®éƒ¨åˆ†ä»£ç æŠ¥é”™ <code>redis.exceptions.DataError: Invalid input of type: &#39;dict&#39;. Convert to a byte, string or number first. </code></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># ä½¿ç”¨æ—§ç‰ˆæœ¬pip install redis==2.10.6ï¼Œå³å¯è§£å†³</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="jupyter"><a href="#jupyter" class="headerlink" title="jupyter"></a>jupyter</h3><ul><li>æ¯æ¬¡æ‰“å¼€jupyteræç¤ºå¦‚ä¸‹è¡Œä¿¡æ¯</li></ul><p><img src="https://img-blog.csdnimg.cn/2bad4a8b136c4f35a72dcd06bf0f74b3.png" alt="autopep8"></p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">pip <span class="token function">install</span> autopep8<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>è®¾ç½®ä»£ç æç¤ºåŠŸèƒ½</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å®‰è£…nbextensions</span>pip <span class="token function">install</span> jupyter_contrib_nbextensions -i https://pypi.mirrors.ustc.edu.cn/simplejupyter contrib nbextension <span class="token function">install</span> --user-------------------------------------------------------------------------------------------------------------------<span class="token comment"># å®‰è£…nbextensions_configurator</span>pip <span class="token function">install</span> --user jupyter_nbextensions_configurator jupyter nbextensions_configurator <span class="token builtin class-name">enable</span> --user<span class="token comment"># å‹¾é€‰Hinterlandå¯ç”¨ä»£ç è‡ªåŠ¨è¡¥å…¨</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> çˆ¬è™« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>çˆ¬è™«å¸¸ç”¨æ­£åˆ™è¡¨è¾¾å¼</title>
      <link href="/2021-11-16-pa-chong-chang-yong-zheng-ze-biao-da-shi.html"/>
      <url>/2021-11-16-pa-chong-chang-yong-zheng-ze-biao-da-shi.html</url>
      
        <content type="html"><![CDATA[<ul><li>å•å­—ç¬¦<ul><li><code>.</code> : é™¤æ¢è¡Œä»¥å¤–æ‰€æœ‰å­—ç¬¦</li><li><code>[]</code> : [aoe] [a-w] åŒ¹é…é›†åˆä¸­ä»»æ„ä¸€ä¸ªå­—ç¬¦</li><li><code>\d</code>ï¼šå…ƒå­—ç¬¦ï¼Œä»£è¡¨0-9ä¸­çš„ä»»æ„ä¸€ä¸ª</li><li><code>\D</code> : ä»£è¡¨ä»»æ„ä¸€ä¸ªéæ•°å­—å­—ç¬¦</li><li><code>\w</code> : æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿ã€ä¸­æ–‡</li><li><code>\W</code> : é<code>\w</code> </li><li><code>\s</code> : æ‰€æœ‰çš„ç©ºç™½å­—ç¬¦,åŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦ç­‰,ç­‰ä»·äº<code>\f\n\r\t\v</code></li><li><code>\S</code> : éç©ºç™½   </li></ul></li><li>æ•°é‡ä¿®é¥°<ul><li><code>*</code> : ä»»æ„å¤šæ¬¡   &gt;=0</li><li><code>+</code>: è‡³å°‘ä¸€æ¬¡    &gt;=1</li><li><code>?</code> : å¯æœ‰å¯æ—    0æ¬¡æˆ–ä¸€æ¬¡</li><li><code>&#123;m&#125;</code> : å›ºå®šmæ¬¡   hello{3,}</li><li><code>&#123;m,&#125;</code> : è‡³å°‘mæ¬¡</li><li><code>&#123;m,n&#125;</code> : m-næ¬¡</li></ul></li><li>è¾¹ç•Œ<ul><li><code>$</code> : ä»¥æŸæŸç»“å°¾</li><li><code>^</code> : ä»¥æŸæŸå¼€å¤´</li></ul></li><li>åˆ†ç»„<ul><li><code>(ab)</code></li></ul></li><li>è´ªå©ªæ¨¡å¼ : <code>.*</code></li><li>éè´ªå©ª(æƒ°æ€§)æ¨¡å¼ :<code> .*?</code></li><li><code>re.I</code> : å¿½ç•¥å¤§å°å†™</li><li><code>re.M</code> : å¤šè¡ŒåŒ¹é…</li><li><code>re.S</code> : ä½†è¡ŒåŒ¹é…</li><li><code>re.sub</code> : (æ­£åˆ™è¡¨è¾¾å¼,æ›¿æ¢å†…å®¹,å­—ç¬¦ä¸²)</li></ul><pre class="line-numbers language-Python" data-language="Python"><code class="language-Python">import rekey &#x3D; &quot;javapython1myslqpython1&quot;print(re.findall(&#39;python1&#39;, key)[1])key &#x3D; &quot;&lt;html&gt;&lt;h1&gt;hello world&lt;h1&gt;&lt;&#x2F;html&gt;&quot;print(re.findall(&#39;&lt;h1&gt;(.*)&lt;h1&gt;&#39;, key))string &#x3D; &quot;I like 170 girl&quot;print(re.findall(&#39;\d&#39;, string))key &#x3D; &quot;http:&#x2F;&#x2F;www.baidu.com and https:&#x2F;&#x2F;www.shaoshaossm.github.io&quot;print(re.findall(&#39;https:&#x2F;&#x2F;&#39;, key))key &#x3D; &#39;am@shao.com&#39;print(re.findall(&#39;s.*?\.&#39;, key))key &#x3D; &#39;saas and asa and saaas&#39;print(re.findall(&#39;sa&#123;1,2&#125;s&#39;,key))<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> è¡¨è¾¾å¼ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ­£åˆ™è¡¨è¾¾å¼ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonçˆ¬è™«åŸºç¡€</title>
      <link href="/2021-11-14-python-pa-chong.html"/>
      <url>/2021-11-14-python-pa-chong.html</url>
      
        <content type="html"><![CDATA[<h3 id="çˆ¬è™«åŸºç¡€ç®€ä»‹"><a href="#çˆ¬è™«åŸºç¡€ç®€ä»‹" class="headerlink" title="çˆ¬è™«åŸºç¡€ç®€ä»‹"></a>çˆ¬è™«åŸºç¡€ç®€ä»‹</h3><h3 id="httpåè®®"><a href="#httpåè®®" class="headerlink" title="httpåè®®"></a>httpåè®®</h3><ul><li>æ¦‚å¿µ: æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯è¿›è¡Œæ•°æ®äº¤äº’çš„ä¸€ç§å½¢å¼</li><li><code>user-Agent</code>: è¯·æ±‚è½½ä½“çš„èº«ä»½è¡¨ç¤º</li><li>Connection : è¯·æ±‚å®Œæ¯•å,æ˜¯æ–­å¼€è¿æ¥è¿˜æ˜¯ä¿æŒè¿æ¥ </li><li><code>Content-Type</code> : æœåŠ¡å™¨ç›¸åº”å®¢æˆ·ç«¯çš„æ•°æ®ç±»å‹ </li></ul><pre class="line-numbers language-http" data-language="http"><code class="language-http"># user-Agent ( NetWork-All-Headers )Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="httpsåè®®"><a href="#httpsåè®®" class="headerlink" title="httpsåè®®"></a>httpsåè®®</h4><ul><li>æ¦‚å¿µ: å®‰å…¨çš„è¶…æ–‡æœ¬æ•°æ®ä¼ è¾“åè®®</li><li>æ™®éé‡‡ç”¨çš„åŠ å¯†æ–¹å¼ : è¯ä¹¦å¯†é’¥åŠ å¯†</li></ul><h3 id="requestæ¨¡å—"><a href="#requestæ¨¡å—" class="headerlink" title="requestæ¨¡å—"></a>requestæ¨¡å—</h3><ul><li>ä½œç”¨ï¼šæ¨¡æ‹Ÿæµè§ˆå™¨å‘é€è¯·æ±‚</li><li>requestæ¨¡å—ç¼–ç æµç¨‹<ul><li>æŒ‡å®šurl</li><li>å‘èµ·è¯·æ±‚</li><li>è·å–å“åº”æ•°æ®</li><li>æŒä¹…åŒ–å­˜å‚¨</li></ul></li></ul><ol><li>çˆ¬å–<code>https://shaoshaossm.github.io/</code> é¦–é¡µæ•°æ®</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requests<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    url <span class="token operator">=</span> <span class="token string">"https://shaoshaossm.github.io/"</span>    response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">)</span>    page_text <span class="token operator">=</span> response<span class="token punctuation">.</span>text    <span class="token keyword">print</span><span class="token punctuation">(</span>page_text<span class="token punctuation">)</span>    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./ssm.html'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>        fp<span class="token punctuation">.</span>write<span class="token punctuation">(</span>page_text<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"çˆ¬å–ç»“æŸ"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>è±†ç“£é«˜åˆ†ç”µå½±</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># è±†ç“£é«˜åˆ†ç”µå½±</span><span class="token keyword">import</span> requests<span class="token keyword">import</span> json<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    <span class="token comment"># UAä¼ªè£…</span>    headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'</span>    <span class="token punctuation">&#125;</span>    url <span class="token operator">=</span> <span class="token string">"https://movie.douban.com/j/search_subjects?"</span>    param <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">'type'</span><span class="token punctuation">:</span> <span class="token string">'movie'</span><span class="token punctuation">,</span>        <span class="token string">'tag'</span><span class="token punctuation">:</span> <span class="token string">'çƒ­é—¨'</span><span class="token punctuation">,</span>        <span class="token string">'sort'</span><span class="token punctuation">:</span> <span class="token string">'recommend'</span><span class="token punctuation">,</span>        <span class="token string">'page_limit'</span><span class="token punctuation">:</span> <span class="token string">'20'</span><span class="token punctuation">,</span>        <span class="token string">'page_start'</span><span class="token punctuation">:</span> <span class="token string">'0'</span>    <span class="token punctuation">&#125;</span>    <span class="token comment"># æºå¸¦å‚æ•°çš„</span>    response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span> params<span class="token operator">=</span>param<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>    list_data <span class="token operator">=</span> response<span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>list_data<span class="token punctuation">)</span>    <span class="token comment"># æŒä¹…åŒ–å­˜å‚¨</span>    fp <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./douban.json'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>    json<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>list_data<span class="token punctuation">,</span> fp<span class="token punctuation">,</span> ensure_ascii<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'voer!!!'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>è¯ç›‘æ€»å±€åŒ–å¦†å“ç”Ÿäº§è®¸å¯</li></ol><ul><li> ç™¾åº¦æœ å›½å®¶è¯å“ç›‘ç£ç®¡ç†å±€ï¼Œç‚¹é¦–é¡µåŒ–å¦†å“â€”â€”åŒ–å¦†å“æŸ¥è¯¢â€”â€”åŒ–å¦†å“ç”Ÿäº§è®¸å¯è·è¯ä¼ä¸š </li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># è¯ç›‘æ€»å±€åŒ–å¦†å“ç”Ÿäº§è®¸å¯</span><span class="token keyword">import</span> requests<span class="token keyword">import</span> json<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    <span class="token comment"># UAä¼ªè£…</span>    headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'</span>    <span class="token punctuation">&#125;</span>    id_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    all_data_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    url <span class="token operator">=</span> <span class="token string">"http://scxk.nmpa.gov.cn:81/xk/itownet/portalAction.do?method=getXkzsList"</span>    <span class="token comment"># postè¯·æ±‚å‚æ•°å¤„ç†</span>    <span class="token keyword">for</span> page <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        page <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>page<span class="token punctuation">)</span>        data <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token string">'on'</span><span class="token punctuation">:</span> <span class="token string">'true'</span><span class="token punctuation">,</span>            <span class="token string">'page'</span><span class="token punctuation">:</span> page<span class="token punctuation">,</span>            <span class="token string">'pageSize'</span><span class="token punctuation">:</span> <span class="token string">'3'</span><span class="token punctuation">,</span>            <span class="token string">'productName'</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>            <span class="token string">'conditionType'</span><span class="token punctuation">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>            <span class="token string">'applyname'</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>            <span class="token string">'applysn'</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>        <span class="token punctuation">&#125;</span>        <span class="token comment"># æºå¸¦å‚æ•°çš„</span>        json_ids <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> dic <span class="token keyword">in</span> json_ids<span class="token punctuation">[</span><span class="token string">'list'</span><span class="token punctuation">]</span><span class="token punctuation">:</span>            id_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>dic<span class="token punctuation">[</span><span class="token string">'ID'</span><span class="token punctuation">]</span><span class="token punctuation">)</span>    post_url <span class="token operator">=</span> <span class="token string">"http://scxk.nmpa.gov.cn:81/xk/itownet/portalAction.do?method=getXkzsById"</span>    <span class="token keyword">for</span> <span class="token builtin">id</span> <span class="token keyword">in</span> id_list<span class="token punctuation">:</span>        data <span class="token operator">=</span> <span class="token punctuation">&#123;</span>            <span class="token string">'id'</span><span class="token punctuation">:</span> <span class="token builtin">id</span>        <span class="token punctuation">&#125;</span>        detail_json <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span>url<span class="token operator">=</span>post_url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">,</span> data<span class="token operator">=</span>data<span class="token punctuation">)</span><span class="token punctuation">.</span>json<span class="token punctuation">(</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>detail_json<span class="token punctuation">)</span>        all_data_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span>detail_json<span class="token punctuation">)</span>    <span class="token comment"># æŒä¹…åŒ–å­˜å‚¨</span>    fp <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./allData.json'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>    json<span class="token punctuation">.</span>dump<span class="token punctuation">(</span>all_data_list<span class="token punctuation">,</span> fp<span class="token operator">=</span>fp<span class="token punctuation">,</span> ensure_ascii<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">'voer!!!'</span><span class="token punctuation">)</span><span class="token comment"># è‹¥æŠ¥é”™å¤šè¯•å‡ æ¬¡</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="èšç„¦çˆ¬è™«"><a href="#èšç„¦çˆ¬è™«" class="headerlink" title="èšç„¦çˆ¬è™«"></a>èšç„¦çˆ¬è™«</h3><ul><li><p>çˆ¬å–é¡µé¢ä¸­æŒ‡å®šçš„å†…å®¹</p></li><li><p>æ•°æ®è§£æåˆ†ç±»</p><ul><li>æ­£åˆ™</li><li>bs4</li><li><strong>xpath</strong></li></ul></li><li><p>æ•°æ®è§£æåŸç†æ¦‚è¿°:</p><ul><li>è¿›è¡ŒæŒ‡å®šæ ‡ç­¾çš„å®šä½</li><li>æ ‡ç­¾æˆ–è€…æ ‡ç­¾å¯¹åº”çš„å±æ€§ä¸­å­˜å‚¨çš„æ•°æ®çš„å€¼è¿›è¡Œæå–(è§£æ)</li></ul></li><li><p><font color="red">æ­£åˆ™è¡¨è¾¾å¼</font>çˆ¬å–ç³—äº‹ç™¾ç§‘å›¾ç‰‡â€“åˆ†é¡µçˆ¬å–</p></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># çˆ¬å–ç³—äº‹ç™¾ç§‘å›¾ç‰‡--åˆ†é¡µçˆ¬å–</span><span class="token keyword">import</span> requests<span class="token keyword">import</span> re<span class="token keyword">import</span> osrequests<span class="token punctuation">.</span>packages<span class="token punctuation">.</span>urllib3<span class="token punctuation">.</span>disable_warnings<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token string">'E:\\pachongzhuanyongwenjianjia\\qiutu'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        os<span class="token punctuation">.</span>makedirs<span class="token punctuation">(</span><span class="token string">'E:\\pachongzhuanyongwenjianjia\\qiutu'</span><span class="token punctuation">)</span>    headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'</span>    <span class="token punctuation">&#125;</span>    <span class="token comment"># è®¾ç½®ä¸€ä¸ªé€šç”¨çš„urlæ¨¡æ¿</span>    url <span class="token operator">=</span> <span class="token string">"https://www.qiushibaike.com/imgrank/page/%d/"</span>    <span class="token keyword">for</span> pageNum <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        new_url <span class="token operator">=</span> <span class="token builtin">format</span><span class="token punctuation">(</span>url <span class="token operator">%</span> pageNum<span class="token punctuation">)</span>        <span class="token comment"># äºŒè¿›åˆ¶å½¢å¼çš„å›¾ç‰‡æ•°æ®</span>        page_text <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>new_url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>text        ex <span class="token operator">=</span> <span class="token string">'&lt;div class="thumb">.*?&lt;img src="(.*?)" alt.*?&lt;/div>'</span>        img_src_list <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>ex<span class="token punctuation">,</span> page_text<span class="token punctuation">,</span> re<span class="token punctuation">.</span>S<span class="token punctuation">)</span>        <span class="token keyword">for</span> src <span class="token keyword">in</span> img_src_list<span class="token punctuation">:</span>            <span class="token comment"># æ‹¼æ¥å‡ºä¸€ä¸ªå®Œæ•´çš„å›¾ç‰‡åœ°å€</span>            src <span class="token operator">=</span> <span class="token string">'https:'</span> <span class="token operator">+</span> src            <span class="token comment"># è¯·æ±‚å›¾ç‰‡äºŒè¿›åˆ¶æ•°æ®</span>            img_data <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>src<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>content            <span class="token comment"># ç”Ÿæˆå›¾ç‰‡åç§°</span>            img_name <span class="token operator">=</span> src<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span>            <span class="token comment"># å›¾ç‰‡å­˜å‚¨è·¯è·¯å¾„</span>            imgPath <span class="token operator">=</span> <span class="token string">'E:\\pachongzhuanyongwenjianjia\\qiutu\\'</span> <span class="token operator">+</span> img_name            <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>imgPath<span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>                fp<span class="token punctuation">.</span>write<span class="token punctuation">(</span>img_data<span class="token punctuation">)</span>                <span class="token keyword">print</span><span class="token punctuation">(</span>img_name<span class="token punctuation">,</span> <span class="token string">"ä¸‹è½½æˆåŠŸ"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p><code>bs4</code>æ•°æ®è§£æåŸç†:</p><ul><li>å®ä¾‹åŒ–ä¸€ä¸ª<code>BeautifulSoup</code>å¯¹è±¡,å¹¶ä¸”å°†é¡µé¢æºç æ•°æ®åŠ è½½åˆ°è¯¥å¯¹è±¡ä¸­</li><li>é€šè¿‡è°ƒç”¨<code>BeautifulSoup</code>å¯¹è±¡ä¸­ç›¸å…³å±æ€§æˆ–æ–¹æ³•è¿›è¡Œæ ‡ç­¾å®šä½å’Œæ•°æ®æå–</li></ul></li><li><p>ç¯å¢ƒå®‰è£…</p><ul><li>pip install bs4</li><li>pip install lxml</li></ul></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># æä¾›æ•°æ®è§£æçš„æ–¹æ³•å’Œå±æ€§</span>soup<span class="token punctuation">.</span>tagName <span class="token punctuation">:</span> è¿”å›æ–‡æ¡£ä¸­ç¬¬ä¸€æ¬¡å‡ºç°çš„tagNameå¯¹åº”çš„æ ‡ç­¾soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">:</span>     <span class="token operator">-</span><span class="token operator">-</span> find<span class="token punctuation">(</span><span class="token string">'tagName'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>ç­‰åŒäºsoup<span class="token punctuation">.</span>div    <span class="token operator">-</span><span class="token operator">-</span> å±æ€§å®šä½<span class="token punctuation">:</span>        <span class="token operator">-</span><span class="token operator">-</span> soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span>class_<span class="token operator">/</span><span class="token builtin">id</span><span class="token operator">/</span>attr<span class="token operator">=</span><span class="token string">'song'</span><span class="token punctuation">)</span>soup<span class="token punctuation">.</span>find_all<span class="token punctuation">(</span><span class="token string">'tagName'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>è¿”å›ç¬¦åˆè¦æ±‚çš„æ‰€æœ‰æ ‡ç­¾<span class="token punctuation">(</span>åˆ—è¡¨<span class="token punctuation">)</span>select<span class="token punctuation">:</span>    <span class="token operator">-</span><span class="token operator">-</span> select<span class="token punctuation">(</span><span class="token string">'æŸç§é€‰æ‹©å™¨ (id,class,æ ‡ç­¾...é€‰æ‹©å™¨)'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>è¿”å›çš„æ˜¯ä¸€ä¸ªåˆ—è¡¨    <span class="token operator">-</span><span class="token operator">-</span> å±‚çº§é€‰æ‹©å™¨<span class="token punctuation">:</span>        <span class="token operator">-</span><span class="token operator">-</span> soup<span class="token punctuation">.</span>select<span class="token punctuation">(</span><span class="token string">'.tang > ul > li > a'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token operator">></span> è¡¨ç¤ºä¸€ä¸ªå±‚çº§ <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> ç¬¬ä¸€ä¸ªæ•°æ®        <span class="token operator">-</span><span class="token operator">-</span> soup<span class="token punctuation">.</span>select<span class="token punctuation">(</span><span class="token string">'.tang > ul a'</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token operator">></span> ç©ºæ ¼è¡¨ç¤ºå¤šä¸ªä¸ªå±‚çº§è·å–æ ‡ç­¾ä¹‹é—´çš„æ–‡æœ¬æ•°æ®<span class="token punctuation">:</span>    <span class="token operator">-</span><span class="token operator">-</span> soup<span class="token punctuation">.</span>a<span class="token punctuation">.</span>text<span class="token operator">/</span>string<span class="token operator">/</span>get_text<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token operator">-</span><span class="token operator">-</span> text<span class="token operator">/</span>get_text<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>å¯ä»¥è·å–æ ‡ç­¾ä¸­æ‰€æœ‰çš„æ–‡æœ¬å†…å®¹    <span class="token operator">-</span><span class="token operator">-</span> string<span class="token punctuation">:</span> åªå¯ä»¥è·å–è¯¥æ ‡ç­¾ä¸‹ç›´ç³»çš„æ–‡æœ¬å†…å®¹è·å–æ ‡ç­¾ä¸­çš„å±æ€§å€¼<span class="token punctuation">:</span>    <span class="token operator">-</span><span class="token operator">-</span> soup<span class="token punctuation">.</span>a<span class="token punctuation">[</span><span class="token string">'href'</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><code>bs4</code>çˆ¬å–ä¸‰å›½æ¼”ä¹‰ä¸­æ‰€æœ‰ç« èŠ‚å’Œæ–‡ç« å†…å®¹</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># çˆ¬å–ä¸‰å›½æ¼”ä¹‰ä¸­æ‰€æœ‰ç« èŠ‚å’Œæ–‡ç« å†…å®¹</span><span class="token keyword">import</span> requests<span class="token keyword">from</span> bs4 <span class="token keyword">import</span> BeautifulSoup<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'</span>    <span class="token punctuation">&#125;</span>    url <span class="token operator">=</span> <span class="token string">"https://www.shicimingju.com/book/sanguoyanyi.html"</span>    page_text <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>content    <span class="token comment"># å®ä¾‹åŒ–BeautifulSoupå¯¹è±¡ å°†é¡µé¢æºç æ•°æ®åŠ è½½åˆ°è¯¥å¯¹è±¡ä¸­</span>    soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>page_text<span class="token punctuation">,</span> <span class="token string">'lxml'</span><span class="token punctuation">)</span>    <span class="token comment"># è§£æç« èŠ‚æ ‡é¢˜å’Œè¯¦æƒ…é¡µurl</span>    li_list <span class="token operator">=</span> soup<span class="token punctuation">.</span>select<span class="token punctuation">(</span><span class="token string">'.book-mulu > ul > li'</span><span class="token punctuation">)</span>    fp <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">'./sanguo.txt'</span><span class="token punctuation">,</span> <span class="token string">'w'</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>    <span class="token keyword">for</span> li <span class="token keyword">in</span> li_list<span class="token punctuation">:</span>        title <span class="token operator">=</span> li<span class="token punctuation">.</span>a<span class="token punctuation">.</span>string        detail_url <span class="token operator">=</span> <span class="token string">'https://www.shicimingju.com'</span> <span class="token operator">+</span> li<span class="token punctuation">.</span>a<span class="token punctuation">[</span><span class="token string">'href'</span><span class="token punctuation">]</span>        <span class="token comment"># å¯¹è¯¦æƒ…é¡µå‘èµ·è¯·æ±‚,è§£æç« èŠ‚å†…å®¹</span>        detail_page_text <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>detail_url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>content        <span class="token comment"># è§£æå‡ºè¯¦æƒ…é¡µä¸­ç›¸å…³çš„ç« èŠ‚å†…å®¹</span>        detail_soup <span class="token operator">=</span> BeautifulSoup<span class="token punctuation">(</span>detail_page_text<span class="token punctuation">,</span> <span class="token string">'lxml'</span><span class="token punctuation">)</span>        <span class="token comment"># è§£æåˆ°ç« èŠ‚å†…å®¹</span>        content <span class="token operator">=</span> detail_soup<span class="token punctuation">.</span>find<span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> class_<span class="token operator">=</span><span class="token string">'chapter_content'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>text        fp<span class="token punctuation">.</span>write<span class="token punctuation">(</span>title <span class="token operator">+</span> <span class="token string">':'</span> <span class="token operator">+</span> content <span class="token operator">+</span> <span class="token string">'\n'</span><span class="token punctuation">)</span>        <span class="token keyword">print</span><span class="token punctuation">(</span>title<span class="token punctuation">,</span> <span class="token string">'çˆ¬å–æˆåŠŸ!!!'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><code>xpath</code> è§£æåŸç†<ul><li>å®ä¾‹åŒ–ä¸€ä¸ª<code>etree</code>çš„å¯¹è±¡,ä¸”éœ€è¦å°†è¢«è§£æçš„é¡µé¢æºç æ•°æ®åŠ è½½åˆ°è¯¥å¯¹è±¡ä¸­</li><li>è°ƒç”¨<code>etree</code> å¯¹è±¡ä¸­çš„xpathæ–¹æ³•ç»“åˆç€xpathè¡¨è¾¾å¼å®ç°æ ‡ç­¾çš„å®šä½å’Œå†…å®¹çš„æ•è·</li></ul></li><li>ç¯å¢ƒå®‰è£…<ul><li>pin install lxml</li></ul></li><li><code>xpath</code>è¡¨è¾¾å¼<ul><li>/:è¡¨ç¤ºçš„æ˜¯ä»æ ¹èŠ‚ç‚¹å¼€å§‹å®šä½.è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ªå±‚çº§</li><li>//:è¡¨ç¤ºå¤šä¸ªå±‚çº§.å¯ä»¥ä»ä»»æ„ä½ç½®å¼€å§‹å®šä½</li><li>å±æ€§å®šä½: //div[@class=â€™songâ€™] tag[@attrName=â€attrValueâ€]</li><li>ç´¢å¼•å®šä½: //div[@class=â€™songâ€™]/p[3] ç´¢å¼•ä»1å¼€å§‹</li><li>å–æ–‡æœ¬:<ul><li>/text() è·å–çš„æ˜¯æ ‡ç­¾ä¸­ç›´ç³»çš„æ–‡æœ¬å†…å®¹</li><li>//text() æ ‡ç­¾ä¸­éç›´ç³»æ–‡æœ¬å†…å®¹ (æ‰€æœ‰æ–‡æœ¬çš„å†…å®¹)</li></ul></li><li>å–å±æ€§<ul><li>/@attrName   ===&gt;img/src</li></ul></li></ul></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># æ¼”ç¤ºç¤ºä¾‹</span><span class="token keyword">from</span> lxml <span class="token keyword">import</span> etree<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">'__main__'</span><span class="token punctuation">:</span>    tree <span class="token operator">=</span> etree<span class="token punctuation">.</span>parse<span class="token punctuation">(</span><span class="token string">'1.html'</span><span class="token punctuation">)</span>    <span class="token comment">#  r = tree.xpath('/html/body/h1')</span>    <span class="token comment"># r = tree.xpath('//h1')</span>    <span class="token comment"># r = tree.xpath('//div[@class="song"]')</span>    <span class="token comment"># r = tree.xpath('//div')</span>    <span class="token comment"># r = tree.xpath('//div[@class="song"]//li[5]/a/text()')[0]</span>    <span class="token comment"># r = tree.xpath('//li[7]//text()')</span>    <span class="token comment"># r = tree.xpath('//div[@class="song"]//text()')</span>    r <span class="token operator">=</span> tree<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//div[@class="song"]/img/@src'</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å…¨å›½åŸå¸‚åˆ—è¡¨(ä¸¤ç§æ–¹å¼)</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> requests<span class="token keyword">from</span> lxml <span class="token keyword">import</span> html<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'</span>    <span class="token punctuation">&#125;</span>    url <span class="token operator">=</span> <span class="token string">"https://www.aqistudy.cn/historydata/"</span>    page_text <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>text    tree <span class="token operator">=</span> html<span class="token punctuation">.</span>etree<span class="token punctuation">.</span>HTML<span class="token punctuation">(</span>page_text<span class="token punctuation">)</span>    all_li_list <span class="token operator">=</span> tree<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//div[@class="bottom"]/ul/li/a | //div[@class="bottom"]/ul/div[2]/li/a'</span><span class="token punctuation">)</span>    all_city_Names <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>    <span class="token comment"># è§£æåˆ°çƒ­é—¨åŸå¸‚åç§°</span>    <span class="token keyword">for</span> li <span class="token keyword">in</span> all_li_list<span class="token punctuation">:</span>        all_city_Name <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./text()'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>        all_city_Names<span class="token punctuation">.</span>append<span class="token punctuation">(</span>all_city_Name<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>all_city_Names<span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>all_city_Names<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å½¼å²¸å›¾ç½‘ç¾å¥³å›¾ç‰‡ åˆ†é¡µçˆ¬å–</span><span class="token keyword">import</span> requests<span class="token keyword">from</span> lxml <span class="token keyword">import</span> html<span class="token keyword">import</span> os<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>exists<span class="token punctuation">(</span><span class="token string">'E:\\pachongzhuanyongwenjianjia\\bizhimeinv'</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        os<span class="token punctuation">.</span>makedirs<span class="token punctuation">(</span><span class="token string">'E:\\pachongzhuanyongwenjianjia\\bizhimeinv'</span><span class="token punctuation">)</span>    headers <span class="token operator">=</span> <span class="token punctuation">&#123;</span>        <span class="token string">'User-Agent'</span><span class="token punctuation">:</span> <span class="token string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/95.0.4638.69 Safari/537.36'</span>    <span class="token punctuation">&#125;</span>    url <span class="token operator">=</span> <span class="token string">"https://pic.netbian.com/4kqiche/index_%d.html"</span>    <span class="token keyword">for</span> pageNum <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>        new_url <span class="token operator">=</span> <span class="token builtin">format</span><span class="token punctuation">(</span>url <span class="token operator">%</span> pageNum<span class="token punctuation">)</span>        response <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>new_url<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>        <span class="token comment"># æ‰‹åŠ¨è®¾ç½®ç›¸åº”æ•°æ®çš„ç¼–ç æ ¼å¼</span>        <span class="token comment"># response.encoding = 'utf-8'</span>        page_text <span class="token operator">=</span> response<span class="token punctuation">.</span>text        tree <span class="token operator">=</span> html<span class="token punctuation">.</span>etree<span class="token punctuation">.</span>HTML<span class="token punctuation">(</span>page_text<span class="token punctuation">)</span>        li_list <span class="token operator">=</span> tree<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'//ul[@class="clearfix"]/li'</span><span class="token punctuation">)</span>        <span class="token keyword">for</span> li <span class="token keyword">in</span> li_list<span class="token punctuation">:</span>            img_src <span class="token operator">=</span> <span class="token string">"https://pic.netbian.com"</span> <span class="token operator">+</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./a/img/@src'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>            img_name <span class="token operator">=</span> li<span class="token punctuation">.</span>xpath<span class="token punctuation">(</span><span class="token string">'./a/img/@alt'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">'.jpg'</span>            <span class="token comment"># é€šç”¨ä¸­æ–‡ä¹±ç çš„è§£å†³æ–¹æ¡ˆ</span>            img_name <span class="token operator">=</span> img_name<span class="token punctuation">.</span>encode<span class="token punctuation">(</span><span class="token string">'iso-8859-1'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>decode<span class="token punctuation">(</span><span class="token string">'gbk'</span><span class="token punctuation">)</span>            <span class="token keyword">print</span><span class="token punctuation">(</span>img_name<span class="token punctuation">,</span> img_src<span class="token punctuation">)</span>            img_data <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span>url<span class="token operator">=</span>img_src<span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span><span class="token punctuation">.</span>content            imgPath <span class="token operator">=</span> <span class="token string">'E:\\pachongzhuanyongwenjianjia\\bizhimeinv\\'</span> <span class="token operator">+</span> img_name            <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span>imgPath<span class="token punctuation">,</span> <span class="token string">'wb'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> fp<span class="token punctuation">:</span>                fp<span class="token punctuation">.</span>write<span class="token punctuation">(</span>img_data<span class="token punctuation">)</span>                <span class="token keyword">print</span><span class="token punctuation">(</span>img_name<span class="token punctuation">,</span> img_src<span class="token punctuation">,</span><span class="token string">"ä¸‹è½½æˆåŠŸ"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> çˆ¬è™« </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Pythonè¿›é˜¶</title>
      <link href="/2021-11-06-python-jin-jie.html"/>
      <url>/2021-11-06-python-jin-jie.html</url>
      
        <content type="html"><![CDATA[<h3 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><p>åœ¨ <code>Python</code> ä¸­å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ä¸ªæ–¹æ³•éªŒè¯ï¼š</p><ol><li>åœ¨ <strong>æ ‡è¯†ç¬¦</strong> / <strong>æ•°æ®</strong> åè¾“å…¥ä¸€ä¸ª <code>.</code>ï¼Œç„¶åæŒ‰ä¸‹ <code>TAB</code> é”®ï¼Œ<code>iPython</code> ä¼šæç¤ºè¯¥å¯¹è±¡èƒ½å¤Ÿè°ƒç”¨çš„ <strong>æ–¹æ³•åˆ—è¡¨</strong></li><li>ä½¿ç”¨å†…ç½®å‡½æ•° <code>dir</code> ä¼ å…¥ <strong>æ ‡è¯†ç¬¦</strong> / <strong>æ•°æ®</strong>ï¼Œå¯ä»¥æŸ¥çœ‹å¯¹è±¡å†…çš„ <strong>æ‰€æœ‰å±æ€§åŠæ–¹æ³•</strong></li></ol><p><strong>æç¤º</strong> <code>__æ–¹æ³•å__</code> æ ¼å¼çš„æ–¹æ³•æ˜¯ <code>Python</code> æä¾›çš„ <strong>å†…ç½®æ–¹æ³• / å±æ€§</strong></p><table><thead><tr><th align="center">åºå·</th><th align="center">æ–¹æ³•å</th><th align="center">ç±»å‹</th><th>ä½œç”¨</th></tr></thead><tbody><tr><td align="center">01</td><td align="center"><code>__new__</code></td><td align="center">æ–¹æ³•</td><td><strong>åˆ›å»ºå¯¹è±¡</strong>æ—¶ï¼Œä¼šè¢« <strong>è‡ªåŠ¨</strong> è°ƒç”¨</td></tr><tr><td align="center">02</td><td align="center"><code>__init__</code></td><td align="center">æ–¹æ³•</td><td><strong>å¯¹è±¡è¢«åˆå§‹åŒ–</strong>æ—¶ï¼Œä¼šè¢« <strong>è‡ªåŠ¨</strong> è°ƒç”¨</td></tr><tr><td align="center">03</td><td align="center"><code>__del__</code></td><td align="center">æ–¹æ³•</td><td><strong>å¯¹è±¡è¢«ä»å†…å­˜ä¸­é”€æ¯</strong>å‰ï¼Œä¼šè¢« <strong>è‡ªåŠ¨</strong> è°ƒç”¨</td></tr><tr><td align="center">04</td><td align="center"><code>__str__</code></td><td align="center">æ–¹æ³•</td><td>è¿”å›<strong>å¯¹è±¡çš„æè¿°ä¿¡æ¯</strong>ï¼Œ<code>print</code> å‡½æ•°è¾“å‡ºä½¿ç”¨</td></tr><tr><td align="center">05</td><td align="center"><code>__file__</code></td><td align="center">æ–¹æ³•</td><td>è¿”å›<strong>æ–‡ä»¶æ‰€åœ¨è·¯å¾„</strong></td></tr><tr><td align="center">06</td><td align="center"><code>__name__</code></td><td align="center">æ–¹æ³•</td><td>æµ‹è¯•æ¨¡å—ä»£ç åªåœ¨<strong>æµ‹è¯•æƒ…å†µä¸‹è¿è¡Œ</strong>,è¢«å¯¼å…¥æ—¶ä¸ä¼šæ‰§è¡Œ!</td></tr></tbody></table><blockquote><p>åˆ©ç”¨å¥½ <code>dir()</code> å‡½æ•°ï¼Œåœ¨å­¦ä¹ æ—¶å¾ˆå¤šå†…å®¹å°±ä¸éœ€è¦æ­»è®°ç¡¬èƒŒäº†</p></blockquote><h4 id="åˆå§‹åŒ–æ–¹æ³•-â€”â€”åŒæ—¶è®¾ç½®åˆå§‹å€¼"><a href="#åˆå§‹åŒ–æ–¹æ³•-â€”â€”åŒæ—¶è®¾ç½®åˆå§‹å€¼" class="headerlink" title="åˆå§‹åŒ–æ–¹æ³• â€”â€”åŒæ—¶è®¾ç½®åˆå§‹å€¼"></a>åˆå§‹åŒ–æ–¹æ³• â€”â€”åŒæ—¶è®¾ç½®åˆå§‹å€¼</h4><p>åœ¨å¼€å‘ä¸­ï¼Œå¦‚æœå¸Œæœ›åœ¨ <strong>åˆ›å»ºå¯¹è±¡çš„åŒæ—¶ï¼Œå°±è®¾ç½®å¯¹è±¡çš„å±æ€§</strong>ï¼Œå¯ä»¥å¯¹ <code>__init__</code> æ–¹æ³•è¿›è¡Œ <strong>æ”¹é€ </strong></p><ol><li>æŠŠå¸Œæœ›è®¾ç½®çš„å±æ€§å€¼ï¼Œå®šä¹‰æˆ <code>__init__</code> æ–¹æ³•çš„å‚æ•°</li><li>åœ¨æ–¹æ³•å†…éƒ¨ä½¿ç”¨ <code>self.å±æ€§ = å½¢å‚</code> æ¥æ”¶å¤–éƒ¨ä¼ é€’çš„å‚æ•°</li><li>åœ¨åˆ›å»ºå¯¹è±¡æ—¶ï¼Œä½¿ç”¨ <code>ç±»å(å±æ€§1, å±æ€§2...)</code> è°ƒç”¨</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"åˆå§‹åŒ–æ–¹æ³• %s"</span> <span class="token operator">%</span> name<span class="token punctuation">)</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    tom <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token string">"Tom"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>lazy_cat <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token string">"å¤§æ‡’çŒ«"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ç§æœ‰å±æ€§å’Œç§æœ‰æ–¹æ³•"><a href="#ç§æœ‰å±æ€§å’Œç§æœ‰æ–¹æ³•" class="headerlink" title="ç§æœ‰å±æ€§å’Œç§æœ‰æ–¹æ³•"></a>ç§æœ‰å±æ€§å’Œç§æœ‰æ–¹æ³•</h4><ul><li>åœ¨å®šä¹‰æ–¹æ³•å’Œå±æ€§æ—¶,åœ¨å±æ€§åæˆ–è€…æ–¹æ³•åå‰å¢åŠ <strong>ä¸¤ä¸ªä¸‹åˆ’çº¿</strong>,å®šä¹‰çš„å°±æ˜¯<strong>ç§æœ‰</strong>å±æ€§æˆ–æ–¹æ³•</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">self<span class="token punctuation">.</span>__age <span class="token operator">=</span> <span class="token number">18</span><span class="token keyword">def</span> <span class="token function">__scret</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h4 id="ç±»æ–¹æ³•å’Œé™æ€æ–¹æ³•"><a href="#ç±»æ–¹æ³•å’Œé™æ€æ–¹æ³•" class="headerlink" title="ç±»æ–¹æ³•å’Œé™æ€æ–¹æ³•"></a>ç±»æ–¹æ³•å’Œé™æ€æ–¹æ³•</h4><ul><li>ç±»æ–¹æ³•å°±æ˜¯é’ˆå¯¹<strong>ç±»å¯¹è±¡</strong>å®šä¹‰çš„æ–¹æ³•</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># ç±»æ–¹æ³•</span><span class="token decorator annotation punctuation">@classmethod</span><span class="token keyword">def</span> æ–¹æ³•å<span class="token punctuation">(</span>cls<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span><span class="token comment"># é™æ€æ–¹æ³•</span><span class="token decorator annotation punctuation">@staticmethod</span><span class="token keyword">def</span> é™æ€æ–¹æ³•å<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h3><ul><li>æ–¹æ³•å†™åœ¨ç±»ä¸­å°±æ˜¯å°è£…</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">HouseItem</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">,</span> area<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token triple-quoted-string string">"""        :param name: å®¶å…·åç§°        :param area: å åœ°é¢ç§¯        """</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name        self<span class="token punctuation">.</span>area <span class="token operator">=</span> area    <span class="token keyword">def</span> <span class="token function">__str__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> <span class="token string">"[%s] å åœ°é¢ç§¯ %.2f"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> self<span class="token punctuation">.</span>area<span class="token punctuation">)</span><span class="token comment"># 1. åˆ›å»ºå®¶å…·</span>bed <span class="token operator">=</span> HouseItem<span class="token punctuation">(</span><span class="token string">"å¸­æ¢¦æ€"</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span>chest <span class="token operator">=</span> HouseItem<span class="token punctuation">(</span><span class="token string">"è¡£æŸœ"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>table <span class="token operator">=</span> HouseItem<span class="token punctuation">(</span><span class="token string">"é¤æ¡Œ"</span><span class="token punctuation">,</span> <span class="token number">1.5</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>bed<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>chest<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>table<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="ç»§æ‰¿-and-å¤šç»§æ‰¿"><a href="#ç»§æ‰¿-and-å¤šç»§æ‰¿" class="headerlink" title="ç»§æ‰¿ and å¤šç»§æ‰¿"></a>ç»§æ‰¿ and å¤šç»§æ‰¿</h3><ul><li>å½“<strong>çˆ¶ç±»</strong>æ–¹æ³•ä¸èƒ½æ»¡è¶³å­ç±»éœ€æ±‚æ—¶,å¯ä»¥å¯¹æ–¹æ³•è¿›è¡Œ<strong>é‡å†™(override)</strong><ul><li>è¦†ç›–çˆ¶ç±»çš„æ–¹æ³•</li><li>å¯¹çˆ¶ç±»æ–¹æ³•è¿›è¡Œæ‰©å±•</li></ul></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å•ç»§æ‰¿</span><span class="token keyword">class</span> ç±»å<span class="token punctuation">(</span>çˆ¶ç±»å<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span><span class="token comment"># å¤šç»§æ‰¿</span><span class="token keyword">class</span> ç±»å<span class="token punctuation">(</span>çˆ¶ç±»å<span class="token punctuation">,</span>çˆ¶ç±»å<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>å¯¹çˆ¶ç±»æ–¹æ³•è¿›è¡Œæ‰©å±•</p><ul><li>åœ¨<strong>å­ç±»ä¸­é‡å†™</strong>çˆ¶ç±»çš„æ–¹æ³•</li><li>åœ¨éœ€è¦çš„ä½ç½®ä½¿ç”¨<code>super()</code>.çˆ¶ç±»æ–¹æ³•æ¥è°ƒç”¨çˆ¶ç±»æ–¹æ³•çš„æ‰§è¡Œ</li><li>ä»£ç å…¶ä»–ä½ç½®é’ˆå¯¹å­ç±»çš„éœ€æ±‚,ç¼–å†™<strong>å­ç±»ç‰¹æœ‰çš„ä»£ç å®ç°</strong></li></ul></li><li><p><code>super()</code>å°±æ˜¯<code>super</code>ç±»åˆ›å»ºçš„å¯¹è±¡</p></li><li><p>æœ€å¸¸ä½¿ç”¨çš„åœºæ™¯å°±æ˜¯åœ¨<strong>é‡å†™çˆ¶ç±»æ–¹æ³•</strong>æ—¶,è°ƒç”¨<strong>åœ¨çˆ¶ç±»ä¸­å°è£…çš„æ–¹æ³•å®ç°</strong></p></li><li><p><strong>å­ç±»å¯¹è±¡</strong>ä¸èƒ½åœ¨è‡ªå·±çš„æ–¹æ³•çš„å†…éƒ¨,<strong>ç›´æ¥</strong>è®¿é—®çˆ¶ç±»çš„<strong>ç§æœ‰å±æ€§å’Œç§æœ‰æ–¹æ³•</strong></p></li><li><p><strong>å­ç±»å¯¹è±¡</strong>å¯ä»¥é€šè¿‡çˆ¶ç±»çš„<strong>å…¬æœ‰</strong>æ–¹æ³•<strong>é—´æ¥</strong>è®¿é—®**ç§æœ‰å±æ€§æˆ–ç§æœ‰æ–¹æ³• **</p></li></ul><h3 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h3><ul><li>åœ¨ç¨‹åºæ‰§è¡Œæ—¶ï¼Œä¼ å…¥ä¸åŒçš„<strong>ç‹—å¯¹è±¡</strong>å®å‚ï¼Œå°±ä¼šäº§ç”Ÿä¸åŒçš„æ‰§è¡Œæ•ˆæœ</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Dog</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name    <span class="token keyword">def</span> <span class="token function">game</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s è¹¦è·³ç©"</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token keyword">class</span> <span class="token class-name">XiaoTianDog</span><span class="token punctuation">(</span>Dog<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">game</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s è¾¹é£è¾¹è¹¦è·³ç©"</span> <span class="token operator">%</span> self<span class="token punctuation">.</span>name<span class="token punctuation">)</span>        <span class="token keyword">class</span> <span class="token class-name">Person</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">:</span>        self<span class="token punctuation">.</span>name <span class="token operator">=</span> name    <span class="token keyword">def</span> <span class="token function">game_width_dog</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> dog<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s ä¸ %s ä¸€èµ·ç©è€"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>name<span class="token punctuation">,</span> dog<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span>        dog<span class="token punctuation">.</span>game<span class="token punctuation">(</span><span class="token punctuation">)</span>xiaoming <span class="token operator">=</span> Person<span class="token punctuation">(</span><span class="token string">"å°æ˜"</span><span class="token punctuation">)</span>xiaotianquan <span class="token operator">=</span> XiaoTianDog<span class="token punctuation">(</span><span class="token string">"å“®å¤©çŠ¬"</span><span class="token punctuation">)</span>xiaoming<span class="token punctuation">.</span>game_width_dog<span class="token punctuation">(</span>xiaotianquan<span class="token punctuation">)</span>wangcai <span class="token operator">=</span> Dog<span class="token punctuation">(</span><span class="token string">"æ—ºè´¢"</span><span class="token punctuation">)</span>xiaoming<span class="token punctuation">.</span>game_width_dog<span class="token punctuation">(</span>wangcai<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">å°æ˜ ä¸ å“®å¤©çŠ¬ ä¸€èµ·ç©è€å“®å¤©çŠ¬ è¾¹é£è¾¹è¹¦è·³ç©å°æ˜ ä¸ æ—ºè´¢ ä¸€èµ·ç©è€æ—ºè´¢ è¹¦è·³ç©<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å•ä¾‹"><a href="#å•ä¾‹" class="headerlink" title="å•ä¾‹"></a>å•ä¾‹</h3><ul><li>è®¾è®¡æ¨¡å¼<ul><li>è®¾è®¡æ¨¡å¼æ˜¯é’ˆå¯¹<strong>æŸä¸€ç‰¹å®šé—®é¢˜</strong>çš„æˆç†Ÿçš„è§£å†³æ–¹æ¡ˆ</li><li>ä½¿ç”¨è®¾è®¡æ¨¡å¼æ˜¯ä¸ºäº†å¯é‡ç”¨ä»£ç ã€è®©ä»£ç æ›´å®¹æ˜“è¢«äººç†è§£ã€ä¿è¯ä»£ç çš„å¯è¯»æ€§</li></ul></li><li>å•ä¾‹è®¾è®¡æ¨¡å¼<ul><li>ç›®çš„â€“è®©ç±»åˆ›å»ºçš„å¯¹è±¡,åœ¨ç³»ç»Ÿä¸­<strong>åªæœ‰å”¯ä¸€çš„ä¸€ä¸ªå®ä¾‹</strong></li><li>æ¯ä¸€æ¬¡æ‰§è¡Œ<code>ç±»å()</code>è¿”å›çš„å¯¹è±¡ã€<strong>å†…å­˜åœ°å€æ˜¯ç›¸åŒçš„</strong></li></ul></li><li>åº”ç”¨åœºæ™¯:<ul><li> <strong>éŸ³ä¹æ’­æ”¾</strong> å¯¹è±¡</li><li> <strong>å›æ”¶ç«™</strong> å¯¹è±¡</li><li> **æ‰“å°æœº **å¯¹è±¡</li></ul></li></ul><blockquote><p>é‡å†™newæ–¹æ³•çš„ä»£ç éå¸¸å›ºå®š</p></blockquote><ul><li><p>é‡å†™ <code>__new__</code>æ–¹æ³•ä¸€å®šè¦<code>return super().__new__(cls)</code></p></li><li><p><code>__new__</code>æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•,åœ¨è°ƒç”¨æ—¶éœ€è¦ä¸»åŠ¨ä¼ é€’<code>cls</code>å‚æ•°</p></li></ul><p>æ¡ˆä¾‹æ¼”ç¤º</p><ul><li>åªæ‰§è¡Œä¸€æ¬¡åˆå§‹åŒ–</li><li>å†…å­˜åœ°å€æ˜¯å”¯ä¸€çš„</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">MusicPlayer</span><span class="token punctuation">:</span>    instance <span class="token operator">=</span> <span class="token boolean">None</span>    init_flag <span class="token operator">=</span> <span class="token boolean">False</span>    <span class="token keyword">def</span> <span class="token function">__new__</span><span class="token punctuation">(</span>cls<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> cls<span class="token punctuation">.</span>instance <span class="token keyword">is</span> <span class="token boolean">None</span><span class="token punctuation">:</span>            cls<span class="token punctuation">.</span>instance <span class="token operator">=</span> <span class="token builtin">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__new__<span class="token punctuation">(</span>cls<span class="token punctuation">)</span>        <span class="token keyword">return</span> cls<span class="token punctuation">.</span>instance    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>        <span class="token keyword">if</span> MusicPlayer<span class="token punctuation">.</span>init_flag<span class="token punctuation">:</span>            <span class="token keyword">return</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"åˆå§‹åŒ–æ’­æ”¾å™¨"</span><span class="token punctuation">)</span>        MusicPlayer<span class="token punctuation">.</span>init_flag <span class="token operator">=</span> <span class="token boolean">True</span>player1 <span class="token operator">=</span> MusicPlayer<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>player1<span class="token punctuation">)</span>player2 <span class="token operator">=</span> MusicPlayer<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>player2<span class="token punctuation">)</span><span class="token comment"># è¿è¡Œç»“æœ</span>åˆå§‹åŒ–æ’­æ”¾å™¨<span class="token operator">&lt;</span>__main__<span class="token punctuation">.</span>MusicPlayer <span class="token builtin">object</span> at <span class="token number">0x0000017824D39A20</span><span class="token operator">></span><span class="token operator">&lt;</span>__main__<span class="token punctuation">.</span>MusicPlayer <span class="token builtin">object</span> at <span class="token number">0x0000017824D39A20</span><span class="token operator">></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h3><ul><li><strong>ç®€å•æ•è·å¼‚å¸¸</strong>è¯­æ³•æ ¼å¼</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>    å°è¯•æ‰§è¡Œçš„ä»£ç <span class="token keyword">except</span><span class="token punctuation">:</span>    å‡ºç°é”™è¯¯çš„å¤„ç†<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>é”™è¯¯ç±»å‹æ•è·</strong>è¯­æ³•æ ¼å¼</li><li>å½“<code>python</code>è§£é‡Šå™¨<strong>æŠ›å‡ºå¼‚å¸¸</strong>æ—¶,<strong>æœ€åä¸€è¡Œ</strong>é”™è¯¯ä¿¡æ¯çš„<strong>ç¬¬ä¸€ä¸ªå•è¯</strong>,å°±æ˜¯é”™è¯¯ç±»å‹</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span><span class="token keyword">except</span> é”™è¯¯ç±»å‹<span class="token number">1</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span><span class="token keyword">except</span> <span class="token punctuation">(</span>é”™è¯¯ç±»å‹<span class="token number">2</span><span class="token punctuation">,</span>é”™è¯¯ç±»å‹<span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span><span class="token comment"># æ•è·æœªçŸ¥é”™è¯¯</span><span class="token keyword">except</span> Exception <span class="token keyword">as</span> result<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æœªçŸ¥é”™è¯¯ %s"</span> <span class="token operator">%</span> result<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>å¼‚å¸¸æ•è·å®Œæ•´</strong>è¯­æ³•</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">try</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span><span class="token keyword">except</span> é”™è¯¯ç±»å‹<span class="token number">1</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span><span class="token keyword">except</span> <span class="token punctuation">(</span>é”™è¯¯ç±»å‹<span class="token number">2</span><span class="token punctuation">,</span>é”™è¯¯ç±»å‹<span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span><span class="token keyword">except</span> Exception <span class="token keyword">as</span> result<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æœªçŸ¥é”™è¯¯ %s"</span> <span class="token operator">%</span> result<span class="token punctuation">)</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token comment"># æ²¡æœ‰å¼‚å¸¸æ‰ä¼šæ‰§è¡Œçš„ä»£ç </span>    <span class="token keyword">pass</span><span class="token keyword">finally</span><span class="token punctuation">:</span>    <span class="token comment"># å¿…å®šæ‰§è¡Œçš„ä»£ç </span>    <span class="token keyword">pass</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>å¼‚å¸¸ä¼ é€’æ€§</strong></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">demo1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">return</span> <span class="token builtin">int</span><span class="token punctuation">(</span><span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">def</span> <span class="token function">demo2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    demo1<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">try</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>demo2<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">except</span> Exception <span class="token keyword">as</span> result<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><ul><li>å†å¼€å‘ä¸­ï¼Œå¯ä»¥åœ¨ä¸»å‡½æ•°ä¸­å¢åŠ <strong>å¼‚å¸¸æ•è·</strong></li><li>åœ¨ä¸»å‡½æ•°ä¸­è°ƒç”¨å…¶ä»–å‡½æ•°,åªè¦å‡ºç°å¼‚å¸¸,éƒ½ä¼šä¼ é€’åˆ°ä¸»å‡½æ•°çš„<strong>å¼‚å¸¸æ•è·</strong>ä¸­</li><li>è¿™æ ·ä¸éœ€è¦å†ä»£ç ä¸­å¢åŠ å¤§é‡çš„<strong>å¼‚å¸¸æ•è·</strong>,ä¿è¯ä»£ç çš„æ•´æ´è¡Œ.</li></ul></blockquote><ul><li>ä¸»åŠ¨æŠ›å‡º<code>raise</code>å¼‚å¸¸</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">input_password</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    pwd <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥å¯†ç "</span><span class="token punctuation">)</span>    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span>pwd<span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">8</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> pwd    ex <span class="token operator">=</span> Exception<span class="token punctuation">(</span><span class="token string">"å¯†ç é•¿åº¦ä¸å¤Ÿ"</span><span class="token punctuation">)</span>    <span class="token keyword">raise</span> ex<span class="token keyword">try</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>input_password<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token keyword">except</span> Exception <span class="token keyword">as</span> result<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h3><ul><li>ä½¿ç”¨<code>as</code>æŒ‡å®šæ¨¡å—çš„åˆ«å</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> æ¨¡å—å<span class="token number">1</span> <span class="token keyword">as</span> æ¨¡å—å<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>æ¨¡å—åˆ«ååº”è¯¥ç¬¦åˆ<font color="green">å¤§é©¼å³°</font>å‘½åæ³•</p></blockquote><ul><li>ä»æ¨¡å—ä¸­å¯¼å…¥<strong>éƒ¨åˆ†</strong>å·¥å…·</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> æ¨¡å—å<span class="token number">1</span> <span class="token keyword">import</span> å·¥å…·å<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>å¯¼å…¥ä¹‹åå¯ç›´æ¥ä½¿ç”¨æ¨¡å—æä¾›çš„å·¥å…· â€“ <font color="green">å…¨å±€å˜é‡ã€å‡½æ•°ã€ç±»</font></p><p>å¦‚æœä¸¤ä¸ªæ¨¡å—å­˜åœ¨<strong>åŒåå‡½æ•°</strong>,é‚£ä¹ˆåå¯¼å…¥çš„æ¨¡å—çš„å‡½æ•°ä¼š<strong>è¦†ç›–</strong>å…ˆå¯¼å…¥çš„å‡½æ•°</p></blockquote><ul><li>ä»æ¨¡å—å¯¼å…¥æ‰€æœ‰å·¥å…·</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> æ¨¡å—å<span class="token number">1</span> <span class="token keyword">import</span> <span class="token operator">*</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><code>__name</code> å±æ€§å…¼é¡¾æµ‹è¯•å’Œå¯¼å…¥</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">pass</span><span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">"__main__"</span><span class="token punctuation">:</span>    main<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li><code>__file__</code> æ–‡ä»¶æ‰€åœ¨è·¯å¾„</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">import</span> my_package<span class="token keyword">print</span><span class="token punctuation">(</span>my_package<span class="token punctuation">.</span>__file__<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="åŒ…"><a href="#åŒ…" class="headerlink" title="åŒ…"></a>åŒ…</h3><p><code>__inti__.py</code></p><ul><li>è¦åœ¨å¤–ç•Œä½¿ç”¨åŒ…ä¸­çš„æ¨¡å—,éœ€è¦åœ¨<code>__inti__.py</code>ä¸­æŒ‡å®šå¯¹å¤–ç•Œæä¾›çš„æ¨¡å—åˆ—è¡¨</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># ä» å½“å‰ç›®å½• å¯¼å…¥ æ¨¡å—åˆ—è¡¨</span><span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token comment"># ç¤ºä¾‹</span><span class="token keyword">from</span> <span class="token punctuation">.</span>send <span class="token keyword">import</span> send_message<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åˆ¶ä½œå‘å¸ƒå‹ç¼©åŒ…"><a href="#åˆ¶ä½œå‘å¸ƒå‹ç¼©åŒ…" class="headerlink" title="åˆ¶ä½œå‘å¸ƒå‹ç¼©åŒ…"></a>åˆ¶ä½œå‘å¸ƒå‹ç¼©åŒ…</h3><h4 id="1-åˆ›å»º-setup-py"><a href="#1-åˆ›å»º-setup-py" class="headerlink" title="1) åˆ›å»º setup.py"></a>1) åˆ›å»º setup.py</h4><ul><li><code>setup.py</code> çš„æ–‡ä»¶</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">from</span> distutils<span class="token punctuation">.</span>core <span class="token keyword">import</span> setupsetup<span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"hm_message"</span><span class="token punctuation">,</span>  <span class="token comment"># åŒ…å</span>      version<span class="token operator">=</span><span class="token string">"1.0"</span><span class="token punctuation">,</span>  <span class="token comment"># ç‰ˆæœ¬</span>      description<span class="token operator">=</span><span class="token string">"ssm's å‘é€å’Œæ¥æ”¶æ¶ˆæ¯æ¨¡å—"</span><span class="token punctuation">,</span>  <span class="token comment"># æè¿°ä¿¡æ¯</span>      long_description<span class="token operator">=</span><span class="token string">"å®Œæ•´çš„å‘é€å’Œæ¥æ”¶æ¶ˆæ¯æ¨¡å—"</span><span class="token punctuation">,</span>  <span class="token comment"># å®Œæ•´æè¿°ä¿¡æ¯</span>      author<span class="token operator">=</span><span class="token string">"ssm"</span><span class="token punctuation">,</span>  <span class="token comment"># ä½œè€…</span>      author_email<span class="token operator">=</span><span class="token string">"1600767556@qq.com"</span><span class="token punctuation">,</span>  <span class="token comment"># ä½œè€…é‚®ç®±</span>      url<span class="token operator">=</span><span class="token string">"www.shaoshaossm.github.io"</span><span class="token punctuation">,</span>  <span class="token comment"># ä¸»é¡µ</span>      py_modules<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">"hm_message.send_message"</span><span class="token punctuation">,</span>                  <span class="token string">"hm_message.receive_message"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>æœ‰å…³å­—å…¸å‚æ•°çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¯ä»¥å‚é˜…å®˜æ–¹ç½‘ç«™ï¼š</p><p><a href="https://docs.python.org/2/distutils/apiref.html">https://docs.python.org/2/distutils/apiref.html</a></p><h4 id="2-æ„å»ºæ¨¡å—"><a href="#2-æ„å»ºæ¨¡å—" class="headerlink" title="2) æ„å»ºæ¨¡å—"></a>2) æ„å»ºæ¨¡å—</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ python3 setup.py build<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="3-ç”Ÿæˆå‘å¸ƒå‹ç¼©åŒ…"><a href="#3-ç”Ÿæˆå‘å¸ƒå‹ç¼©åŒ…" class="headerlink" title="3) ç”Ÿæˆå‘å¸ƒå‹ç¼©åŒ…"></a>3) ç”Ÿæˆå‘å¸ƒå‹ç¼©åŒ…</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ python3 setup.py sdist<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><blockquote><p>æ³¨æ„ï¼šè¦åˆ¶ä½œå“ªä¸ªç‰ˆæœ¬çš„æ¨¡å—ï¼Œå°±ä½¿ç”¨å“ªä¸ªç‰ˆæœ¬çš„è§£é‡Šå™¨æ‰§è¡Œï¼</p></blockquote><h4 id="å®‰è£…æ¨¡å—"><a href="#å®‰è£…æ¨¡å—" class="headerlink" title="å®‰è£…æ¨¡å—"></a>å®‰è£…æ¨¡å—</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">tar</span> -zxvf hm_message-1.0.tar.gz $ <span class="token function">sudo</span> python3 setup.py <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p><strong>å¸è½½æ¨¡å—</strong></p><p>ç›´æ¥ä»å®‰è£…ç›®å½•ä¸‹ï¼ŒæŠŠå®‰è£…æ¨¡å—çš„ <strong>ç›®å½•</strong> åˆ é™¤å°±å¯ä»¥</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">$ cd <span class="token operator">/</span>usr<span class="token operator">/</span>local<span class="token operator">/</span>lib<span class="token operator">/</span>python3<span class="token punctuation">.</span><span class="token number">5</span><span class="token operator">/</span>dist<span class="token operator">-</span>packages<span class="token operator">/</span>$ sudo rm <span class="token operator">-</span>r hm_message<span class="token operator">*</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="pip-å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—"><a href="#pip-å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—" class="headerlink" title="pip å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—"></a><code>pip</code> å®‰è£…ç¬¬ä¸‰æ–¹æ¨¡å—</h4><ul><li><strong>ç¬¬ä¸‰æ–¹æ¨¡å—</strong> é€šå¸¸æ˜¯æŒ‡ç”± <strong>çŸ¥åçš„ç¬¬ä¸‰æ–¹å›¢é˜Ÿ</strong> <strong>å¼€å‘çš„</strong> å¹¶ä¸”è¢« <strong>ç¨‹åºå‘˜å¹¿æ³›ä½¿ç”¨</strong> çš„ <code>Python</code> åŒ… / æ¨¡å—<ul><li>ä¾‹å¦‚ <code>pygame</code> å°±æ˜¯ä¸€å¥—éå¸¸æˆç†Ÿçš„ <strong>æ¸¸æˆå¼€å‘æ¨¡å—</strong></li></ul></li><li><code>pip</code> æ˜¯ä¸€ä¸ªç°ä»£çš„ï¼Œé€šç”¨çš„ <code>Python</code> åŒ…ç®¡ç†å·¥å…·</li><li>æä¾›äº†å¯¹ <code>Python</code> åŒ…çš„æŸ¥æ‰¾ã€ä¸‹è½½ã€å®‰è£…ã€å¸è½½ç­‰åŠŸèƒ½</li></ul><p>å®‰è£…å’Œå¸è½½å‘½ä»¤å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å°†æ¨¡å—å®‰è£…åˆ° Python 2.x ç¯å¢ƒ</span>$ <span class="token function">sudo</span> pip <span class="token function">install</span> pygame$ <span class="token function">sudo</span> pip uninstall pygame<span class="token comment"># å°†æ¨¡å—å®‰è£…åˆ° Python 3.x ç¯å¢ƒ</span>$ <span class="token function">sudo</span> pip3 <span class="token function">install</span> pygame$ <span class="token function">sudo</span> pip3 uninstall pygame<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åœ¨-Mac-ä¸‹å®‰è£…-iPython"><a href="#åœ¨-Mac-ä¸‹å®‰è£…-iPython" class="headerlink" title="åœ¨ Mac ä¸‹å®‰è£… iPython"></a>åœ¨ <code>Mac</code> ä¸‹å®‰è£… <code>iPython</code></h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">sudo</span> pip <span class="token function">install</span> ipython<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="åœ¨-Linux-ä¸‹å®‰è£…-iPython"><a href="#åœ¨-Linux-ä¸‹å®‰è£…-iPython" class="headerlink" title="åœ¨ Linux ä¸‹å®‰è£… iPython"></a>åœ¨ <code>Linux</code> ä¸‹å®‰è£… <code>iPython</code></h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> ipython$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> ipython3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="I-O"><a href="#I-O" class="headerlink" title="I/O"></a>I/O</h3><h3 id="æ“ä½œæ–‡ä»¶çš„å‡½æ•°-æ–¹æ³•"><a href="#æ“ä½œæ–‡ä»¶çš„å‡½æ•°-æ–¹æ³•" class="headerlink" title="æ“ä½œæ–‡ä»¶çš„å‡½æ•°/æ–¹æ³•"></a>æ“ä½œæ–‡ä»¶çš„å‡½æ•°/æ–¹æ³•</h3><ul><li>åœ¨ <code>Python</code> ä¸­è¦æ“ä½œæ–‡ä»¶éœ€è¦è®°ä½ 1 ä¸ªå‡½æ•°å’Œ 3 ä¸ªæ–¹æ³•</li></ul><table><thead><tr><th>åºå·</th><th>å‡½æ•°/æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>01</td><td>open</td><td>æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä¸”è¿”å›æ–‡ä»¶æ“ä½œå¯¹è±¡</td></tr><tr><td>02</td><td>read</td><td>å°†æ–‡ä»¶å†…å®¹è¯»å–åˆ°å†…å­˜</td></tr><tr><td>03</td><td>write</td><td>å°†æŒ‡å®šå†…å®¹å†™å…¥æ–‡ä»¶</td></tr><tr><td>04</td><td>close</td><td>å…³é—­æ–‡ä»¶</td></tr></tbody></table><ul><li><code>open</code> å‡½æ•°è´Ÿè´£æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä¸”è¿”å›æ–‡ä»¶å¯¹è±¡</li><li><code>read</code>/<code>write</code>/<code>close</code> ä¸‰ä¸ªæ–¹æ³•éƒ½éœ€è¦é€šè¿‡ <strong>æ–‡ä»¶å¯¹è±¡</strong> æ¥è°ƒç”¨</li></ul><h3 id="read-æ–¹æ³•-â€”â€”-è¯»å–æ–‡ä»¶"><a href="#read-æ–¹æ³•-â€”â€”-è¯»å–æ–‡ä»¶" class="headerlink" title="read æ–¹æ³• â€”â€” è¯»å–æ–‡ä»¶"></a>read æ–¹æ³• â€”â€” è¯»å–æ–‡ä»¶</h3><ul><li><code>open</code> å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¦æ‰“å¼€çš„æ–‡ä»¶åï¼ˆæ–‡ä»¶ååŒºåˆ†å¤§å°å†™ï¼‰<ul><li>å¦‚æœæ–‡ä»¶ <strong>å­˜åœ¨</strong>ï¼Œè¿”å› <strong>æ–‡ä»¶æ“ä½œå¯¹è±¡</strong></li><li>å¦‚æœæ–‡ä»¶ <strong>ä¸å­˜åœ¨</strong>ï¼Œä¼š <strong>æŠ›å‡ºå¼‚å¸¸</strong></li></ul></li><li><code>read</code> æ–¹æ³•å¯ä»¥ä¸€æ¬¡æ€§ <strong>è¯»å…¥</strong> å¹¶ <strong>è¿”å›</strong> æ–‡ä»¶çš„ <strong>æ‰€æœ‰å†…å®¹</strong></li><li><code>close</code> æ–¹æ³•è´Ÿè´£ <strong>å…³é—­æ–‡ä»¶</strong><ul><li>å¦‚æœ <strong>å¿˜è®°å…³é—­æ–‡ä»¶</strong>ï¼Œ<strong>ä¼šé€ æˆç³»ç»Ÿèµ„æºæ¶ˆè€—ï¼Œè€Œä¸”ä¼šå½±å“åˆ°åç»­å¯¹æ–‡ä»¶çš„è®¿é—®</strong></li></ul></li><li><strong>æ³¨æ„</strong>ï¼š<code>read</code> æ–¹æ³•æ‰§è¡Œåï¼Œä¼šæŠŠ <strong>æ–‡ä»¶æŒ‡é’ˆ</strong> ç§»åŠ¨åˆ° <strong>æ–‡ä»¶çš„æœ«å°¾</strong></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 1. æ‰“å¼€ - æ–‡ä»¶åéœ€è¦æ³¨æ„å¤§å°å†™</span><span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"README"</span><span class="token punctuation">)</span><span class="token comment"># 2. è¯»å–</span>text <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token comment"># 3. å…³é—­</span><span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ‰“å¼€æ–‡ä»¶çš„æ–¹å¼"><a href="#æ‰“å¼€æ–‡ä»¶çš„æ–¹å¼" class="headerlink" title="æ‰“å¼€æ–‡ä»¶çš„æ–¹å¼"></a>æ‰“å¼€æ–‡ä»¶çš„æ–¹å¼</h3><ul><li><code>open</code> å‡½æ•°é»˜è®¤ä»¥ <strong>åªè¯»æ–¹å¼</strong> æ‰“å¼€æ–‡ä»¶ï¼Œå¹¶ä¸”è¿”å›æ–‡ä»¶å¯¹è±¡</li></ul><p>è¯­æ³•å¦‚ä¸‹ï¼š</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"æ–‡ä»¶å"</span><span class="token punctuation">,</span> <span class="token string">"è®¿é—®æ–¹å¼"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><table><thead><tr><th align="center">è®¿é—®æ–¹å¼</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td align="center">r</td><td>ä»¥<strong>åªè¯»</strong>æ–¹å¼æ‰“å¼€æ–‡ä»¶ã€‚æ–‡ä»¶çš„æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ï¼Œè¿™æ˜¯<strong>é»˜è®¤æ¨¡å¼</strong>ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼ŒæŠ›å‡ºå¼‚å¸¸</td></tr><tr><td align="center">w</td><td>ä»¥<strong>åªå†™</strong>æ–¹å¼æ‰“å¼€æ–‡ä»¶ã€‚å¦‚æœæ–‡ä»¶å­˜åœ¨ä¼šè¢«è¦†ç›–ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶</td></tr><tr><td align="center">a</td><td>ä»¥<strong>è¿½åŠ </strong>æ–¹å¼æ‰“å¼€æ–‡ä»¶ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶è¿›è¡Œå†™å…¥</td></tr><tr><td align="center">r+</td><td>ä»¥<strong>è¯»å†™</strong>æ–¹å¼æ‰“å¼€æ–‡ä»¶ã€‚æ–‡ä»¶çš„æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„å¼€å¤´ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼ŒæŠ›å‡ºå¼‚å¸¸</td></tr><tr><td align="center">w+</td><td>ä»¥<strong>è¯»å†™</strong>æ–¹å¼æ‰“å¼€æ–‡ä»¶ã€‚å¦‚æœæ–‡ä»¶å­˜åœ¨ä¼šè¢«è¦†ç›–ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶</td></tr><tr><td align="center">a+</td><td>ä»¥<strong>è¯»å†™</strong>æ–¹å¼æ‰“å¼€æ–‡ä»¶ã€‚å¦‚æœè¯¥æ–‡ä»¶å·²å­˜åœ¨ï¼Œæ–‡ä»¶æŒ‡é’ˆå°†ä¼šæ”¾åœ¨æ–‡ä»¶çš„ç»“å°¾ã€‚å¦‚æœæ–‡ä»¶ä¸å­˜åœ¨ï¼Œåˆ›å»ºæ–°æ–‡ä»¶è¿›è¡Œå†™å…¥</td></tr></tbody></table><ul><li>å†™å…¥æ–‡ä»¶ç¤ºä¾‹</li><li>è‹¥æ–‡ä»¶ä¸­æœ‰ä¸­æ–‡éœ€åŠ å…¥<code>encoding=&#39;utf-8&#39;</code></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># æ‰“å¼€æ–‡ä»¶</span>f <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"README"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">,</span>encoding<span class="token operator">=</span><span class="token string">'utf-8'</span><span class="token punctuation">)</span>f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">"hello pythonï¼\n"</span><span class="token punctuation">)</span>f<span class="token punctuation">.</span>write<span class="token punctuation">(</span><span class="token string">"ä»Šå¤©å¤©æ°”çœŸå¥½"</span><span class="token punctuation">)</span><span class="token comment"># å…³é—­æ–‡ä»¶</span>f<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><code>readline</code> æ–¹æ³•</p><ul><li><code>readline</code> æ–¹æ³•å¯ä»¥ä¸€æ¬¡è¯»å–ä¸€è¡Œå†…å®¹</li><li>æ–¹æ³•æ‰§è¡Œåï¼Œä¼šæŠŠ <strong>æ–‡ä»¶æŒ‡é’ˆ</strong> ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œï¼Œå‡†å¤‡å†æ¬¡è¯»å–</li></ul><p><strong>è¯»å–å¤§æ–‡ä»¶çš„æ­£ç¡®å§¿åŠ¿</strong></p><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># æ‰“å¼€æ–‡ä»¶</span><span class="token builtin">file</span> <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"README"</span><span class="token punctuation">)</span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    <span class="token comment"># è¯»å–ä¸€è¡Œå†…å®¹</span>    text <span class="token operator">=</span> <span class="token builtin">file</span><span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># åˆ¤æ–­æ˜¯å¦è¯»åˆ°å†…å®¹</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> text<span class="token punctuation">:</span>        <span class="token keyword">break</span>    <span class="token comment"># æ¯è¯»å–ä¸€è¡Œçš„æœ«å°¾å·²ç»æœ‰äº†ä¸€ä¸ª `\n`</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> end<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token comment"># å…³é—­æ–‡ä»¶</span><span class="token builtin">file</span><span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¤åˆ¶æ–‡ä»¶"><a href="#å¤åˆ¶æ–‡ä»¶" class="headerlink" title="å¤åˆ¶æ–‡ä»¶"></a>å¤åˆ¶æ–‡ä»¶</h3><h4 id="å°æ–‡ä»¶å¤åˆ¶"><a href="#å°æ–‡ä»¶å¤åˆ¶" class="headerlink" title="å°æ–‡ä»¶å¤åˆ¶"></a>å°æ–‡ä»¶å¤åˆ¶</h4><ul><li>æ‰“å¼€ä¸€ä¸ªå·²æœ‰æ–‡ä»¶ï¼Œè¯»å–å®Œæ•´å†…å®¹ï¼Œå¹¶å†™å…¥åˆ°å¦å¤–ä¸€ä¸ªæ–‡ä»¶</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 1. æ‰“å¼€æ–‡ä»¶</span>file_read <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"README"</span><span class="token punctuation">)</span>file_write <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"README[å¤ä»¶]"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span><span class="token comment"># 2. è¯»å–å¹¶å†™å…¥æ–‡ä»¶</span>text <span class="token operator">=</span> file_read<span class="token punctuation">.</span>read<span class="token punctuation">(</span><span class="token punctuation">)</span>file_write<span class="token punctuation">.</span>write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token comment"># 3. å…³é—­æ–‡ä»¶</span>file_read<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>file_write<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å¤§æ–‡ä»¶å¤åˆ¶"><a href="#å¤§æ–‡ä»¶å¤åˆ¶" class="headerlink" title="å¤§æ–‡ä»¶å¤åˆ¶"></a>å¤§æ–‡ä»¶å¤åˆ¶</h4><ul><li>æ‰“å¼€ä¸€ä¸ªå·²æœ‰æ–‡ä»¶ï¼Œé€è¡Œè¯»å–å†…å®¹ï¼Œå¹¶é¡ºåºå†™å…¥åˆ°å¦å¤–ä¸€ä¸ªæ–‡ä»¶</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># 1. æ‰“å¼€æ–‡ä»¶</span>file_read <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"README"</span><span class="token punctuation">)</span>file_write <span class="token operator">=</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">"README[å¤ä»¶]"</span><span class="token punctuation">,</span> <span class="token string">"w"</span><span class="token punctuation">)</span><span class="token comment"># 2. è¯»å–å¹¶å†™å…¥æ–‡ä»¶</span><span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>    <span class="token comment"># æ¯æ¬¡è¯»å–ä¸€è¡Œ</span>    text <span class="token operator">=</span> file_read<span class="token punctuation">.</span>readline<span class="token punctuation">(</span><span class="token punctuation">)</span>    <span class="token comment"># åˆ¤æ–­æ˜¯å¦è¯»å–åˆ°å†…å®¹</span>    <span class="token keyword">if</span> <span class="token keyword">not</span> text<span class="token punctuation">:</span>        <span class="token keyword">break</span>    file_write<span class="token punctuation">.</span>write<span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token comment"># 3. å…³é—­æ–‡ä»¶</span>file_read<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span>file_write<span class="token punctuation">.</span>close<span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ–‡ä»¶-ç›®å½•æ“ä½œ"><a href="#æ–‡ä»¶-ç›®å½•æ“ä½œ" class="headerlink" title="æ–‡ä»¶/ç›®å½•æ“ä½œ"></a>æ–‡ä»¶/ç›®å½•æ“ä½œ</h3><h3 id="æ–‡ä»¶æ“ä½œ"><a href="#æ–‡ä»¶æ“ä½œ" class="headerlink" title="æ–‡ä»¶æ“ä½œ"></a>æ–‡ä»¶æ“ä½œ</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å¯¼å…¥å‰æ</span><span class="token keyword">import</span> os<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><table><thead><tr><th>åºå·</th><th>æ–¹æ³•å</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>01</td><td>rename</td><td>é‡å‘½åæ–‡ä»¶</td><td><code>os.rename(æºæ–‡ä»¶å, ç›®æ ‡æ–‡ä»¶å)</code></td></tr><tr><td>02</td><td>remove</td><td>åˆ é™¤æ–‡ä»¶</td><td><code>os.remove(æ–‡ä»¶å)</code></td></tr></tbody></table><h3 id="ç›®å½•æ“ä½œ"><a href="#ç›®å½•æ“ä½œ" class="headerlink" title="ç›®å½•æ“ä½œ"></a>ç›®å½•æ“ä½œ</h3><table><thead><tr><th>åºå·</th><th>æ–¹æ³•å</th><th>è¯´æ˜</th><th>ç¤ºä¾‹</th></tr></thead><tbody><tr><td>01</td><td>listdir</td><td>ç›®å½•åˆ—è¡¨</td><td><code>os.listdir(ç›®å½•å)</code></td></tr><tr><td>02</td><td>mkdir</td><td>åˆ›å»ºç›®å½•</td><td><code>os.mkdir(ç›®å½•å)</code></td></tr><tr><td>03</td><td>rmdir</td><td>åˆ é™¤ç›®å½•</td><td><code>os.rmdir(ç›®å½•å)</code></td></tr><tr><td>04</td><td>getcwd</td><td>è·å–å½“å‰ç›®å½•</td><td><code>os.getcwd()</code></td></tr><tr><td>05</td><td>chdir</td><td>ä¿®æ”¹å·¥ä½œç›®å½•</td><td><code>os.chdir(ç›®æ ‡ç›®å½•)</code></td></tr><tr><td>06</td><td>path.isdir</td><td>åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶</td><td><code>os.path.isdir(æ–‡ä»¶è·¯å¾„)</code></td></tr></tbody></table><blockquote><p>æç¤ºï¼šæ–‡ä»¶æˆ–è€…ç›®å½•æ“ä½œéƒ½æ”¯æŒ <strong>ç›¸å¯¹è·¯å¾„</strong> å’Œ <strong>ç»å¯¹è·¯å¾„</strong></p></blockquote><p><code>eva()</code> : å°†<strong>å­—ç¬¦ä¸²</strong>å½“æˆ<strong>æœ‰æ•ˆçš„è¡¨è¾¾å¼</strong>æ¥æ±‚å€¼ï¼Œå¹¶<strong>è¿”å›è®¡ç®—ç»“æœ</strong> </p><pre class="line-numbers language-python" data-language="python"><code class="language-python">input_str <span class="token operator">=</span> <span class="token builtin">input</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥ç®—æœ¯é¢˜ï¼š"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token builtin">eval</span><span class="token punctuation">(</span>input_str<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PythonåŸºç¡€</title>
      <link href="/2021-11-02-python-ji-chu.html"/>
      <url>/2021-11-02-python-ji-chu.html</url>
      
        <content type="html"><![CDATA[<h3 id="PythonåŸºç¡€"><a href="#PythonåŸºç¡€" class="headerlink" title="PythonåŸºç¡€"></a>PythonåŸºç¡€</h3><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># å‘æ§åˆ¶å°è¾“å‡ºå†…å®¹ç»“æŸå,ä¸æ¢è¡Œ</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">,</span>end<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token comment"># è‡ªå¸¦æ¢è¡Œ</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token operator">%</span>d ä»¥åè¿›åˆ¶è¾“å‡ºæ•°å­—<span class="token operator">%</span>x ä»¥åå…­è¿›åˆ¶è¾“å‡ºæ•°å­— <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h4><ul><li><code>List</code>ï¼ˆåˆ—è¡¨ï¼‰ ç”¨ <code>[]</code> å®šä¹‰ï¼Œ<strong>æ•°æ®</strong> ä¹‹é—´ä½¿ç”¨ <code>,</code> åˆ†éš” ä¹Ÿå«ä½œæ•°ç»„<strong>æ•°ç»„</strong></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">name_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"zhangsan"</span><span class="token punctuation">,</span> <span class="token string">"lisi"</span><span class="token punctuation">,</span> <span class="token string">"wangwu"</span><span class="token punctuation">]</span><span class="token comment"># API</span>In <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> name_list<span class="token punctuation">.</span>name_list<span class="token punctuation">.</span>append   name_list<span class="token punctuation">.</span>count    name_list<span class="token punctuation">.</span>insert   name_list<span class="token punctuation">.</span>reversename_list<span class="token punctuation">.</span>clear    name_list<span class="token punctuation">.</span>extend   name_list<span class="token punctuation">.</span>pop      name_list<span class="token punctuation">.</span>sortname_list<span class="token punctuation">.</span>copy     name_list<span class="token punctuation">.</span>index    name_list<span class="token punctuation">.</span>remove <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><table><thead><tr><th>åºå·</th><th>åˆ†ç±»</th><th>å…³é”®å­— / å‡½æ•° / æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>1</td><td>å¢åŠ </td><td>åˆ—è¡¨.insert(ç´¢å¼•, æ•°æ®)</td><td>åœ¨æŒ‡å®šä½ç½®æ’å…¥æ•°æ®</td></tr><tr><td></td><td></td><td>åˆ—è¡¨.append(æ•°æ®)</td><td>åœ¨æœ«å°¾è¿½åŠ æ•°æ®</td></tr><tr><td></td><td></td><td>åˆ—è¡¨.extend(åˆ—è¡¨2)</td><td>å°†åˆ—è¡¨2 çš„æ•°æ®è¿½åŠ åˆ°åˆ—è¡¨</td></tr><tr><td>2</td><td>ä¿®æ”¹</td><td>åˆ—è¡¨[ç´¢å¼•] = æ•°æ®</td><td>ä¿®æ”¹æŒ‡å®šç´¢å¼•çš„æ•°æ®</td></tr><tr><td>3</td><td>åˆ é™¤</td><td>del åˆ—è¡¨[ç´¢å¼•]</td><td>åˆ é™¤æŒ‡å®šç´¢å¼•çš„æ•°æ®</td></tr><tr><td></td><td></td><td>åˆ—è¡¨.remove[æ•°æ®]</td><td>åˆ é™¤ç¬¬ä¸€ä¸ªå‡ºç°çš„æŒ‡å®šæ•°æ®</td></tr><tr><td></td><td></td><td>åˆ—è¡¨.pop</td><td>åˆ é™¤æœ«å°¾æ•°æ®</td></tr><tr><td></td><td></td><td>åˆ—è¡¨.pop(ç´¢å¼•)</td><td>åˆ é™¤æŒ‡å®šç´¢å¼•æ•°æ®</td></tr><tr><td></td><td></td><td>åˆ—è¡¨.clear</td><td>æ¸…ç©ºåˆ—è¡¨</td></tr><tr><td>4</td><td>ç»Ÿè®¡</td><td>len(åˆ—è¡¨)</td><td>åˆ—è¡¨é•¿åº¦</td></tr><tr><td></td><td></td><td>åˆ—è¡¨.count(æ•°æ®)</td><td>æ•°æ®åœ¨åˆ—è¡¨ä¸­å‡ºç°çš„æ¬¡æ•°</td></tr><tr><td>5</td><td>æ’åº</td><td>åˆ—è¡¨.sort()</td><td>å‡åºæ’åº</td></tr><tr><td></td><td></td><td>åˆ—è¡¨.sort(reverse=True)</td><td>é™åºæ’åº</td></tr><tr><td></td><td></td><td>åˆ—è¡¨.reverse()</td><td>é€†åºã€åè½¬</td></tr></tbody></table><h4 id="å…ƒç»„"><a href="#å…ƒç»„" class="headerlink" title="å…ƒç»„"></a>å…ƒç»„</h4><ul><li><code>Tuple</code>ï¼ˆå…ƒç»„ï¼‰ä¸åˆ—è¡¨ç±»ä¼¼ï¼Œä¸åŒä¹‹å¤„åœ¨äºå…ƒç»„çš„ <strong>å…ƒç´ ä¸èƒ½ä¿®æ”¹</strong></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">info_tuple <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">"zhangsan"</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">1.75</span><span class="token punctuation">)</span>info_tuple <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment"># å…ƒç»„ä¸­ åªåŒ…å«ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œéœ€è¦åœ¨å…ƒç´ åé¢æ·»åŠ é€—å·</span>info_tuple <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token punctuation">)</span>  <span class="token comment"># ä¸åŠ ,ç±»å‹ä¸ºint</span><span class="token comment"># API</span>info<span class="token punctuation">.</span>count  info<span class="token punctuation">.</span>index<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å…ƒç»„å’Œåˆ—è¡¨ä¹‹é—´çš„è½¬æ¢"><a href="#å…ƒç»„å’Œåˆ—è¡¨ä¹‹é—´çš„è½¬æ¢" class="headerlink" title="å…ƒç»„å’Œåˆ—è¡¨ä¹‹é—´çš„è½¬æ¢"></a>å…ƒç»„å’Œåˆ—è¡¨ä¹‹é—´çš„è½¬æ¢</h4><ul><li>ä½¿ç”¨ <code>list</code> å‡½æ•°å¯ä»¥æŠŠå…ƒç»„è½¬æ¢æˆåˆ—è¡¨</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">list</span><span class="token punctuation">(</span>å…ƒç»„<span class="token punctuation">)</span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>ä½¿ç”¨ <code>tuple</code> å‡½æ•°å¯ä»¥æŠŠåˆ—è¡¨è½¬æ¢æˆå…ƒç»„</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">tuple</span><span class="token punctuation">(</span>åˆ—è¡¨<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>ä½¿ç”¨<code>len</code>å‡½æ•°å¯ä»¥è®¡ç®—å…ƒç»„ã€åˆ—è¡¨ç­‰é•¿åº¦</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token builtin">len</span><span class="token punctuation">(</span>åˆ—è¡¨<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="å­—å…¸"><a href="#å­—å…¸" class="headerlink" title="å­—å…¸"></a>å­—å…¸</h4><ul><li><code>dictionary</code>ï¼ˆå­—å…¸ï¼‰ æ˜¯ <strong>é™¤åˆ—è¡¨ä»¥å¤–</strong> <code>Python</code> ä¹‹ä¸­ <strong>æœ€çµæ´»</strong> çš„æ•°æ®ç±»å‹</li><li>å’Œåˆ—è¡¨çš„åŒºåˆ«<ul><li><strong>åˆ—è¡¨</strong> æ˜¯ <strong>æœ‰åº</strong> çš„å¯¹è±¡é›†åˆ</li><li><strong>å­—å…¸</strong> æ˜¯ <strong>æ— åº</strong> çš„å¯¹è±¡é›†åˆ</li></ul></li><li>å­—å…¸ä½¿ç”¨ <strong>é”®å€¼å¯¹</strong> å­˜å‚¨æ•°æ®ï¼Œé”®å€¼å¯¹ä¹‹é—´ä½¿ç”¨ <code>,</code> åˆ†éš”<ul><li><strong>é”®</strong> <code>key</code> æ˜¯ç´¢å¼•</li><li><strong>å€¼</strong> <code>value</code> æ˜¯æ•°æ®</li><li><strong>é”®</strong> å’Œ <strong>å€¼</strong> ä¹‹é—´ä½¿ç”¨ <code>:</code> åˆ†éš”</li><li><strong>é”®å¿…é¡»æ˜¯å”¯ä¸€çš„</strong></li><li><strong>å€¼</strong> å¯ä»¥å–ä»»ä½•æ•°æ®ç±»å‹ï¼Œä½† <strong>é”®</strong> åªèƒ½ä½¿ç”¨ <strong>å­—ç¬¦ä¸²</strong>ã€<strong>æ•°å­—</strong>æˆ– <strong>å…ƒç»„</strong></li></ul></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment"># API</span>In <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">:</span> xiaoming<span class="token punctuation">.</span>xiaoming<span class="token punctuation">.</span>clear       xiaoming<span class="token punctuation">.</span>items       xiaoming<span class="token punctuation">.</span>setdefaultxiaoming<span class="token punctuation">.</span>copy        xiaoming<span class="token punctuation">.</span>keys        xiaoming<span class="token punctuation">.</span>updatexiaoming<span class="token punctuation">.</span>fromkeys    xiaoming<span class="token punctuation">.</span>pop         xiaoming<span class="token punctuation">.</span>valuesxiaoming<span class="token punctuation">.</span>get         xiaoming<span class="token punctuation">.</span>popitem    <span class="token comment"># å­—å…¸çš„éå†</span><span class="token keyword">for</span> k <span class="token keyword">in</span> xiaoming<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"%s - %s"</span> <span class="token operator">%</span> <span class="token punctuation">(</span>k<span class="token punctuation">,</span> xiaoming<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å­—å…¸ä¸åˆ—è¡¨ç»„åˆä½¿ç”¨</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">card <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"å°èƒ¡"</span><span class="token punctuation">,</span>         <span class="token string">"age"</span><span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"å°å¼ "</span><span class="token punctuation">,</span>         <span class="token string">"age"</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">&#125;</span><span class="token punctuation">]</span><span class="token keyword">for</span> ren <span class="token keyword">in</span> card<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>ren<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h3><ul><li>åœ¨ Python ä¸­å¯ä»¥ä½¿ç”¨ <strong>ä¸€å¯¹åŒå¼•å·</strong> <code>&quot;</code> æˆ–è€… <strong>ä¸€å¯¹å•å¼•å·</strong> <code>&#39;</code> å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²<ul><li>è™½ç„¶å¯ä»¥ä½¿ç”¨ <code>\&quot;</code> æˆ–è€… <code>\&#39;</code> åšå­—ç¬¦ä¸²çš„è½¬ä¹‰ï¼Œä½†æ˜¯åœ¨å®é™…å¼€å‘ä¸­ï¼š<ul><li>å¦‚æœå­—ç¬¦ä¸²å†…éƒ¨éœ€è¦ä½¿ç”¨ <code>&quot;</code>ï¼Œå¯ä»¥ä½¿ç”¨ <code>&#39;</code> å®šä¹‰å­—ç¬¦ä¸²</li><li>å¦‚æœå­—ç¬¦ä¸²å†…éƒ¨éœ€è¦ä½¿ç”¨ <code>&#39;</code>ï¼Œå¯ä»¥ä½¿ç”¨ <code>&quot;</code> å®šä¹‰å­—ç¬¦ä¸²</li></ul></li></ul></li></ul><h4 id="1-åˆ¤æ–­ç±»å‹-9"><a href="#1-åˆ¤æ–­ç±»å‹-9" class="headerlink" title="1) åˆ¤æ–­ç±»å‹ - 9"></a>1) åˆ¤æ–­ç±»å‹ - 9</h4><table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>string.isspace()</td><td>å¦‚æœ string ä¸­åªåŒ…å«ç©ºæ ¼ï¼Œåˆ™è¿”å› True</td></tr><tr><td>string.isalnum()</td><td>å¦‚æœ string è‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦å¹¶ä¸”æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯å­—æ¯æˆ–æ•°å­—åˆ™è¿”å› True</td></tr><tr><td>string.isalpha()</td><td>å¦‚æœ string è‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦å¹¶ä¸”æ‰€æœ‰å­—ç¬¦éƒ½æ˜¯å­—æ¯åˆ™è¿”å› True</td></tr><tr><td>string.isdecimal()</td><td>å¦‚æœ string åªåŒ…å«æ•°å­—åˆ™è¿”å› Trueï¼Œ<code>å…¨è§’æ•°å­—</code></td></tr><tr><td>string.isdigit()</td><td>å¦‚æœ string åªåŒ…å«æ•°å­—åˆ™è¿”å› Trueï¼Œ<code>å…¨è§’æ•°å­—</code>ã€<code>â‘´</code>ã€<code>\u00b2</code></td></tr><tr><td>string.isnumeric()</td><td>å¦‚æœ string åªåŒ…å«æ•°å­—åˆ™è¿”å› Trueï¼Œ<code>å…¨è§’æ•°å­—</code>ï¼Œ<code>æ±‰å­—æ•°å­—</code></td></tr><tr><td>string.istitle()</td><td>å¦‚æœ string æ˜¯æ ‡é¢˜åŒ–çš„(æ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™)åˆ™è¿”å› True</td></tr><tr><td>string.islower()</td><td>å¦‚æœ string ä¸­åŒ…å«è‡³å°‘ä¸€ä¸ªåŒºåˆ†å¤§å°å†™çš„å­—ç¬¦ï¼Œå¹¶ä¸”æ‰€æœ‰è¿™äº›(åŒºåˆ†å¤§å°å†™çš„)å­—ç¬¦éƒ½æ˜¯å°å†™ï¼Œåˆ™è¿”å› True</td></tr><tr><td>string.isupper()</td><td>å¦‚æœ string ä¸­åŒ…å«è‡³å°‘ä¸€ä¸ªåŒºåˆ†å¤§å°å†™çš„å­—ç¬¦ï¼Œå¹¶ä¸”æ‰€æœ‰è¿™äº›(åŒºåˆ†å¤§å°å†™çš„)å­—ç¬¦éƒ½æ˜¯å¤§å†™ï¼Œåˆ™è¿”å› True</td></tr></tbody></table><h4 id="2-æŸ¥æ‰¾å’Œæ›¿æ¢-7"><a href="#2-æŸ¥æ‰¾å’Œæ›¿æ¢-7" class="headerlink" title="2) æŸ¥æ‰¾å’Œæ›¿æ¢ - 7"></a>2) æŸ¥æ‰¾å’Œæ›¿æ¢ - 7</h4><table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>string.startswith(str)</td><td>æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä»¥ str å¼€å¤´ï¼Œæ˜¯åˆ™è¿”å› True</td></tr><tr><td>string.endswith(str)</td><td>æ£€æŸ¥å­—ç¬¦ä¸²æ˜¯å¦æ˜¯ä»¥ str ç»“æŸï¼Œæ˜¯åˆ™è¿”å› True</td></tr><tr><td>string.find(str, start=0, end=len(string))</td><td>æ£€æµ‹ str æ˜¯å¦åŒ…å«åœ¨ string ä¸­ï¼Œå¦‚æœ start å’Œ end æŒ‡å®šèŒƒå›´ï¼Œåˆ™æ£€æŸ¥æ˜¯å¦åŒ…å«åœ¨æŒ‡å®šèŒƒå›´å†…ï¼Œå¦‚æœæ˜¯è¿”å›å¼€å§‹çš„ç´¢å¼•å€¼ï¼Œå¦åˆ™è¿”å› <code>-1</code></td></tr><tr><td>string.rfind(str, start=0, end=len(string))</td><td>ç±»ä¼¼äº find()ï¼Œä¸è¿‡æ˜¯ä»å³è¾¹å¼€å§‹æŸ¥æ‰¾</td></tr><tr><td>string.index(str, start=0, end=len(string))</td><td>è·Ÿ find() æ–¹æ³•ç±»ä¼¼ï¼Œä¸è¿‡å¦‚æœ str ä¸åœ¨ string ä¼šæŠ¥é”™</td></tr><tr><td>string.rindex(str, start=0, end=len(string))</td><td>ç±»ä¼¼äº index()ï¼Œä¸è¿‡æ˜¯ä»å³è¾¹å¼€å§‹</td></tr><tr><td>string.replace(old_str, new_str, num=string.count(old))</td><td>æŠŠ string ä¸­çš„ old_str æ›¿æ¢æˆ new_strï¼Œå¦‚æœ num æŒ‡å®šï¼Œåˆ™æ›¿æ¢ä¸è¶…è¿‡ num æ¬¡</td></tr></tbody></table><h4 id="3-å¤§å°å†™è½¬æ¢-5"><a href="#3-å¤§å°å†™è½¬æ¢-5" class="headerlink" title="3) å¤§å°å†™è½¬æ¢ - 5"></a>3) å¤§å°å†™è½¬æ¢ - 5</h4><table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>string.capitalize()</td><td>æŠŠå­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªå­—ç¬¦å¤§å†™</td></tr><tr><td>string.title()</td><td>æŠŠå­—ç¬¦ä¸²çš„æ¯ä¸ªå•è¯é¦–å­—æ¯å¤§å†™</td></tr><tr><td>string.lower()</td><td>è½¬æ¢ string ä¸­æ‰€æœ‰å¤§å†™å­—ç¬¦ä¸ºå°å†™</td></tr><tr><td>string.upper()</td><td>è½¬æ¢ string ä¸­çš„å°å†™å­—æ¯ä¸ºå¤§å†™</td></tr><tr><td>string.swapcase()</td><td>ç¿»è½¬ string ä¸­çš„å¤§å°å†™</td></tr></tbody></table><h4 id="4-æ–‡æœ¬å¯¹é½-3"><a href="#4-æ–‡æœ¬å¯¹é½-3" class="headerlink" title="4) æ–‡æœ¬å¯¹é½ - 3"></a>4) æ–‡æœ¬å¯¹é½ - 3</h4><table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>string.ljust(width)</td><td>è¿”å›ä¸€ä¸ªåŸå­—ç¬¦ä¸²å·¦å¯¹é½ï¼Œå¹¶ä½¿ç”¨ç©ºæ ¼å¡«å……è‡³é•¿åº¦ width çš„æ–°å­—ç¬¦ä¸²</td></tr><tr><td>string.rjust(width)</td><td>è¿”å›ä¸€ä¸ªåŸå­—ç¬¦ä¸²å³å¯¹é½ï¼Œå¹¶ä½¿ç”¨ç©ºæ ¼å¡«å……è‡³é•¿åº¦ width çš„æ–°å­—ç¬¦ä¸²</td></tr><tr><td>string.center(width)</td><td>è¿”å›ä¸€ä¸ªåŸå­—ç¬¦ä¸²å±…ä¸­ï¼Œå¹¶ä½¿ç”¨ç©ºæ ¼å¡«å……è‡³é•¿åº¦ width çš„æ–°å­—ç¬¦ä¸²</td></tr></tbody></table><h4 id="5-å»é™¤ç©ºç™½å­—ç¬¦-3"><a href="#5-å»é™¤ç©ºç™½å­—ç¬¦-3" class="headerlink" title="5) å»é™¤ç©ºç™½å­—ç¬¦ - 3"></a>5) å»é™¤ç©ºç™½å­—ç¬¦ - 3</h4><table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>string.lstrip()</td><td>æˆªæ‰ string å·¦è¾¹ï¼ˆå¼€å§‹ï¼‰çš„ç©ºç™½å­—ç¬¦</td></tr><tr><td>string.rstrip()</td><td>æˆªæ‰ string å³è¾¹ï¼ˆæœ«å°¾ï¼‰çš„ç©ºç™½å­—ç¬¦</td></tr><tr><td>string.strip()</td><td>æˆªæ‰ string å·¦å³ä¸¤è¾¹çš„ç©ºç™½å­—ç¬¦</td></tr></tbody></table><h4 id="6-æ‹†åˆ†å’Œè¿æ¥-5"><a href="#6-æ‹†åˆ†å’Œè¿æ¥-5" class="headerlink" title="6) æ‹†åˆ†å’Œè¿æ¥ - 5"></a>6) æ‹†åˆ†å’Œè¿æ¥ - 5</h4><table><thead><tr><th>æ–¹æ³•</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>string.partition(str)</td><td>æŠŠå­—ç¬¦ä¸² string åˆ†æˆä¸€ä¸ª 3 å…ƒç´ çš„å…ƒç»„ (strå‰é¢, str, stråé¢)</td></tr><tr><td>string.rpartition(str)</td><td>ç±»ä¼¼äº partition() æ–¹æ³•ï¼Œä¸è¿‡æ˜¯ä»å³è¾¹å¼€å§‹æŸ¥æ‰¾</td></tr><tr><td>string.split(str=â€â€, num)</td><td>ä»¥ str ä¸ºåˆ†éš”ç¬¦æ‹†åˆ† stringï¼Œå¦‚æœ num æœ‰æŒ‡å®šå€¼ï¼Œåˆ™ä»…åˆ†éš” num + 1 ä¸ªå­å­—ç¬¦ä¸²ï¼Œstr é»˜è®¤åŒ…å« â€˜\râ€™, â€˜\tâ€™, â€˜\nâ€™ å’Œç©ºæ ¼</td></tr><tr><td>string.splitlines()</td><td>æŒ‰ç…§è¡Œ(â€˜\râ€™, â€˜\nâ€™, â€˜\r\nâ€™)åˆ†éš”ï¼Œè¿”å›ä¸€ä¸ªåŒ…å«å„è¡Œä½œä¸ºå…ƒç´ çš„åˆ—è¡¨</td></tr><tr><td>string.join(seq)</td><td>ä»¥ string ä½œä¸ºåˆ†éš”ç¬¦ï¼Œå°† seq ä¸­æ‰€æœ‰çš„å…ƒç´ ï¼ˆçš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼‰åˆå¹¶ä¸ºä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²</td></tr></tbody></table><h3 id="å­—ç¬¦ä¸²çš„åˆ‡ç‰‡"><a href="#å­—ç¬¦ä¸²çš„åˆ‡ç‰‡" class="headerlink" title="å­—ç¬¦ä¸²çš„åˆ‡ç‰‡"></a>å­—ç¬¦ä¸²çš„åˆ‡ç‰‡</h3><ul><li><strong>åˆ‡ç‰‡</strong> æ–¹æ³•é€‚ç”¨äº <strong>å­—ç¬¦ä¸²</strong>ã€<strong>åˆ—è¡¨</strong>ã€<strong>å…ƒç»„</strong><ul><li><strong>åˆ‡ç‰‡</strong> ä½¿ç”¨ <strong>ç´¢å¼•å€¼</strong> æ¥é™å®šèŒƒå›´ï¼Œä»ä¸€ä¸ªå¤§çš„ <strong>å­—ç¬¦ä¸²</strong> ä¸­ <strong>åˆ‡å‡º</strong> å°çš„ <strong>å­—ç¬¦ä¸²</strong></li><li><strong>åˆ—è¡¨</strong> å’Œ <strong>å…ƒç»„</strong> éƒ½æ˜¯ <strong>æœ‰åº</strong> çš„é›†åˆï¼Œéƒ½èƒ½å¤Ÿ <strong>é€šè¿‡ç´¢å¼•å€¼</strong> è·å–åˆ°å¯¹åº”çš„æ•°æ®</li><li><strong>å­—å…¸</strong> æ˜¯ä¸€ä¸ª <strong>æ— åº</strong> çš„é›†åˆï¼Œæ˜¯ä½¿ç”¨ <strong>é”®å€¼å¯¹</strong> ä¿å­˜æ•°æ®</li><li>å­—ç¬¦ä¸²[å¼€å§‹ç´¢å¼•:ç»“æŸç´¢å¼•:æ­¥é•¿]</li></ul></li></ul><p><img src="https://img-blog.csdnimg.cn/00cdef8c52504340befc0849cbed95df.png" alt="å­—ç¬¦ä¸²ç´¢å¼•"></p><p><strong>æ³¨æ„</strong>ï¼š</p><ol><li>æŒ‡å®šçš„åŒºé—´å±äº <strong>å·¦é—­å³å¼€</strong> å‹ <code>[å¼€å§‹ç´¢å¼•,  ç»“æŸç´¢å¼•)</code> =&gt; <code>å¼€å§‹ç´¢å¼• &gt;= èŒƒå›´ &lt; ç»“æŸç´¢å¼•</code><ul><li>ä» <code>èµ·å§‹</code> ä½å¼€å§‹ï¼Œåˆ° <strong><code>ç»“æŸ</code>ä½çš„å‰ä¸€ä½</strong> ç»“æŸï¼ˆ<strong>ä¸åŒ…å«ç»“æŸä½æœ¬èº«</strong>)</li></ul></li><li>ä»å¤´å¼€å§‹ï¼Œ<strong>å¼€å§‹ç´¢å¼•</strong> <strong>æ•°å­—å¯ä»¥çœç•¥ï¼Œå†’å·ä¸èƒ½çœç•¥</strong></li><li>åˆ°æœ«å°¾ç»“æŸï¼Œ<strong>ç»“æŸç´¢å¼•</strong> <strong>æ•°å­—å¯ä»¥çœç•¥ï¼Œå†’å·ä¸èƒ½çœç•¥</strong></li><li>æ­¥é•¿é»˜è®¤ä¸º <code>1</code>ï¼Œå¦‚æœè¿ç»­åˆ‡ç‰‡ï¼Œ<strong>æ•°å­—å’Œå†’å·éƒ½å¯ä»¥çœç•¥</strong></li></ol><h4 id="ç´¢å¼•çš„é¡ºåºå’Œå€’åº"><a href="#ç´¢å¼•çš„é¡ºåºå’Œå€’åº" class="headerlink" title="ç´¢å¼•çš„é¡ºåºå’Œå€’åº"></a>ç´¢å¼•çš„é¡ºåºå’Œå€’åº</h4><ul><li>åœ¨ Python ä¸­ä¸ä»…æ”¯æŒ <strong>é¡ºåºç´¢å¼•</strong>ï¼ŒåŒæ—¶è¿˜æ”¯æŒ <strong>å€’åºç´¢å¼•</strong></li><li>æ‰€è°“å€’åºç´¢å¼•å°±æ˜¯ <strong>ä»å³å‘å·¦</strong> è®¡ç®—ç´¢å¼•<ul><li>æœ€å³è¾¹çš„ç´¢å¼•å€¼æ˜¯ <strong>-1</strong>ï¼Œä¾æ¬¡é€’å‡</li></ul></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">num_str <span class="token operator">=</span> <span class="token string">"0123456789"</span><span class="token comment"># 1. æˆªå–ä» 2 ~ 5 ä½ç½® çš„å­—ç¬¦ä¸²</span><span class="token keyword">print</span><span class="token punctuation">(</span>num_str<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># 2. æˆªå–ä» 2 ~ `æœ«å°¾` çš„å­—ç¬¦ä¸²</span><span class="token keyword">print</span><span class="token punctuation">(</span>num_str<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># 3. æˆªå–ä» `å¼€å§‹` ~ 5 ä½ç½® çš„å­—ç¬¦ä¸²</span><span class="token keyword">print</span><span class="token punctuation">(</span>num_str<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># 4. æˆªå–å®Œæ•´çš„å­—ç¬¦ä¸²</span><span class="token keyword">print</span><span class="token punctuation">(</span>num_str<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># 5. ä»å¼€å§‹ä½ç½®ï¼Œæ¯éš”ä¸€ä¸ªå­—ç¬¦æˆªå–å­—ç¬¦ä¸²</span><span class="token keyword">print</span><span class="token punctuation">(</span>num_str<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># 6. ä»ç´¢å¼• 1 å¼€å§‹ï¼Œæ¯éš”ä¸€ä¸ªå–ä¸€ä¸ª</span><span class="token keyword">print</span><span class="token punctuation">(</span>num_str<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># å€’åºåˆ‡ç‰‡</span><span class="token comment"># -1 è¡¨ç¤ºå€’æ•°ç¬¬ä¸€ä¸ªå­—ç¬¦</span><span class="token keyword">print</span><span class="token punctuation">(</span>num_str<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># 7. æˆªå–ä» 2 ~ `æœ«å°¾ - 1` çš„å­—ç¬¦ä¸²</span><span class="token keyword">print</span><span class="token punctuation">(</span>num_str<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># 8. æˆªå–å­—ç¬¦ä¸²æœ«å°¾ä¸¤ä¸ªå­—ç¬¦</span><span class="token keyword">print</span><span class="token punctuation">(</span>num_str<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">:</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token comment"># 9. å­—ç¬¦ä¸²çš„é€†åºï¼ˆé¢è¯•é¢˜ï¼‰</span><span class="token keyword">print</span><span class="token punctuation">(</span>num_str<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>num_str<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å…¬å…±æ–¹æ³•"><a href="#å…¬å…±æ–¹æ³•" class="headerlink" title="å…¬å…±æ–¹æ³•"></a>å…¬å…±æ–¹æ³•</h3><p>Python åŒ…å«äº†ä»¥ä¸‹å†…ç½®å‡½æ•°ï¼š</p><table><thead><tr><th>å‡½æ•°</th><th>æè¿°</th><th>å¤‡æ³¨</th></tr></thead><tbody><tr><td>len(item)</td><td>è®¡ç®—å®¹å™¨ä¸­å…ƒç´ ä¸ªæ•°</td><td></td></tr><tr><td>del(item)</td><td>åˆ é™¤å˜é‡</td><td>del æœ‰ä¸¤ç§æ–¹å¼</td></tr><tr><td>max(item)</td><td>è¿”å›å®¹å™¨ä¸­å…ƒç´ æœ€å¤§å€¼</td><td>å¦‚æœæ˜¯å­—å…¸ï¼Œåªé’ˆå¯¹ key æ¯”è¾ƒ</td></tr><tr><td>min(item)</td><td>è¿”å›å®¹å™¨ä¸­å…ƒç´ æœ€å°å€¼</td><td>å¦‚æœæ˜¯å­—å…¸ï¼Œåªé’ˆå¯¹ key æ¯”è¾ƒ</td></tr><tr><td>cmp(item1, item2)</td><td>æ¯”è¾ƒä¸¤ä¸ªå€¼ï¼Œ-1 å°äº/0 ç›¸ç­‰/1 å¤§äº</td><td>Python 3.x å–æ¶ˆäº† cmp å‡½æ•°</td></tr><tr><td>id(item)</td><td>å˜é‡ä¸­ä¿å­˜æ•°æ®æ‰€åœ¨çš„ <strong>å†…å­˜åœ°å€</strong></td><td></td></tr><tr><td>hash(item)</td><td>ç»hashç®—æ³•åè¿”å›ä¸€ä¸ªæ•´æ•°</td><td>æ¥æ”¶ä¸€ä¸ªä¸å¯å˜ç±»å‹ä½œä¸ºå‚æ•°</td></tr><tr><td>global(item)</td><td>åœ¨å‡½æ•°ä¸­ä¿®æ”¹å…¨å±€å˜é‡</td><td></td></tr></tbody></table><p><strong>æ³¨æ„</strong></p><ul><li><p><strong>å­—ç¬¦ä¸²</strong> æ¯”è¾ƒç¬¦åˆä»¥ä¸‹è§„åˆ™ï¼š â€œ0â€ &lt; â€œAâ€ &lt; â€œaâ€</p></li><li><p>å¦‚æœå˜é‡å·²ç»è¢«å®šä¹‰ï¼Œå½“ç»™ä¸€ä¸ªå˜é‡èµ‹å€¼çš„æ—¶å€™ï¼Œæœ¬è´¨ä¸Šæ˜¯ <strong>ä¿®æ”¹äº†æ•°æ®çš„å¼•ç”¨</strong></p><ul><li>å˜é‡ <strong>ä¸å†</strong> å¯¹ä¹‹å‰çš„æ•°æ®å¼•ç”¨</li><li>å˜é‡ <strong>æ”¹ä¸º</strong> å¯¹æ–°èµ‹å€¼çš„æ•°æ®å¼•ç”¨</li></ul></li></ul><h3 id="åˆ‡ç‰‡"><a href="#åˆ‡ç‰‡" class="headerlink" title="åˆ‡ç‰‡"></a>åˆ‡ç‰‡</h3><table><thead><tr><th align="center">æè¿°</th><th>Python è¡¨è¾¾å¼</th><th>ç»“æœ</th><th>æ”¯æŒçš„æ•°æ®ç±»å‹</th></tr></thead><tbody><tr><td align="center">åˆ‡ç‰‡</td><td>â€œ0123456789â€[::-2]</td><td>â€œ97531â€</td><td>å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„</td></tr></tbody></table><ul><li><strong>åˆ‡ç‰‡</strong> ä½¿ç”¨ <strong>ç´¢å¼•å€¼</strong> æ¥é™å®šèŒƒå›´ï¼Œä»ä¸€ä¸ªå¤§çš„ <strong>å­—ç¬¦ä¸²</strong> ä¸­ <strong>åˆ‡å‡º</strong> å°çš„ <strong>å­—ç¬¦ä¸²</strong></li><li><strong>åˆ—è¡¨</strong> å’Œ <strong>å…ƒç»„</strong> éƒ½æ˜¯ <strong>æœ‰åº</strong> çš„é›†åˆï¼Œéƒ½èƒ½å¤Ÿ <strong>é€šè¿‡ç´¢å¼•å€¼</strong> è·å–åˆ°å¯¹åº”çš„æ•°æ®</li><li><strong>å­—å…¸</strong> æ˜¯ä¸€ä¸ª <strong>æ— åº</strong> çš„é›†åˆï¼Œæ˜¯ä½¿ç”¨ <strong>é”®å€¼å¯¹</strong> ä¿å­˜æ•°æ®</li></ul><h3 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h3><table><thead><tr><th align="center">è¿ç®—ç¬¦</th><th>Python è¡¨è¾¾å¼</th><th>ç»“æœ</th><th>æè¿°</th><th>æ”¯æŒçš„æ•°æ®ç±»å‹</th></tr></thead><tbody><tr><td align="center">+</td><td>[1, 2] + [3, 4]</td><td>[1, 2, 3, 4]</td><td>åˆå¹¶</td><td>å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„</td></tr><tr><td align="center">*</td><td>[â€œHi!â€] * 4</td><td>[â€˜Hi!â€™, â€˜Hi!â€™, â€˜Hi!â€™, â€˜Hi!â€™]</td><td>é‡å¤</td><td>å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„</td></tr><tr><td align="center">in</td><td>3 in (1, 2, 3)</td><td>True</td><td>å…ƒç´ æ˜¯å¦å­˜åœ¨</td><td>å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„ã€å­—å…¸</td></tr><tr><td align="center">not in</td><td>4 not in (1, 2, 3)</td><td>True</td><td>å…ƒç´ æ˜¯å¦ä¸å­˜åœ¨</td><td>å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„ã€å­—å…¸</td></tr><tr><td align="center">&gt; &gt;= == &lt; &lt;=</td><td>(1, 2, 3) &lt; (2, 2, 3)</td><td>True</td><td>å…ƒç´ æ¯”è¾ƒ</td><td>å­—ç¬¦ä¸²ã€åˆ—è¡¨ã€å…ƒç»„</td></tr></tbody></table><p><strong>æ³¨æ„</strong></p><ul><li><code>in</code> åœ¨å¯¹ <strong>å­—å…¸</strong> æ“ä½œæ—¶ï¼Œåˆ¤æ–­çš„æ˜¯ <strong>å­—å…¸çš„é”®</strong></li><li><code>in</code> å’Œ <code>not in</code> è¢«ç§°ä¸º <strong>æˆå‘˜è¿ç®—ç¬¦</strong></li></ul><h4 id="æˆå‘˜è¿ç®—ç¬¦"><a href="#æˆå‘˜è¿ç®—ç¬¦" class="headerlink" title="æˆå‘˜è¿ç®—ç¬¦"></a>æˆå‘˜è¿ç®—ç¬¦</h4><p>æˆå‘˜è¿ç®—ç¬¦ç”¨äº <strong>æµ‹è¯•</strong> åºåˆ—ä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„ <strong>æˆå‘˜</strong></p><table><thead><tr><th>è¿ç®—ç¬¦</th><th>æè¿°</th><th>å®ä¾‹</th></tr></thead><tbody><tr><td>in</td><td>å¦‚æœåœ¨æŒ‡å®šçš„åºåˆ—ä¸­æ‰¾åˆ°å€¼è¿”å› Trueï¼Œå¦åˆ™è¿”å› False</td><td><code>3 in (1, 2, 3)</code> è¿”å› <code>True</code></td></tr><tr><td>not in</td><td>å¦‚æœåœ¨æŒ‡å®šçš„åºåˆ—ä¸­æ²¡æœ‰æ‰¾åˆ°å€¼è¿”å› Trueï¼Œå¦åˆ™è¿”å› False</td><td><code>3 not in (1, 2, 3)</code> è¿”å› <code>False</code></td></tr></tbody></table><p>æ³¨æ„ï¼šåœ¨å¯¹ <strong>å­—å…¸</strong> æ“ä½œæ—¶ï¼Œåˆ¤æ–­çš„æ˜¯ <strong>å­—å…¸çš„é”®</strong></p><h3 id="å®Œæ•´çš„-for-å¾ªç¯è¯­æ³•"><a href="#å®Œæ•´çš„-for-å¾ªç¯è¯­æ³•" class="headerlink" title="å®Œæ•´çš„ for å¾ªç¯è¯­æ³•"></a>å®Œæ•´çš„ for å¾ªç¯è¯­æ³•</h3><ul><li>åœ¨ <code>Python</code> ä¸­å®Œæ•´çš„ <code>for å¾ªç¯</code> çš„è¯­æ³•å¦‚ä¸‹ï¼š</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">for</span> å˜é‡ <span class="token keyword">in</span> é›†åˆ<span class="token punctuation">:</span>        å¾ªç¯ä½“ä»£ç <span class="token keyword">else</span><span class="token punctuation">:</span>    æ²¡æœ‰é€šè¿‡ <span class="token keyword">break</span> é€€å‡ºå¾ªç¯ï¼Œå¾ªç¯ç»“æŸåï¼Œä¼šæ‰§è¡Œçš„ä»£ç <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h4><ul><li>åœ¨ <strong>è¿­ä»£éå†</strong> åµŒå¥—çš„æ•°æ®ç±»å‹æ—¶ï¼Œä¾‹å¦‚ <strong>ä¸€ä¸ªåˆ—è¡¨åŒ…å«äº†å¤šä¸ªå­—å…¸</strong></li><li>éœ€æ±‚ï¼šè¦åˆ¤æ–­ æŸä¸€ä¸ªå­—å…¸ä¸­ æ˜¯å¦å­˜åœ¨ æŒ‡å®šçš„ å€¼ <ul><li>å¦‚æœ <strong>å­˜åœ¨</strong>ï¼Œæç¤ºå¹¶ä¸”é€€å‡ºå¾ªç¯</li><li>å¦‚æœ <strong>ä¸å­˜åœ¨</strong>ï¼Œåœ¨ <strong>å¾ªç¯æ•´ä½“ç»“æŸ</strong> åï¼Œå¸Œæœ› <strong>å¾—åˆ°ä¸€ä¸ªç»Ÿä¸€çš„æç¤º</strong></li></ul></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">students <span class="token operator">=</span> <span class="token punctuation">[</span>    <span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"é˜¿åœŸ"</span><span class="token punctuation">,</span>     <span class="token string">"age"</span><span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>     <span class="token string">"gender"</span><span class="token punctuation">:</span> <span class="token boolean">True</span><span class="token punctuation">,</span>     <span class="token string">"height"</span><span class="token punctuation">:</span> <span class="token number">1.7</span><span class="token punctuation">,</span>     <span class="token string">"weight"</span><span class="token punctuation">:</span> <span class="token number">75.0</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>    <span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"å°ç¾"</span><span class="token punctuation">,</span>     <span class="token string">"age"</span><span class="token punctuation">:</span> <span class="token number">19</span><span class="token punctuation">,</span>     <span class="token string">"gender"</span><span class="token punctuation">:</span> <span class="token boolean">False</span><span class="token punctuation">,</span>     <span class="token string">"height"</span><span class="token punctuation">:</span> <span class="token number">1.6</span><span class="token punctuation">,</span>     <span class="token string">"weight"</span><span class="token punctuation">:</span> <span class="token number">45.0</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token punctuation">]</span>find_name <span class="token operator">=</span> <span class="token string">"é˜¿åœŸ"</span><span class="token keyword">for</span> stu_dict <span class="token keyword">in</span> students<span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>stu_dict<span class="token punctuation">)</span>    <span class="token comment"># åˆ¤æ–­å½“å‰éå†çš„å­—å…¸ä¸­å§“åæ˜¯å¦ä¸ºfind_name</span>    <span class="token keyword">if</span> stu_dict<span class="token punctuation">[</span><span class="token string">"name"</span><span class="token punctuation">]</span> <span class="token operator">==</span> find_name<span class="token punctuation">:</span>        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ‰¾åˆ°äº†"</span><span class="token punctuation">)</span>        <span class="token comment"># å¦‚æœå·²ç»æ‰¾åˆ°ï¼Œç›´æ¥é€€å‡ºå¾ªç¯ï¼Œå°±ä¸éœ€è¦å†å¯¹åç»­çš„æ•°æ®è¿›è¡Œæ¯”è¾ƒ</span>        <span class="token keyword">break</span><span class="token keyword">else</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"æ²¡æœ‰æ‰¾åˆ°"</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"å¾ªç¯ç»“æŸ"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¤šå€¼å‚æ•°ï¼ˆçŸ¥é“ï¼‰"><a href="#å¤šå€¼å‚æ•°ï¼ˆçŸ¥é“ï¼‰" class="headerlink" title="å¤šå€¼å‚æ•°ï¼ˆçŸ¥é“ï¼‰"></a>å¤šå€¼å‚æ•°ï¼ˆçŸ¥é“ï¼‰</h3><ul><li>æœ‰æ—¶å¯èƒ½éœ€è¦ <strong>ä¸€ä¸ªå‡½æ•°</strong> èƒ½å¤Ÿå¤„ç†çš„å‚æ•° <strong>ä¸ªæ•°</strong> æ˜¯ä¸ç¡®å®šçš„ï¼Œè¿™ä¸ªæ—¶å€™ï¼Œå°±å¯ä»¥ä½¿ç”¨ <strong>å¤šå€¼å‚æ•°</strong></li><li><code>python</code> ä¸­æœ‰ <strong>ä¸¤ç§</strong> å¤šå€¼å‚æ•°ï¼š<ul><li>å‚æ•°åå‰å¢åŠ  <strong>ä¸€ä¸ª</strong> <code>*</code> å¯ä»¥æ¥æ”¶ <strong>å…ƒç»„</strong></li><li>å‚æ•°åå‰å¢åŠ  <strong>ä¸¤ä¸ª</strong> <code>*</code> å¯ä»¥æ¥æ”¶ <strong>å­—å…¸</strong></li></ul></li><li>ä¸€èˆ¬åœ¨ç»™å¤šå€¼å‚æ•°å‘½åæ—¶ï¼Œ<strong>ä¹ æƒ¯</strong>ä½¿ç”¨ä»¥ä¸‹ä¸¤ä¸ªåå­—<ul><li><code>*args</code> â€”â€” å­˜æ”¾ <strong>å…ƒç»„</strong> å‚æ•°ï¼Œå‰é¢æœ‰ä¸€ä¸ª <code>*</code></li><li><code>**kwargs</code> â€”â€” å­˜æ”¾ <strong>å­—å…¸</strong> å‚æ•°ï¼Œå‰é¢æœ‰ä¸¤ä¸ª <code>*</code></li></ul></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">demo</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>kwargs<span class="token punctuation">)</span>demo<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">"å°æ˜"</span><span class="token punctuation">,</span> age<span class="token operator">=</span><span class="token number">18</span><span class="token punctuation">,</span> gender<span class="token operator">=</span><span class="token boolean">True</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="å…ƒç»„å’Œå­—å…¸çš„æ‹†åŒ…ï¼ˆçŸ¥é“ï¼‰"><a href="#å…ƒç»„å’Œå­—å…¸çš„æ‹†åŒ…ï¼ˆçŸ¥é“ï¼‰" class="headerlink" title="å…ƒç»„å’Œå­—å…¸çš„æ‹†åŒ…ï¼ˆçŸ¥é“ï¼‰"></a>å…ƒç»„å’Œå­—å…¸çš„æ‹†åŒ…ï¼ˆçŸ¥é“ï¼‰</h4><ul><li>åœ¨è°ƒç”¨å¸¦æœ‰å¤šå€¼å‚æ•°çš„å‡½æ•°æ—¶ï¼Œå¦‚æœå¸Œæœ›ï¼š<ul><li>å°†ä¸€ä¸ª <strong>å…ƒç»„å˜é‡</strong>ï¼Œç›´æ¥ä¼ é€’ç»™ <code>args</code></li><li>å°†ä¸€ä¸ª <strong>å­—å…¸å˜é‡</strong>ï¼Œç›´æ¥ä¼ é€’ç»™ <code>kwargs</code></li></ul></li><li>å°±å¯ä»¥ä½¿ç”¨ <strong>æ‹†åŒ…</strong>ï¼Œç®€åŒ–å‚æ•°çš„ä¼ é€’ï¼Œ<strong>æ‹†åŒ…</strong> çš„æ–¹å¼æ˜¯ï¼š<ul><li>åœ¨ <strong>å…ƒç»„å˜é‡å‰</strong>ï¼Œå¢åŠ  <strong>ä¸€ä¸ª</strong> <code>*</code></li><li>åœ¨ <strong>å­—å…¸å˜é‡å‰</strong>ï¼Œå¢åŠ  <strong>ä¸¤ä¸ª</strong> <code>*</code></li></ul></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">demo</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>kwargs<span class="token punctuation">)</span><span class="token comment"># éœ€è¦å°†ä¸€ä¸ªå…ƒç»„å˜é‡/å­—å…¸å˜é‡ä¼ é€’ç»™å‡½æ•°å¯¹åº”çš„å‚æ•°</span>gl_nums <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>gl_xiaoming <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"å°æ˜"</span><span class="token punctuation">,</span> <span class="token string">"age"</span><span class="token punctuation">:</span> <span class="token number">18</span><span class="token punctuation">&#125;</span><span class="token comment"># ä¼šæŠŠ num_tuple å’Œ xiaoming ä½œä¸ºå…ƒç»„ä¼ é€’ä¸ª args</span><span class="token comment"># demo(gl_nums, gl_xiaoming)</span>demo<span class="token punctuation">(</span><span class="token operator">*</span>gl_nums<span class="token punctuation">,</span> <span class="token operator">**</span>gl_xiaoming<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h3><ul><li>è¿”å›å€¼å¦‚æœæœ‰å¤šä¸ªå¹¶éœ€è¦å•ç‹¬å¤„ç†å˜é‡çš„è¯,å¯ä»¥ä½¿ç”¨å¤šä¸ªå˜é‡æ¥æ¥æ”¶</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">measure</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    a11 <span class="token operator">=</span> <span class="token number">1031</span>    a22 <span class="token operator">=</span> <span class="token number">11</span>    <span class="token keyword">return</span> a11<span class="token punctuation">,</span> a22s<span class="token punctuation">,</span> d <span class="token operator">=</span> measure<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>measure<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>äº¤æ¢æ•°å­—</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">6</span>b <span class="token operator">=</span> <span class="token number">100</span><span class="token comment"># è§£æ³•ä¸€</span>c <span class="token operator">=</span> aa <span class="token operator">=</span> b b <span class="token operator">=</span> c<span class="token comment"># è§£æ³•äºŒ</span>a <span class="token operator">=</span> a <span class="token operator">+</span> bb <span class="token operator">=</span> a <span class="token operator">-</span> ba <span class="token operator">=</span> a <span class="token operator">-</span> b<span class="token comment"># è§£æ³•ä¸‰ å…ƒç¥–()å¯ä»¥çœç•¥</span>a <span class="token punctuation">,</span> b <span class="token operator">=</span> <span class="token punctuation">(</span>b<span class="token punctuation">,</span> a<span class="token punctuation">)</span>a <span class="token punctuation">,</span> b <span class="token operator">=</span> b<span class="token punctuation">,</span> a<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å¦‚æœä¼ é€’çš„å‚æ•°æ˜¯<strong>ä¸å¯å˜ç±»å‹</strong>,åœ¨å‡½æ•°å†…éƒ¨,ä½¿ç”¨<font color="red">æ–¹æ³•</font>ä¿®æ”¹äº†æ•°æ®çš„å†…å®¹,<strong>ä¸ä¼šå½±å“åˆ°å¤–éƒ¨çš„æ•°æ®</strong></li><li>å¦‚æœä¼ é€’çš„å‚æ•°æ˜¯<strong>å¯å˜ç±»å‹</strong>,åœ¨å‡½æ•°å†…éƒ¨,ä½¿ç”¨<font color="red">æ–¹æ³•</font>ä¿®æ”¹äº†æ•°æ®çš„å†…å®¹,<strong>åŒæ ·ä¼šå½±å“åˆ°å¤–éƒ¨çš„æ•°æ®</strong></li><li>åˆ—è¡¨å˜é‡ä½¿ç”¨ += ä¸ä¼šåšç›¸åŠ åœ¨èµ‹å€¼çš„æ“ä½œ,æœ¬è´¨ä¸Šæ˜¯è°ƒç”¨åˆ—è¡¨çš„ extend æ–¹æ³•</li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">demo</span><span class="token punctuation">(</span>num_list<span class="token punctuation">)</span><span class="token punctuation">:</span>    num_list<span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>    <span class="token keyword">print</span><span class="token punctuation">(</span>num_list<span class="token punctuation">)</span>num_list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>demo<span class="token punctuation">(</span>num_list<span class="token punctuation">)</span><span class="token keyword">print</span><span class="token punctuation">(</span>num_list<span class="token punctuation">)</span><span class="token comment"># è¿è¡Œç»“æœ</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>åœ¨å‚æ•°åä½¿ç”¨<strong>èµ‹å€¼è¯­å¥</strong>,å¯ä»¥<strong>æŒ‡å®šå‚æ•°çš„ç¼ºçœå€¼</strong></li><li>å¿…é¡»ä¿è¯å¸¦æœ‰é»˜è®¤å€¼çš„ç¼ºçœå‚æ•°åœ¨å‚æ•°åˆ—è¡¨çš„<strong>æœ«å°¾</strong></li><li>åœ¨è°ƒç”¨å‡½æ•°æ—¶,å¦‚æœæœ‰<strong>å¤šä¸ªç¼ºçœå‚æ•°,éœ€è¦æŒ‡å®šå‚æ•°å=</strong></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">demo</span><span class="token punctuation">(</span>num<span class="token punctuation">,</span>num_list <span class="token operator">=</span> <span class="token boolean">True</span><span class="token punctuation">)</span><span class="token punctuation">:</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="å¤šå€¼å‚æ•°æ¡ˆä¾‹-â€”â€”-è®¡ç®—ä»»æ„å¤šä¸ªæ•°å­—çš„å’Œ"><a href="#å¤šå€¼å‚æ•°æ¡ˆä¾‹-â€”â€”-è®¡ç®—ä»»æ„å¤šä¸ªæ•°å­—çš„å’Œ" class="headerlink" title="å¤šå€¼å‚æ•°æ¡ˆä¾‹ â€”â€” è®¡ç®—ä»»æ„å¤šä¸ªæ•°å­—çš„å’Œ"></a>å¤šå€¼å‚æ•°æ¡ˆä¾‹ â€”â€” è®¡ç®—ä»»æ„å¤šä¸ªæ•°å­—çš„å’Œ</h4><ol><li>å®šä¹‰ä¸€ä¸ªå‡½æ•° <code>sum_numbers</code>ï¼Œå¯ä»¥æ¥æ”¶çš„ <strong>ä»»æ„å¤šä¸ªæ•´æ•°</strong></li><li>åŠŸèƒ½è¦æ±‚ï¼šå°†ä¼ é€’çš„ <strong>æ‰€æœ‰æ•°å­—ç´¯åŠ </strong> å¹¶ä¸”è¿”å›ç´¯åŠ ç»“æœ</li></ol><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">def</span> <span class="token function">sum_numbers</span><span class="token punctuation">(</span><span class="token operator">*</span>args<span class="token punctuation">)</span><span class="token punctuation">:</span>num <span class="token operator">=</span> <span class="token number">0</span><span class="token comment"># éå† args å…ƒç»„é¡ºåºæ±‚å’Œ</span><span class="token keyword">for</span> n <span class="token keyword">in</span> args<span class="token punctuation">:</span>    num <span class="token operator">+=</span> n<span class="token keyword">return</span> num<span class="token keyword">print</span><span class="token punctuation">(</span>sum_numbers<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¸¸ç”¨å…³é”®å­—"><a href="#å¸¸ç”¨å…³é”®å­—" class="headerlink" title="å¸¸ç”¨å…³é”®å­—"></a>å¸¸ç”¨å…³é”®å­—</h3><ul><li><code>pass</code> è¡¨ç¤ºä¸€ä¸ªå ä½ç¬¦ï¼Œèƒ½å¤Ÿä¿è¯ç¨‹åºä»£ç ç»“æ„æ­£ç¡®ï¼Œä¸€èˆ¬ç”¨åœ¨å¼€å‘ç¨‹åºæ—¶ï¼Œä¸å¸Œæœ›ç«‹åˆ»ç¼–å†™åˆ†æ”¯å†…éƒ¨çš„ä»£ç  </li></ul><h3 id="LINUX-ä¸Šçš„ç‰¹æ®Šç¬¦å·"><a href="#LINUX-ä¸Šçš„ç‰¹æ®Šç¬¦å·" class="headerlink" title="LINUX ä¸Šçš„ç‰¹æ®Šç¬¦å·"></a>LINUX ä¸Šçš„ç‰¹æ®Šç¬¦å·</h3><ul><li><code>Shebang</code> ç¬¦å·(<code>#!</code>)</li></ul><ul><li><code>#!</code>è¿™ä¸ªç¬¦å·å«åš <code>Shebang</code> æˆ–è€… <code>Sha-bang</code></li><li><code>Shebang</code> é€šå¸¸åœ¨ <code>Unix</code> ç³»ç»Ÿè„šæœ¬çš„ä¸­ <strong>ç¬¬ä¸€è¡Œå¼€å¤´</strong> ä½¿ç”¨</li><li>æŒ‡æ˜ <strong>æ‰§è¡Œè¿™ä¸ªè„šæœ¬æ–‡ä»¶</strong> çš„ <strong>è§£é‡Šç¨‹åº</strong></li></ul><h4 id="ä½¿ç”¨-Shebang-çš„æ­¥éª¤"><a href="#ä½¿ç”¨-Shebang-çš„æ­¥éª¤" class="headerlink" title="ä½¿ç”¨ Shebang çš„æ­¥éª¤"></a>ä½¿ç”¨ Shebang çš„æ­¥éª¤</h4><ul><li><ol><li>ä½¿ç”¨ <code>which</code> æŸ¥è¯¢ <code>python3</code> è§£é‡Šå™¨æ‰€åœ¨è·¯å¾„</li></ol></li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">which</span> python3<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><ol start="2"><li>ä¿®æ”¹è¦è¿è¡Œçš„ <strong>ä¸» python æ–‡ä»¶</strong>ï¼Œåœ¨ç¬¬ä¸€è¡Œå¢åŠ ä»¥ä¸‹å†…å®¹(æ–‡ä»¶è·¯å¾„)</li></ol></li></ul><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token comment">#! /usr/bin/python3  </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><ol start="3"><li>ä¿®æ”¹ <strong>ä¸» python æ–‡ä»¶</strong> çš„æ–‡ä»¶æƒé™ï¼Œå¢åŠ æ‰§è¡Œæƒé™</li></ol></li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">chmod</span> +x cards_main.py<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li><ol start="4"><li>åœ¨éœ€è¦æ—¶æ‰§è¡Œç¨‹åºå³å¯</li></ol></li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">./cards_main.py<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å¿«æ·é”®"><a href="#å¿«æ·é”®" class="headerlink" title="å¿«æ·é”®"></a>å¿«æ·é”®</h3><ul><li>å‡½æ•°çš„æ–‡æ¡£æ³¨é‡Š Ctrl + Q åœ¨å‡½æ•°å®šä¹‰çš„ä¸‹æ–¹å†™æ³¨é‡Š</li></ul><p><img src="https://img-blog.csdnimg.cn/c9e6eaad37c940ffa5fa6d4a47a78e3d.png" alt="Ctrl+Q"></p>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linuxå¸¸ç”¨å‘½ä»¤æ±‡æ€»</title>
      <link href="/2021-10-21-linux-chang-yong-ming-ling-hui-zong.html"/>
      <url>/2021-10-21-linux-chang-yong-ming-ling-hui-zong.html</url>
      
        <content type="html"><![CDATA[<h3 id="1-æ–‡ä»¶å’Œç›®å½•"><a href="#1-æ–‡ä»¶å’Œç›®å½•" class="headerlink" title="1.æ–‡ä»¶å’Œç›®å½•"></a>1.æ–‡ä»¶å’Œç›®å½•</h3><ul><li>cdå‘½ä»¤ï¼Œç”¨äºåˆ‡æ¢å½“å‰ç›®å½•ï¼Œå®ƒçš„å‚æ•°æ˜¯è¦åˆ‡æ¢åˆ°çš„ç›®å½•çš„è·¯å¾„ï¼Œå¯ä»¥æ˜¯ç»å¯¹è·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ç›¸å¯¹è·¯å¾„ã€‚</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> /home     è¿›å…¥ <span class="token string">'/ home'</span> ç›®å½•<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>            è¿”å›ä¸Šä¸€çº§ç›®å½•<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>/<span class="token punctuation">..</span>         è¿”å›ä¸Šä¸¤çº§ç›®å½•<span class="token builtin class-name">cd</span>               è¿›å…¥ä¸ªäººçš„ä¸»ç›®å½•<span class="token builtin class-name">cd</span> ~user1    è¿›å…¥ä¸ªäººçš„ä¸»ç›®å½•<span class="token builtin class-name">cd</span> -             è¿”å›ä¸Šæ¬¡æ‰€åœ¨çš„ç›®å½•<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>pwdå‘½ä»¤ï¼Œæ˜¾ç¤ºå·¥ä½œè·¯å¾„</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root ~<span class="token punctuation">]</span><span class="token comment"># pwd</span>/root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>lså‘½ä»¤ï¼ŒæŸ¥çœ‹æ–‡ä»¶ä¸ç›®å½•çš„å‘½ä»¤ï¼Œlistä¹‹æ„</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ls</span> æŸ¥çœ‹ç›®å½•ä¸­çš„æ–‡ä»¶<span class="token function">ls</span> -l æ˜¾ç¤ºæ–‡ä»¶å’Œç›®å½•çš„è¯¦ç»†èµ„æ–™<span class="token function">ls</span> -i æ˜¾ç¤ºæ–‡ä»¶idå’Œç›®å½•çš„è¯¦ç»†èµ„æ–™<span class="token function">ls</span> -a åˆ—å‡ºå…¨éƒ¨æ–‡ä»¶ï¼ŒåŒ…å«éšè—æ–‡ä»¶<span class="token function">ls</span> -R è¿åŒå­ç›®å½•çš„å†…å®¹ä¸€èµ·åˆ—å‡ºï¼ˆé€’å½’åˆ—å‡ºï¼‰ï¼Œç­‰äºè¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½ä¼šæ˜¾ç¤ºå‡ºæ¥<span class="token function">ls</span> <span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span> æ˜¾ç¤ºåŒ…å«æ•°å­—çš„æ–‡ä»¶åå’Œç›®å½•å<span class="token function">ls</span> *.txt é€šé…ç¬¦*åŒ¹é…ä»»æ„ä¸ªå­—ç¬¦<span class="token function">ls</span> ??.txt é€šé…ç¬¦?åŒ¹é…å•ä¸ªå­—ç¬¦<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>cpå‘½ä»¤ï¼Œç”¨äºå¤åˆ¶æ–‡ä»¶ï¼Œcopyä¹‹æ„ï¼Œå®ƒè¿˜å¯ä»¥æŠŠå¤šä¸ªæ–‡ä»¶ä¸€æ¬¡æ€§åœ°å¤åˆ¶åˆ°ä¸€ä¸ªç›®å½•ä¸‹</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">-a ï¼šå°†æ–‡ä»¶çš„ç‰¹æ€§ä¸€èµ·å¤åˆ¶-p ï¼šè¿åŒæ–‡ä»¶çš„å±æ€§ä¸€èµ·å¤åˆ¶ï¼Œè€Œéä½¿ç”¨é»˜è®¤æ–¹å¼ï¼Œä¸-aç›¸ä¼¼ï¼Œå¸¸ç”¨äºå¤‡ä»½-i ï¼šè‹¥ç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨æ—¶ï¼Œåœ¨è¦†ç›–æ—¶ä¼šå…ˆè¯¢é—®æ“ä½œçš„è¿›è¡Œ-r ï¼šé€’å½’æŒç»­å¤åˆ¶ï¼Œç”¨äºç›®å½•çš„å¤åˆ¶è¡Œä¸º //ç»å¸¸ä½¿ç”¨é€’å½’å¤åˆ¶-u ï¼šç›®æ ‡æ–‡ä»¶ä¸æºæ–‡ä»¶æœ‰å·®å¼‚æ—¶æ‰ä¼šå¤åˆ¶<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>mvå‘½ä»¤ï¼Œç”¨äºç§»åŠ¨æ–‡ä»¶ã€ç›®å½•æˆ–æ›´åï¼Œmoveä¹‹æ„</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">-f ï¼šforceå¼ºåˆ¶çš„æ„æ€ï¼Œå¦‚æœç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œä¸ä¼šè¯¢é—®è€Œç›´æ¥è¦†ç›–-i ï¼šè‹¥ç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œå°±ä¼šè¯¢é—®æ˜¯å¦è¦†ç›–-u ï¼šè‹¥ç›®æ ‡æ–‡ä»¶å·²ç»å­˜åœ¨ï¼Œä¸”æ¯”ç›®æ ‡æ–‡ä»¶æ–°ï¼Œæ‰ä¼šæ›´æ–°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>rmå‘½ä»¤ï¼Œç”¨äºåˆ é™¤æ–‡ä»¶æˆ–ç›®å½•ï¼Œremoveä¹‹æ„</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">-f ï¼šå°±æ˜¯forceçš„æ„æ€ï¼Œå¿½ç•¥ä¸å­˜åœ¨çš„æ–‡ä»¶ï¼Œä¸ä¼šå‡ºç°è­¦å‘Šæ¶ˆæ¯-i ï¼šäº’åŠ¨æ¨¡å¼ï¼Œåœ¨åˆ é™¤å‰ä¼šè¯¢é—®ç”¨æˆ·æ˜¯å¦æ“ä½œ-r ï¼šé€’å½’åˆ é™¤ï¼Œæœ€å¸¸ç”¨äºç›®å½•åˆ é™¤ï¼Œå®ƒæ˜¯ä¸€ä¸ªéå¸¸å±é™©çš„å‚æ•°<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>touchå‘½ä»¤ï¼Œç”¨äºä¿®æ”¹æ–‡ä»¶æˆ–è€…ç›®å½•çš„æ—¶é—´å±æ€§ï¼ŒåŒ…æ‹¬å­˜å–æ—¶é—´å’Œæ›´æ”¹æ—¶é—´ã€‚è‹¥æ–‡ä»¶ä¸å­˜åœ¨ï¼Œç³»ç»Ÿä¼šå»ºç«‹ä¸€ä¸ªæ–°çš„æ–‡ä»¶ã€‚</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">touch</span> <span class="token punctuation">[</span>-acfm<span class="token punctuation">]</span><span class="token punctuation">[</span>-d<span class="token operator">&lt;</span>æ—¥æœŸæ—¶é—´<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>-r<span class="token operator">&lt;</span>å‚è€ƒæ–‡ä»¶æˆ–ç›®å½•<span class="token operator">></span><span class="token punctuation">]</span> <span class="token punctuation">[</span>-t<span class="token operator">&lt;</span>æ—¥æœŸæ—¶é—´<span class="token operator">></span><span class="token punctuation">]</span><span class="token punctuation">[</span>--help<span class="token punctuation">]</span><span class="token punctuation">[</span>--version<span class="token punctuation">]</span><span class="token punctuation">[</span>æ–‡ä»¶æˆ–ç›®å½•â€¦<span class="token punctuation">]</span>-a æ”¹å˜æ¡£æ¡ˆçš„è¯»å–æ—¶é—´è®°å½•ã€‚-m æ”¹å˜æ¡£æ¡ˆçš„ä¿®æ”¹æ—¶é—´è®°å½•ã€‚-c å‡å¦‚ç›®çš„æ¡£æ¡ˆä¸å­˜åœ¨ï¼Œä¸ä¼šå»ºç«‹æ–°çš„æ¡£æ¡ˆã€‚ä¸ --no-create çš„æ•ˆæœä¸€æ ·ã€‚-f ä¸ä½¿ç”¨ï¼Œæ˜¯ä¸ºäº†ä¸å…¶ä»– unix ç³»ç»Ÿçš„ç›¸å®¹æ€§è€Œä¿ç•™ã€‚-r ä½¿ç”¨å‚è€ƒæ¡£çš„æ—¶é—´è®°å½•ï¼Œä¸ --file çš„æ•ˆæœä¸€æ ·ã€‚-d è®¾å®šæ—¶é—´ä¸æ—¥æœŸï¼Œå¯ä»¥ä½¿ç”¨å„ç§ä¸åŒçš„æ ¼å¼ã€‚-t è®¾å®šæ¡£æ¡ˆçš„æ—¶é—´è®°å½•ï¼Œæ ¼å¼ä¸ <span class="token function">date</span> æŒ‡ä»¤ç›¸åŒã€‚--no-create ä¸ä¼šå»ºç«‹æ–°æ¡£æ¡ˆã€‚--help åˆ—å‡ºæŒ‡ä»¤æ ¼å¼ã€‚--version åˆ—å‡ºç‰ˆæœ¬è®¯æ¯ã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-æŸ¥çœ‹æ–‡ä»¶å†…å®¹"><a href="#2-æŸ¥çœ‹æ–‡ä»¶å†…å®¹" class="headerlink" title="2.æŸ¥çœ‹æ–‡ä»¶å†…å®¹"></a>2.æŸ¥çœ‹æ–‡ä»¶å†…å®¹</h3><ul><li>catå‘½ä»¤ï¼Œç”¨äºæŸ¥çœ‹æ–‡æœ¬æ–‡ä»¶çš„å†…å®¹ï¼Œåæ¥è¦æŸ¥çœ‹çš„æ–‡ä»¶åï¼Œé€šå¸¸å¯ç”¨ç®¡é“ä¸moreå’Œlessä¸€èµ·ä½¿ç”¨</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">cat</span> file1 ä»ç¬¬ä¸€ä¸ªå­—èŠ‚å¼€å§‹æ­£å‘æŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹<span class="token function">tac</span> file1 ä»æœ€åä¸€è¡Œå¼€å§‹åå‘æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å†…å®¹<span class="token function">cat</span> -n file1 æ ‡ç¤ºæ–‡ä»¶çš„è¡Œæ•°<span class="token function">cat</span> -b file1 æ ‡ç¤ºæ–‡ä»¶çš„è¡Œæ•° å»é™¤ç©ºè¡Œ<span class="token function">more</span> file1 åˆ†é¡µæŸ¥çœ‹ä¸€ä¸ªé•¿æ–‡ä»¶çš„å†…å®¹<span class="token function">head</span> -n <span class="token number">2</span> file1 æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„å‰ä¸¤è¡Œ<span class="token function">tail</span> -n <span class="token number">2</span> file1 æŸ¥çœ‹ä¸€ä¸ªæ–‡ä»¶çš„æœ€åä¸¤è¡Œ<span class="token function">tail</span> -n +1000 file1  ä»1000è¡Œå¼€å§‹æ˜¾ç¤ºï¼Œæ˜¾ç¤º1000è¡Œä»¥åçš„cat filename <span class="token operator">|</span> <span class="token function">head</span> -n <span class="token number">3000</span> <span class="token operator">|</span> <span class="token function">tail</span> -n +1000  æ˜¾ç¤º1000è¡Œåˆ°3000è¡Œcat filename <span class="token operator">|</span> <span class="token function">tail</span> -n +3000 <span class="token operator">|</span> <span class="token function">head</span> -n <span class="token number">1000</span>  ä»ç¬¬3000è¡Œå¼€å§‹ï¼Œæ˜¾ç¤º1000<span class="token punctuation">(</span>å³æ˜¾ç¤º3000~3999è¡Œ<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-æ–‡ä»¶æœç´¢"><a href="#3-æ–‡ä»¶æœç´¢" class="headerlink" title="3.æ–‡ä»¶æœç´¢"></a>3.æ–‡ä»¶æœç´¢</h3><ul><li>findå‘½ä»¤ï¼Œç”¨æ¥æŸ¥æ‰¾ç³»ç»Ÿçš„</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">find</span> / -name file1 ä» <span class="token string">'/'</span> å¼€å§‹è¿›å…¥æ ¹æ–‡ä»¶ç³»ç»Ÿæœç´¢æ–‡ä»¶å’Œç›®å½•<span class="token function">find</span> / -name file1 -a  -type f ä» <span class="token string">'/'</span> å¼€å§‹è¿›å…¥æ ¹æ–‡ä»¶ç³»ç»Ÿæœç´¢æ–‡ä»¶å’Œç›®å½•å¹¶ä¸”æ ¹æ®ç±»å‹æœç´¢æ–‡ä»¶<span class="token function">find</span> / -name <span class="token string">'a*'</span> -o  -name <span class="token string">'12*'</span> ä» <span class="token string">'/'</span> å¼€å§‹è¿›å…¥æ ¹æ–‡ä»¶ç³»ç»Ÿæœç´¢aå¼€å¤´çš„æ–‡ä»¶æˆ–è€…12å¼€å¤´çš„æ–‡ä»¶<span class="token function">find</span> / -iname <span class="token string">'aa'</span> ä» <span class="token string">'/'</span> å¼€å§‹è¿›å…¥æ ¹æ–‡ä»¶ç³»ç»Ÿæœç´¢åç§°ä¸ºaaçš„æ–‡ä»¶å¹¶å¿½ç•¥å¤§å°å†™<span class="token function">find</span> / -user user1 æœç´¢å±äºç”¨æˆ· <span class="token string">'user1'</span> çš„æ–‡ä»¶å’Œç›®å½•<span class="token function">find</span> / -inum <span class="token number">12345</span> ä» <span class="token string">'/'</span> å¼€å§‹è¿›å…¥æ ¹æ–‡ä»¶ç³»ç»Ÿæœç´¢idä¸º12345çš„æ–‡ä»¶<span class="token function">find</span> /usr/bin -type f -atime +100 æœç´¢åœ¨è¿‡å»100å¤©å†…æœªè¢«ä½¿ç”¨è¿‡çš„æ‰§è¡Œæ–‡ä»¶<span class="token function">find</span> /usr/bin -type f -mtime -10 æœç´¢åœ¨10å¤©å†…è¢«åˆ›å»ºæˆ–è€…ä¿®æ”¹è¿‡çš„æ–‡ä»¶<span class="token function">find</span> /usr/bin -type f -mmin -10 æœç´¢åœ¨10åˆ†é’Ÿå†…è¢«åˆ›å»ºæˆ–è€…ä¿®æ”¹è¿‡çš„æ–‡ä»¶<span class="token function">find</span> /usr/bin -type d -mmin +10 æœç´¢åœ¨10åˆ†é’Ÿå‰è¢«åˆ›å»ºæˆ–è€…ä¿®æ”¹è¿‡çš„æ–‡ä»¶å¤¹<span class="token function">find</span> /usr/bin -type l -mmin <span class="token number">10</span> æœç´¢åœ¨10åˆ†é’Ÿçš„æ—¶å€™è¢«åˆ›å»ºæˆ–è€…ä¿®æ”¹è¿‡çš„è½¯è¿æ¥<span class="token function">whereis</span> <span class="token function">halt</span> æ˜¾ç¤ºä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ã€æºç æˆ–mançš„ä½ç½®<span class="token function">which</span> <span class="token function">halt</span> æ˜¾ç¤ºä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶æˆ–å¯æ‰§è¡Œæ–‡ä»¶çš„å®Œæ•´è·¯å¾„<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>åˆ é™¤å¤§äº50Mçš„æ–‡ä»¶ï¼š</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">find</span> /var/mail/ -size +50M -exec <span class="token function">rm</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span> ï¼¼<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>æœç´¢å¤§äº100M(100 X 2 X 1024 = 204800)çš„æ–‡ä»¶(2å—)</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">fin /home -size +204800<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="è½¯é“¾æ¥"><a href="#è½¯é“¾æ¥" class="headerlink" title="è½¯é“¾æ¥"></a>è½¯é“¾æ¥</h4><ul><li>å³åˆ›å»ºæ–‡ä»¶çš„å¿«æ·æ–¹å¼</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ln</span> aa a_link<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="4-æ–‡ä»¶çš„æƒé™-ä½¿ç”¨-â€œ-â€-è®¾ç½®æƒé™ï¼Œä½¿ç”¨-â€œ-â€œ-ç”¨äºå–æ¶ˆ"><a href="#4-æ–‡ä»¶çš„æƒé™-ä½¿ç”¨-â€œ-â€-è®¾ç½®æƒé™ï¼Œä½¿ç”¨-â€œ-â€œ-ç”¨äºå–æ¶ˆ" class="headerlink" title="4.æ–‡ä»¶çš„æƒé™ - ä½¿ç”¨ â€œ+â€ è®¾ç½®æƒé™ï¼Œä½¿ç”¨ â€œ-â€œ ç”¨äºå–æ¶ˆ"></a>4.æ–‡ä»¶çš„æƒé™ - ä½¿ç”¨ â€œ+â€ è®¾ç½®æƒé™ï¼Œä½¿ç”¨ â€œ-â€œ ç”¨äºå–æ¶ˆ</h3><ul><li>chmodå‘½ä»¤ï¼Œæ”¹å˜æ–‡ä»¶/æ–‡ä»¶å¤¹æƒé™</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">ls</span> -lh æ˜¾ç¤ºæƒé™<span class="token function">chmod</span> ugo+rwx directory1 è®¾ç½®ç›®å½•çš„æ‰€æœ‰äºº<span class="token punctuation">(</span>u<span class="token punctuation">)</span>ã€ç¾¤ç»„<span class="token punctuation">(</span>g<span class="token punctuation">)</span>ä»¥åŠå…¶ä»–äºº<span class="token punctuation">(</span>o<span class="token punctuation">)</span>ä»¥è¯»ï¼ˆrï¼Œ4 ï¼‰ã€å†™<span class="token punctuation">(</span>wï¼Œ2<span class="token punctuation">)</span>å’Œæ‰§è¡Œ<span class="token punctuation">(</span>xï¼Œ1<span class="token punctuation">)</span>çš„æƒé™ <span class="token function">chmod</span> go-rwx directory1  åˆ é™¤ç¾¤ç»„<span class="token punctuation">(</span>g<span class="token punctuation">)</span>ä¸å…¶ä»–äºº<span class="token punctuation">(</span>o<span class="token punctuation">)</span>å¯¹ç›®å½•çš„è¯»å†™æ‰§è¡Œæƒé™<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol><li>chownå‘½ä»¤ï¼Œæ”¹å˜æ–‡ä»¶çš„æ‰€æœ‰è€…</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">chown</span> user1 file1 æ”¹å˜ä¸€ä¸ªæ–‡ä»¶çš„æ‰€æœ‰äººå±æ€§<span class="token function">chown</span> -R user1 directory1 æ”¹å˜ä¸€ä¸ªç›®å½•çš„æ‰€æœ‰äººå±æ€§å¹¶åŒæ—¶æ”¹å˜æ”¹ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶çš„å±æ€§<span class="token function">chown</span> user1:group1 file1 æ”¹å˜ä¸€ä¸ªæ–‡ä»¶çš„æ‰€æœ‰äººå’Œç¾¤ç»„å±æ€§<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>11.chgrpå‘½ä»¤ï¼Œæ”¹å˜æ–‡ä»¶æ‰€å±ç”¨æˆ·ç»„</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">chgrp</span> group1 file1 æ”¹å˜æ–‡ä»¶çš„ç¾¤ç»„<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="5-æ–‡æœ¬å¤„ç†"><a href="#5-æ–‡æœ¬å¤„ç†" class="headerlink" title="5.æ–‡æœ¬å¤„ç†"></a>5.æ–‡æœ¬å¤„ç†</h3><ol><li>grepå‘½ä»¤ï¼Œåˆ†æä¸€è¡Œçš„ä¿¡æ¯ï¼Œè‹¥å½“ä¸­æœ‰æˆ‘ä»¬æ‰€éœ€è¦çš„ä¿¡æ¯ï¼Œå°±å°†è¯¥è¡Œæ˜¾ç¤ºå‡ºæ¥ï¼Œè¯¥å‘½ä»¤é€šå¸¸ä¸ç®¡é“å‘½ä»¤ä¸€èµ·ä½¿ç”¨ï¼Œç”¨äºå¯¹ä¸€äº›å‘½ä»¤çš„è¾“å‡ºè¿›è¡Œç­›é€‰åŠ å·¥ç­‰ç­‰</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">grep</span> Aug /var/log/messages  åœ¨æ–‡ä»¶ <span class="token string">'/var/log/messages'</span>ä¸­æŸ¥æ‰¾å…³é”®è¯<span class="token string">"Aug"</span><span class="token function">grep</span> -v Aug /var/log/messages  åœ¨æ–‡ä»¶ <span class="token string">'/var/log/messages'</span>ä¸­æŸ¥æ‰¾éå…³é”®è¯<span class="token string">"Aug"</span><span class="token function">grep</span> s$  /var/log/messages  åœ¨æ–‡ä»¶ <span class="token string">'/var/log/messages'</span>ä¸­ä»¥<span class="token string">"s"</span>ç»“å°¾çš„<span class="token function">grep</span> ^Aug /var/log/messages åœ¨æ–‡ä»¶ <span class="token string">'/var/log/messages'</span>ä¸­æŸ¥æ‰¾ä»¥<span class="token string">"Aug"</span>å¼€å§‹çš„è¯æ±‡<span class="token function">grep</span> <span class="token punctuation">[</span><span class="token number">0</span>-9<span class="token punctuation">]</span>  /var/log/messages é€‰æ‹© <span class="token string">'/var/log/messages'</span> æ–‡ä»¶ä¸­æ‰€æœ‰åŒ…å«æ•°å­—çš„è¡Œ<span class="token function">grep</span> Aug -R /var/log/* åœ¨ç›®å½• <span class="token string">'/var/log'</span> åŠéšåçš„ç›®å½•ä¸­æœç´¢å­—ç¬¦ä¸²<span class="token string">"Aug"</span><span class="token function">sed</span> <span class="token string">'s/stringa1/stringa2/g'</span> example.txt å°†example.txtæ–‡ä»¶ä¸­çš„ <span class="token string">"string1"</span> æ›¿æ¢æˆ <span class="token string">"string2"</span><span class="token function">sed</span> <span class="token string">'/^$/d'</span> example.txt ä»example.txtæ–‡ä»¶ä¸­åˆ é™¤æ‰€æœ‰ç©ºç™½è¡Œ<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol><li>pasteå‘½ä»¤</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">paste</span> file1 file2 åˆå¹¶ä¸¤ä¸ªæ–‡ä»¶æˆ–ä¸¤æ çš„å†…å®¹<span class="token function">paste</span> -d <span class="token string">'+'</span> file1 file2 åˆå¹¶ä¸¤ä¸ªæ–‡ä»¶æˆ–ä¸¤æ çš„å†…å®¹ï¼Œä¸­é—´ç”¨<span class="token string">"+"</span>åŒºåˆ†<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ol><li>sortå‘½ä»¤</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sort</span> file1 file2 æ’åºä¸¤ä¸ªæ–‡ä»¶çš„å†…å®¹<span class="token function">sort</span> file1 file2 <span class="token operator">|</span> <span class="token function">uniq</span> å–å‡ºä¸¤ä¸ªæ–‡ä»¶çš„å¹¶é›†<span class="token punctuation">(</span>é‡å¤çš„è¡Œåªä¿ç•™ä¸€ä»½<span class="token punctuation">)</span><span class="token function">sort</span> file1 file2 <span class="token operator">|</span> <span class="token function">uniq</span> -u åˆ é™¤äº¤é›†ï¼Œç•™ä¸‹å…¶ä»–çš„è¡Œ<span class="token function">sort</span> file1 file2 <span class="token operator">|</span> <span class="token function">uniq</span> -d å–å‡ºä¸¤ä¸ªæ–‡ä»¶çš„äº¤é›†<span class="token punctuation">(</span>åªç•™ä¸‹åŒæ—¶å­˜åœ¨äºä¸¤ä¸ªæ–‡ä»¶ä¸­çš„æ–‡ä»¶<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ol><li>commå‘½ä»¤</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">comm</span> -1 file1 file2 æ¯”è¾ƒä¸¤ä¸ªæ–‡ä»¶çš„å†…å®¹åªåˆ é™¤<span class="token string">'file1'</span> æ‰€åŒ…å«çš„å†…å®¹ <span class="token function">comm</span> -2 file1 file2 æ¯”è¾ƒä¸¤ä¸ªæ–‡ä»¶çš„å†…å®¹åªåˆ é™¤<span class="token string">'file2'</span> æ‰€åŒ…å«çš„å†…å®¹ <span class="token function">comm</span> -3 file1 file2 æ¯”è¾ƒä¸¤ä¸ªæ–‡ä»¶çš„å†…å®¹åªåˆ é™¤ä¸¤ä¸ªæ–‡ä»¶å…±æœ‰çš„éƒ¨åˆ†<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><h3 id="6-æ‰“åŒ…å’Œå‹ç¼©æ–‡ä»¶"><a href="#6-æ‰“åŒ…å’Œå‹ç¼©æ–‡ä»¶" class="headerlink" title="6.æ‰“åŒ…å’Œå‹ç¼©æ–‡ä»¶"></a>6.æ‰“åŒ…å’Œå‹ç¼©æ–‡ä»¶</h3><ol><li>tarå‘½ä»¤ï¼Œå¯¹æ–‡ä»¶è¿›è¡Œæ‰“åŒ…ï¼Œé»˜è®¤æƒ…å†µå¹¶ä¸ä¼šå‹ç¼©ï¼Œå¦‚æœæŒ‡å®šäº†ç›¸åº”çš„å‚æ•°ï¼Œå®ƒè¿˜ä¼šè°ƒç”¨ç›¸åº”çš„å‹ç¼©ç¨‹åºï¼ˆå¦‚gzipå’Œbzipç­‰ï¼‰è¿›è¡Œå‹ç¼©å’Œè§£å‹</li></ol><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">-c ï¼šæ–°å»ºæ‰“åŒ…æ–‡ä»¶-t ï¼šæŸ¥çœ‹æ‰“åŒ…æ–‡ä»¶çš„å†…å®¹å«æœ‰å“ªäº›æ–‡ä»¶å-x ï¼šè§£æ‰“åŒ…æˆ–è§£å‹ç¼©çš„åŠŸèƒ½ï¼Œå¯ä»¥æ­é…-Cï¼ˆå¤§å†™ï¼‰æŒ‡å®šè§£å‹çš„ç›®å½•ï¼Œæ³¨æ„-c,-t,-xä¸èƒ½åŒæ—¶å‡ºç°åœ¨åŒä¸€æ¡å‘½ä»¤ä¸­-j ï¼šé€šè¿‡bzip2çš„æ”¯æŒè¿›è¡Œå‹ç¼©/è§£å‹ç¼©-z ï¼šé€šè¿‡gzipçš„æ”¯æŒè¿›è¡Œå‹ç¼©/è§£å‹ç¼©-v ï¼šåœ¨å‹ç¼©/è§£å‹ç¼©è¿‡ç¨‹ä¸­ï¼Œå°†æ­£åœ¨å¤„ç†çš„æ–‡ä»¶åæ˜¾ç¤ºå‡ºæ¥-f filename ï¼šfilenameä¸ºè¦å¤„ç†çš„æ–‡ä»¶-C <span class="token function">dir</span> ï¼šæŒ‡å®šå‹ç¼©/è§£å‹ç¼©çš„ç›®å½•dir<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å‹ç¼©ï¼štar -jcv -f filename.tar.bz2 è¦è¢«å¤„ç†çš„æ–‡ä»¶æˆ–ç›®å½•åç§° æŸ¥è¯¢ï¼štar -jtv -f filename.tar.bz2 è§£å‹ï¼štar -jxv -f filename.tar.bz2 -C æ¬²è§£å‹ç¼©çš„ç›®å½•</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">bunzip2 file1.bz2 è§£å‹ä¸€ä¸ªå«åš <span class="token string">'file1.bz2'</span>çš„æ–‡ä»¶<span class="token function">bzip2</span> file1 å‹ç¼©ä¸€ä¸ªå«åš <span class="token string">'file1'</span> çš„æ–‡ä»¶gunzip file1.gz è§£å‹ä¸€ä¸ªå«åš <span class="token string">'file1.gz'</span>çš„æ–‡ä»¶<span class="token function">gzip</span> file1 å‹ç¼©ä¸€ä¸ªå«åš <span class="token string">'file1'</span>çš„æ–‡ä»¶<span class="token function">gzip</span> -9 file1 æœ€å¤§ç¨‹åº¦å‹ç¼©<span class="token function">rar</span> a file1.rar test_file åˆ›å»ºä¸€ä¸ªå«åš <span class="token string">'file1.rar'</span> çš„åŒ…<span class="token function">rar</span> a file1.rar file1 file2 dir1 åŒæ—¶å‹ç¼© <span class="token string">'file1'</span>, <span class="token string">'file2'</span> ä»¥åŠç›®å½• <span class="token string">'dir1'</span> <span class="token function">rar</span> x file1.rar è§£å‹raråŒ…<span class="token function">zip</span> file1.zip file1 åˆ›å»ºä¸€ä¸ªzipæ ¼å¼çš„å‹ç¼©åŒ…<span class="token function">unzip</span> file1.zip è§£å‹ä¸€ä¸ªzipæ ¼å¼å‹ç¼©åŒ…<span class="token function">zip</span> -r file1.zip file1 file2 dir1 å°†å‡ ä¸ªæ–‡ä»¶å’Œç›®å½•åŒæ—¶å‹ç¼©æˆä¸€ä¸ªzipæ ¼å¼çš„å‹ç¼©åŒ…<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="7-ç³»ç»Ÿå’Œå…³æœºï¼ˆå…³æœºã€é‡å¯å’Œç™»å‡ºï¼‰"><a href="#7-ç³»ç»Ÿå’Œå…³æœºï¼ˆå…³æœºã€é‡å¯å’Œç™»å‡ºï¼‰" class="headerlink" title="7.ç³»ç»Ÿå’Œå…³æœºï¼ˆå…³æœºã€é‡å¯å’Œç™»å‡ºï¼‰"></a>7.ç³»ç»Ÿå’Œå…³æœºï¼ˆå…³æœºã€é‡å¯å’Œç™»å‡ºï¼‰</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">shutdown</span> -h now å…³é—­ç³»ç»Ÿ<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>init <span class="token number">0</span> å…³é—­ç³»ç»Ÿ<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>telinit <span class="token number">0</span> å…³é—­ç³»ç»Ÿ<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token function">shutdown</span> -h hours:minutes <span class="token operator">&amp;</span> æŒ‰é¢„å®šæ—¶é—´å…³é—­ç³»ç»Ÿ<span class="token function">shutdown</span> -c å–æ¶ˆæŒ‰é¢„å®šæ—¶é—´å…³é—­ç³»ç»Ÿ<span class="token function">shutdown</span> -r now é‡å¯<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token function">reboot</span> é‡å¯<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token builtin class-name">logout</span> æ³¨é”€<span class="token function">time</span> æµ‹ç®—ä¸€ä¸ªå‘½ä»¤ï¼ˆå³ç¨‹åºï¼‰çš„æ‰§è¡Œæ—¶é—´ <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="8-è¿›ç¨‹ç›¸å…³çš„å‘½ä»¤"><a href="#8-è¿›ç¨‹ç›¸å…³çš„å‘½ä»¤" class="headerlink" title="8.è¿›ç¨‹ç›¸å…³çš„å‘½ä»¤"></a>8.è¿›ç¨‹ç›¸å…³çš„å‘½ä»¤</h3><ul><li><p>jpså‘½ä»¤ï¼Œæ˜¾ç¤ºå½“å‰ç³»ç»Ÿçš„javaè¿›ç¨‹æƒ…å†µï¼ŒåŠå…¶idå·</p></li><li><p>jps(Java Virtual Machine Process Status Tool)æ˜¯JDK 1.5æä¾›çš„ä¸€ä¸ªæ˜¾ç¤ºå½“å‰æ‰€æœ‰javaè¿›ç¨‹pidçš„å‘½ä»¤ï¼Œç®€å•å®ç”¨ï¼Œéå¸¸é€‚åˆåœ¨linux/unixå¹³å°ä¸Šç®€å•å¯Ÿçœ‹å½“å‰javaè¿›ç¨‹çš„ä¸€äº›ç®€å•æƒ…å†µã€‚</p></li><li><p>pså‘½ä»¤ï¼Œç”¨äºå°†æŸä¸ªæ—¶é—´ç‚¹çš„è¿›ç¨‹è¿è¡Œæƒ…å†µé€‰å–ä¸‹æ¥å¹¶è¾“å‡ºï¼Œprocessä¹‹æ„</p></li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">-A ï¼šæ‰€æœ‰çš„è¿›ç¨‹å‡æ˜¾ç¤ºå‡ºæ¥-a ï¼šä¸ä¸terminalæœ‰å…³çš„æ‰€æœ‰è¿›ç¨‹-u ï¼šæœ‰æ•ˆç”¨æˆ·çš„ç›¸å…³è¿›ç¨‹-x ï¼šä¸€èˆ¬ä¸aå‚æ•°ä¸€èµ·ä½¿ç”¨ï¼Œå¯åˆ—å‡ºè¾ƒå®Œæ•´çš„ä¿¡æ¯-l ï¼šè¾ƒé•¿ï¼Œè¾ƒè¯¦ç»†åœ°å°†PIDçš„ä¿¡æ¯åˆ—å‡º<span class="token function">ps</span> aux <span class="token comment"># æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰çš„è¿›ç¨‹æ•°æ®</span><span class="token function">ps</span> ax <span class="token comment"># æŸ¥çœ‹ä¸ä¸terminalæœ‰å…³çš„æ‰€æœ‰è¿›ç¨‹</span><span class="token function">ps</span> -lA <span class="token comment"># æŸ¥çœ‹ç³»ç»Ÿæ‰€æœ‰çš„è¿›ç¨‹æ•°æ®</span><span class="token function">ps</span> axjf <span class="token comment"># æŸ¥çœ‹è¿åŒä¸€éƒ¨åˆ†è¿›ç¨‹æ ‘çŠ¶æ€</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>killå‘½ä»¤,ç”¨äºå‘æŸä¸ªå·¥ä½œï¼ˆ%jobnumberï¼‰æˆ–è€…æ˜¯æŸä¸ªPIDï¼ˆæ•°å­—ï¼‰ä¼ é€ä¸€ä¸ªä¿¡å·ï¼Œå®ƒé€šå¸¸ä¸pså’Œjobså‘½ä»¤ä¸€èµ·ä½¿ç”¨</li></ul><p> å‘½ä»¤æ ¼å¼ : kill [å‘½ä»¤å‚æ•°] [è¿›ç¨‹id]</p><p>å‘½ä»¤å‚æ•°</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">-l  ä¿¡å·ï¼Œè‹¥æœä¸åŠ ä¿¡å·çš„ç¼–å·å‚æ•°ï¼Œåˆ™ä½¿ç”¨â€œ-lâ€å‚æ•°ä¼šåˆ—å‡ºå…¨éƒ¨çš„ä¿¡å·åç§°-a  å½“å¤„ç†å½“å‰è¿›ç¨‹æ—¶ï¼Œä¸é™åˆ¶å‘½ä»¤åå’Œè¿›ç¨‹å·çš„å¯¹åº”å…³ç³»-p  æŒ‡å®škill å‘½ä»¤åªæ‰“å°ç›¸å…³è¿›ç¨‹çš„è¿›ç¨‹å·ï¼Œè€Œä¸å‘é€ä»»ä½•ä¿¡å·-s  æŒ‡å®šå‘é€ä¿¡å·-u  æŒ‡å®šç”¨æˆ·<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> å®ä¾‹1ï¼šåˆ—å‡ºæ‰€æœ‰ä¿¡å·åç§° å‘½ä»¤ï¼škill -l è¾“å‡ºï¼š </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@localhost test6<span class="token punctuation">]</span><span class="token comment"># kill -l</span> <span class="token number">1</span><span class="token punctuation">)</span> SIGHUP       <span class="token number">2</span><span class="token punctuation">)</span> SIGINT       <span class="token number">3</span><span class="token punctuation">)</span> SIGQUIT      <span class="token number">4</span><span class="token punctuation">)</span> SIGILL <span class="token number">5</span><span class="token punctuation">)</span> SIGTRAP      <span class="token number">6</span><span class="token punctuation">)</span> SIGABRT      <span class="token number">7</span><span class="token punctuation">)</span> SIGBUS       <span class="token number">8</span><span class="token punctuation">)</span> SIGFPE <span class="token number">9</span><span class="token punctuation">)</span> SIGKILL     <span class="token number">10</span><span class="token punctuation">)</span> SIGUSR1     <span class="token number">11</span><span class="token punctuation">)</span> SIGSEGV     <span class="token number">12</span><span class="token punctuation">)</span> SIGUSR2<span class="token number">13</span><span class="token punctuation">)</span> SIGPIPE     <span class="token number">14</span><span class="token punctuation">)</span> SIGALRM     <span class="token number">15</span><span class="token punctuation">)</span> SIGTERM     <span class="token number">16</span><span class="token punctuation">)</span> SIGSTKFLT<span class="token number">17</span><span class="token punctuation">)</span> SIGCHLD     <span class="token number">18</span><span class="token punctuation">)</span> SIGCONT     <span class="token number">19</span><span class="token punctuation">)</span> SIGSTOP     <span class="token number">20</span><span class="token punctuation">)</span> SIGTSTP<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¯´æ˜:  åªæœ‰ç¬¬9ç§ä¿¡å·(SIGKILL)æ‰å¯ä»¥æ— æ¡ä»¶ç»ˆæ­¢è¿›ç¨‹ï¼Œå…¶ä»–ä¿¡å·è¿›ç¨‹éƒ½æœ‰æƒåˆ©å¿½ç•¥ã€‚  ä¸‹é¢æ˜¯å¸¸ç”¨çš„ä¿¡å·ï¼š </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">HUP    <span class="token number">1</span>    ç»ˆç«¯æ–­çº¿INT     <span class="token number">2</span>    ä¸­æ–­ï¼ˆåŒ Ctrl + Cï¼‰QUIT    <span class="token number">3</span>    é€€å‡ºï¼ˆåŒ Ctrl + <span class="token punctuation">\</span>ï¼‰<span class="token environment constant">TERM</span>   <span class="token number">15</span>    ç»ˆæ­¢KILL    <span class="token number">9</span>    å¼ºåˆ¶ç»ˆæ­¢CONT   <span class="token number">18</span>    ç»§ç»­ï¼ˆä¸STOPç›¸åï¼Œ fg/bgå‘½ä»¤ï¼‰STOP    <span class="token number">19</span>    æš‚åœï¼ˆåŒ Ctrl + Zï¼‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> å®ä¾‹2ï¼šå¾—åˆ°æŒ‡å®šä¿¡å·çš„æ•°å€¼ </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@localhost test6<span class="token punctuation">]</span><span class="token comment"># kill -l KILL</span><span class="token punctuation">[</span>root@localhost test6<span class="token punctuation">]</span><span class="token comment"># kill -l SIGKILL</span><span class="token punctuation">[</span>root@localhost test6<span class="token punctuation">]</span><span class="token comment"># kill -l TERM</span><span class="token punctuation">[</span>root@localhost test6<span class="token punctuation">]</span><span class="token comment"># kill -l SIGTERM</span><span class="token punctuation">[</span>root@localhost test6<span class="token punctuation">]</span><span class="token comment">#</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> å®ä¾‹3ï¼šå…ˆç”¨psæŸ¥æ‰¾è¿›ç¨‹ï¼Œç„¶åç”¨killæ€æ‰ </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">å‘½ä»¤ï¼škill <span class="token number">3268</span><span class="token punctuation">[</span>root@localhost test6<span class="token punctuation">]</span><span class="token comment"># ps -ef|grep vim </span>root      <span class="token number">3268</span>  <span class="token number">2884</span>  <span class="token number">0</span> <span class="token number">16</span>:21 pts/1    00:00:00 <span class="token function">vim</span> install.logroot      <span class="token number">3370</span>  <span class="token number">2822</span>  <span class="token number">0</span> <span class="token number">16</span>:21 pts/0    00:00:00 <span class="token function">grep</span> <span class="token function">vim</span><span class="token punctuation">[</span>root@localhost test6<span class="token punctuation">]</span><span class="token comment"># kill 3268 </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><p> å®ä¾‹4ï¼šå½»åº•æ€æ­»è¿›ç¨‹ </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">å‘½ä»¤ï¼škill â€“9 <span class="token number">3268</span>   // -9 å¼ºåˆ¶æ€æ‰è¿›ç¨‹<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>killallå‘½ä»¤ï¼Œå‘ä¸€ä¸ªå‘½ä»¤å¯åŠ¨çš„è¿›ç¨‹å‘é€ä¸€ä¸ªä¿¡å·ï¼Œç”¨äºæ€æ­»æŒ‡å®šåå­—çš„è¿›ç¨‹ å‘½ä»¤æ ¼å¼ : killall[å‘½ä»¤å‚æ•°] [è¿›ç¨‹å]</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">å‘½ä»¤å‚æ•°ï¼š-Z åªæ€æ­»æ‹¥æœ‰scontext çš„è¿›ç¨‹-e è¦æ±‚åŒ¹é…è¿›ç¨‹åç§°-I å¿½ç•¥å°å†™-g æ€æ­»è¿›ç¨‹ç»„è€Œä¸æ˜¯è¿›ç¨‹-i äº¤äº’æ¨¡å¼ï¼Œæ€æ­»è¿›ç¨‹å‰å…ˆè¯¢é—®ç”¨æˆ·-l åˆ—å‡ºæ‰€æœ‰çš„å·²çŸ¥ä¿¡å·åç§°-q ä¸è¾“å‡ºè­¦å‘Šä¿¡æ¯-s å‘é€æŒ‡å®šçš„ä¿¡å·-v æŠ¥å‘Šä¿¡å·æ˜¯å¦æˆåŠŸå‘é€-w ç­‰å¾…è¿›ç¨‹æ­»äº¡--help æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯--version æ˜¾ç¤ºç‰ˆæœ¬æ˜¾ç¤º<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ç¤ºä¾‹:</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token number">1</span>ï¼šæ€æ­»æ‰€æœ‰åŒåè¿›ç¨‹    <span class="token function">killall</span> nginx    <span class="token function">killall</span> -9 <span class="token function">bash</span><span class="token number">2</span>.å‘è¿›ç¨‹å‘é€æŒ‡å®šä¿¡å·    <span class="token function">killall</span> -<span class="token environment constant">TERM</span> ngixn  æˆ–è€…  <span class="token function">killall</span> -KILL nginx<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>topå‘½ä»¤ï¼Œæ˜¯Linuxä¸‹å¸¸ç”¨çš„æ€§èƒ½åˆ†æå·¥å…·ï¼Œèƒ½å¤Ÿå®æ—¶æ˜¾ç¤ºç³»ç»Ÿä¸­å„ä¸ªè¿›ç¨‹çš„èµ„æºå ç”¨çŠ¶å†µï¼Œç±»ä¼¼äºWindowsçš„ä»»åŠ¡ç®¡ç†å™¨ã€‚</li></ul><p> å¦‚ä½•æ€æ­»è¿›ç¨‹ï¼š </p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ï¼ˆ1ï¼‰å›¾å½¢åŒ–ç•Œé¢çš„æ–¹å¼ï¼ˆ2ï¼‰kill -9 pid  ï¼ˆ-9è¡¨ç¤ºå¼ºåˆ¶å…³é—­ï¼‰ï¼ˆ3ï¼‰killall -9 ç¨‹åºçš„åå­—ï¼ˆ4ï¼‰pkill ç¨‹åºçš„åå­—<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p> æŸ¥çœ‹è¿›ç¨‹ç«¯å£å·:</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">netstat</span> -tunlp<span class="token operator">|</span><span class="token function">grep</span> ç«¯å£å·<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="9-å…¶ä»–"><a href="#9-å…¶ä»–" class="headerlink" title="9. å…¶ä»–"></a>9. å…¶ä»–</h3><p>echo æ–‡å­—å†…å®¹</p><ul><li>echo ä¼šåœ¨ç»ˆç«¯ä¸­æ˜¾ç¤ºå‚æ•°æŒ‡å®šçš„æ–‡å­—,é€šå¸¸ä¼šå’Œé‡å®šå‘è”åˆä½¿ç”¨</li></ul><p>é‡å®šå‘ &gt; å’Œ &gt;&gt;</p><ul><li>Linuxä¸­å…è®¸å°†å‘½ä»¤æ‰§è¡Œç»“æœ é‡å®šå‘åˆ°ä¸€ä¸ªæ–‡ä»¶</li><li>å°†æ–‡æœ¬åº”æ˜¾ç¤ºåœ¨ç»ˆç«¯ä¸Šçš„å†…å®¹ åˆ é™¤/è¿½åŠ  åˆ°æŒ‡å®šæ–‡ä»¶ä¸­<ul><li>/  &gt;  è¡¨ç¤ºè¾“å‡º,ä¼šè¦†ç›–æ–‡ä»¶ä¸­çš„å†…å®¹</li><li>/  &gt; &gt; è¡¨ç¤ºè¿½åŠ ,ä¼šå°†å†…å®¹è¿½åŠ åˆ°å·²æœ‰æ–‡ä»¶çš„æœ«å°¾</li></ul></li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># / è½¬ä¹‰ä¸€ä¸‹</span><span class="token builtin class-name">echo</span> Hello Python <span class="token operator">>></span>a<span class="token builtin class-name">echo</span> Hello Python <span class="token operator">>></span>a<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ç®¡é“ |</p><ul><li>Linuxä¸­å…è®¸å°†ä¸€ä¸ªå‘½ä»¤çš„è¾“å‡º,å¯ä»¥é€šè¿‡ç®¡é“ä½œä¸ºå¦ä¸€ä¸ªå‘½ä»¤çš„è¾“å…¥</li><li>å¸¸ç”¨çš„ç®¡é“å‘½ä»¤æœ‰<ul><li>more : åˆ†å±æ˜¾ç¤ºå†…å®¹</li><li>gerp : åœ¨å‘½ä»¤æ‰§è¡Œç»“æœçš„åŸºç¡€ä¸ŠæŸ¥è¯¢æŒ‡å®šçš„æ–‡æœ¬</li></ul></li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># a æ˜¾ç¤ºéšè—æ–‡ä»¶å¤¹</span><span class="token function">ls</span> -lha ~ <span class="token operator">|</span> <span class="token function">more</span><span class="token function">ls</span> -lha ~ <span class="token operator">|</span> <span class="token function">grep</span> Vim<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ“ä½œç³»ç»Ÿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>dockerå­¦ä¹ åº”ç”¨</title>
      <link href="/2021-10-18-docker-xue-xi-ying-yong.html"/>
      <url>/2021-10-18-docker-xue-xi-ying-yong.html</url>
      
        <content type="html"><![CDATA[<ul><li>dockerå¯åŠ¨å‘½ä»¤</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">systemctl start docker<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>ä½¿å®¹å™¨å¤„äºåå°è¿è¡ŒçŠ¶æ€</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">ctrl p + q<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>æŸ¥çœ‹å†…å­˜çŠ¶æ€</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker stats<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>æŸ¥çœ‹æœ¬åœ°æµè§ˆå™¨è¿è¡Œåœ°å€é¡µé¢</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">curl</span> localhost:8080<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>dockerå¯åŠ¨å®¹å™¨å‘½ä»¤</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ( --name ssm ) ç»™å®¹å™¨å‘½å</span><span class="token comment"># -d åå°è¿è¡Œ -p å®¿ä¸»æœºç«¯å£</span>docker run -it centos <span class="token punctuation">(</span> --name ssm <span class="token punctuation">)</span>/bin/bash<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><ul><li>dockerå¯åŠ¨ç‰¹å®šå®¹å™¨å‘½ä»¤å¹¶è¿›å…¥å®¹å™¨</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker start c65e128bc615docker attach c65e128bc615<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>dockeræŸ¥çœ‹è¿›ç¨‹</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker <span class="token function">ps</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>dockerè®¾ç½®å®¹å™¨å’Œå®¿ä¸»æœºæ–‡ä»¶å…±äº«</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker run -it -v /myDataVolume:/dataVolumeContainer centos<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>docker æ£€æŸ¥å®¹å™¨</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker inspect c65e128bc615<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>docker å¯åŠ¨tomcat (æŒ‡å®šæ˜ å°„ç«¯å£å·)</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker run -it -p <span class="token number">7777</span>:8080 tomcat02:1.0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>docker å…³é—­æ­£åœ¨è¿è¡Œä¸­çš„å®¹å™¨</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker stop c65e128bc615 docker <span class="token function">kill</span> c65e128bc615 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><ul><li>docker æ‰¹é‡å…³é—­æ­£åœ¨è¿è¡Œä¸­çš„å®¹å™¨</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker <span class="token function">rm</span> -f <span class="token variable"><span class="token variable">$(</span>docker <span class="token function">ps</span> -qa<span class="token variable">)</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>ä¸‹è½½é•œåƒæº</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker pull centos<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>å»ºç«‹ä¸€ä¸ªssm/centosæ•°æ®å· Dockerfile</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å»ºç«‹ä¸€ä¸ªæ–‡ä»¶ Dockerfile </span><span class="token function">mkdir</span> Docker <span class="token comment"># ç¼–å†™å†…å®¹</span>FROM centosVOLUME <span class="token punctuation">[</span><span class="token string">"/dataVolumeContainer1"</span>,<span class="token string">"/dataVolumeContainer2"</span><span class="token punctuation">]</span>CMD <span class="token builtin class-name">echo</span> <span class="token string">"finished,------------successful"</span>CMD /bin/bash<span class="token comment"># æ„å»ºå®¹å™¨</span>docker build -f /mydocker/Dockerfile -t ssm/centos <span class="token builtin class-name">.</span><span class="token comment"># è¿è¡Œå®¹å™¨</span>docker run -it ssm/centos <span class="token comment"># è¿›å…¥ dataVolumeContainer1 å¹¶åˆ›å»ºæ–‡ä»¶container01.txt</span><span class="token builtin class-name">cd</span> dataVolumeContainer1<span class="token function">touch</span> container01.txt<span class="token comment"># å¦å¼€ä¸€ä¸ªç»ˆç«¯</span>docker <span class="token function">ps</span> docker inspect å®¹å™¨idæ‰¾åˆ°dataVolumeContainer1: /var/lib/docker/volumes/60f8b0b4209fc59b92c2e36f40b7f1c5ccea3032344bcf9a17951ce08cacd423/_data<span class="token comment"># å¦å¼€ä¸€ä¸ªç»ˆç«¯,æŸ¥çœ‹å…±äº«æ–‡ä»¶,å¹¶åˆ›å»ºcontainer02.txt æµ‹è¯•dataVolumecontainer1ä¸­æ˜¯å¦æœ‰container02.txt</span><span class="token builtin class-name">cd</span> /var/lib/docker/volumes/60f8b0b4209fc59b92c2e36f40b7f1c5ccea3032344bcf9a17951ce08cacd423/_data<span class="token function">touch</span> container02.txt<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å®¹å™¨æ•°æ®å·ä¼ é€’å…±äº«</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å¯åŠ¨ dc01å®¹å™¨</span>docker run -it --name dc01 ssm/centos<span class="token comment"># åˆ›å»º dc01_add.txt</span><span class="token builtin class-name">cd</span> dataVolumeContainer2<span class="token function">touch</span> dc01_add.txt<span class="token comment"># å¤åˆ¶dc01 åˆ° dc02</span>docker run -it --name dc02 --volumes-from dc01 ssm/centos<span class="token function">touch</span> dc02_add.txt<span class="token comment"># å¤åˆ¶dc01 åˆ° dc02</span>docker run -it --name dc03 --volumes-from dc01 ssm/centos<span class="token function">touch</span> dc03_add.txt<span class="token comment"># å›åˆ°dc01éªŒè¯å³å¯</span>docker attach dc01<span class="token comment"># å³ä½¿åˆ é™¤dc01,dc02å’Œdc03ä¹Ÿæ•°æ®å…±äº«</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/fb9c63317cd34ad092dd093eb789166b.png" alt="å®¹å™¨æ•°æ®å·é—´ä¼ é€’å…±äº«"></p><ul><li>dockerè¿è¡Œmysql</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ç¬¬ä¸€æ­¥ è¿è¡Œmysqlå®¹å™¨</span>docker run -p <span class="token number">12345</span>:3306 --name mysql02 -v /ssmuse/mysql/conf:/etc/mysql/conf.d -v /ssmuse/mysql/logs:/logs -v /ssmuse/mysql/data:/var/lib/mysql -e <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span> -d mysql:8.0.17<span class="token comment"># ç¬¬äºŒéƒ¨  è¿›å…¥å®¹å™¨</span>docker <span class="token function">ps</span>docker <span class="token builtin class-name">exec</span> -it feec4e661b7d /bin/bash<span class="token comment"># ç¬¬ä¸‰æ­¥ è¿›å…¥mysql</span>mysql -uroot -p123456<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æ•°æ®å¤‡ä»½</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker <span class="token builtin class-name">exec</span> mysql å®¹å™¨id <span class="token function">sh</span> -c <span class="token string">'exec mysqldump --all-databases -uroot -p"123456" '</span> <span class="token operator">></span> /ssmuse/all-databases.sql<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>dockerè¿è¡Œredis</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ç¬¬ä¸€æ­¥ è¿è¡Œrediså®¹å™¨</span>docker run -p <span class="token number">6379</span>:6379 -v /ssmuse/redis/data:/data -v /ssmuse/myredis/conf/redis.conf:/usr/local/etc/redis/redis.conf -d redis redis-server /usr/local/etc/redis/redis.conf --appendonly <span class="token function">yes</span><span class="token comment"># ç¬¬äºŒéƒ¨  è¿›å…¥å®¹å™¨</span>docker <span class="token function">ps</span>docker <span class="token builtin class-name">exec</span> -it 600e8af12e4a redis-cli<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>docker è¿è¡Œredis</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">docker run -d --name elasticsearch02 -p <span class="token number">9200</span>:9200 -p <span class="token number">9300</span>:9300 -e <span class="token string">"discovery.type=single-node"</span> -e <span class="token assign-left variable">ES_JAVA_OPTS</span><span class="token operator">=</span><span class="token string">"-Xms64m -Xmx512m"</span> elasticsearch:7.6.2<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>ç™»å½•docker</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æœ¬åœ°ç™»å½•</span>docker login -u19858165529<span class="token comment"># é˜¿é‡Œäº‘ç™»å½•</span>docker login --username<span class="token operator">=</span>ç§‹æ°´å¢¨è‰²æŸ“ssm registry.cn-hangzhou.aliyuncs.com<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å‘å¸ƒé•œåƒåˆ°dockerHub</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># ä¿®æ”¹é•œåƒæ ‡ç­¾ (å¿…é¡»ä¸ºdockerHubç”¨æˆ·å+...)</span>docker tag ssm/centos <span class="token number">19858165529</span>/centos:1.0<span class="token comment"># å‘å¸ƒå³å¯</span>docker push <span class="token number">19858165529</span>/centos<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>å‘å¸ƒé•œåƒåˆ°é˜¿é‡Œäº‘ ( [ ]  ä¸€å®šè¦å»æ‰ )</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ docker login --username<span class="token operator">=</span>ç§‹æ°´å¢¨è‰²æŸ“ssm registry.cn-hangzhou.aliyuncs.com$ docker tag <span class="token punctuation">[</span>ImageId<span class="token punctuation">]</span> registry.cn-hangzhou.aliyuncs.com/shaoshaossm/ssm:<span class="token punctuation">[</span>é•œåƒç‰ˆæœ¬å·<span class="token punctuation">]</span>$ docker push registry.cn-hangzhou.aliyuncs.com/shaoshaossm/ssm:<span class="token punctuation">[</span>é•œåƒç‰ˆæœ¬å·<span class="token punctuation">]</span><span class="token comment"># æœ¬åœ°åˆ é™¤å‘å¸ƒçš„é•œåƒå¹¶ä»é˜¿é‡Œäº‘ä¸Šä¸‹è½½å›æ¥</span>docker rmi -f registry.cn-hangzhou.aliyuncs.com/shaoshaossm/ssm:1.1.0docker pull  registry.cn-hangzhou.aliyuncs.com/shaoshaossm/ssm:1.1.0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>springbootå¾®æœåŠ¡æ‰“åŒ…Docker</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># å°†springboot jar åŒ…å’ŒDockerfile ä¼ åˆ° centos ä¸Š </span><span class="token comment"># Dockerfileå†…å®¹å¦‚ä¸‹:</span>FROM java:8    ADD *.jar app.jar    EXPOSE <span class="token number">8081</span>    ENTRYPOINT <span class="token punctuation">[</span><span class="token string">"java"</span>,<span class="token string">"-jar"</span>,<span class="token string">"app.jar"</span><span class="token punctuation">]</span>    <span class="token comment"># æ„å»ºé•œåƒ</span>docker  build -t ssm777 <span class="token builtin class-name">.</span><span class="token comment"># å¯åŠ¨é•œåƒ</span>docker run -d --name demo -p <span class="token number">8081</span>:8081 ssm777<span class="token comment"># è¿è¡Œæµ‹è¯•</span><span class="token function">curl</span> localhost:8081/say<span class="token comment"># è¿è¡Œç»“æœ</span>Hello SpringBoot<span class="token operator">!</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><ul><li>è‹¥å‡ºç°è¿™ç§æŠ¥é”™,éœ€åˆ é™¤æ­¤å®¹å™¨</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># é”™è¯¯ä¿¡æ¯</span>Error response from daemon: Conflict. The container name <span class="token string">"/mysql"</span> is already <span class="token keyword">in</span> use by container <span class="token string">"19ee5d825ff210ace68011ba7ab6bd6c1cc634e75f0a25a9934c720eab9367a1"</span><span class="token builtin class-name">.</span> You have to remove <span class="token punctuation">(</span>or <span class="token function">rename</span><span class="token punctuation">)</span> that container to be able to reuse that name.<span class="token comment"># è§£å†³åŠæ³•</span>docker <span class="token function">rm</span> -f 19ee5d825ff210ace68011ba7ab6bd6c1cc634e75f0a25a9934c720eab9367a1<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ul><li>è¾“å…¥dockerå‘½ä»¤æŠ¥é”™</li></ul><pre class="line-numbers language-shell" data-language="shell"><code class="language-shell">Cannot connect to the Docker daemon at unix:///var/run/docker.sock. <span class="token punctuation">..</span>.<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>åŸå› å¯èƒ½æ˜¯ä¸Šä¸€æ¬¡æ²¡æœ‰æ­£å¸¸é€€å‡ºdockerï¼Œæ‰€ä»¥dockeræ²¡æœ‰æ­£å¸¸å¯åŠ¨ï¼Œåœ¨ç›¸åº”çš„/var/run/è·¯å¾„ä¸‹æ‰¾ä¸åˆ°dockerè¿›ç¨‹ã€‚è§£å†³åŠæ³•:</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">service</span> docker restart<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaæ•°æ®ç»“æ„å’Œç®—æ³•(ä¸ƒ)</title>
      <link href="/2021-10-15-java-shu-ju-jie-gou-he-suan-fa-qi.html"/>
      <url>/2021-10-15-java-shu-ju-jie-gou-he-suan-fa-qi.html</url>
      
        <content type="html"><![CDATA[<h3 id="1-äºŒåˆ†æŸ¥æ‰¾-éé€’å½’"><a href="#1-äºŒåˆ†æŸ¥æ‰¾-éé€’å½’" class="headerlink" title="1. äºŒåˆ†æŸ¥æ‰¾(éé€’å½’)"></a>1. äºŒåˆ†æŸ¥æ‰¾(éé€’å½’)</h3><p>ä»£ç å®ç°</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BinarySearchNoRecursion</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">46</span><span class="token punctuation">,</span> <span class="token number">413</span><span class="token punctuation">,</span> <span class="token number">880</span><span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token function">binarySearch</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">999</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * äºŒåˆ†æŸ¥æ‰¾éé€’å½’å®ç°     *     * @param arr    å¾…æŸ¥æ‰¾çš„æ•°ç»„ arrå‡åºæ’åº     * @param target ç›®æ ‡æ•°     * @return è¿”å›å¯¹åº”ä¸‹æ ‡ å¦åˆ™è¿”å›-1     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">binarySearch</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> target<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> left <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> right <span class="token operator">=</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>left <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">==</span> target<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> mid<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span> <span class="token operator">></span> target<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                right <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                left <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-åˆ†æ²»ç®—æ³•-æ±‰è¯ºå¡”"><a href="#2-åˆ†æ²»ç®—æ³•-æ±‰è¯ºå¡”" class="headerlink" title="2. åˆ†æ²»ç®—æ³•(æ±‰è¯ºå¡”)"></a>2. åˆ†æ²»ç®—æ³•(æ±‰è¯ºå¡”)</h3><p>ä»£ç å®ç°</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HanoiTower</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">hanoiTower</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token string">'A'</span><span class="token punctuation">,</span><span class="token string">'B'</span><span class="token punctuation">,</span><span class="token string">'C'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">hanoiTower</span><span class="token punctuation">(</span><span class="token keyword">int</span> num<span class="token punctuation">,</span><span class="token keyword">char</span> a<span class="token punctuation">,</span><span class="token keyword">char</span> b<span class="token punctuation">,</span> <span class="token keyword">char</span> c<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>num<span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç¬¬1ä¸ªç›˜ä» "</span><span class="token operator">+</span>a<span class="token operator">+</span><span class="token string">"->"</span><span class="token operator">+</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//n>=2 æŠŠæ‰€æœ‰çš„ç›˜æ€»æ˜¯çœ‹æˆä¸¤ä¸ªç›˜:1.ä¸‹è¾¹çš„ä¸€ä¸ªç›˜,ä¸Šé¢çš„æ‰€æœ‰ç›˜</span>            <span class="token comment">//1.æœ€ä¸Šé¢çš„æ‰€æœ‰ç›˜A->B</span>            <span class="token function">hanoiTower</span><span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>a<span class="token punctuation">,</span>c<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//2.æœ€ä¸‹é¢çš„ç›˜A->C</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç¬¬"</span><span class="token operator">+</span>num<span class="token operator">+</span><span class="token string">"ä¸ªç›˜ä» "</span><span class="token operator">+</span>a<span class="token operator">+</span><span class="token string">"->"</span><span class="token operator">+</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//3.æŠŠBå¡”çš„æ‰€æœ‰ç›˜ä»B->C ç§»åŠ¨è¿‡ç¨‹ä½¿ç”¨åˆ°aå¡”</span>            <span class="token function">hanoiTower</span><span class="token punctuation">(</span>num<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>b<span class="token punctuation">,</span>a<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-åŠ¨æ€è§„åˆ’ç®—æ³•"><a href="#3-åŠ¨æ€è§„åˆ’ç®—æ³•" class="headerlink" title="3. åŠ¨æ€è§„åˆ’ç®—æ³•"></a>3. åŠ¨æ€è§„åˆ’ç®—æ³•</h3><ul><li><p>åŠ¨æ€è§„åˆ’(<strong>Dynamic Programming</strong>)ç®—æ³•çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šå°†å¤§é—®é¢˜åˆ’åˆ†ä¸ºå°é—®é¢˜è¿›è¡Œè§£å†³ï¼Œä»è€Œä¸€æ­¥æ­¥è·å–æœ€ä¼˜è§£çš„å¤„ç†ç®—æ³•</p></li><li><p>åŠ¨æ€è§„åˆ’ç®—æ³•ä¸åˆ†æ²»ç®—æ³•ç±»ä¼¼ï¼Œå…¶åŸºæœ¬æ€æƒ³ä¹Ÿæ˜¯å°†å¾…æ±‚è§£é—®é¢˜åˆ†è§£æˆè‹¥å¹²ä¸ªå­é—®é¢˜ï¼Œå…ˆæ±‚è§£å­é—®é¢˜ï¼Œç„¶åä»è¿™äº›å­é—®é¢˜çš„è§£å¾—åˆ°åŸé—®é¢˜çš„è§£ã€‚</p></li><li><p>ä¸åˆ†æ²»æ³•ä¸åŒçš„æ˜¯ï¼Œ<strong>é€‚åˆäºç”¨åŠ¨æ€è§„åˆ’æ±‚è§£çš„é—®é¢˜ï¼Œç»åˆ†è§£å¾—åˆ°å­é—®é¢˜å¾€å¾€ä¸æ˜¯äº’ç›¸ç‹¬ç«‹çš„ã€‚</strong> ( å³ä¸‹ä¸€ä¸ªå­é˜¶æ®µçš„æ±‚è§£æ˜¯å»ºç«‹åœ¨ä¸Šä¸€ä¸ªå­é˜¶æ®µçš„è§£çš„åŸºç¡€ä¸Šï¼Œè¿›è¡Œè¿›ä¸€æ­¥çš„æ±‚è§£ )</p></li><li><p>åŠ¨æ€è§„åˆ’å¯ä»¥é€šè¿‡<strong>å¡«è¡¨çš„æ–¹å¼</strong>æ¥é€æ­¥æ¨è¿›ï¼Œå¾—åˆ°æœ€ä¼˜è§£.</p></li></ul><table><thead><tr><th><strong>ç‰©å“</strong></th><th><strong>é‡é‡</strong></th><th><strong>ä»·æ ¼</strong></th></tr></thead><tbody><tr><td>å‰ä»–(G)</td><td>1</td><td>1500</td></tr><tr><td>éŸ³å“(S)</td><td>4</td><td>3000</td></tr><tr><td>ç”µè„‘(L)</td><td>3</td><td>2000</td></tr></tbody></table><p>ä»£ç å®ç°</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">KnapsackProblem</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> w <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> val <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1500</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> m <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> val<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token comment">//æœ€å¤§ä»·å€¼</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> v <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>m <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">//å•†å“æ”¾å…¥æƒ…å†µ</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> path <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>m <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">//åˆå§‹åŒ–ç¬¬ä¸€è¡Œå’Œåˆ—</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> v<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            v<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//åŠ¨æ€è§„åˆ’å¤„ç†</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> v<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//å…¬å¼</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>w<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">></span> j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    <span class="token comment">// v[i][j] = Math.max(v[i-1][j],val[i-1]+v[i-1][j-w[i-1]]);</span>                    <span class="token comment">// è®°å½•å•†å“æ”¾å…¥æƒ…å†µ</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>v<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">&lt;</span> val<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> w<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> v<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> w<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                        path<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                        v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> v<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//è¾“å‡º</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> v<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>v<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>            <span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> path<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//è¡Œçš„æœ€å¤§ä¸‹æ ‡</span>        <span class="token keyword">int</span> j <span class="token operator">=</span> path<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//åˆ—çš„æœ€å¤§ä¸‹æ ‡</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>i<span class="token operator">></span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>j<span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">//ä»æœ€åéå†</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>path<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ç¬¬%dä¸ªå•†å“æ”¾å…¥åˆ°èƒŒåŒ…\n"</span><span class="token punctuation">,</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                j<span class="token operator">-=</span>w<span class="token punctuation">[</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// å‰©ä½™çš„å®¹é‡</span>            <span class="token punctuation">&#125;</span>            i<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1500</span> <span class="token number">1500</span> <span class="token number">1500</span> <span class="token number">1500</span> <span class="token number">0</span> <span class="token number">1500</span> <span class="token number">1500</span> <span class="token number">1500</span> <span class="token number">3000</span> <span class="token number">0</span> <span class="token number">1500</span> <span class="token number">1500</span> <span class="token number">2000</span> <span class="token number">3500</span> ç¬¬<span class="token number">3</span>ä¸ªå•†å“æ”¾å…¥åˆ°èƒŒåŒ…ç¬¬<span class="token number">1</span>ä¸ªå•†å“æ”¾å…¥åˆ°èƒŒåŒ…<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4-KMPç®—æ³•"><a href="#4-KMPç®—æ³•" class="headerlink" title="4. KMPç®—æ³•"></a>4. KMPç®—æ³•</h3><ul><li><p>KMPæ˜¯ä¸€ä¸ªè§£å†³æ¨¡å¼ä¸²åœ¨æ–‡æœ¬ä¸²æ˜¯å¦å‡ºç°è¿‡ï¼Œå¦‚æœå‡ºç°è¿‡ï¼Œæœ€æ—©å‡ºç°çš„ä½ç½®çš„ç»å…¸ç®—æ³•</p></li><li><p>Knuth-Morris-Pratt <strong>å­—ç¬¦ä¸²æŸ¥æ‰¾ç®—æ³•</strong>ï¼Œç®€ç§°ä¸º â€œKMPç®—æ³•â€ï¼Œå¸¸ç”¨äºåœ¨ä¸€ä¸ªæ–‡æœ¬ä¸²Så†…æŸ¥æ‰¾ä¸€ä¸ªæ¨¡å¼ä¸²P çš„å‡ºç°ä½ç½®ï¼Œè¿™ä¸ªç®—æ³•ç”±Donald Knuthã€Vaughan Prattã€James H. Morrisä¸‰äººäº1977å¹´è”åˆå‘è¡¨ï¼Œæ•…å–è¿™3äººçš„å§“æ°å‘½åæ­¤ç®—æ³•.</p></li><li><p>KMPæ–¹æ³•ç®—æ³•å°±åˆ©ç”¨ä¹‹å‰åˆ¤æ–­è¿‡ä¿¡æ¯ï¼Œé€šè¿‡ä¸€ä¸ªnextæ•°ç»„ï¼Œä¿å­˜æ¨¡å¼ä¸²ä¸­å‰åæœ€é•¿å…¬å…±å­åºåˆ—çš„é•¿åº¦ï¼Œæ¯æ¬¡å›æº¯æ—¶ï¼Œé€šè¿‡nextæ•°ç»„æ‰¾åˆ°ï¼Œå‰é¢åŒ¹é…è¿‡çš„ä½ç½®ï¼Œçœå»äº†å¤§é‡çš„è®¡ç®—æ—¶é—´</p></li><li><p>å‚è€ƒèµ„æ–™ï¼š<a href="https://www.cnblogs.com/ZuoAndFutureGirl/p/9028287.html">https://www.cnblogs.com/ZuoAndFutureGirl/p/9028287.html</a> </p></li></ul><p>å­—ç¬¦ä¸²åŒ¹é…é—®é¢˜</p><p>ä»£ç å®ç°</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ViolenceMatch</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> str1 <span class="token operator">=</span> <span class="token string">"å°‘å¸å•Šå‘½ä½ å°‘å°‘æ‰“å¸å‘½å°‘å¸å‘½"</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> str2 <span class="token operator">=</span> <span class="token string">"å°‘å¸å‘½"</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">violenceMatch</span><span class="token punctuation">(</span>str1<span class="token punctuation">,</span> str2<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æš´åŠ›ç®—æ³•</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">violenceMatch</span><span class="token punctuation">(</span><span class="token class-name">String</span> str1<span class="token punctuation">,</span> <span class="token class-name">String</span> str2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> s1 <span class="token operator">=</span> str1<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> s2 <span class="token operator">=</span> str2<span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> s1Len <span class="token operator">=</span> s1<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token keyword">int</span> s2Len <span class="token operator">=</span> s2<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> s1Len <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;</span> s2Len<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>s1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> s2<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                i<span class="token operator">++</span><span class="token punctuation">;</span>                j<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                i <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token punctuation">(</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">==</span> s2Len<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> i <span class="token operator">-</span> j<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//KMPç®—æ³•</span>    <span class="token comment">/**     * @param str1 æºå­—ç¬¦ä¸²     * @param str2 å­ä¸²     * @param next å­ä¸²å¯¹åº”çš„éƒ¨åˆ†åŒ¹é…è¡¨     * @return è¿”å›åŒ¹é…çš„ä½ç½® å¦åˆ™è¿”å›-1     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">kmpSearch</span><span class="token punctuation">(</span><span class="token class-name">String</span> str1<span class="token punctuation">,</span> <span class="token class-name">String</span> str2<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> next<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> str1<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> str1<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">!=</span> str2<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                j <span class="token operator">=</span> next<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>str1<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">==</span> str2<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                j<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>j <span class="token operator">==</span> str2<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//æ‰¾åˆ°äº†</span>                <span class="token keyword">return</span> i <span class="token operator">-</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//è·å–åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²çš„éƒ¨åˆ†åŒ¹é…å€¼è¡¨</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">kmpNext</span><span class="token punctuation">(</span><span class="token class-name">String</span> dest<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> next <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>dest<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        next<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> dest<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//kmpç®—æ³•æ ¸å¿ƒç‚¹</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> dest<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">!=</span> dest<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                j <span class="token operator">=</span> next<span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>dest<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">==</span> dest<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                j<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            next<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> j<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> next<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-è´ªå¿ƒç®—æ³•"><a href="#5-è´ªå¿ƒç®—æ³•" class="headerlink" title="5. è´ªå¿ƒç®—æ³•"></a>5. è´ªå¿ƒç®—æ³•</h3><ul><li>è´ªå©ªç®—æ³•(è´ªå¿ƒç®—æ³•)æ˜¯æŒ‡åœ¨å¯¹é—®é¢˜è¿›è¡Œæ±‚è§£æ—¶ï¼Œåœ¨æ¯ä¸€æ­¥é€‰æ‹©ä¸­éƒ½é‡‡å–æœ€å¥½æˆ–è€…æœ€ä¼˜(å³æœ€æœ‰åˆ©)çš„é€‰æ‹©ï¼Œä»è€Œå¸Œæœ›èƒ½å¤Ÿå¯¼è‡´ç»“æœæ˜¯æœ€å¥½æˆ–è€…æœ€ä¼˜çš„ç®—æ³•</li><li>è´ªå©ªç®—æ³•æ‰€å¾—åˆ°çš„ç»“æœ<strong>ä¸ä¸€å®šæ˜¯æœ€ä¼˜çš„ç»“æœ</strong>(æœ‰æ—¶å€™ä¼šæ˜¯æœ€ä¼˜è§£)ï¼Œä½†æ˜¯éƒ½æ˜¯ç›¸å¯¹è¿‘ä¼¼(æ¥è¿‘)æœ€ä¼˜è§£çš„ç»“æœ</li></ul><p><font color="blue">åº”ç”¨åœºæ™¯-é›†åˆè¦†ç›–é—®é¢˜</font></p><p>å‡è®¾å­˜åœ¨ä¸‹é¢éœ€è¦ä»˜è´¹çš„å¹¿æ’­å°ï¼Œä»¥åŠå¹¿æ’­å°ä¿¡å·å¯ä»¥è¦†ç›–çš„åœ°åŒºã€‚ <strong>å¦‚ä½•é€‰æ‹©æœ€å°‘çš„å¹¿æ’­å°</strong>ï¼Œè®©æ‰€æœ‰çš„åœ°åŒºéƒ½å¯ä»¥æ¥æ”¶åˆ°ä¿¡å·?</p><table><thead><tr><th>å¹¿æ’­å°</th><th>è¦†ç›–åœ°åŒº</th></tr></thead><tbody><tr><td>K1</td><td>â€œåŒ—äº¬â€, â€œä¸Šæµ·â€, â€œå¤©æ´¥â€</td></tr><tr><td>K2</td><td>â€œå¹¿å·â€, â€œåŒ—äº¬â€, â€œæ·±åœ³â€</td></tr><tr><td>K3</td><td>â€œæˆéƒ½â€, â€œä¸Šæµ·â€, â€œæ­å·â€</td></tr><tr><td>K4</td><td>â€œä¸Šæµ·â€, â€œå¤©æ´¥â€</td></tr><tr><td>K5</td><td>â€œæ­å·â€, â€œå¤§è¿â€</td></tr></tbody></table><ul><li><p>éå†æ‰€æœ‰çš„å¹¿æ’­ç”µå°, æ‰¾åˆ°ä¸€ä¸ªè¦†ç›–äº†æœ€å¤š<strong>æœªè¦†ç›–çš„åœ°åŒº</strong>çš„ç”µå°(æ­¤ç”µå°å¯èƒ½åŒ…å«ä¸€äº›å·²è¦†ç›–çš„åœ°åŒºï¼Œä½†æ²¡æœ‰å…³ç³»ï¼‰ </p></li><li><p>å°†è¿™ä¸ªç”µå°åŠ å…¥åˆ°ä¸€ä¸ªé›†åˆä¸­(æ¯”å¦‚ArrayList), æƒ³åŠæ³•æŠŠè¯¥ç”µå°è¦†ç›–çš„åœ°åŒºåœ¨ä¸‹æ¬¡æ¯”è¾ƒæ—¶å»æ‰ã€‚</p></li><li><p>é‡å¤ç¬¬1æ­¥ç›´åˆ°è¦†ç›–äº†å…¨éƒ¨çš„åœ°åŒº</p></li></ul><p>ä»£ç å®ç°</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashMap</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">HashSet</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GreedyAlgorithm</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">HashSet</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span><span class="token punctuation">></span></span> broadcasts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">HashSet</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> hashSet1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        hashSet1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"åŒ—äº¬"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        hashSet1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"ä¸Šæµ·"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        hashSet1<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"å¤©æ´¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> hashSet2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        hashSet2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"å¹¿å·"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        hashSet2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"åŒ—äº¬"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        hashSet2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"æ·±åœ³"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> hashSet3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        hashSet3<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"æˆéƒ½"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        hashSet3<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"æ­å·"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        hashSet3<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"ä¸Šæµ·"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> hashSet4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        hashSet4<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"å¤©æ´¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        hashSet4<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"ä¸Šæµ·"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> hashSet5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        hashSet5<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"å¤§è¿"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        hashSet5<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"æ­å·"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        broadcasts<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"k1"</span><span class="token punctuation">,</span> hashSet1<span class="token punctuation">)</span><span class="token punctuation">;</span>        broadcasts<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"k2"</span><span class="token punctuation">,</span> hashSet2<span class="token punctuation">)</span><span class="token punctuation">;</span>        broadcasts<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"k3"</span><span class="token punctuation">,</span> hashSet3<span class="token punctuation">)</span><span class="token punctuation">;</span>        broadcasts<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"k4"</span><span class="token punctuation">,</span> hashSet4<span class="token punctuation">)</span><span class="token punctuation">;</span>        broadcasts<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">"k5"</span><span class="token punctuation">,</span> hashSet5<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å­˜æ”¾æ‰€æœ‰çš„åœ°åŒº</span>        <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> allArea <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        allArea<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"åŒ—äº¬"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        allArea<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"ä¸Šæµ·"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        allArea<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"æ·±åœ³"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        allArea<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"æ­å·"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        allArea<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"å¹¿å·"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        allArea<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"å¤©æ´¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        allArea<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"æˆéƒ½"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        allArea<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">"å¤§è¿"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å­˜æ”¾é€‰æ‹©çš„ç”µå°çš„é›†åˆ</span>        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> selects <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ä¸´æ—¶é›†åˆ,å­˜æ”¾éå†è¿‡ç¨‹ä¸­çš„ç”µå°è¦†ç›–çš„åœ°åŒºå’Œå½“å‰è¿˜æ²¡æœ‰è¦†ç›–çš„åœ°åŒºçš„äº¤é›†</span>        <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> tempSet <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ä¿å­˜åœ¨ä¸€æ¬¡éå†ä¸­èƒ½å¤Ÿè¦†ç›–æœ€å¤§æœªè¦†ç›–çš„åœ°åŒºå¯¹åº”çš„ç”µå°key  å¦‚æœmaxKeyä¸ä¸ºnull,åˆ™åŠ å…¥åˆ°selects</span>        <span class="token class-name">String</span> maxKey <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>allArea<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            maxKey <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> key <span class="token operator">:</span> broadcasts<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                tempSet<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> areas <span class="token operator">=</span> broadcasts<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>                tempSet<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>areas<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//å–tempSet å’Œ areas çš„äº¤é›† èµ‹ç»™ tempSet</span>                tempSet<span class="token punctuation">.</span><span class="token function">retainAll</span><span class="token punctuation">(</span>allArea<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//å¦‚æœå½“äº²è¿™ä¸ªé›†åˆåŒ…å«æœªè¦†ç›–åœ°åŒºçš„æ•°é‡,æ¯”maxKeyæŒ‡å‘çš„é›†åˆåœ°åŒºè¿˜å¤š,å°±éœ€è¦é‡ç½®maxKey  è¿™é‡Œä½“ç°è´ªå¿ƒç®—æ³•çš„ç‰¹ç‚¹</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>tempSet<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>maxKey <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> tempSet<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> broadcasts<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>maxKey<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    maxKey <span class="token operator">=</span> key<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>maxKey <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                selects<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>maxKey<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//å°†maxkeyæŒ‡å‘çš„å¹¿æ’­ç”µå°é‡allAreaä¸­å»é™¤æ‰</span>                allArea<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>broadcasts<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>maxKey<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å¾—åˆ°çš„é€‰æ‹©ç»“æœ"</span> <span class="token operator">+</span> selects<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="6-æ™®åˆ©å§†ç®—æ³•"><a href="#6-æ™®åˆ©å§†ç®—æ³•" class="headerlink" title="6. æ™®åˆ©å§†ç®—æ³•"></a>6. æ™®åˆ©å§†ç®—æ³•</h3><p><img src="https://img-blog.csdnimg.cn/46d7560c75e7486e9f29256cd4e472b1.png" alt="æ™®åˆ©å§†ç®—æ³•"></p><ul><li>æ™®åˆ©å§†(Prim)ç®—æ³•æ±‚<strong>æœ€å°ç”Ÿæˆæ ‘</strong>ï¼Œä¹Ÿå°±æ˜¯åœ¨åŒ…å«nä¸ªé¡¶ç‚¹çš„è¿é€šå›¾ä¸­ï¼Œæ‰¾å‡ºåªæœ‰(n-1)æ¡è¾¹åŒ…å«æ‰€æœ‰nä¸ªé¡¶ç‚¹çš„è¿é€šå­å›¾ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„<strong>æå°è¿é€šå­å›¾</strong></li></ul><p><img src="https://img-blog.csdnimg.cn/d57522fe6b634cb199dd4dbb1034f3a1.png" alt="é—®é¢˜ç¤ºæ„å›¾"></p><p>å„ä¸ªæ‘åº„çš„è·ç¦»ç”¨è¾¹çº¿è¡¨ç¤º(æƒ) ï¼Œæ¯”å¦‚ A â€“ B è·ç¦» 5å…¬é‡Œ.é—®ï¼šå¦‚ä½•ä¿®è·¯ä¿è¯å„ä¸ªæ‘åº„éƒ½èƒ½è¿é€šï¼Œå¹¶ä¸”æ€»çš„ä¿®å»ºå…¬è·¯æ€»é‡Œç¨‹æœ€çŸ­?</p><p>ä»£ç æ¼”ç¤º</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>tenAlgorithms</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PrimAlgorithm</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'F'</span><span class="token punctuation">,</span> <span class="token string">'G'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> verxs <span class="token operator">=</span> data<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> weight <span class="token operator">=</span> <span class="token punctuation">&#123;</span>                <span class="token punctuation">&#123;</span><span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token punctuation">&#123;</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token punctuation">&#123;</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token punctuation">&#123;</span><span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token punctuation">&#123;</span><span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token punctuation">&#123;</span><span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>                <span class="token punctuation">&#123;</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token class-name">MGraph</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MGraph</span><span class="token punctuation">(</span>verxs<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">MinTree</span> minTree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MinTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        minTree<span class="token punctuation">.</span><span class="token function">createGraph</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span> verxs<span class="token punctuation">,</span> data<span class="token punctuation">,</span> weight<span class="token punctuation">)</span><span class="token punctuation">;</span>        minTree<span class="token punctuation">.</span><span class="token function">showGraph</span><span class="token punctuation">(</span>graph<span class="token punctuation">)</span><span class="token punctuation">;</span>        minTree<span class="token punctuation">.</span><span class="token function">prim</span><span class="token punctuation">(</span>graph<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//åˆ›å»ºæœ€å°ç”Ÿæˆæ ‘</span><span class="token keyword">class</span> <span class="token class-name">MinTree</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">createGraph</span><span class="token punctuation">(</span><span class="token class-name">MGraph</span> graph<span class="token punctuation">,</span> <span class="token keyword">int</span> verxs<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> weight<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> i<span class="token punctuation">,</span> j<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> verxs<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            graph<span class="token punctuation">.</span>data<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> verxs<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                graph<span class="token punctuation">.</span>weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ˜¾ç¤ºå›¾çš„é‚»æ¥çŸ©é˜µ</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">showGraph</span><span class="token punctuation">(</span><span class="token class-name">MGraph</span> graph<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> link <span class="token operator">:</span> graph<span class="token punctuation">.</span>weight<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//primç®—æ³•,ç”Ÿæˆæœ€å°ç”Ÿæˆæ ‘</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">prim</span><span class="token punctuation">(</span><span class="token class-name">MGraph</span> graph<span class="token punctuation">,</span> <span class="token keyword">int</span> v<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// visited [] æ ‡è®°é¡¶ç‚¹æ˜¯å¦è¢«è®¿é—®</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> visited <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>graph<span class="token punctuation">.</span>verxs<span class="token punctuation">]</span><span class="token punctuation">;</span>        visited<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token comment">// h1,h2è®°å½•ä¸¤ä¸ªé¡¶ç‚¹çš„ä¸‹æ ‡</span>        <span class="token keyword">int</span> h1 <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> h2 <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> minWeight <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> graph<span class="token punctuation">.</span>verxs<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> graph<span class="token punctuation">.</span>verxs<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//i è¡¨ç¤ºè¢«è®¿é—®è¿‡çš„ç»“ç‚¹</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> graph<span class="token punctuation">.</span>verxs<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//j è¡¨ç¤ºæœªè¢«è®¿é—®è¿‡çš„ç»“ç‚¹</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>visited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">1</span><span class="token operator">&amp;&amp;</span>visited<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">==</span><span class="token number">0</span><span class="token operator">&amp;&amp;</span>graph<span class="token punctuation">.</span>weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;</span>minWeight<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                        <span class="token comment">//æ‰¾åˆ°æƒå€¼æœ€å°çš„è¾¹</span>                        minWeight <span class="token operator">=</span> graph<span class="token punctuation">.</span>weight<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                        h1<span class="token operator">=</span>i<span class="token punctuation">;</span>                        h2<span class="token operator">=</span>j<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¾¹&lt;"</span><span class="token operator">+</span>graph<span class="token punctuation">.</span>data<span class="token punctuation">[</span>h1<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">","</span><span class="token operator">+</span>graph<span class="token punctuation">.</span>data<span class="token punctuation">[</span>h2<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">">æƒå€¼:"</span><span class="token operator">+</span>minWeight<span class="token punctuation">)</span><span class="token punctuation">;</span>            visited<span class="token punctuation">[</span>h2<span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>            minWeight<span class="token operator">=</span><span class="token number">10000</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">MGraph</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> verxs<span class="token punctuation">;</span> <span class="token comment">//å›¾çš„èŠ‚ç‚¹çš„ä¸ªæ•°</span>    <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data<span class="token punctuation">;</span> <span class="token comment">//å­˜æ”¾èŠ‚ç‚¹çš„ä¸ªæ•°</span>    <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> weight<span class="token punctuation">;</span> <span class="token comment">//å­˜æ”¾è¾¹,å°±æ˜¯æˆ‘ä»¬çš„é‚»æ¥çŸ©é˜µ</span>    <span class="token keyword">public</span> <span class="token class-name">MGraph</span><span class="token punctuation">(</span><span class="token keyword">int</span> verxs<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>verxs <span class="token operator">=</span> verxs<span class="token punctuation">;</span>        data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>verxs<span class="token punctuation">]</span><span class="token punctuation">;</span>        weight <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>verxs<span class="token punctuation">]</span><span class="token punctuation">[</span>verxs<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">è¾¹<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">A</span><span class="token punctuation">,</span><span class="token class-name">G</span><span class="token punctuation">></span></span>æƒå€¼<span class="token operator">:</span><span class="token number">2</span>è¾¹<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">G</span><span class="token punctuation">,</span><span class="token class-name">B</span><span class="token punctuation">></span></span>æƒå€¼<span class="token operator">:</span><span class="token number">3</span>è¾¹<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">G</span><span class="token punctuation">,</span><span class="token class-name">E</span><span class="token punctuation">></span></span>æƒå€¼<span class="token operator">:</span><span class="token number">4</span>è¾¹<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">E</span><span class="token punctuation">,</span><span class="token class-name">F</span><span class="token punctuation">></span></span>æƒå€¼<span class="token operator">:</span><span class="token number">5</span>è¾¹<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">F</span><span class="token punctuation">,</span><span class="token class-name">D</span><span class="token punctuation">></span></span>æƒå€¼<span class="token operator">:</span><span class="token number">4</span>è¾¹<span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">A</span><span class="token punctuation">,</span><span class="token class-name">C</span><span class="token punctuation">></span></span>æƒå€¼<span class="token operator">:</span><span class="token number">7</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="7-å…‹é²æ–¯å¡å°”ç®—æ³•"><a href="#7-å…‹é²æ–¯å¡å°”ç®—æ³•" class="headerlink" title="7.å…‹é²æ–¯å¡å°”ç®—æ³•"></a>7.å…‹é²æ–¯å¡å°”ç®—æ³•</h3><p><img src="https://img-blog.csdnimg.cn/d9edfa644e64427b925b8ce8daffd039.png" alt="å…‹é²æ–¯å¡å°”ç®—æ³•"></p><ul><li><p>å…‹é²æ–¯å¡å°”(Kruskal)ç®—æ³•ï¼Œæ˜¯ç”¨æ¥æ±‚åŠ æƒè¿é€šå›¾çš„æœ€å°ç”Ÿæˆæ ‘çš„ç®—æ³•ã€‚</p></li><li><p><strong>åŸºæœ¬æ€æƒ³</strong>ï¼šæŒ‰ç…§æƒå€¼ä»å°åˆ°å¤§çš„é¡ºåºé€‰æ‹©n-1æ¡è¾¹ï¼Œå¹¶ä¿è¯è¿™n-1æ¡è¾¹ä¸æ„æˆå›è·¯</p></li><li><p><strong>å…·ä½“åšæ³•</strong>ï¼šé¦–å…ˆæ„é€ ä¸€ä¸ªåªå«nä¸ªé¡¶ç‚¹çš„æ£®æ—ï¼Œç„¶åä¾æƒå€¼ä»å°åˆ°å¤§ä»è¿é€šç½‘ä¸­é€‰æ‹©è¾¹åŠ å…¥åˆ°æ£®æ—ä¸­ï¼Œå¹¶ä½¿æ£®æ—ä¸­ä¸äº§ç”Ÿå›è·¯ï¼Œç›´è‡³æ£®æ—å˜æˆä¸€æ£µæ ‘ä¸ºæ­¢</p></li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">KruskalCase</span> <span class="token punctuation">&#123;</span><span class="token keyword">private</span> <span class="token keyword">int</span> edgeNum<span class="token punctuation">;</span> <span class="token comment">//è¾¹çš„ä¸ªæ•°</span><span class="token keyword">private</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> vertexs<span class="token punctuation">;</span> <span class="token comment">//é¡¶ç‚¹æ•°ç»„</span><span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> matrix<span class="token punctuation">;</span> <span class="token comment">//é‚»æ¥çŸ©é˜µ</span><span class="token comment">//ä½¿ç”¨ INF è¡¨ç¤ºä¸¤ä¸ªé¡¶ç‚¹ä¸èƒ½è¿é€š</span><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> INF <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span>MAX_VALUE<span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> vertexs <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'F'</span><span class="token punctuation">,</span> <span class="token string">'G'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//å…‹é²æ–¯å¡å°”ç®—æ³•çš„é‚»æ¥çŸ©é˜µ  </span>      <span class="token keyword">int</span> matrix<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">&#123;</span>      <span class="token comment">/*A*/</span><span class="token operator">/</span><span class="token operator">*</span><span class="token class-name">B</span><span class="token operator">*</span><span class="token comment">//*C*//*D*//*E*//*F*//*G*/</span><span class="token comment">/*A*/</span> <span class="token punctuation">&#123;</span>   <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">12</span><span class="token punctuation">,</span> INF<span class="token punctuation">,</span> INF<span class="token punctuation">,</span> INF<span class="token punctuation">,</span>  <span class="token number">16</span><span class="token punctuation">,</span>  <span class="token number">14</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token comment">/*B*/</span> <span class="token punctuation">&#123;</span>  <span class="token number">12</span><span class="token punctuation">,</span>   <span class="token number">0</span><span class="token punctuation">,</span>  <span class="token number">10</span><span class="token punctuation">,</span> INF<span class="token punctuation">,</span> INF<span class="token punctuation">,</span>   <span class="token number">7</span><span class="token punctuation">,</span> INF<span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token comment">/*C*/</span> <span class="token punctuation">&#123;</span> INF<span class="token punctuation">,</span>  <span class="token number">10</span><span class="token punctuation">,</span>   <span class="token number">0</span><span class="token punctuation">,</span>   <span class="token number">3</span><span class="token punctuation">,</span>   <span class="token number">5</span><span class="token punctuation">,</span>   <span class="token number">6</span><span class="token punctuation">,</span> INF<span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token comment">/*D*/</span> <span class="token punctuation">&#123;</span> INF<span class="token punctuation">,</span> INF<span class="token punctuation">,</span>   <span class="token number">3</span><span class="token punctuation">,</span>   <span class="token number">0</span><span class="token punctuation">,</span>   <span class="token number">4</span><span class="token punctuation">,</span> INF<span class="token punctuation">,</span> INF<span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token comment">/*E*/</span> <span class="token punctuation">&#123;</span> INF<span class="token punctuation">,</span> INF<span class="token punctuation">,</span>   <span class="token number">5</span><span class="token punctuation">,</span>   <span class="token number">4</span><span class="token punctuation">,</span>   <span class="token number">0</span><span class="token punctuation">,</span>   <span class="token number">2</span><span class="token punctuation">,</span>   <span class="token number">8</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token comment">/*F*/</span> <span class="token punctuation">&#123;</span>  <span class="token number">16</span><span class="token punctuation">,</span>   <span class="token number">7</span><span class="token punctuation">,</span>   <span class="token number">6</span><span class="token punctuation">,</span> INF<span class="token punctuation">,</span>   <span class="token number">2</span><span class="token punctuation">,</span>   <span class="token number">0</span><span class="token punctuation">,</span>   <span class="token number">9</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token comment">/*G*/</span> <span class="token punctuation">&#123;</span>  <span class="token number">14</span><span class="token punctuation">,</span> INF<span class="token punctuation">,</span> INF<span class="token punctuation">,</span> INF<span class="token punctuation">,</span>   <span class="token number">8</span><span class="token punctuation">,</span>   <span class="token number">9</span><span class="token punctuation">,</span>   <span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>       <span class="token comment">//å¤§å®¶å¯ä»¥åœ¨å»æµ‹è¯•å…¶å®ƒçš„é‚»æ¥çŸ©é˜µï¼Œç»“æœéƒ½å¯ä»¥å¾—åˆ°æœ€å°ç”Ÿæˆæ ‘.</span>            <span class="token comment">//åˆ›å»ºKruskalCase å¯¹è±¡å®ä¾‹</span>      <span class="token class-name">KruskalCase</span> kruskalCase <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">KruskalCase</span><span class="token punctuation">(</span>vertexs<span class="token punctuation">,</span> matrix<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">//è¾“å‡ºæ„å»ºçš„</span>      kruskalCase<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      kruskalCase<span class="token punctuation">.</span><span class="token function">kruskal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">&#125;</span><span class="token comment">//æ„é€ å™¨</span><span class="token keyword">public</span> <span class="token class-name">KruskalCase</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> vertexs<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> matrix<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//åˆå§‹åŒ–é¡¶ç‚¹æ•°å’Œè¾¹çš„ä¸ªæ•°</span><span class="token keyword">int</span> vlen <span class="token operator">=</span> vertexs<span class="token punctuation">.</span>length<span class="token punctuation">;</span><span class="token comment">//åˆå§‹åŒ–é¡¶ç‚¹, å¤åˆ¶æ‹·è´çš„æ–¹å¼</span><span class="token keyword">this</span><span class="token punctuation">.</span>vertexs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span>vlen<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vertexs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>vertexs<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> vertexs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//åˆå§‹åŒ–è¾¹, ä½¿ç”¨çš„æ˜¯å¤åˆ¶æ‹·è´çš„æ–¹å¼</span><span class="token keyword">this</span><span class="token punctuation">.</span>matrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>vlen<span class="token punctuation">]</span><span class="token punctuation">[</span>vlen<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vlen<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> vlen<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//ç»Ÿè®¡è¾¹çš„æ¡æ•°</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vlen<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> vlen<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> INF<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>edgeNum<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">kruskal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//è¡¨ç¤ºæœ€åç»“æœæ•°ç»„çš„ç´¢å¼•</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ends <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>edgeNum<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//ç”¨äºä¿å­˜"å·²æœ‰æœ€å°ç”Ÿæˆæ ‘" ä¸­çš„æ¯ä¸ªé¡¶ç‚¹åœ¨æœ€å°ç”Ÿæˆæ ‘ä¸­çš„ç»ˆç‚¹</span><span class="token comment">//åˆ›å»ºç»“æœæ•°ç»„, ä¿å­˜æœ€åçš„æœ€å°ç”Ÿæˆæ ‘</span><span class="token class-name">EData</span><span class="token punctuation">[</span><span class="token punctuation">]</span> rets <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EData</span><span class="token punctuation">[</span>edgeNum<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//è·å–å›¾ä¸­ æ‰€æœ‰çš„è¾¹çš„é›†åˆ ï¼Œ ä¸€å…±æœ‰12è¾¹</span><span class="token class-name">EData</span><span class="token punctuation">[</span><span class="token punctuation">]</span> edges <span class="token operator">=</span> <span class="token function">getEdges</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å›¾çš„è¾¹çš„é›†åˆ="</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>edges<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" å…±"</span><span class="token operator">+</span> edges<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//12</span><span class="token comment">//æŒ‰ç…§è¾¹çš„æƒå€¼å¤§å°è¿›è¡Œæ’åº(ä»å°åˆ°å¤§)</span><span class="token function">sortEdges</span><span class="token punctuation">(</span>edges<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//éå†edges æ•°ç»„ï¼Œå°†è¾¹æ·»åŠ åˆ°æœ€å°ç”Ÿæˆæ ‘ä¸­æ—¶ï¼Œåˆ¤æ–­æ˜¯å‡†å¤‡åŠ å…¥çš„è¾¹å¦å½¢æˆäº†å›è·¯ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå°±åŠ å…¥ rets, å¦åˆ™ä¸èƒ½åŠ å…¥</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> edgeNum<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//è·å–åˆ°ç¬¬iæ¡è¾¹çš„ç¬¬ä¸€ä¸ªé¡¶ç‚¹(èµ·ç‚¹)</span><span class="token keyword">int</span> p1 <span class="token operator">=</span> <span class="token function">getPosition</span><span class="token punctuation">(</span>edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>start<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//p1=4</span><span class="token comment">//è·å–åˆ°ç¬¬iæ¡è¾¹çš„ç¬¬2ä¸ªé¡¶ç‚¹</span><span class="token keyword">int</span> p2 <span class="token operator">=</span> <span class="token function">getPosition</span><span class="token punctuation">(</span>edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>end<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//p2 = 5</span><span class="token comment">//è·å–p1è¿™ä¸ªé¡¶ç‚¹åœ¨å·²æœ‰æœ€å°ç”Ÿæˆæ ‘ä¸­çš„ç»ˆç‚¹</span><span class="token keyword">int</span> m <span class="token operator">=</span> <span class="token function">getEnd</span><span class="token punctuation">(</span>ends<span class="token punctuation">,</span> p1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//m = 4</span><span class="token comment">//è·å–p2è¿™ä¸ªé¡¶ç‚¹åœ¨å·²æœ‰æœ€å°ç”Ÿæˆæ ‘ä¸­çš„ç»ˆç‚¹</span><span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token function">getEnd</span><span class="token punctuation">(</span>ends<span class="token punctuation">,</span> p2<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// n = 5</span><span class="token comment">//æ˜¯å¦æ„æˆå›è·¯</span><span class="token keyword">if</span><span class="token punctuation">(</span>m <span class="token operator">!=</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//æ²¡æœ‰æ„æˆå›è·¯</span>ends<span class="token punctuation">[</span>m<span class="token punctuation">]</span> <span class="token operator">=</span> n<span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®m åœ¨"å·²æœ‰æœ€å°ç”Ÿæˆæ ‘"ä¸­çš„ç»ˆç‚¹ &lt;E,F> [0,0,0,0,5,0,0,0,0,0,0,0]</span>rets<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> edges<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//æœ‰ä¸€æ¡è¾¹åŠ å…¥åˆ°retsæ•°ç»„</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//&lt;E,F> &lt;C,D> &lt;D,E> &lt;B,F> &lt;E,G> &lt;A,B>ã€‚</span><span class="token comment">//ç»Ÿè®¡å¹¶æ‰“å° "æœ€å°ç”Ÿæˆæ ‘", è¾“å‡º  rets</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æœ€å°ç”Ÿæˆæ ‘ä¸º"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> index<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>rets<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ‰“å°é‚»æ¥çŸ©é˜µ</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"é‚»æ¥çŸ©é˜µä¸º: \n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vertexs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> vertexs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%12d"</span><span class="token punctuation">,</span> matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ¢è¡Œ</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">/** * åŠŸèƒ½ï¼šå¯¹è¾¹è¿›è¡Œæ’åºå¤„ç†, å†’æ³¡æ’åº * @param edges è¾¹çš„é›†åˆ */</span><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">sortEdges</span><span class="token punctuation">(</span><span class="token class-name">EData</span><span class="token punctuation">[</span><span class="token punctuation">]</span> edges<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> edges<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> edges<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> i<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>edges<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>weight <span class="token operator">></span> edges<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>weight<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//äº¤æ¢</span><span class="token class-name">EData</span> tmp <span class="token operator">=</span> edges<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>edges<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> edges<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>edges<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">/** *  * @param ch é¡¶ç‚¹çš„å€¼ï¼Œæ¯”å¦‚'A','B' * @return è¿”å›ché¡¶ç‚¹å¯¹åº”çš„ä¸‹æ ‡ï¼Œå¦‚æœæ‰¾ä¸åˆ°ï¼Œè¿”å›-1 */</span><span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">getPosition</span><span class="token punctuation">(</span><span class="token keyword">char</span> ch<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vertexs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>vertexs<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> ch<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//æ‰¾åˆ°</span><span class="token keyword">return</span> i<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ‰¾ä¸åˆ°,è¿”å›-1</span><span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/** * åŠŸèƒ½: è·å–å›¾ä¸­è¾¹ï¼Œæ”¾åˆ°EData[] æ•°ç»„ä¸­ï¼Œåé¢æˆ‘ä»¬éœ€è¦éå†è¯¥æ•°ç»„ * æ˜¯é€šè¿‡matrix é‚»æ¥çŸ©é˜µæ¥è·å– * EData[] å½¢å¼ [['A','B', 12], ['B','F',7], .....] * @return */</span><span class="token keyword">private</span> <span class="token class-name">EData</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getEdges</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token class-name">EData</span><span class="token punctuation">[</span><span class="token punctuation">]</span> edges <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EData</span><span class="token punctuation">[</span>edgeNum<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vertexs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j<span class="token operator">=</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span>vertexs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> INF<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>edges<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EData</span><span class="token punctuation">(</span>vertexs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> vertexs<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">,</span> matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> edges<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/** * åŠŸèƒ½: è·å–ä¸‹æ ‡ä¸ºiçš„é¡¶ç‚¹çš„ç»ˆç‚¹(), ç”¨äºåé¢åˆ¤æ–­ä¸¤ä¸ªé¡¶ç‚¹çš„ç»ˆç‚¹æ˜¯å¦ç›¸åŒ * @param ends ï¼š æ•°ç»„å°±æ˜¯è®°å½•äº†å„ä¸ªé¡¶ç‚¹å¯¹åº”çš„ç»ˆç‚¹æ˜¯å“ªä¸ª,ends æ•°ç»„æ˜¯åœ¨éå†è¿‡ç¨‹ä¸­ï¼Œé€æ­¥å½¢æˆ * @param i : è¡¨ç¤ºä¼ å…¥çš„é¡¶ç‚¹å¯¹åº”çš„ä¸‹æ ‡ * @return è¿”å›çš„å°±æ˜¯ ä¸‹æ ‡ä¸ºiçš„è¿™ä¸ªé¡¶ç‚¹å¯¹åº”çš„ç»ˆç‚¹çš„ä¸‹æ ‡, ä¸€ä¼šå›å¤´è¿˜æœ‰æ¥ç†è§£ */</span><span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">getEnd</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ends<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// i = 4 [0,0,0,0,5,0,0,0,0,0,0,0]</span><span class="token keyword">while</span><span class="token punctuation">(</span>ends<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>i <span class="token operator">=</span> ends<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">return</span> i<span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token comment">//åˆ›å»ºä¸€ä¸ªç±»EData ï¼Œå®ƒçš„å¯¹è±¡å®ä¾‹å°±è¡¨ç¤ºä¸€æ¡è¾¹</span><span class="token keyword">class</span> <span class="token class-name">EData</span> <span class="token punctuation">&#123;</span><span class="token keyword">char</span> start<span class="token punctuation">;</span> <span class="token comment">//è¾¹çš„ä¸€ä¸ªç‚¹</span><span class="token keyword">char</span> end<span class="token punctuation">;</span> <span class="token comment">//è¾¹çš„å¦å¤–ä¸€ä¸ªç‚¹</span><span class="token keyword">int</span> weight<span class="token punctuation">;</span> <span class="token comment">//è¾¹çš„æƒå€¼</span><span class="token comment">//æ„é€ å™¨</span><span class="token keyword">public</span> <span class="token class-name">EData</span><span class="token punctuation">(</span><span class="token keyword">char</span> start<span class="token punctuation">,</span> <span class="token keyword">char</span> end<span class="token punctuation">,</span> <span class="token keyword">int</span> weight<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>start <span class="token operator">=</span> start<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>end <span class="token operator">=</span> end<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>weight <span class="token operator">=</span> weight<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//é‡å†™toString, ä¾¿äºè¾“å‡ºè¾¹ä¿¡æ¯</span><span class="token annotation punctuation">@Override</span><span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token string">"EData [&lt;"</span> <span class="token operator">+</span> start <span class="token operator">+</span> <span class="token string">", "</span> <span class="token operator">+</span> end <span class="token operator">+</span> <span class="token string">">= "</span> <span class="token operator">+</span> weight <span class="token operator">+</span> <span class="token string">"]"</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å…‹é²æ–¯å¡å°”ç®—æ³•å’Œæ™®åˆ©å§†ç®—æ³•çš„åŒºåˆ«:</p><ul><li>æ™®åˆ©å§†ï¼šä»¥ç‚¹ä¸ºæ ¸å¿ƒï¼Œä¸¤ç‚¹ä¹‹é—´çš„æƒå€¼ä»å°åˆ°å¤§æ‰¾ï¼Œæ‰¾åˆ°çš„æœ€å°çš„è¿ä¸Šå³å¯ã€‚(<font color = red>ä¸èƒ½æ–­å¼€</font>)</li><li>å…‹é²æ–¯å¡å°”ï¼šä»¥è¾¹ä¸ºæ ¸å¿ƒï¼Œè¾¹çš„æƒå€¼ä»å°åˆ°å¤§æ‰¾ï¼Œå³ä½¿ä¸¤ä¸ªçº¿æ¡ä¸ç›¸è¿ä¹Ÿå…ˆè¿ä¸Šï¼Œç„¶åæœ€åå†è¿åœ¨ä¸€èµ·<font color = red>ï¼ˆå¯ä»¥æ–­å¼€ï¼‰</font></li></ul><h3 id="8-è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•"><a href="#8-è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•" class="headerlink" title="8.è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•"></a>8.è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•</h3><p>è¿ªæ°æ–¯ç‰¹æ‹‰(Dijkstra)ç®—æ³•æ˜¯<strong>å…¸å‹æœ€çŸ­è·¯å¾„ç®—æ³•</strong>ï¼Œç”¨äºè®¡ç®—ä¸€ä¸ªç»“ç‚¹åˆ°å…¶ä»–ç»“ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚ å®ƒçš„ä¸»è¦ç‰¹ç‚¹æ˜¯ä»¥èµ·å§‹ç‚¹ä¸ºä¸­å¿ƒå‘å¤–å±‚å±‚æ‰©å±•(<strong>å¹¿åº¦ä¼˜å…ˆ</strong>æœç´¢æ€æƒ³)ï¼Œç›´åˆ°æ‰©å±•åˆ°ç»ˆç‚¹ä¸ºæ­¢</p><p><img src="https://img-blog.csdnimg.cn/c66825a356974c87b2ce1cfbf5b8e639.png" alt="Dijkstra"></p><ul><li><p>æˆ˜äº‰æ—¶æœŸï¼Œèƒœåˆ©ä¹¡æœ‰7ä¸ªæ‘åº„(A, B, C, D, E, F, G) ï¼Œç°åœ¨æœ‰å…­ä¸ªé‚®å·®ï¼Œä»Gç‚¹å‡ºå‘ï¼Œéœ€è¦åˆ†åˆ«æŠŠé‚®ä»¶åˆ†åˆ«é€åˆ° A, B, C , D, E, F å…­ä¸ªæ‘åº„</p></li><li><p>å„ä¸ªæ‘åº„çš„è·ç¦»ç”¨è¾¹çº¿è¡¨ç¤º(æƒ) ï¼Œæ¯”å¦‚ A â€“ B è·ç¦» 5å…¬é‡Œ</p></li><li><p>é—®ï¼šå¦‚ä½•è®¡ç®—å‡ºGæ‘åº„åˆ° å…¶å®ƒå„ä¸ªæ‘åº„çš„æœ€çŸ­è·ç¦»? </p></li><li><p>å¦‚æœä»å…¶å®ƒç‚¹å‡ºå‘åˆ°å„ä¸ªç‚¹çš„æœ€çŸ­è·ç¦»åˆæ˜¯å¤šå°‘?</p></li></ul><p><img src="https://img-blog.csdnimg.cn/e1db5d8918b14b2ba78c3e5d0517e751.png" alt="æ¡ˆä¾‹"></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>tenAlgorithms</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DijkstraAlgorithm</span> <span class="token punctuation">&#123;</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> vertex <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'F'</span><span class="token punctuation">,</span> <span class="token string">'G'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//é‚»æ¥çŸ©é˜µ</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> matrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>vertex<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">[</span>vertex<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token class-name">N</span> <span class="token operator">=</span> <span class="token number">65535</span><span class="token punctuation">;</span><span class="token comment">// è¡¨ç¤ºä¸å¯ä»¥è¿æ¥</span>matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>matrix<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>matrix<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>matrix<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>matrix<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>matrix<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token class-name">N</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token comment">//åˆ›å»º Graphå¯¹è±¡</span><span class="token class-name">Graph</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span>vertex<span class="token punctuation">,</span> matrix<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æµ‹è¯•, çœ‹çœ‹å›¾çš„é‚»æ¥çŸ©é˜µæ˜¯å¦ok</span>graph<span class="token punctuation">.</span><span class="token function">showGraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æµ‹è¯•è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•</span>graph<span class="token punctuation">.</span><span class="token function">dsj</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//C</span>graph<span class="token punctuation">.</span><span class="token function">showDijkstra</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Graph</span> <span class="token punctuation">&#123;</span><span class="token keyword">private</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> vertex<span class="token punctuation">;</span> <span class="token comment">// é¡¶ç‚¹æ•°ç»„</span><span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> matrix<span class="token punctuation">;</span> <span class="token comment">// é‚»æ¥çŸ©é˜µ</span><span class="token keyword">private</span> <span class="token class-name">VisitedVertex</span> vv<span class="token punctuation">;</span> <span class="token comment">//å·²ç»è®¿é—®çš„é¡¶ç‚¹çš„é›†åˆ</span><span class="token comment">// æ„é€ å™¨</span><span class="token keyword">public</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> vertex<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> matrix<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>vertex <span class="token operator">=</span> vertex<span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>matrix <span class="token operator">=</span> matrix<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ˜¾ç¤ºç»“æœ</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">showDijkstra</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>vv<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">// æ˜¾ç¤ºå›¾</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">showGraph</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> link <span class="token operator">:</span> matrix<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•å®ç°</span><span class="token comment">/** * * @param index è¡¨ç¤ºå‡ºå‘é¡¶ç‚¹å¯¹åº”çš„ä¸‹æ ‡ */</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">dsj</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>vv <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VisitedVertex</span><span class="token punctuation">(</span>vertex<span class="token punctuation">.</span>length<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token function">update</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ›´æ–°indexé¡¶ç‚¹åˆ°å‘¨å›´é¡¶ç‚¹çš„è·ç¦»å’Œå‰é©±é¡¶ç‚¹</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span>vertex<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>index <span class="token operator">=</span> vv<span class="token punctuation">.</span><span class="token function">updateArr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// é€‰æ‹©å¹¶è¿”å›æ–°çš„è®¿é—®é¡¶ç‚¹</span><span class="token function">update</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ›´æ–°indexé¡¶ç‚¹åˆ°å‘¨å›´é¡¶ç‚¹çš„è·ç¦»å’Œå‰é©±é¡¶ç‚¹</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ›´æ–°indexä¸‹æ ‡é¡¶ç‚¹åˆ°å‘¨å›´é¡¶ç‚¹çš„è·ç¦»å’Œå‘¨å›´é¡¶ç‚¹çš„å‰é©±é¡¶ç‚¹,</span><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//æ ¹æ®éå†æˆ‘ä»¬çš„é‚»æ¥çŸ©é˜µçš„  matrix[index]è¡Œ</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> matrix<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">// len å«ä¹‰æ˜¯ : å‡ºå‘é¡¶ç‚¹åˆ°indexé¡¶ç‚¹çš„è·ç¦» + ä»indexé¡¶ç‚¹åˆ°jé¡¶ç‚¹çš„è·ç¦»çš„å’Œ</span>len <span class="token operator">=</span> vv<span class="token punctuation">.</span><span class="token function">getDis</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span> <span class="token operator">+</span> matrix<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// å¦‚æœjé¡¶ç‚¹æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œå¹¶ä¸” len å°äºå‡ºå‘é¡¶ç‚¹åˆ°jé¡¶ç‚¹çš„è·ç¦»ï¼Œå°±éœ€è¦æ›´æ–°</span><span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>vv<span class="token punctuation">.</span><span class="token function">in</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> len <span class="token operator">&lt;</span> vv<span class="token punctuation">.</span><span class="token function">getDis</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>vv<span class="token punctuation">.</span><span class="token function">updatePre</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ›´æ–°jé¡¶ç‚¹çš„å‰é©±ä¸ºindexé¡¶ç‚¹</span>vv<span class="token punctuation">.</span><span class="token function">updateDis</span><span class="token punctuation">(</span>j<span class="token punctuation">,</span> len<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æ›´æ–°å‡ºå‘é¡¶ç‚¹åˆ°jé¡¶ç‚¹çš„è·ç¦»</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// å·²è®¿é—®é¡¶ç‚¹é›†åˆ</span><span class="token keyword">class</span> <span class="token class-name">VisitedVertex</span> <span class="token punctuation">&#123;</span><span class="token comment">// è®°å½•å„ä¸ªé¡¶ç‚¹æ˜¯å¦è®¿é—®è¿‡ 1è¡¨ç¤ºè®¿é—®è¿‡,0æœªè®¿é—®,ä¼šåŠ¨æ€æ›´æ–°</span><span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> already_arr<span class="token punctuation">;</span><span class="token comment">// æ¯ä¸ªä¸‹æ ‡å¯¹åº”çš„å€¼ä¸ºå‰ä¸€ä¸ªé¡¶ç‚¹ä¸‹æ ‡, ä¼šåŠ¨æ€æ›´æ–°</span><span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pre_visited<span class="token punctuation">;</span><span class="token comment">// è®°å½•å‡ºå‘é¡¶ç‚¹åˆ°å…¶ä»–æ‰€æœ‰é¡¶ç‚¹çš„è·ç¦»,æ¯”å¦‚Gä¸ºå‡ºå‘é¡¶ç‚¹ï¼Œå°±ä¼šè®°å½•Gåˆ°å…¶å®ƒé¡¶ç‚¹çš„è·ç¦»ï¼Œä¼šåŠ¨æ€æ›´æ–°ï¼Œæ±‚çš„æœ€çŸ­è·ç¦»å°±ä¼šå­˜æ”¾åˆ°dis</span><span class="token keyword">public</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dis<span class="token punctuation">;</span><span class="token comment">//æ„é€ å™¨</span><span class="token comment">/** * * @param length :è¡¨ç¤ºé¡¶ç‚¹çš„ä¸ªæ•° * @param index: å‡ºå‘é¡¶ç‚¹å¯¹åº”çš„ä¸‹æ ‡, æ¯”å¦‚Gé¡¶ç‚¹ï¼Œä¸‹æ ‡å°±æ˜¯6 */</span><span class="token keyword">public</span> <span class="token class-name">VisitedVertex</span><span class="token punctuation">(</span><span class="token keyword">int</span> length<span class="token punctuation">,</span> <span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>already_arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>pre_visited <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>dis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//åˆå§‹åŒ– disæ•°ç»„</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>dis<span class="token punctuation">,</span> <span class="token number">65535</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>already_arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//è®¾ç½®å‡ºå‘é¡¶ç‚¹è¢«è®¿é—®è¿‡</span><span class="token keyword">this</span><span class="token punctuation">.</span>dis<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//è®¾ç½®å‡ºå‘é¡¶ç‚¹çš„è®¿é—®è·ç¦»ä¸º0</span><span class="token punctuation">&#125;</span><span class="token comment">/** * åŠŸèƒ½: åˆ¤æ–­indexé¡¶ç‚¹æ˜¯å¦è¢«è®¿é—®è¿‡ * @param index * @return å¦‚æœè®¿é—®è¿‡ï¼Œå°±è¿”å›true, å¦åˆ™è®¿é—®false */</span><span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">in</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> already_arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/** * åŠŸèƒ½: æ›´æ–°å‡ºå‘é¡¶ç‚¹åˆ°indexé¡¶ç‚¹çš„è·ç¦» * @param index * @param len */</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updateDis</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">,</span> <span class="token keyword">int</span> len<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>dis<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> len<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/** * åŠŸèƒ½: æ›´æ–°preè¿™ä¸ªé¡¶ç‚¹çš„å‰é©±é¡¶ç‚¹ä¸ºindexé¡¶ç‚¹ * @param pre * @param index */</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">updatePre</span><span class="token punctuation">(</span><span class="token keyword">int</span> pre<span class="token punctuation">,</span> <span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>pre_visited<span class="token punctuation">[</span>pre<span class="token punctuation">]</span> <span class="token operator">=</span> index<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/** * åŠŸèƒ½:è¿”å›å‡ºå‘é¡¶ç‚¹åˆ°indexé¡¶ç‚¹çš„è·ç¦» * @param index */</span><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getDis</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">return</span> dis<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">/** * ç»§ç»­é€‰æ‹©å¹¶è¿”å›æ–°çš„è®¿é—®é¡¶ç‚¹ï¼Œ æ¯”å¦‚è¿™é‡Œçš„G å®Œåï¼Œå°±æ˜¯ Aç‚¹ä½œä¸ºæ–°çš„è®¿é—®é¡¶ç‚¹(æ³¨æ„ä¸æ˜¯å‡ºå‘é¡¶ç‚¹) * @return */</span><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">updateArr</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">int</span> min <span class="token operator">=</span> <span class="token number">65535</span><span class="token punctuation">,</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> already_arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span><span class="token punctuation">(</span>already_arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> min <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>min <span class="token operator">=</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>index <span class="token operator">=</span> i<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ›´æ–° index é¡¶ç‚¹è¢«è®¿é—®è¿‡</span>already_arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token keyword">return</span> index<span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ˜¾ç¤ºæœ€åçš„ç»“æœ</span><span class="token comment">//å³å°†ä¸‰ä¸ªæ•°ç»„çš„æƒ…å†µè¾“å‡º</span><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"=========================="</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¾“å‡ºalready_arr</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">:</span> already_arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¾“å‡ºpre_visited</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">:</span> pre_visited<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¾“å‡ºdis</span><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">:</span> dis<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ä¸ºäº†å¥½çœ‹æœ€åçš„æœ€çŸ­è·ç¦»ï¼Œæˆ‘ä»¬å¤„ç†</span><span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> vertex <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'F'</span><span class="token punctuation">,</span> <span class="token string">'G'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">:</span> dis<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">!=</span> <span class="token number">65535</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>vertex<span class="token punctuation">[</span>count<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"("</span><span class="token operator">+</span>i<span class="token operator">+</span><span class="token string">") "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"N "</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>count<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="9-å¼—æ´›ä¼Šå¾·ç®—æ³•"><a href="#9-å¼—æ´›ä¼Šå¾·ç®—æ³•" class="headerlink" title="9.å¼—æ´›ä¼Šå¾·ç®—æ³•"></a>9.å¼—æ´›ä¼Šå¾·ç®—æ³•</h3><ul><li>å’ŒDijkstraç®—æ³•ä¸€æ ·ï¼Œå¼—æ´›ä¼Šå¾·(Floyd)ç®—æ³•ä¹Ÿæ˜¯ä¸€ç§ç”¨äºå¯»æ‰¾ç»™å®šçš„åŠ æƒå›¾ä¸­é¡¶ç‚¹é—´æœ€çŸ­è·¯å¾„çš„ç®—æ³•ã€‚</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>tenAlgorithms</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FloydAlgorithm</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// æµ‹è¯•çœ‹çœ‹å›¾æ˜¯å¦åˆ›å»ºæˆåŠŸ</span>        <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> vertex <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'F'</span><span class="token punctuation">,</span> <span class="token string">'G'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token comment">//åˆ›å»ºé‚»æ¥çŸ©é˜µ</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> matrix <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>vertex<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">[</span>vertex<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">final</span> <span class="token keyword">int</span> <span class="token class-name">N</span> <span class="token operator">=</span> <span class="token number">65535</span><span class="token punctuation">;</span>        matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        matrix<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        matrix<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        matrix<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        matrix<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        matrix<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        matrix<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">&#123;</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token class-name">N</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token comment">//åˆ›å»º Graph å¯¹è±¡</span>        <span class="token class-name">Graph</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span>vertex<span class="token punctuation">.</span>length<span class="token punctuation">,</span> matrix<span class="token punctuation">,</span> vertex<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è°ƒç”¨å¼—æ´›ä¼Šå¾·ç®—æ³•</span>        graph<span class="token punctuation">.</span><span class="token function">floyd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        graph<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// åˆ›å»ºå›¾</span>    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Graph</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">private</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> vertex<span class="token punctuation">;</span> <span class="token comment">// å­˜æ”¾é¡¶ç‚¹çš„æ•°ç»„</span>        <span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> dis<span class="token punctuation">;</span> <span class="token comment">// ä¿å­˜ï¼Œä»å„ä¸ªé¡¶ç‚¹å‡ºå‘åˆ°å…¶å®ƒé¡¶ç‚¹çš„è·ç¦»ï¼Œæœ€åçš„ç»“æœï¼Œä¹Ÿæ˜¯ä¿ç•™åœ¨è¯¥æ•°ç»„</span>        <span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pre<span class="token punctuation">;</span><span class="token comment">// ä¿å­˜åˆ°è¾¾ç›®æ ‡é¡¶ç‚¹çš„å‰é©±é¡¶ç‚¹</span>        <span class="token comment">// æ„é€ å™¨</span>        <span class="token comment">/**         * @param length å¤§å°         * @param matrix é‚»æ¥çŸ©é˜µ         * @param vertex é¡¶ç‚¹æ•°ç»„         */</span>        <span class="token keyword">public</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token keyword">int</span> length<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> matrix<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> vertex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>vertex <span class="token operator">=</span> vertex<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>dis <span class="token operator">=</span> matrix<span class="token punctuation">;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>pre <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token comment">// å¯¹preæ•°ç»„åˆå§‹åŒ–, æ³¨æ„å­˜æ”¾çš„æ˜¯å‰é©±é¡¶ç‚¹çš„ä¸‹æ ‡</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>pre<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// æ˜¾ç¤ºpreæ•°ç»„å’Œdisæ•°ç»„</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//ä¸ºäº†æ˜¾ç¤ºä¾¿äºé˜…è¯»ï¼Œæˆ‘ä»¬ä¼˜åŒ–ä¸€ä¸‹è¾“å‡º</span>            <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> vertex <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'F'</span><span class="token punctuation">,</span> <span class="token string">'G'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> dis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">// å…ˆå°†preæ•°ç»„è¾“å‡ºçš„ä¸€è¡Œ</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> dis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>vertex<span class="token punctuation">[</span>pre<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">// è¾“å‡ºdisæ•°ç»„çš„ä¸€è¡Œæ•°æ®</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> dis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"("</span> <span class="token operator">+</span> vertex<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"åˆ°"</span> <span class="token operator">+</span> vertex<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">"çš„æœ€çŸ­è·¯å¾„æ˜¯"</span> <span class="token operator">+</span> dis<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">") "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å¼—æ´›ä¼Šå¾·ç®—æ³•, æ¯”è¾ƒå®¹æ˜“ç†è§£ï¼Œè€Œä¸”å®¹æ˜“å®ç°</span>        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">floyd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> len <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//å˜é‡ä¿å­˜è·ç¦»</span>            <span class="token comment">//å¯¹ä¸­é—´é¡¶ç‚¹éå†ï¼Œ k å°±æ˜¯ä¸­é—´é¡¶ç‚¹çš„ä¸‹æ ‡ [A, B, C, D, E, F, G]</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> dis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//</span>                <span class="token comment">//ä»ié¡¶ç‚¹å¼€å§‹å‡ºå‘ [A, B, C, D, E, F, G]</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> dis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token comment">//åˆ°è¾¾jé¡¶ç‚¹ // [A, B, C, D, E, F, G]</span>                    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> dis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        len <span class="token operator">=</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">+</span> dis<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">// => æ±‚å‡ºä»i é¡¶ç‚¹å‡ºå‘ï¼Œç»è¿‡ kä¸­é—´é¡¶ç‚¹ï¼Œåˆ°è¾¾ j é¡¶ç‚¹è·ç¦»</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">&lt;</span> dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//å¦‚æœlenå°äº dis[i][j]</span>                            dis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> len<span class="token punctuation">;</span><span class="token comment">//æ›´æ–°è·ç¦»</span>                            pre<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> pre<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//æ›´æ–°å‰é©±é¡¶ç‚¹</span>                        <span class="token punctuation">&#125;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¼—æ´›ä¼Šå¾·ç®—æ³•å’Œè¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•ä¸åŒä¹‹å¤„ï¼š</p><ul><li>è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•é€šè¿‡é€‰å®šçš„è¢«è®¿é—®é¡¶ç‚¹ï¼Œæ±‚å‡ºä»å‡ºå‘è®¿é—®é¡¶ç‚¹åˆ°å…¶ä»–é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„ï¼›</li><li>å¼—æ´›ä¼Šå¾·ç®—æ³•ä¸­æ¯ä¸€ä¸ªé¡¶ç‚¹éƒ½æ˜¯å‡ºå‘è®¿é—®ç‚¹ï¼Œæ‰€ä»¥éœ€è¦å°†æ¯ä¸€ä¸ªé¡¶ç‚¹çœ‹åšè¢«è®¿é—®é¡¶ç‚¹ï¼Œæ±‚å‡ºä»æ¯ä¸€ä¸ªé¡¶ç‚¹åˆ°å…¶ä»–é¡¶ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚</li></ul><h3 id="10-éª‘å£«å‘¨æ¸¸å›æº¯ç®—æ³•"><a href="#10-éª‘å£«å‘¨æ¸¸å›æº¯ç®—æ³•" class="headerlink" title="10.éª‘å£«å‘¨æ¸¸å›æº¯ç®—æ³•"></a>10.éª‘å£«å‘¨æ¸¸å›æº¯ç®—æ³•</h3><p><img src="https://img-blog.csdnimg.cn/b47b728effeb437ba16b7ee75522f42c.png" alt="é©¬è¸æ£‹ç›˜"></p><ul><li><p>é©¬è¸æ£‹ç›˜ç®—æ³•ä¹Ÿè¢«ç§°ä¸ºéª‘å£«å‘¨æ¸¸é—®é¢˜</p></li><li><p>å°†é©¬éšæœºæ”¾åœ¨å›½é™…è±¡æ£‹çš„8Ã—8æ£‹ç›˜Board[0ï½7][0ï½7]çš„æŸä¸ªæ–¹æ ¼ä¸­ï¼Œé©¬æŒ‰èµ°æ£‹è§„åˆ™(<strong>é©¬èµ°æ—¥å­—</strong>)è¿›è¡Œç§»åŠ¨ã€‚è¦æ±‚æ¯ä¸ªæ–¹æ ¼åªè¿›å…¥ä¸€æ¬¡ï¼Œèµ°éæ£‹ç›˜ä¸Šå…¨éƒ¨64ä¸ªæ–¹æ ¼</p></li><li><p>é©¬è¸æ£‹ç›˜é—®é¢˜(éª‘å£«å‘¨æ¸¸é—®é¢˜)å®é™…ä¸Šæ˜¯å›¾çš„æ·±åº¦ä¼˜å…ˆæœç´¢(DFS)çš„åº”ç”¨ã€‚</p></li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>tenAlgorithms</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>awt<span class="token punctuation">.</span></span><span class="token class-name">Point</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Comparator</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HorseChessboard</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token class-name">X</span><span class="token punctuation">;</span> <span class="token comment">// æ£‹ç›˜çš„åˆ—æ•°</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token class-name">Y</span><span class="token punctuation">;</span> <span class="token comment">// æ£‹ç›˜çš„è¡Œæ•°</span>    <span class="token comment">//åˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œæ ‡è®°æ£‹ç›˜çš„å„ä¸ªä½ç½®æ˜¯å¦è¢«è®¿é—®è¿‡</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> visited<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token comment">//ä½¿ç”¨ä¸€ä¸ªå±æ€§ï¼Œæ ‡è®°æ˜¯å¦æ£‹ç›˜çš„æ‰€æœ‰ä½ç½®éƒ½è¢«è®¿é—®</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> finished<span class="token punctuation">;</span> <span class="token comment">// å¦‚æœä¸ºtrue,è¡¨ç¤ºæˆåŠŸ</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"éª‘å£«å‘¨æ¸¸ç®—æ³•ï¼Œå¼€å§‹è¿è¡Œ~~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æµ‹è¯•éª‘å£«å‘¨æ¸¸ç®—æ³•æ˜¯å¦æ­£ç¡®</span>        <span class="token class-name">X</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>        <span class="token class-name">Y</span> <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> row <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//é©¬å„¿åˆå§‹ä½ç½®çš„è¡Œï¼Œä»1å¼€å§‹ç¼–å·</span>        <span class="token keyword">int</span> column <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//é©¬å„¿åˆå§‹ä½ç½®çš„åˆ—ï¼Œä»1å¼€å§‹ç¼–å·</span>        <span class="token comment">//åˆ›å»ºæ£‹ç›˜</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chessboard <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token class-name">X</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token class-name">Y</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        visited <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token class-name">X</span> <span class="token operator">*</span> <span class="token class-name">Y</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//åˆå§‹å€¼éƒ½æ˜¯false</span>        <span class="token comment">//æµ‹è¯•ä¸€ä¸‹è€—æ—¶</span>        <span class="token keyword">long</span> start <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">traversalChessboard</span><span class="token punctuation">(</span>chessboard<span class="token punctuation">,</span> row <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> column <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">long</span> end <span class="token operator">=</span> <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å…±è€—æ—¶: "</span> <span class="token operator">+</span> <span class="token punctuation">(</span>end <span class="token operator">-</span> start<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">" æ¯«ç§’"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è¾“å‡ºæ£‹ç›˜çš„æœ€åæƒ…å†µ</span>        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> rows <span class="token operator">:</span> chessboard<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> step<span class="token operator">:</span> rows<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>step <span class="token operator">+</span> <span class="token string">"\t"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å®Œæˆéª‘å£«å‘¨æ¸¸é—®é¢˜çš„ç®—æ³•     * @param chessboard æ£‹ç›˜     * @param row é©¬å„¿å½“å‰çš„ä½ç½®çš„è¡Œ ä»0å¼€å§‹     * @param column é©¬å„¿å½“å‰çš„ä½ç½®çš„åˆ—  ä»0å¼€å§‹     * @param step æ˜¯ç¬¬å‡ æ­¥ ,åˆå§‹ä½ç½®å°±æ˜¯ç¬¬1æ­¥     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">traversalChessboard</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chessboard<span class="token punctuation">,</span> <span class="token keyword">int</span> row<span class="token punctuation">,</span> <span class="token keyword">int</span> column<span class="token punctuation">,</span> <span class="token keyword">int</span> step<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        chessboard<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>column<span class="token punctuation">]</span> <span class="token operator">=</span> step<span class="token punctuation">;</span>        <span class="token comment">//row = 4 X = 8 column = 4 = 4 * 8 + 4 = 36</span>        visited<span class="token punctuation">[</span>row <span class="token operator">*</span> <span class="token class-name">X</span> <span class="token operator">+</span> column<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//æ ‡è®°è¯¥ä½ç½®å·²ç»è®¿é—®</span>        <span class="token comment">//è·å–å½“å‰ä½ç½®å¯ä»¥èµ°çš„ä¸‹ä¸€ä¸ªä½ç½®çš„é›†åˆ</span>        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Point</span><span class="token punctuation">></span></span> ps <span class="token operator">=</span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span>column<span class="token punctuation">,</span> row<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å¯¹psè¿›è¡Œæ’åº,æ’åºçš„è§„åˆ™å°±æ˜¯å¯¹psçš„æ‰€æœ‰çš„Pointå¯¹è±¡çš„ä¸‹ä¸€æ­¥çš„ä½ç½®çš„æ•°ç›®ï¼Œè¿›è¡Œéé€’å‡æ’åº</span>        <span class="token function">sort</span><span class="token punctuation">(</span>ps<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//éå† ps</span>        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>ps<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Point</span> p <span class="token operator">=</span> ps<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//å–å‡ºä¸‹ä¸€ä¸ªå¯ä»¥èµ°çš„ä½ç½®</span>            <span class="token comment">//åˆ¤æ–­è¯¥ç‚¹æ˜¯å¦å·²ç»è®¿é—®è¿‡</span>            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>visited<span class="token punctuation">[</span>p<span class="token punctuation">.</span>y <span class="token operator">*</span> <span class="token class-name">X</span> <span class="token operator">+</span> p<span class="token punctuation">.</span>x<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token comment">//è¯´æ˜è¿˜æ²¡æœ‰è®¿é—®è¿‡</span>                <span class="token function">traversalChessboard</span><span class="token punctuation">(</span>chessboard<span class="token punctuation">,</span> p<span class="token punctuation">.</span>y<span class="token punctuation">,</span> p<span class="token punctuation">.</span>x<span class="token punctuation">,</span> step <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//åˆ¤æ–­é©¬å„¿æ˜¯å¦å®Œæˆäº†ä»»åŠ¡ï¼Œä½¿ç”¨   step å’Œåº”è¯¥èµ°çš„æ­¥æ•°æ¯”è¾ƒ ï¼Œ</span>        <span class="token comment">//å¦‚æœæ²¡æœ‰è¾¾åˆ°æ•°é‡ï¼Œåˆ™è¡¨ç¤ºæ²¡æœ‰å®Œæˆä»»åŠ¡ï¼Œå°†æ•´ä¸ªæ£‹ç›˜ç½®0</span>        <span class="token comment">//è¯´æ˜: step &lt; X * Y  æˆç«‹çš„æƒ…å†µæœ‰ä¸¤ç§</span>        <span class="token comment">//1. æ£‹ç›˜åˆ°ç›®å‰ä½ç½®,ä»ç„¶æ²¡æœ‰èµ°å®Œ</span>        <span class="token comment">//2. æ£‹ç›˜å¤„äºä¸€ä¸ªå›æº¯è¿‡ç¨‹</span>        <span class="token keyword">if</span><span class="token punctuation">(</span>step <span class="token operator">&lt;</span> <span class="token class-name">X</span> <span class="token operator">*</span> <span class="token class-name">Y</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>finished <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            chessboard<span class="token punctuation">[</span>row<span class="token punctuation">]</span><span class="token punctuation">[</span>column<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            visited<span class="token punctuation">[</span>row <span class="token operator">*</span> <span class="token class-name">X</span> <span class="token operator">+</span> column<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            finished <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * åŠŸèƒ½ï¼š æ ¹æ®å½“å‰ä½ç½®(Pointå¯¹è±¡)ï¼Œè®¡ç®—é©¬å„¿è¿˜èƒ½èµ°å“ªäº›ä½ç½®(Point)ï¼Œå¹¶æ”¾å…¥åˆ°ä¸€ä¸ªé›†åˆä¸­(ArrayList), æœ€å¤šæœ‰8ä¸ªä½ç½®     * @param curPoint     * @return     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Point</span><span class="token punctuation">></span></span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token class-name">Point</span> curPoint<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//åˆ›å»ºä¸€ä¸ªArrayList</span>        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Point</span><span class="token punctuation">></span></span> ps <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Point</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//åˆ›å»ºä¸€ä¸ªPoint</span>        <span class="token class-name">Point</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è¡¨ç¤ºé©¬å„¿å¯ä»¥èµ°5è¿™ä¸ªä½ç½®</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x <span class="token operator">=</span> curPoint<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>p1<span class="token punctuation">.</span>y <span class="token operator">=</span> curPoint<span class="token punctuation">.</span>y <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ps<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//åˆ¤æ–­é©¬å„¿å¯ä»¥èµ°6è¿™ä¸ªä½ç½®</span>        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x <span class="token operator">=</span> curPoint<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">>=</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>p1<span class="token punctuation">.</span>y<span class="token operator">=</span>curPoint<span class="token punctuation">.</span>y<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token operator">>=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ps<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//åˆ¤æ–­é©¬å„¿å¯ä»¥èµ°7è¿™ä¸ªä½ç½®</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x <span class="token operator">=</span> curPoint<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token class-name">X</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>p1<span class="token punctuation">.</span>y <span class="token operator">=</span> curPoint<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ps<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//åˆ¤æ–­é©¬å„¿å¯ä»¥èµ°0è¿™ä¸ªä½ç½®</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x <span class="token operator">=</span> curPoint<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token class-name">X</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>p1<span class="token punctuation">.</span>y <span class="token operator">=</span> curPoint<span class="token punctuation">.</span>y <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ps<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//åˆ¤æ–­é©¬å„¿å¯ä»¥èµ°1è¿™ä¸ªä½ç½®</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x <span class="token operator">=</span> curPoint<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token class-name">X</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>p1<span class="token punctuation">.</span>y <span class="token operator">=</span> curPoint<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token class-name">Y</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ps<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//åˆ¤æ–­é©¬å„¿å¯ä»¥èµ°2è¿™ä¸ªä½ç½®</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x <span class="token operator">=</span> curPoint<span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token class-name">X</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>p1<span class="token punctuation">.</span>y <span class="token operator">=</span> curPoint<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token class-name">Y</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ps<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//åˆ¤æ–­é©¬å„¿å¯ä»¥èµ°3è¿™ä¸ªä½ç½®</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x <span class="token operator">=</span> curPoint<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>p1<span class="token punctuation">.</span>y <span class="token operator">=</span> curPoint<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token class-name">Y</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ps<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//åˆ¤æ–­é©¬å„¿å¯ä»¥èµ°4è¿™ä¸ªä½ç½®</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>x <span class="token operator">=</span> curPoint<span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>p1<span class="token punctuation">.</span>y <span class="token operator">=</span> curPoint<span class="token punctuation">.</span>y <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token class-name">Y</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ps<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Point</span><span class="token punctuation">(</span>p1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> ps<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ ¹æ®å½“å‰è¿™ä¸ªä¸€æ­¥çš„æ‰€æœ‰çš„ä¸‹ä¸€æ­¥çš„é€‰æ‹©ä½ç½®ï¼Œè¿›è¡Œéé€’å‡æ’åº, å‡å°‘å›æº¯çš„æ¬¡æ•°</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">sort</span><span class="token punctuation">(</span><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Point</span><span class="token punctuation">></span></span> ps<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        ps<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Point</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">Point</span> o1<span class="token punctuation">,</span> <span class="token class-name">Point</span> o2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">// TODO Auto-generated method stub</span>                <span class="token comment">//è·å–åˆ°o1çš„ä¸‹ä¸€æ­¥çš„æ‰€æœ‰ä½ç½®ä¸ªæ•°</span>                <span class="token keyword">int</span> count1 <span class="token operator">=</span> <span class="token function">next</span><span class="token punctuation">(</span>o1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//è·å–åˆ°o2çš„ä¸‹ä¸€æ­¥çš„æ‰€æœ‰ä½ç½®ä¸ªæ•°</span>                <span class="token keyword">int</span> count2 <span class="token operator">=</span> <span class="token function">next</span><span class="token punctuation">(</span>o2<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span><span class="token punctuation">(</span>count1 <span class="token operator">&lt;</span> count2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>count1 <span class="token operator">==</span> count2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„å’Œç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaæ•°æ®ç»“æ„å’Œç®—æ³•(å…­)</title>
      <link href="/2021-10-13-java-shu-ju-jie-gou-he-suan-fa-liu.html"/>
      <url>/2021-10-13-java-shu-ju-jie-gou-he-suan-fa-liu.html</url>
      
        <content type="html"><![CDATA[<h3 id="å›¾"><a href="#å›¾" class="headerlink" title=" å›¾"></a><center> å›¾</h3><ul><li>å›¾çš„è¡¨ç¤ºæ–¹å¼æœ‰ä¸¤ç§ï¼šäºŒç»´æ•°ç»„è¡¨ç¤ºï¼ˆé‚»æ¥çŸ©é˜µï¼‰ï¼›é“¾è¡¨è¡¨ç¤ºï¼ˆé‚»æ¥è¡¨ï¼‰ã€‚</li><li><font color = "red">é‚»æ¥çŸ©é˜µ</font>æ˜¯è¡¨ç¤ºå›¾å½¢ä¸­é¡¶ç‚¹ä¹‹é—´ç›¸é‚»å…³ç³»çš„çŸ©é˜µï¼Œå¯¹äºnä¸ªé¡¶ç‚¹çš„å›¾è€Œè¨€ï¼ŒçŸ©é˜µæ˜¯çš„rowå’Œcolè¡¨ç¤ºçš„æ˜¯1â€¦.nä¸ªç‚¹ã€‚ </li></ul><p><img src="https://img-blog.csdnimg.cn/87a6a3bb7a864acd96c6f55042a36a64.png" alt="é‚»æ¥çŸ©é˜µ"></p><ul><li><font color = "red">é‚»æ¥è¡¨</font>çš„å®ç°åªå…³å¿ƒå­˜åœ¨çš„è¾¹ï¼Œä¸å…³å¿ƒä¸å­˜åœ¨çš„è¾¹ã€‚å› æ­¤æ²¡æœ‰ç©ºé—´æµªè´¹ï¼Œé‚»æ¥è¡¨ç”±æ•°ç»„+é“¾è¡¨ç»„æˆ  </li></ul><p><img src="https://img-blog.csdnimg.cn/ab8291a09fb94b5fa9a08681073a7358.png" alt="é‚»æ¥è¡¨"></p><p><strong>å›¾çš„éå†</strong> : å³æ˜¯å¯¹ç»“ç‚¹çš„è®¿é—®ã€‚  </p><p><strong>å›¾çš„æ·±åº¦ä¼˜å…ˆæœç´¢(Depth First Search)</strong> ã€‚</p><p><img src="https://img-blog.csdnimg.cn/c8da20681b0044d1911c78b1a2e04fbc.png" alt="æ·±åº¦ä¼˜å…ˆéå†"></p><ul><li>æ·±åº¦ä¼˜å…ˆéå†ï¼Œä»åˆå§‹è®¿é—®ç»“ç‚¹å‡ºå‘ï¼Œåˆå§‹è®¿é—®ç»“ç‚¹å¯èƒ½æœ‰å¤šä¸ªé‚»æ¥ç»“ç‚¹ï¼Œæ·±åº¦ä¼˜å…ˆéå†çš„ç­–ç•¥å°±æ˜¯é¦–å…ˆè®¿é—®ç¬¬ä¸€ä¸ªé‚»æ¥ç»“ç‚¹ï¼Œç„¶åå†ä»¥è¿™ä¸ªè¢«è®¿é—®çš„é‚»æ¥ç»“ç‚¹ä½œä¸ºåˆå§‹ç»“ç‚¹ï¼Œè®¿é—®å®ƒçš„ç¬¬ä¸€ä¸ªé‚»æ¥ç»“ç‚¹ï¼Œ å¯ä»¥è¿™æ ·ç†è§£ï¼šæ¯æ¬¡éƒ½åœ¨è®¿é—®å®Œ<strong>å½“å‰ç»“ç‚¹</strong>åé¦–å…ˆè®¿é—®<strong>å½“å‰ç»“ç‚¹çš„ç¬¬ä¸€ä¸ªé‚»æ¥ç»“ç‚¹</strong>ã€‚</li><li>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™æ ·çš„è®¿é—®ç­–ç•¥æ˜¯ä¼˜å…ˆå¾€çºµå‘æŒ–æ˜æ·±å…¥ï¼Œè€Œä¸æ˜¯å¯¹ä¸€ä¸ªç»“ç‚¹çš„æ‰€æœ‰é‚»æ¥ç»“ç‚¹è¿›è¡Œæ¨ªå‘è®¿é—®ã€‚</li><li>æ˜¾ç„¶ï¼Œæ·±åº¦ä¼˜å…ˆæœç´¢æ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹</li></ul><p><strong>æ·±åº¦ä¼˜å…ˆéå†ç®—æ³•æ­¥éª¤</strong></p><ul><li><p>è®¿é—®åˆå§‹ç»“ç‚¹vï¼Œå¹¶æ ‡è®°ç»“ç‚¹vä¸ºå·²è®¿é—®ã€‚</p></li><li><p>æŸ¥æ‰¾ç»“ç‚¹vçš„ç¬¬ä¸€ä¸ªé‚»æ¥ç»“ç‚¹wã€‚</p></li><li><p>è‹¥wå­˜åœ¨ï¼Œåˆ™ç»§ç»­æ‰§è¡Œ4ï¼Œå¦‚æœwä¸å­˜åœ¨ï¼Œåˆ™å›åˆ°ç¬¬1æ­¥ï¼Œå°†ä»vçš„ä¸‹ä¸€ä¸ªç»“ç‚¹ç»§ç»­ã€‚</p></li><li><p>è‹¥wæœªè¢«è®¿é—®ï¼Œå¯¹wè¿›è¡Œæ·±åº¦ä¼˜å…ˆéå†é€’å½’ï¼ˆå³æŠŠwå½“åšå¦ä¸€ä¸ªvï¼Œç„¶åè¿›è¡Œæ­¥éª¤123ï¼‰ã€‚</p></li><li><p>æŸ¥æ‰¾ç»“ç‚¹vçš„wé‚»æ¥ç»“ç‚¹çš„ä¸‹ä¸€ä¸ªé‚»æ¥ç»“ç‚¹ï¼Œè½¬åˆ°æ­¥éª¤3ã€‚</p></li></ul><p><strong>å›¾çš„å¹¿åº¦ä¼˜å…ˆæœç´¢(Broad First Search)</strong> ã€‚</p><p><img src="https://img-blog.csdnimg.cn/81a67600922a4054b118d6f7f3f9c968.png" alt="å¹¿åº¦ä¼˜å…ˆéå†"></p><ul><li>ç±»ä¼¼äºä¸€ä¸ªåˆ†å±‚æœç´¢çš„è¿‡ç¨‹ï¼Œå¹¿åº¦ä¼˜å…ˆéå†éœ€è¦ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—ä»¥ä¿æŒè®¿é—®è¿‡çš„ç»“ç‚¹çš„é¡ºåºï¼Œä»¥ä¾¿æŒ‰è¿™ä¸ªé¡ºåºæ¥è®¿é—®è¿™äº›ç»“ç‚¹çš„é‚»æ¥ç»“ç‚¹</li></ul><p><strong>å¹¿åº¦ä¼˜å…ˆéå†ç®—æ³•æ­¥éª¤</strong></p><ul><li><p>è®¿é—®åˆå§‹ç»“ç‚¹vå¹¶æ ‡è®°ç»“ç‚¹vä¸ºå·²è®¿é—®ã€‚</p></li><li><p> ç»“ç‚¹vå…¥é˜Ÿåˆ—</p></li><li><p>å½“é˜Ÿåˆ—éç©ºæ—¶ï¼Œç»§ç»­æ‰§è¡Œï¼Œå¦åˆ™ç®—æ³•ç»“æŸã€‚</p></li><li><p>å‡ºé˜Ÿåˆ—ï¼Œå–å¾—é˜Ÿå¤´ç»“ç‚¹uã€‚</p></li><li><p>æŸ¥æ‰¾ç»“ç‚¹uçš„ç¬¬ä¸€ä¸ªé‚»æ¥ç»“ç‚¹wã€‚</p></li><li><p>è‹¥ç»“ç‚¹uçš„é‚»æ¥ç»“ç‚¹wä¸å­˜åœ¨ï¼Œåˆ™è½¬åˆ°æ­¥éª¤3ï¼›å¦åˆ™å¾ªç¯æ‰§è¡Œä»¥ä¸‹ä¸‰ä¸ªæ­¥éª¤ï¼š</p><ul><li>è‹¥ç»“ç‚¹wå°šæœªè¢«è®¿é—®ï¼Œåˆ™è®¿é—®ç»“ç‚¹wå¹¶æ ‡è®°ä¸ºå·²è®¿é—®ã€‚ </li><li>ç»“ç‚¹wå…¥é˜Ÿåˆ— </li><li>æŸ¥æ‰¾ç»“ç‚¹uçš„ç»§wé‚»æ¥ç»“ç‚¹åçš„ä¸‹ä¸€ä¸ªé‚»æ¥ç»“ç‚¹wï¼Œè½¬åˆ°æ­¥éª¤6ã€‚</li></ul></li></ul><p>ä»£ç å®ç°</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>graph</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">LinkedList</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/13 18:18 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Graph</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> vertexList<span class="token punctuation">;</span> <span class="token comment">//å­˜å‚¨é¡¶ç‚¹çš„é›†åˆ</span>    <span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> edges<span class="token punctuation">;</span><span class="token comment">//å­˜å‚¨å›¾å¯¹åº”çš„é‚»æ¥çŸ©é˜µ</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> numOfEdge<span class="token punctuation">;</span> <span class="token comment">// è¡¨ç¤ºè¾¹çš„æ•°ç›®</span>    <span class="token keyword">private</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span> isVisited<span class="token punctuation">;</span> <span class="token comment">//</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>        <span class="token comment">//String[] vertexs = &#123;"A", "B", "C", "D", "E"&#125;;</span>        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> vertexs <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">"1"</span><span class="token punctuation">,</span> <span class="token string">"2"</span><span class="token punctuation">,</span> <span class="token string">"3"</span><span class="token punctuation">,</span> <span class="token string">"4"</span><span class="token punctuation">,</span> <span class="token string">"5"</span><span class="token punctuation">,</span> <span class="token string">"6"</span><span class="token punctuation">,</span> <span class="token string">"7"</span><span class="token punctuation">,</span> <span class="token string">"8"</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token class-name">Graph</span> graph <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ·»åŠ é¡¶ç‚¹</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> vertex <span class="token operator">:</span> vertexs        <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            graph<span class="token punctuation">.</span><span class="token function">insertVertex</span><span class="token punctuation">(</span>vertex<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//æ·»åŠ è¾¹</span>        <span class="token comment">/*graph.insertEdge(0, 1, 1); // A-B        graph.insertEdge(0, 2, 1); // A-C        graph.insertEdge(1, 2, 1);        graph.insertEdge(1, 3, 1);        graph.insertEdge(1, 4, 1);*/</span>        graph<span class="token punctuation">.</span><span class="token function">insertEdge</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        graph<span class="token punctuation">.</span><span class="token function">insertEdge</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        graph<span class="token punctuation">.</span><span class="token function">insertEdge</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        graph<span class="token punctuation">.</span><span class="token function">insertEdge</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        graph<span class="token punctuation">.</span><span class="token function">insertEdge</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        graph<span class="token punctuation">.</span><span class="token function">insertEdge</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        graph<span class="token punctuation">.</span><span class="token function">insertEdge</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        graph<span class="token punctuation">.</span><span class="token function">insertEdge</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        graph<span class="token punctuation">.</span><span class="token function">insertEdge</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        graph<span class="token punctuation">.</span><span class="token function">showGarph</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ·±åº¦ä¼˜å…ˆéå†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        graph<span class="token punctuation">.</span><span class="token function">dfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å¹¿åº¦ä¼˜å…ˆéå†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        graph<span class="token punctuation">.</span><span class="token function">bfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">Graph</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        edges <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">;</span>        vertexList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>        numOfEdge <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å¾—åˆ°ç¬¬ä¸€ä¸ªé‚»æ¥ç‚¹çš„ä¸‹æ ‡</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getFirstNeighbor</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vertexList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>edges<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> i<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ ¹æ®å‰ä¸€ä¸ªé‚»æ¥ç»“ç‚¹çš„ä¸‹æ ‡æ¥è·å–ä¸‹ä¸€ä¸ªé‚»æ¥ç»“ç‚¹</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getNextNeighbor</span><span class="token punctuation">(</span><span class="token keyword">int</span> v1<span class="token punctuation">,</span> <span class="token keyword">int</span> v2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> v2 <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> vertexList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>edges<span class="token punctuation">[</span>v1<span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> i<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ·±åº¦ä¼˜å…ˆéå† i ç¬¬ä¸€æ¬¡æ˜¯0</span>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span> isVisited<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">getValByIndex</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"->"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        isVisited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> w <span class="token operator">=</span> <span class="token function">getFirstNeighbor</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>w <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isVisited<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//è¯´æ˜æœ‰</span>                <span class="token function">dfs</span><span class="token punctuation">(</span>isVisited<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">//å¦‚æœwç»“ç‚¹å·²ç»è¢«è®¿é—®è¿‡</span>            w <span class="token operator">=</span> <span class="token function">getNextNeighbor</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å¯¹dfsé‡è½½ éå†æ‰€æœ‰çš„ç»“ç‚¹</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">dfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        isVisited <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span>vertexList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">getNumOfVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isVisited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token function">dfs</span><span class="token punctuation">(</span>isVisited<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å¹¿åº¦ä¼˜å…ˆéå†</span>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">bfs</span><span class="token punctuation">(</span><span class="token keyword">boolean</span><span class="token punctuation">[</span><span class="token punctuation">]</span> isVisited<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> u<span class="token punctuation">;</span> <span class="token comment">//é˜Ÿåˆ—å¤´ç»“ç‚¹å¯¹åº”çš„ä¸‹æ ‡</span>        <span class="token keyword">int</span> w<span class="token punctuation">;</span> <span class="token comment">//é‚»æ¥ç‚¹w</span>        <span class="token comment">//è®°å½•ç»“ç‚¹è®¿é—®é¡ºåº</span>        <span class="token class-name">LinkedList</span> linkedList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">getValByIndex</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"->"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        isVisited<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        linkedList<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>linkedList<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//å–å‡ºé˜Ÿåˆ—å¤´ç»“ç‚¹çš„ä¸‹æ ‡</span>            u <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span> linkedList<span class="token punctuation">.</span><span class="token function">removeFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">// å¾—åˆ°ç¬¬ä¸€ä¸ªé‚»æ¥ç»“ç‚¹çš„ä¸‹æ ‡</span>            w <span class="token operator">=</span> <span class="token function">getFirstNeighbor</span><span class="token punctuation">(</span>u<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>w <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isVisited<span class="token punctuation">[</span>w<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token function">getValByIndex</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"->"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    isVisited<span class="token punctuation">[</span>w<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                    linkedList<span class="token punctuation">.</span><span class="token function">addLast</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token comment">//ä»¥uä¸ºå‰é©±ç»“ç‚¹,æ‰¾wåé¢çš„ä¸‹ä¸€ä¸ªé‚»æ¥ç»“ç‚¹</span>                w <span class="token operator">=</span> <span class="token function">getNextNeighbor</span><span class="token punctuation">(</span>u<span class="token punctuation">,</span> w<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//ä½“ç°å‡ºå¹¿åº¦ä¼˜å…ˆ</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//bfsé‡è½½ éå†æ‰€æœ‰çš„ç»“ç‚¹</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">bfs</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        isVisited <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">boolean</span><span class="token punctuation">[</span>vertexList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token function">getNumOfVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>isVisited<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token function">bfs</span><span class="token punctuation">(</span>isVisited<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//è¿”å›èŠ‚ç‚¹çš„ä¸ªæ•°</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getNumOfVertex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> vertexList<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//è¿”å›è¾¹çš„ä¸ªæ•°</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getNumOfEdge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> numOfEdge<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//è¿”å›ç»“ç‚¹i(ä¸‹æ ‡)å¯¹åº”çš„æ•°æ®</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getValByIndex</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> vertexList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//è¿”å›v1 v2çš„æƒå€¼</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getWeight</span><span class="token punctuation">(</span><span class="token keyword">int</span> v1<span class="token punctuation">,</span> <span class="token keyword">int</span> v2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> edges<span class="token punctuation">[</span>v1<span class="token punctuation">]</span><span class="token punctuation">[</span>v2<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ’å…¥èŠ‚ç‚¹</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">insertVertex</span><span class="token punctuation">(</span><span class="token class-name">String</span> vertex<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        vertexList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>vertex<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ·»åŠ è¾¹</span>    <span class="token comment">/**     * @param v1     è¡¨ç¤ºç‚¹çš„ä¸‹æ ‡å³æ˜¯ç¬¬å‡ ä¸ªé¡¶ç‚¹     * @param v2     ç¬¬äºŒä¸ªé¡¶ç‚¹å¯¹åº”çš„ä¸‹æ ‡     * @param weight     */</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">insertEdge</span><span class="token punctuation">(</span><span class="token keyword">int</span> v1<span class="token punctuation">,</span> <span class="token keyword">int</span> v2<span class="token punctuation">,</span> <span class="token keyword">int</span> weight<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        edges<span class="token punctuation">[</span>v1<span class="token punctuation">]</span><span class="token punctuation">[</span>v2<span class="token punctuation">]</span> <span class="token operator">=</span> weight<span class="token punctuation">;</span>        edges<span class="token punctuation">[</span>v2<span class="token punctuation">]</span><span class="token punctuation">[</span>v1<span class="token punctuation">]</span> <span class="token operator">=</span> weight<span class="token punctuation">;</span>        numOfEdge<span class="token operator">++</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ˜¾ç¤ºå›¾å¯¹åº”çš„çŸ©é˜µ</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">showGarph</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> link <span class="token operator">:</span> edges        <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>link<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">]</span>æ·±åº¦ä¼˜å…ˆéå†<span class="token number">1</span><span class="token operator">-></span><span class="token number">2</span><span class="token operator">-></span><span class="token number">4</span><span class="token operator">-></span><span class="token number">8</span><span class="token operator">-></span><span class="token number">5</span><span class="token operator">-></span><span class="token number">3</span><span class="token operator">-></span><span class="token number">6</span><span class="token operator">-></span><span class="token number">7</span><span class="token operator">-></span>å¹¿åº¦ä¼˜å…ˆéå†<span class="token number">1</span><span class="token operator">-></span><span class="token number">2</span><span class="token operator">-></span><span class="token number">3</span><span class="token operator">-></span><span class="token number">4</span><span class="token operator">-></span><span class="token number">5</span><span class="token operator">-></span><span class="token number">6</span><span class="token operator">-></span><span class="token number">7</span><span class="token operator">-></span><span class="token number">8</span><span class="token operator">-></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/0aad0e90501848ab902885bc5c938795.png" alt="å›¾ä¾‹ç¤ºæ„å›¾"></p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„å’Œç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®ç»“æ„å’Œç®—æ³•(äº”)</title>
      <link href="/2021-10-04-java-shu-ju-jie-gou-he-suan-fa-wu.html"/>
      <url>/2021-10-04-java-shu-ju-jie-gou-he-suan-fa-wu.html</url>
      
        <content type="html"><![CDATA[<h3 id="å“ˆå¸Œè¡¨"><a href="#å“ˆå¸Œè¡¨" class="headerlink" title="å“ˆå¸Œè¡¨"></a><center>å“ˆå¸Œè¡¨</h3><p><a href="https://baike.baidu.com/item/%E6%95%A3%E5%88%97%E8%A1%A8">æ•£åˆ—è¡¨</a>ï¼ˆHash tableï¼Œä¹Ÿå«å“ˆå¸Œè¡¨ï¼‰ï¼Œæ˜¯æ ¹æ®å…³é”®ç å€¼(Key value)è€Œç›´æ¥è¿›è¡Œè®¿é—®çš„<a href="https://baike.baidu.com/item/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/1450">æ•°æ®ç»“æ„</a>ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒé€šè¿‡æŠŠå…³é”®ç å€¼æ˜ å°„åˆ°è¡¨ä¸­ä¸€ä¸ªä½ç½®æ¥è®¿é—®è®°å½•ï¼Œä»¥åŠ å¿«æŸ¥æ‰¾çš„é€Ÿåº¦ã€‚è¿™ä¸ªæ˜ å°„å‡½æ•°å«åš<a href="https://baike.baidu.com/item/%E6%95%A3%E5%88%97%E5%87%BD%E6%95%B0">æ•£åˆ—å‡½æ•°</a>ï¼Œå­˜æ”¾è®°å½•çš„<a href="https://baike.baidu.com/item/%E6%95%B0%E7%BB%84">æ•°ç»„</a>å«åš<a href="https://baike.baidu.com/item/%E6%95%A3%E5%88%97%E8%A1%A8">æ•£åˆ—</a><a href="https://baike.baidu.com/item/%E6%95%A3%E5%88%97%E8%A1%A8">è¡¨</a>ã€‚</p><p><img src="https://img-blog.csdnimg.cn/8da387b5838d422bb77303cf7f51944f.jpg" alt="hashttableç¤ºæ„å›¾"></p><p>æœ‰ä¸€ä¸ªå…¬å¸,å½“æœ‰æ–°çš„å‘˜å·¥æ¥æŠ¥é“æ—¶,è¦æ±‚å°†è¯¥å‘˜å·¥çš„ä¿¡æ¯åŠ å…¥(id,æ€§åˆ«,å¹´é¾„,åå­—,ä½å€..),å½“è¾“å…¥è¯¥å‘˜å·¥çš„idæ—¶,è¦æ±‚æŸ¥æ‰¾åˆ°è¯¥å‘˜å·¥çš„ æ‰€æœ‰ä¿¡æ¯</p><p>ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>hashTab</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/4 21:29 */</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span><span class="token punctuation">;</span><span class="token comment">/** * ç”¨hashtableå­˜æ”¾é›‡å‘˜ä¿¡æ¯ */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HashTableDemo</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        hashTab hashTab <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">hashTab</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> key <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"add: æ·»åŠ é›‡å‘˜"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"list: æ˜¾ç¤ºé›‡å‘˜"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"find: æŸ¥æ‰¾é›‡å‘˜"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"exit: é€€å‡ºç³»ç»Ÿ "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            key <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">switch</span> <span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">case</span> <span class="token string">"add"</span><span class="token operator">:</span>                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¾“å…¥id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">int</span> id <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¾“å…¥åå­—"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token class-name">String</span> name <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token class-name">Emp</span> emp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Emp</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> name<span class="token punctuation">)</span><span class="token punctuation">;</span>                    hashTab<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>emp<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">"list"</span><span class="token operator">:</span>                    hashTab<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">"find"</span><span class="token operator">:</span>                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¾“å…¥id"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    id <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    hashTab<span class="token punctuation">.</span><span class="token function">findEmpById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">"exit"</span><span class="token operator">:</span>                    scanner<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">exit</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">default</span><span class="token operator">:</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> hashTab <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">EmpLinkedList</span><span class="token punctuation">[</span><span class="token punctuation">]</span> empLinkedListArray<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> size<span class="token punctuation">;</span> <span class="token comment">//å…±æœ‰å¤šå°‘æ¡é“¾è¡¨</span>    <span class="token comment">//æ„é€ å™¨</span>    <span class="token keyword">public</span> <span class="token function">hashTab</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> size<span class="token punctuation">;</span>        empLinkedListArray <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EmpLinkedList</span><span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">//æ²¡è¿™ä¸€æ­¥ä¼šæŠ¥ NullPointerException  éœ€è¦åˆå§‹åŒ–é“¾è¡¨</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            empLinkedListArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EmpLinkedList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ·»åŠ é›‡å‘˜</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Emp</span> emp<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//æ ¹æ®å‘˜å·¥id,å¾—åˆ°å‘˜å·¥åº”è¯¥æ·»åŠ åˆ°å“ªæ¡é“¾è¡¨</span>        <span class="token keyword">int</span> empLinkedListNo <span class="token operator">=</span> <span class="token function">hashFun</span><span class="token punctuation">(</span>emp<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å°† emp æ”¾åˆ°å¯¹åº”çš„é“¾è¡¨ä¸­</span>        empLinkedListArray<span class="token punctuation">[</span>empLinkedListNo<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>emp<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//éå†æ‰€æœ‰çš„é“¾è¡¨</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            empLinkedListArray<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ ¹æ®idæŸ¥æ‰¾é›‡å‘˜</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">findEmpById</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//ä½¿ç”¨æ•£åˆ—å‡½æ•°ç¡®å®šå“ªæ¡é“¾è¡¨æŸ¥æ‰¾</span>        <span class="token keyword">int</span> empLinkedListNo <span class="token operator">=</span> <span class="token function">hashFun</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Emp</span> emp <span class="token operator">=</span> empLinkedListArray<span class="token punctuation">[</span>empLinkedListNo<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">findEmpById</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>emp<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">//æ‰¾åˆ°</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"åœ¨ç¬¬%dæ¡é“¾è¡¨ä¸­æ‰¾åˆ°é›‡å‘˜id = %d\n"</span><span class="token punctuation">,</span><span class="token punctuation">(</span>empLinkedListNo<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token comment">//æ²¡æ‰¾åˆ°</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åœ¨hashè¡¨ä¸­æ²¡æœ‰æ‰¾åˆ°è¯¥é›‡å‘˜"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ç¼–å†™æ•£åˆ—å‡½æ•°,ä½¿ç”¨ç®€å•çš„å–æ¨¡æ³•</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashFun</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> id <span class="token operator">%</span> size<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//è¡¨ç¤ºä¸€ä¸ªé›‡å‘˜</span><span class="token keyword">class</span> <span class="token class-name">Emp</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> id<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">Emp</span> next<span class="token punctuation">;</span><span class="token comment">//é»˜è®¤ä¸ºnull</span>    <span class="token keyword">public</span> <span class="token class-name">Emp</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>id <span class="token operator">=</span> id<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//åˆ›å»ºEmpLinkedList,è¡¨ç¤ºé“¾è¡¨</span><span class="token keyword">class</span> <span class="token class-name">EmpLinkedList</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//å¤´ç»“ç‚¹</span>    <span class="token keyword">private</span> <span class="token class-name">Emp</span> head<span class="token punctuation">;</span> <span class="token comment">// é»˜è®¤null</span>    <span class="token comment">//æ·»åŠ é›‡å‘˜åˆ°é“¾è¡¨</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Emp</span> emp<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//å¦‚æœæ˜¯æ·»åŠ ç¬¬ä¸€ä¸ªé›‡å‘˜</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>head <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            head <span class="token operator">=</span> emp<span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å¦‚æœä¸æ˜¯ç¬¬ä¸€ä¸ªé›‡å‘˜,åˆ™ä½¿ç”¨ä¸€ä¸ªè¾…åŠ©æŒ‡é’ˆ,å¸®åŠ©å®šä½åˆ°æœ€å</span>        <span class="token class-name">Emp</span> curEmp <span class="token operator">=</span> head<span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>curEmp<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            curEmp <span class="token operator">=</span> curEmp<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//é€€å‡ºæ—¶ç›´æ¥å°†emp åŠ å…¥é“¾è¡¨</span>        curEmp<span class="token punctuation">.</span>next <span class="token operator">=</span> emp<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//éå†é“¾è¡¨çš„é›‡å‘˜ä¿¡æ¯</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>head <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç¬¬"</span> <span class="token operator">+</span> no <span class="token operator">+</span> <span class="token string">"é“¾è¡¨ä¸ºç©º"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">"ç¬¬"</span> <span class="token operator">+</span> no <span class="token operator">+</span> <span class="token string">"é“¾è¡¨ä¿¡æ¯ä¸º"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Emp</span> curEmp <span class="token operator">=</span> head<span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"=> id = %d name = %s\t"</span><span class="token punctuation">,</span> curEmp<span class="token punctuation">.</span>id<span class="token punctuation">,</span> curEmp<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>curEmp<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            curEmp <span class="token operator">=</span> curEmp<span class="token punctuation">.</span>next<span class="token punctuation">;</span><span class="token comment">//åç§» éå†</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ ¹æ®idæŸ¥æ‰¾é›‡å‘˜</span>    <span class="token keyword">public</span> <span class="token class-name">Emp</span> <span class="token function">findEmpById</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>head <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"é“¾è¡¨ä¸ºç©º"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//è¾…åŠ©æŒ‡é’ˆ</span>        <span class="token class-name">Emp</span> curEmp <span class="token operator">=</span> head<span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>curEmp<span class="token punctuation">.</span>id <span class="token operator">==</span> id<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">//æ‰¾åˆ°äº†</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">//é€€å‡º</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>curEmp<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">//æ²¡æ‰¾åˆ°è¯¥é›‡å‘˜</span>                curEmp <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            curEmp <span class="token operator">=</span> curEmp<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> curEmp<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ ‘"><a href="#æ ‘" class="headerlink" title="æ ‘"></a><center>æ ‘</h3><p><font color="blue">ä¸ºä»€ä¹ˆéœ€è¦æ ‘è¿™ç§æ•°æ®ç»“æ„?</font></p><ul><li><p>æ•°ç»„å­˜å‚¨æ–¹å¼çš„åˆ†æ:</p><ul><li>ä¼˜ç‚¹ï¼šé€šè¿‡ä¸‹æ ‡æ–¹å¼è®¿é—®å…ƒç´ ï¼Œé€Ÿåº¦å¿«ã€‚å¯¹äºæœ‰åºæ•°ç»„ï¼Œè¿˜å¯ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æé«˜æ£€ç´¢é€Ÿåº¦ã€‚</li><li>ç¼ºç‚¹ï¼šå¦‚æœè¦æ£€ç´¢å…·ä½“æŸä¸ªå€¼ï¼Œæˆ–è€…æ’å…¥å€¼(æŒ‰ä¸€å®šé¡ºåº)ä¼šæ•´ä½“ç§»åŠ¨ï¼Œæ•ˆç‡è¾ƒä½</li></ul></li><li><p>é“¾å¼å­˜å‚¨æ–¹å¼çš„åˆ†æ</p><ul><li>ä¼˜ç‚¹ï¼šåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯¹æ•°ç»„å­˜å‚¨æ–¹å¼æœ‰ä¼˜åŒ–(æ¯”å¦‚ï¼šæ’å…¥ä¸€ä¸ªæ•°å€¼èŠ‚ç‚¹ï¼Œåªéœ€è¦å°†æ’å…¥èŠ‚ç‚¹ï¼Œé“¾æ¥åˆ°é“¾è¡¨ä¸­å³å¯ï¼Œ åˆ é™¤æ•ˆç‡ä¹Ÿå¾ˆå¥½)ã€‚</li><li>ç¼ºç‚¹ï¼šåœ¨è¿›è¡Œæ£€ç´¢æ—¶ï¼Œæ•ˆç‡ä»ç„¶è¾ƒä½ï¼Œæ¯”å¦‚(æ£€ç´¢æŸä¸ªå€¼ï¼Œéœ€è¦ä»å¤´èŠ‚ç‚¹å¼€å§‹éå†)</li></ul></li><li><p>æ ‘å­˜å‚¨æ–¹å¼çš„åˆ†æèƒ½æé«˜æ•°æ®å­˜å‚¨ï¼Œè¯»å–çš„æ•ˆç‡,  æ¯”å¦‚åˆ©ç”¨ äºŒå‰æ’åºæ ‘(Binary Sort Tree)ï¼Œæ—¢å¯ä»¥ä¿è¯æ•°æ®çš„æ£€ç´¢é€Ÿåº¦ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥ä¿è¯æ•°æ®çš„æ’å…¥ï¼Œåˆ é™¤ï¼Œä¿®æ”¹çš„é€Ÿåº¦ã€‚</p><ul><li>æ¡ˆä¾‹: ã€9ï¼Œ13ï¼Œ15ï¼Œ17ï¼Œ18ï¼Œ25ï¼Œ27ï¼Œ29ï¼Œ34ã€‘</li></ul></li></ul><h3 id="1-äºŒå‰æ ‘"><a href="#1-äºŒå‰æ ‘" class="headerlink" title="1. äºŒå‰æ ‘"></a>1. äºŒå‰æ ‘</h3><ul><li><p>äºŒå‰æ ‘çš„æ¦‚å¿µ</p><ul><li><p>æ ‘æœ‰å¾ˆå¤šç§ï¼Œæ¯ä¸ªèŠ‚ç‚¹<strong>æœ€å¤šåªèƒ½æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹</strong>çš„ä¸€ç§å½¢å¼ç§°ä¸ºäºŒå‰æ ‘ã€‚</p></li><li><p>äºŒå‰æ ‘çš„å­èŠ‚ç‚¹åˆ†ä¸ºå·¦èŠ‚ç‚¹å’Œå³èŠ‚ç‚¹ã€‚</p></li><li><p>å¦‚æœè¯¥äºŒå‰æ ‘çš„<strong>æ‰€æœ‰</strong>å¶å­èŠ‚ç‚¹éƒ½åœ¨æœ€åä¸€å±‚**ï¼Œå¹¶ä¸”ç»“ç‚¹æ€»æ•°= 2^n -1 , n ä¸ºå±‚æ•°ï¼Œåˆ™æˆ‘ä»¬ç§°ä¸ºæ»¡äºŒå‰æ ‘ã€‚</p></li><li><p>å¦‚æœè¯¥äºŒå‰æ ‘çš„æ‰€æœ‰å¶å­èŠ‚ç‚¹éƒ½åœ¨æœ€åä¸€å±‚æˆ–è€…å€’æ•°ç¬¬äºŒå±‚ï¼Œè€Œä¸”æœ€åä¸€å±‚çš„å¶å­èŠ‚ç‚¹åœ¨å·¦è¾¹è¿ç»­ï¼Œå€’æ•°ç¬¬äºŒå±‚çš„å¶å­èŠ‚ç‚¹åœ¨å³è¾¹è¿ç»­ï¼Œæˆ‘ä»¬ç§°ä¸ºå®Œå…¨äºŒå‰æ ‘ã€‚</p></li></ul></li></ul><p><img src="https://img-blog.csdnimg.cn/7a39a66a17c042f78d74cd3f9e287e5d.jpg" alt="äºŒå‰æ ‘ç»“æ„ç¤ºæ„å›¾"></p><p><font color="red">äºŒå‰æ ‘éå†è¯´æ˜ï¼š</font></p><p>å‰åºéå†: <strong>å…ˆè¾“å‡ºçˆ¶èŠ‚ç‚¹</strong>ï¼Œå†éå†å·¦å­æ ‘å’Œå³å­æ ‘</p><p>ä¸­åºéå†: å…ˆéå†å·¦å­æ ‘ï¼Œ<strong>å†è¾“å‡ºçˆ¶èŠ‚ç‚¹</strong>ï¼Œå†éå†å³å­æ ‘</p><p>ååºéå†: å…ˆéå†å·¦å­æ ‘ï¼Œå†éå†å³å­æ ‘ï¼Œ<strong>æœ€åè¾“å‡ºçˆ¶èŠ‚ç‚¹</strong></p><p><strong>å°ç»“</strong>: çœ‹è¾“å‡ºçˆ¶èŠ‚ç‚¹çš„é¡ºåºï¼Œå°±ç¡®å®šæ˜¯å‰åºï¼Œ è¿˜æ˜¯ååº</p><p><strong>å‰åºæŸ¥æ‰¾æ€è·¯</strong></p><ul><li>å…ˆåˆ¤æ–­å½“å‰ç»“ç‚¹çš„noæ˜¯å¦ç­‰äºè¦æŸ¥æ‰¾çš„</li><li>å¦‚æœæ˜¯ç›¸ç­‰ï¼Œåˆ™è¿”å›å½“å‰ç»“ç‚¹</li><li>å¦‚æœä¸ç­‰ï¼Œåˆ™åˆ¤æ–­å½“å‰ç»“ç‚¹çš„å·¦å­èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™é€’å½’å‰åºæŸ¥æ‰¾</li><li>å¦‚æœå·¦é€’å½’å‰åºæŸ¥æ‰¾ï¼Œæ‰¾åˆ°ç»“ç‚¹ï¼Œåˆ™è¿”å›ï¼Œå¦ç»§ç»­åˆ¤æ–­,å½“å‰çš„ç»“ç‚¹çš„å³å­èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ç©ºï¼Œåˆ™ç»§ç»­å‘å³é€’å½’</li></ul><p><strong>ä¸­åºæŸ¥æ‰¾æ€è·¯</strong></p><ul><li>åˆ¤æ–­å½“å‰ç»“ç‚¹çš„å·¦å­èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™é€’å½’ä¸­åºæŸ¥æ‰¾</li><li>å¦‚æœæ‰¾åˆ°ï¼Œåˆ™è¿”å›ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±å’Œå½“å‰ç»“ç‚¹æ¯”è¾ƒï¼Œå¦‚æœæ˜¯åˆ™è¿”å›å½“å‰ç»“ç‚¹ï¼Œå¦åˆ™ç»§ç»­è¿›è¡Œå³é€’å½’çš„ä¸­åºæŸ¥æ‰¾</li><li>å¦‚æœå³é€’å½’ä¸­åºæŸ¥æ‰¾ï¼Œæ‰¾åˆ°å°±è¿”å›ï¼Œå¦åˆ™è¿”å›null</li></ul><p><strong>ååºæŸ¥æ‰¾æ€è·¯</strong></p><ul><li>åˆ¤æ–­å½“å‰ç»“ç‚¹çš„å·¦å­èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™é€’å½’ååºæŸ¥æ‰¾</li><li>å¦‚æœæ‰¾åˆ°ï¼Œå°±è¿”å›ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±åˆ¤æ–­å½“å‰ç»“ç‚¹çš„å³å­èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™å³é€’å½’è¿›è¡ŒååºæŸ¥æ‰¾å¦‚æœæ‰¾åˆ°ï¼Œå°±è¿”å›</li><li>å°±å’Œå½“å‰ç»“ç‚¹è¿›è¡Œï¼Œæ¯”å¦‚ï¼Œå¦‚æœæ˜¯åˆ™è¿”å›ï¼Œå¦åˆ™è¿”å›null</li></ul><p><strong>åˆ é™¤èŠ‚ç‚¹</strong></p><ul><li>å¦‚æœåˆ é™¤çš„èŠ‚ç‚¹æ˜¯å¶å­ç»“ç‚¹,åˆ™åˆ é™¤è¯¥ç»“ç‚¹</li><li>å¦‚æœåˆ é™¤çš„èŠ‚ç‚¹æ˜¯éå¶å­ç»“ç‚¹,åˆ™åˆ é™¤è¯¥å­æ ‘</li><li>æ€è·¯:<ul><li>å¦‚æœæ ‘æ˜¯ç©ºæ ‘root,å¦‚æœåªæœ‰ä¸€ä¸ªrootç»“ç‚¹,åˆ™ç­‰ä»·å°†äºŒå‰æ ‘æ¸…ç©º</li><li>å› ä¸ºæˆ‘ä»¬çš„äºŒå‰æ ‘æ˜¯å•å‘çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æ˜¯åˆ¤æ–­<font color="red">å½“å‰ç»“ç‚¹çš„å­ç»“ç‚¹</font>æ˜¯æ¥éœ€è¦åˆ é™¤ç»“ç‚¹ï¼Œè€Œä¸èƒ½å»åˆ¤æ–­å½“å‰è¿™ä¸ªç»“ç‚¹æ˜¯ä¸æ˜¯éœ€è¦åˆ é™¤ç»“ç‚¹.</li><li>å¦‚æœå½“å‰ç»“ç‚¹çš„å·¦å­ç»“ç‚¹ä¸ä¸ºç©ºï¼Œå¹¶ä¸”å·¦å­ç»“ç‚¹å°±æ˜¯è¦åˆ é™¤ç»“ç‚¹ï¼Œå°±å°†thisleft=null;å¹¶ä¸”å°±è¿”å›(ç»“æŸé€’å½’åˆ é™¤)</li><li>å¦‚æœå½“å‰ç»“ç‚¹çš„å³å­ç»“ç‚¹ä¸ä¸ºç©ºï¼Œå¹¶ä¸”å³å­ç»“ç‚¹å°±æ˜¯è¦åˆ é™¤ç»“ç‚¹ï¼Œå°±å°†this.right= null;å¹¶ä¸”å°±è¿”å›(ç»“æŸé€’å½’åˆ é™¤)</li><li>å¦‚æœç¬¬2å’Œç¬¬3æ­¥æ²¡æœ‰åˆ é™¤ç»“ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦å‘å·¦å­æ ‘è¿›è¡Œé€’å½’åˆ é™¤</li><li>å¦‚æœç¬¬4æ­¥ä¹Ÿæ²¡æœ‰åˆ é™¤ç»“ç‚¹ï¼Œåˆ™åº”å½“å‘å³å­æ ‘è¿›è¡Œé€’å½’åˆ é™¤.</li></ul></li></ul><p>ä»£ç å®ç°</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>tree</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/5 12:56 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BinaryTreeDemo</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//åˆ›å»ºä¸€é¢—äºŒå‰æ ‘</span>        <span class="token class-name">BinaryTree</span> binaryTree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BinaryTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode</span> root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"æ˜“"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode</span> node2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"è‰¾å¸Œ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode</span> node3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"å¥¶å¦ˆ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode</span> node4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"è›®ç‹"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode</span> node5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">"éœ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ‰‹åŠ¨åˆ›å»ºäºŒå‰æ ‘</span>        root<span class="token punctuation">.</span><span class="token function">setLeft</span><span class="token punctuation">(</span>node2<span class="token punctuation">)</span><span class="token punctuation">;</span>        root<span class="token punctuation">.</span><span class="token function">setRight</span><span class="token punctuation">(</span>node3<span class="token punctuation">)</span><span class="token punctuation">;</span>        node3<span class="token punctuation">.</span><span class="token function">setRight</span><span class="token punctuation">(</span>node4<span class="token punctuation">)</span><span class="token punctuation">;</span>        node3<span class="token punctuation">.</span><span class="token function">setLeft</span><span class="token punctuation">(</span>node5<span class="token punctuation">)</span><span class="token punctuation">;</span>        binaryTree<span class="token punctuation">.</span><span class="token function">setRoot</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æµ‹è¯•éå†</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å‰åºéå†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        binaryTree<span class="token punctuation">.</span><span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸­åºéå†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        binaryTree<span class="token punctuation">.</span><span class="token function">infixOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ååºéå†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        binaryTree<span class="token punctuation">.</span><span class="token function">postOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æµ‹è¯•æŸ¥æ‰¾</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å‰åºæŸ¥æ‰¾"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode</span> resnode <span class="token operator">=</span> binaryTree<span class="token punctuation">.</span><span class="token function">preOrderSearch</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>resnode <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æ‰¾åˆ°äº†,ä¿¡æ¯ä¸º no=%d name=%s"</span><span class="token punctuation">,</span> resnode<span class="token punctuation">.</span><span class="token function">getNo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> resnode<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æ²¡æœ‰æ‰¾åˆ° no = %d çš„è‹±é›„"</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸­åºæŸ¥æ‰¾"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode</span> resnode2 <span class="token operator">=</span> binaryTree<span class="token punctuation">.</span><span class="token function">preOrderSearch</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>resnode2 <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æ‰¾åˆ°äº†,ä¿¡æ¯ä¸º no=%d name=%s"</span><span class="token punctuation">,</span> resnode2<span class="token punctuation">.</span><span class="token function">getNo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> resnode2<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æ²¡æœ‰æ‰¾åˆ° no = %d çš„è‹±é›„"</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ååºæŸ¥æ‰¾"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode</span> resnode3 <span class="token operator">=</span> binaryTree<span class="token punctuation">.</span><span class="token function">preOrderSearch</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>resnode3 <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æ‰¾åˆ°äº†,ä¿¡æ¯ä¸º no=%d name=%s"</span><span class="token punctuation">,</span> resnode3<span class="token punctuation">.</span><span class="token function">getNo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> resnode3<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æ²¡æœ‰æ‰¾åˆ° no = %d çš„è‹±é›„"</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//åˆ é™¤èŠ‚ç‚¹</span>        binaryTree<span class="token punctuation">.</span><span class="token function">delNode</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åˆ é™¤èŠ‚ç‚¹"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        binaryTree<span class="token punctuation">.</span><span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//å®šä¹‰BinaryTree äºŒå‰æ ‘</span><span class="token keyword">class</span> <span class="token class-name">BinaryTree</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">HeroNode</span> root<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setRoot</span><span class="token punctuation">(</span><span class="token class-name">HeroNode</span> root<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> root<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å‰åºéå†</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">.</span><span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"äºŒå‰æ ‘ä¸ºç©º,æ— æ³•éå†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ä¸­åºéå†</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">infixOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">.</span><span class="token function">infixOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"äºŒå‰æ ‘ä¸ºç©º,æ— æ³•éå†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ååºéå†</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>root<span class="token punctuation">.</span><span class="token function">postOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"äºŒå‰æ ‘ä¸ºç©º,æ— æ³•éå†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å‰åºæŸ¥æ‰¾</span>    <span class="token keyword">public</span> <span class="token class-name">HeroNode</span> <span class="token function">preOrderSearch</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> root<span class="token punctuation">.</span><span class="token function">preOrderSearch</span><span class="token punctuation">(</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ä¸­åºæŸ¥æ‰¾</span>    <span class="token keyword">public</span> <span class="token class-name">HeroNode</span> <span class="token function">infixOrderSearch</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> root<span class="token punctuation">.</span><span class="token function">infixOrderSearch</span><span class="token punctuation">(</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ååºæŸ¥æ‰¾</span>    <span class="token keyword">public</span> <span class="token class-name">HeroNode</span> <span class="token function">postOrderSearch</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> root<span class="token punctuation">.</span><span class="token function">postOrderSearch</span><span class="token punctuation">(</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//åˆ é™¤èŠ‚ç‚¹</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">delNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span><span class="token function">getNo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> no<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                root <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                root<span class="token punctuation">.</span><span class="token function">delNode</span><span class="token punctuation">(</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç©ºæ ‘,ä¸èƒ½åˆ é™¤~~~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//åˆ›å»ºHeroNode èŠ‚ç‚¹</span><span class="token keyword">class</span> <span class="token class-name">HeroNode</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> no<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">HeroNode</span> left<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">HeroNode</span> right<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>no <span class="token operator">=</span> no<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getNo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> no<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setNo</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>no <span class="token operator">=</span> no<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> name<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">HeroNode</span> <span class="token function">getLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> left<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setLeft</span><span class="token punctuation">(</span><span class="token class-name">HeroNode</span> left<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">=</span> left<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">HeroNode</span> <span class="token function">getRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> right<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setRight</span><span class="token punctuation">(</span><span class="token class-name">HeroNode</span> right<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">=</span> right<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"HeroNode&#123;"</span> <span class="token operator">+</span>                <span class="token string">"no="</span> <span class="token operator">+</span> no <span class="token operator">+</span>                <span class="token string">", name='"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>                <span class="token string">'&#125;'</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ç¼–å†™å‰åºéå†</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¾“å‡ºçˆ¶èŠ‚ç‚¹</span>        <span class="token comment">//é€’å½’å‘å·¦å­æ ‘å‰åºéå†</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//é€’å½’å‘å³å­æ ‘å‰åºéå†</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ç¼–å†™ä¸­åºéå†</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">infixOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//é€’å½’å‘å·¦å­æ ‘å‰åºéå†</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">infixOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¾“å‡ºçˆ¶èŠ‚ç‚¹</span>        <span class="token comment">//é€’å½’å‘å³å­æ ‘å‰åºéå†</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">infixOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ç¼–å†™ååºéå†</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">postOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//é€’å½’å‘å·¦å­æ ‘å‰åºéå†</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">postOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//é€’å½’å‘å³å­æ ‘å‰åºéå†</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">postOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¾“å‡ºçˆ¶èŠ‚ç‚¹</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å‰åºéå†æŸ¥æ‰¾</span>    <span class="token keyword">public</span> <span class="token class-name">HeroNode</span> <span class="token function">preOrderSearch</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//æ¯”è¾ƒå½“å‰èŠ‚ç‚¹æ˜¯ä¸æ˜¯</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>no <span class="token operator">==</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//ä¸æ˜¯çš„è¯,åˆ™åˆ¤æ–­å½“å‰ç»“ç‚¹çš„å·¦å­èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™é€’å½’å‰åºæŸ¥æ‰¾</span>        <span class="token class-name">HeroNode</span> resNode <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            resNode <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">preOrderSearch</span><span class="token punctuation">(</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>resNode <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//è¯´æ˜æ‰¾åˆ°</span>            <span class="token keyword">return</span> resNode<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å·¦é€’å½’å‰åºæŸ¥æ‰¾ï¼Œæ‰¾åˆ°ç»“ç‚¹ï¼Œåˆ™è¿”å›ï¼Œå¦ç»§ç»­åˆ¤æ–­,å½“å‰çš„ç»“ç‚¹çš„å³å­èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ç©ºï¼Œåˆ™ç»§ç»­å‘å³é€’å½’</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            resNode <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">preOrderSearch</span><span class="token punctuation">(</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> resNode<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ä¸­åºéå†æŸ¥æ‰¾</span>    <span class="token keyword">public</span> <span class="token class-name">HeroNode</span> <span class="token function">infixOrderSearch</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// åˆ¤æ–­å½“å‰ç»“ç‚¹çš„å·¦å­èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™é€’å½’ä¸­åºæŸ¥æ‰¾</span>        <span class="token class-name">HeroNode</span> resNode <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            resNode <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">infixOrderSearch</span><span class="token punctuation">(</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>resNode <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//è¯´æ˜æ‰¾åˆ°</span>            <span class="token keyword">return</span> resNode<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±å’Œå½“å‰ç»“ç‚¹æ¯”è¾ƒ</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>no <span class="token operator">==</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å¦åˆ™ç»§ç»­è¿›è¡Œå³é€’å½’çš„ä¸­åºæŸ¥æ‰¾</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            resNode <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">infixOrderSearch</span><span class="token punctuation">(</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> resNode<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ååºéå†æŸ¥æ‰¾</span>    <span class="token keyword">public</span> <span class="token class-name">HeroNode</span> <span class="token function">postOrderSearch</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// åˆ¤æ–­å½“å‰ç»“ç‚¹çš„å·¦å­èŠ‚ç‚¹æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ä¸ºç©ºï¼Œåˆ™é€’å½’ååºæŸ¥æ‰¾</span>        <span class="token class-name">HeroNode</span> resNode <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            resNode <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">postOrderSearch</span><span class="token punctuation">(</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>resNode <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//è¯´æ˜æ‰¾åˆ°</span>            <span class="token keyword">return</span> resNode<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œå°±å³é€’å½’çš„ååºæŸ¥æ‰¾</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            resNode <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">postOrderSearch</span><span class="token punctuation">(</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>resNode <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//è¯´æ˜æ‰¾åˆ°</span>            <span class="token keyword">return</span> resNode<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å·¦å³å­æ ‘éƒ½æ²¡æœ‰æ‰¾åˆ°,å°±æ¯”è¾ƒå½“å‰èŠ‚ç‚¹</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>no <span class="token operator">==</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> resNode<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//é€’å½’åˆ é™¤èŠ‚ç‚¹</span>    <span class="token comment">//å¦‚æœåˆ é™¤çš„èŠ‚ç‚¹æ˜¯å¶å­ç»“ç‚¹,åˆ™åˆ é™¤è¯¥ç»“ç‚¹  å¦‚æœåˆ é™¤çš„èŠ‚ç‚¹æ˜¯éå¶å­ç»“ç‚¹,åˆ™åˆ é™¤è¯¥å­æ ‘</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">delNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token operator">!=</span><span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span>no <span class="token operator">==</span> no<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token operator">!=</span><span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span>no <span class="token operator">==</span> no<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">delNode</span><span class="token punctuation">(</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">delNode</span><span class="token punctuation">(</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">å‰åºéå†<span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'æ˜“'</span><span class="token punctuation">&#125;</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'è‰¾å¸Œ'</span><span class="token punctuation">&#125;</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'å¥¶å¦ˆ'</span><span class="token punctuation">&#125;</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'éœ'</span><span class="token punctuation">&#125;</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'è›®ç‹'</span><span class="token punctuation">&#125;</span>ä¸­åºéå†<span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'è‰¾å¸Œ'</span><span class="token punctuation">&#125;</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'æ˜“'</span><span class="token punctuation">&#125;</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'éœ'</span><span class="token punctuation">&#125;</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'å¥¶å¦ˆ'</span><span class="token punctuation">&#125;</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'è›®ç‹'</span><span class="token punctuation">&#125;</span>ååºéå†<span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'è‰¾å¸Œ'</span><span class="token punctuation">&#125;</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'éœ'</span><span class="token punctuation">&#125;</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'è›®ç‹'</span><span class="token punctuation">&#125;</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'å¥¶å¦ˆ'</span><span class="token punctuation">&#125;</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'æ˜“'</span><span class="token punctuation">&#125;</span>å‰åºæŸ¥æ‰¾æ‰¾åˆ°äº†<span class="token punctuation">,</span>ä¿¡æ¯ä¸º no<span class="token operator">=</span><span class="token number">5</span> name<span class="token operator">=</span>éœä¸­åºæŸ¥æ‰¾æ‰¾åˆ°äº†<span class="token punctuation">,</span>ä¿¡æ¯ä¸º no<span class="token operator">=</span><span class="token number">5</span> name<span class="token operator">=</span>éœååºæŸ¥æ‰¾æ‰¾åˆ°äº†<span class="token punctuation">,</span>ä¿¡æ¯ä¸º no<span class="token operator">=</span><span class="token number">5</span> name<span class="token operator">=</span>éœ<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'æ˜“'</span><span class="token punctuation">&#125;</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'è‰¾å¸Œ'</span><span class="token punctuation">&#125;</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'å¥¶å¦ˆ'</span><span class="token punctuation">&#125;</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'è›®ç‹'</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-é¡ºåºå­˜å‚¨äºŒå‰æ ‘"><a href="#2-é¡ºåºå­˜å‚¨äºŒå‰æ ‘" class="headerlink" title="2. é¡ºåºå­˜å‚¨äºŒå‰æ ‘"></a>2. é¡ºåºå­˜å‚¨äºŒå‰æ ‘</h3><p>åŸºæœ¬è¯´æ˜</p><ul><li><p>ä»æ•°æ®å­˜å‚¨æ¥çœ‹ï¼Œ<strong>æ•°ç»„å­˜å‚¨æ–¹å¼</strong>å’Œ<strong>æ ‘çš„å­˜å‚¨æ–¹å¼</strong>å¯ä»¥ç›¸äº’è½¬æ¢ï¼Œå³æ•°ç»„å¯ä»¥è½¬æ¢æˆæ ‘ï¼Œæ ‘ä¹Ÿå¯ä»¥è½¬æ¢æˆæ•°ç»„.</p></li><li><p>é¡ºåºå­˜å‚¨äºŒå‰æ ‘çš„<strong>ç‰¹ç‚¹</strong>:</p><ul><li><p>é¡ºåºäºŒå‰æ ‘é€šå¸¸åªè€ƒè™‘å®Œå…¨äºŒå‰æ ‘</p></li><li><p>ç¬¬nä¸ªå…ƒç´ çš„å·¦å­èŠ‚ç‚¹ä¸º 2 * n + 1 </p></li><li><p>ç¬¬nä¸ªå…ƒç´ çš„å³å­èŠ‚ç‚¹ä¸º 2 * n + 2</p></li><li><p>ç¬¬nä¸ªå…ƒç´ çš„çˆ¶èŠ‚ç‚¹ä¸º (n-1) / 2</p></li><li><p>n : è¡¨ç¤ºäºŒå‰æ ‘ä¸­çš„ç¬¬å‡ ä¸ªå…ƒç´ </p></li></ul></li></ul><p><img src="https://img-blog.csdnimg.cn/c267a72ff22b4a58af5bdf370bd70ab5.png" alt="é¡ºåºå­˜å‚¨äºŒå‰æ ‘"></p><p>è¦æ±‚:ä»¥æ•°ç»„çš„æ–¹å¼å­˜æ”¾ int[] arr = {1, 2, 3, 4, 5, 6, 7} åœ¨éå†æ•°ç»„ æ—¶,ä»ç„¶å¯ä»¥ä»¥å‰åºéå†çš„æ–¹å¼å®Œæˆç»“ç‚¹çš„éå†</p><p>ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>tree</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/8 14:43 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ArrBinaryTreeDemo</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token class-name">ArrBinaryTree</span> arrBinaryTree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrBinaryTree</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>        arrBinaryTree<span class="token punctuation">.</span><span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">ArrBinaryTree</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">ArrBinaryTree</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>arr <span class="token operator">=</span> arr<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//é‡è½½preOrder</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ç¼–å†™ä¸€ä¸ªæ–¹æ³•,å®Œæˆé¡ºåºå­˜å‚¨äºŒå‰æ ‘çš„å‰åºéå†</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//å¦‚æœæ•°ç»„ä¸ºç©º,æˆ–arr.length==0</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> arr<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ•°ç»„ä¸ºç©º,ä¸èƒ½æŒ‰ç…§äºŒå‰æ ‘çš„å‰åºéå†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//è¾“å‡ºå½“å‰è¿™ä¸ªå…ƒç´ </span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å‘å·¦é€’å½’éå†</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>index <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å‘å³é€’å½’éå†</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>index <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token number">2</span> <span class="token operator">*</span> index <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token number">1</span> <span class="token number">2</span> <span class="token number">4</span> <span class="token number">5</span> <span class="token number">3</span> <span class="token number">6</span> <span class="token number">7</span> <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="3-çº¿ç´¢åŒ–äºŒå‰æ ‘"><a href="#3-çº¿ç´¢åŒ–äºŒå‰æ ‘" class="headerlink" title="3. çº¿ç´¢åŒ–äºŒå‰æ ‘"></a>3. çº¿ç´¢åŒ–äºŒå‰æ ‘</h3><ul><li>nä¸ªç»“ç‚¹çš„äºŒå‰é“¾è¡¨ä¸­å«æœ‰n+1 ã€å…¬å¼ 2n-(n-1)=n+1ã€‘ ä¸ªç©ºæŒ‡é’ˆåŸŸã€‚åˆ©ç”¨äºŒå‰é“¾è¡¨ä¸­çš„ç©ºæŒ‡é’ˆåŸŸï¼Œå­˜æ”¾æŒ‡å‘<font color="blue">è¯¥ç»“ç‚¹</font>åœ¨<font color="red">æŸç§éå†æ¬¡åºä¸‹</font>çš„å‰é©±å’Œåç»§ç»“ç‚¹çš„æŒ‡é’ˆï¼ˆè¿™ç§é™„åŠ çš„æŒ‡é’ˆç§°ä¸ºâ€çº¿ç´¢â€ï¼‰</li><li>è¿™ç§åŠ ä¸Šäº†çº¿ç´¢çš„äºŒå‰é“¾è¡¨ç§°ä¸º<strong>çº¿ç´¢é“¾è¡¨</strong>ï¼Œç›¸åº”çš„äºŒå‰æ ‘ç§°ä¸º<strong>çº¿ç´¢äºŒå‰æ ‘</strong><strong>(Threaded</strong> <strong>BinaryTree</strong><strong>)<strong>ã€‚æ ¹æ®çº¿ç´¢æ€§è´¨çš„ä¸åŒï¼Œçº¿ç´¢äºŒå‰æ ‘å¯åˆ†ä¸º</strong>å‰åºçº¿ç´¢äºŒå‰æ ‘ã€ä¸­åºçº¿ç´¢äºŒå‰æ ‘</strong>å’Œ<strong>ååºçº¿ç´¢äºŒå‰æ ‘</strong>ä¸‰ç§</li><li>ä¸€ä¸ªç»“ç‚¹çš„å‰ä¸€ä¸ªç»“ç‚¹ï¼Œç§°ä¸º<font color="red">å‰é©±</font>ç»“ç‚¹</li><li>ä¸€ä¸ªç»“ç‚¹çš„åä¸€ä¸ªç»“ç‚¹ï¼Œç§°ä¸º<font color="red">åç»§</font>ç»“ç‚¹</li></ul><p>æ¡ˆä¾‹:</p><p><img src="https://img-blog.csdnimg.cn/f88e30dbc42f438db0ea13ed33e3818c.png" alt="ä¸­åºçº¿ç´¢äºŒå‰æ ‘"></p><p>ä»£ç å®ç°</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>tree<span class="token punctuation">.</span></span><span class="token class-name">TreadBinaryTree</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/8 15:40 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TreadedBinaryTreeDemo</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">HeroNode</span> root <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"tom"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode</span> node2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"jack"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode</span> node3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">"smith"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode</span> node4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">"mary"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode</span> node5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">"king"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode</span> node6 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token string">"dim"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        root<span class="token punctuation">.</span><span class="token function">setLeft</span><span class="token punctuation">(</span>node2<span class="token punctuation">)</span><span class="token punctuation">;</span>        root<span class="token punctuation">.</span><span class="token function">setRight</span><span class="token punctuation">(</span>node3<span class="token punctuation">)</span><span class="token punctuation">;</span>        node2<span class="token punctuation">.</span><span class="token function">setLeft</span><span class="token punctuation">(</span>node4<span class="token punctuation">)</span><span class="token punctuation">;</span>        node2<span class="token punctuation">.</span><span class="token function">setRight</span><span class="token punctuation">(</span>node5<span class="token punctuation">)</span><span class="token punctuation">;</span>        node3<span class="token punctuation">.</span><span class="token function">setLeft</span><span class="token punctuation">(</span>node6<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æµ‹è¯•ä¸­åºçº¿ç´¢åŒ–</span>        <span class="token class-name">ThreadedBinaryTree</span> threadedBinaryTree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadedBinaryTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        threadedBinaryTree<span class="token punctuation">.</span><span class="token function">setRoot</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>        threadedBinaryTree<span class="token punctuation">.</span><span class="token function">threadedNodes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æµ‹è¯•:ä»¥10å·ç»“ç‚¹æµ‹è¯•</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"10å·ç»“ç‚¹çš„å‰é©±ç»“ç‚¹æ˜¯: "</span> <span class="token operator">+</span> node5<span class="token punctuation">.</span><span class="token function">getLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"10å·ç»“ç‚¹çš„åç»§ç»“ç‚¹æ˜¯: "</span> <span class="token operator">+</span> node5<span class="token punctuation">.</span><span class="token function">getRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä½¿ç”¨çº¿ç´¢åŒ–çš„æ–¹å¼éå† çº¿ç´¢åŒ–äºŒå‰æ ‘"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        threadedBinaryTree<span class="token punctuation">.</span><span class="token function">threadedList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//å®šä¹‰ThreadedBinaryTree å®ç°äº†çº¿ç´¢åŒ–åŠŸèƒ½çš„äºŒå‰æ ‘</span><span class="token keyword">class</span> <span class="token class-name">ThreadedBinaryTree</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">HeroNode</span> root<span class="token punctuation">;</span>    <span class="token comment">//ä¸ºäº†å®ç°çº¿ç´¢åŒ–,éœ€è¦åˆ›å»ºè¦ç»™æŒ‡å‘å½“å‰èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹çš„æŒ‡é’ˆ</span>    <span class="token comment">// åœ¨é€’å½’è¿›è¡Œçº¿ç´¢åŒ–æ—¶,preæ€»æ˜¯ä¿ç•™å‰ä¸€ä¸ªç»“ç‚¹</span>    <span class="token keyword">private</span> <span class="token class-name">HeroNode</span> pre <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setRoot</span><span class="token punctuation">(</span><span class="token class-name">HeroNode</span> root<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>root <span class="token operator">=</span> root<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//é‡è½½ä¸€æŠŠ</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">threadedNodes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">treadedNodes</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//éå†çº¿ç´¢åŒ– äºŒå‰æ ‘çš„æ–¹æ³•</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">threadedList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//å®šä¹‰ä¸€ä¸ªå˜é‡.å­˜å‚¨å½“å‰éå†çš„ç»“ç‚¹,ä»rootå¼€å§‹</span>        <span class="token class-name">HeroNode</span> node <span class="token operator">=</span> root<span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>node<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token comment">//å¾ªç¯çš„æ‰¾åˆ°leftType == 1 çš„ç»“ç‚¹,ç¬¬ä¸€ä¸ªæ‰¾åˆ°çš„å°±æ˜¯8è¿™ä¸ªç»“ç‚¹</span>            <span class="token comment">//åé¢éšç€éå†è€Œå˜åŒ–,å› ä¸ºå½“leftType == 1 æ—¶,è¯´æ˜è¯¥ç»“ç‚¹æ˜¯æŒ‰ç…§çº¿ç´¢åŒ–å¤„ç†åçš„ç»“ç‚¹</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span><span class="token function">getLeftType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                node <span class="token operator">=</span> node<span class="token punctuation">.</span><span class="token function">getLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å¦‚æœå½“å‰ç»“ç‚¹çš„å³æŒ‡é’ˆæŒ‡å‘çš„æ˜¯åç»§èŠ‚ç‚¹,å°±ä¸€ç›´è¾“å‡º</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span><span class="token function">getRightType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token comment">//è·å–å½“å‰ç»“ç‚¹çš„åç»§ç»“ç‚¹</span>                node <span class="token operator">=</span> node<span class="token punctuation">.</span><span class="token function">getRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">//æ›¿æ¢è¿™ä¸ªéå†çš„ç»“ç‚¹</span>            node <span class="token operator">=</span> node<span class="token punctuation">.</span><span class="token function">getRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ç¼–å†™å¯¹äºŒå‰æ ‘è¿›è¡Œä¸­åºçº¿ç´¢åŒ–çš„æ–¹æ³•</span>    <span class="token comment">/**     * @param node å°±æ˜¯å½“å‰éœ€è¦çº¿ç´¢åŒ–çš„ç»“ç‚¹     */</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">treadedNodes</span><span class="token punctuation">(</span><span class="token class-name">HeroNode</span> node<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å…ˆçº¿ç´¢åŒ–å·¦å­æ ‘</span>        <span class="token function">treadedNodes</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span><span class="token function">getLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//çº¿ç´¢åŒ–å½“å‰ç»“ç‚¹</span>        <span class="token comment">//å¤„ç†å½“å‰èŠ‚ç‚¹çš„å‰é©±èŠ‚ç‚¹</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span><span class="token function">getLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//è®©å½“å‰èŠ‚ç‚¹çš„å·¦æŒ‡é’ˆæŒ‡å‘å‰é©±ç»“ç‚¹</span>            node<span class="token punctuation">.</span><span class="token function">setLeft</span><span class="token punctuation">(</span>pre<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//ä¿®æ”¹å½“å‰ç»“ç‚¹çš„å·¦æŒ‡é’ˆçš„ç±»å‹,æŒ‡å‘å‰é©±ç»“ç‚¹</span>            node<span class="token punctuation">.</span><span class="token function">setLeftType</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å¤„ç†åç»§ç»“ç‚¹</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>pre <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> pre<span class="token punctuation">.</span><span class="token function">getRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//è®©å½“å‰èŠ‚ç‚¹çš„å³æŒ‡é’ˆæŒ‡å‘å½“å‰ç»“ç‚¹</span>            pre<span class="token punctuation">.</span><span class="token function">setRight</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//ä¿®æ”¹å½“å‰ç»“ç‚¹çš„å³æŒ‡é’ˆçš„ç±»å‹</span>            pre<span class="token punctuation">.</span><span class="token function">setRightType</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//!!! æ¯å¤„ç†ä¸€ä¸ªç»“ç‚¹å,å°±è®©å½“å‰ç»“ç‚¹æ˜¯ä¸‹ä¸€ä¸ªç»“ç‚¹çš„å‰é©±ç»“ç‚¹</span>        pre <span class="token operator">=</span> node<span class="token punctuation">;</span>        <span class="token comment">//çº¿ç´¢åŒ–å³å­æ ‘</span>        <span class="token function">treadedNodes</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span><span class="token function">getRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//åˆ›å»ºHeroNode èŠ‚ç‚¹</span><span class="token keyword">class</span> <span class="token class-name">HeroNode</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> no<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">HeroNode</span> left<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">HeroNode</span> right<span class="token punctuation">;</span>    <span class="token comment">//è¯´æ˜</span>    <span class="token comment">// 1. å¦‚æœ leftType == 0 è¡¨ç¤ºæŒ‡å‘çš„æ˜¯å·¦å­æ ‘,å¦‚æœæ˜¯1åˆ™è¡¨ç¤ºæŒ‡å‘å‰é©±ç»“ç‚¹</span>    <span class="token comment">// 1. å¦‚æœ rightType == 0 è¡¨ç¤ºæŒ‡å‘çš„æ˜¯å³å­æ ‘,å¦‚æœæ˜¯1åˆ™è¡¨ç¤ºæŒ‡å‘åé©±ç»“ç‚¹</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> leftType<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> rightType<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>no <span class="token operator">=</span> no<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getLeftType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> leftType<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setLeftType</span><span class="token punctuation">(</span><span class="token keyword">int</span> leftType<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>leftType <span class="token operator">=</span> leftType<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getRightType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> rightType<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setRightType</span><span class="token punctuation">(</span><span class="token keyword">int</span> rightType<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>rightType <span class="token operator">=</span> rightType<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getNo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> no<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setNo</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>no <span class="token operator">=</span> no<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> name<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setName</span><span class="token punctuation">(</span><span class="token class-name">String</span> name<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">HeroNode</span> <span class="token function">getLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> left<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setLeft</span><span class="token punctuation">(</span><span class="token class-name">HeroNode</span> left<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">=</span> left<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">HeroNode</span> <span class="token function">getRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> right<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setRight</span><span class="token punctuation">(</span><span class="token class-name">HeroNode</span> right<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">=</span> right<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"HeroNode&#123;"</span> <span class="token operator">+</span>                <span class="token string">"no="</span> <span class="token operator">+</span> no <span class="token operator">+</span>                <span class="token string">", name='"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>                <span class="token string">'&#125;'</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token number">10</span>å·ç»“ç‚¹çš„å‰é©±ç»“ç‚¹æ˜¯<span class="token operator">:</span> <span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'jack'</span><span class="token punctuation">&#125;</span><span class="token number">10</span>å·ç»“ç‚¹çš„åç»§ç»“ç‚¹æ˜¯<span class="token operator">:</span> <span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'tom'</span><span class="token punctuation">&#125;</span>ä½¿ç”¨çº¿ç´¢åŒ–çš„æ–¹å¼éå† çº¿ç´¢åŒ–äºŒå‰æ ‘<span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'mary'</span><span class="token punctuation">&#125;</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'jack'</span><span class="token punctuation">&#125;</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'king'</span><span class="token punctuation">&#125;</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'tom'</span><span class="token punctuation">&#125;</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">14</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'dim'</span><span class="token punctuation">&#125;</span><span class="token class-name">HeroNode</span><span class="token punctuation">&#123;</span>no<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">,</span> name<span class="token operator">=</span><span class="token string">'smith'</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="4-èµ«å¤«æ›¼æ ‘"><a href="#4-èµ«å¤«æ›¼æ ‘" class="headerlink" title="4. èµ«å¤«æ›¼æ ‘"></a>4. èµ«å¤«æ›¼æ ‘</h3><p>åŸºæœ¬ä»‹ç»</p><ul><li><p>ç»™å®šnä¸ªæƒå€¼ä½œä¸ºnä¸ª<font color="blue">å¶å­ç»“ç‚¹</font>ï¼Œæ„é€ ä¸€æ£µäºŒå‰æ ‘ï¼Œè‹¥è¯¥æ ‘çš„<font color="blue">å¸¦æƒè·¯å¾„é•¿åº¦(wpl)</font>è¾¾åˆ°æœ€å°ï¼Œç§°è¿™æ ·çš„äºŒå‰æ ‘ä¸º<font color="blue">æœ€ä¼˜äºŒå‰æ ‘</font>ï¼Œä¹Ÿç§°ä¸º<font color="blue">å“ˆå¤«æ›¼æ ‘(Huffman Tree)</font>, æˆ–<font color="blue">éœå¤«æ›¼æ ‘</font>ã€‚</p></li><li><p>èµ«å¤«æ›¼æ ‘æ˜¯å¸¦æƒè·¯å¾„é•¿åº¦æœ€çŸ­çš„æ ‘ï¼Œæƒå€¼è¾ƒå¤§çš„ç»“ç‚¹ç¦»æ ¹è¾ƒè¿‘ã€‚</p></li></ul><p>é‡è¦æ¦‚å¿µ,ä¸¾ä¾‹è¯´æ˜</p><ul><li>è·¯å¾„å’Œè·¯å¾„é•¿åº¦ï¼šåœ¨ä¸€æ£µæ ‘ä¸­ï¼Œä»ä¸€ä¸ªç»“ç‚¹å¾€ä¸‹å¯ä»¥è¾¾åˆ°çš„å­©å­æˆ–å­™å­ç»“ç‚¹ä¹‹é—´çš„é€šè·¯ï¼Œç§°ä¸ºè·¯å¾„ã€‚é€šè·¯ä¸­åˆ†æ”¯çš„æ•°ç›®ç§°ä¸ºè·¯å¾„é•¿åº¦ã€‚è‹¥è§„å®šæ ¹ç»“ç‚¹çš„å±‚æ•°ä¸º1ï¼Œåˆ™ä»æ ¹ç»“ç‚¹åˆ°ç¬¬Lå±‚ç»“ç‚¹çš„è·¯å¾„é•¿åº¦ä¸ºL-1</li><li>ç»“ç‚¹çš„æƒåŠå¸¦æƒè·¯å¾„é•¿åº¦ï¼šè‹¥å°†æ ‘ä¸­ç»“ç‚¹èµ‹ç»™ä¸€ä¸ªæœ‰ç€æŸç§å«ä¹‰çš„æ•°å€¼ï¼Œåˆ™è¿™ä¸ªæ•°å€¼ç§°ä¸ºè¯¥ç»“ç‚¹çš„æƒã€‚ç»“ç‚¹çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¸ºï¼šä»æ ¹ç»“ç‚¹åˆ°è¯¥ç»“ç‚¹ä¹‹é—´çš„è·¯å¾„é•¿åº¦ä¸è¯¥ç»“ç‚¹çš„æƒçš„ä¹˜ç§¯</li><li>æ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦ï¼šæ ‘çš„å¸¦æƒè·¯å¾„é•¿åº¦è§„å®šä¸ºæ‰€æœ‰å¶å­ç»“ç‚¹çš„å¸¦æƒè·¯å¾„é•¿åº¦ä¹‹å’Œï¼Œè®°ä¸ºWPL(weighted path length) ,æƒå€¼è¶Šå¤§çš„ç»“ç‚¹ç¦»æ ¹ç»“ç‚¹è¶Šè¿‘çš„äºŒå‰æ ‘æ‰æ˜¯æœ€ä¼˜äºŒå‰æ ‘ã€‚</li><li>WPLæœ€å°çš„å°±æ˜¯èµ«å¤«æ›¼æ ‘</li></ul><p>æ„æˆèµ«å¤«æ›¼æ ‘çš„æ­¥éª¤ï¼š</p><ul><li><p>ä»å°åˆ°å¤§è¿›è¡Œæ’åº, å°†æ¯ä¸€ä¸ªæ•°æ®ï¼Œæ¯ä¸ªæ•°æ®éƒ½æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ ï¼Œ æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥çœ‹æˆæ˜¯ä¸€é¢—æœ€ç®€å•çš„äºŒå‰æ ‘</p></li><li><p>å–å‡ºæ ¹èŠ‚ç‚¹æƒå€¼æœ€å°çš„ä¸¤é¢—äºŒå‰æ ‘ </p></li><li><p>ç»„æˆä¸€é¢—æ–°çš„äºŒå‰æ ‘, è¯¥æ–°çš„äºŒå‰æ ‘çš„æ ¹èŠ‚ç‚¹çš„æƒå€¼æ˜¯å‰é¢ä¸¤é¢—äºŒå‰æ ‘æ ¹èŠ‚ç‚¹æƒå€¼çš„å’Œ </p></li><li><p>å†å°†è¿™é¢—æ–°çš„äºŒå‰æ ‘ï¼Œä»¥æ ¹èŠ‚ç‚¹çš„æƒå€¼å¤§å° å†æ¬¡æ’åºï¼Œ ä¸æ–­é‡å¤ 1-2-3-4 çš„æ­¥éª¤ï¼Œç›´åˆ°æ•°åˆ—ä¸­ï¼Œæ‰€æœ‰çš„æ•°æ®éƒ½è¢«å¤„ç†ï¼Œå°±å¾—åˆ°ä¸€é¢—èµ«å¤«æ›¼æ ‘</p></li></ul><p>æ•°åˆ—{13,7,8,3,29,6,1} -&gt;èµ«å¤«æ›¼æ ‘  å…ˆ<strong>æ’åº</strong></p><p><img src="https://img-blog.csdnimg.cn/422ab00495394cc7bb670715edf74f83.png" alt="èµ«å¤«æ›¼æ ‘"></p><p>ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>tree</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Collections</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/10 13:57 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HuffmanTree</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">29</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token class-name">Node</span> root <span class="token operator">=</span> <span class="token function">creatHuffmanTree</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">preOrder</span><span class="token punctuation">(</span>root<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// å‰åºéå†çš„æ–¹æ³•</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token class-name">Node</span> root<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            root<span class="token punctuation">.</span><span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç©ºæ ‘"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//åˆ›å»ºèµ«å¤«æ›¼æ ‘çš„æ–¹æ³•</span>    <span class="token comment">/**     *     * @param arr éœ€è¦åˆ›å»ºèµ«å¤«æ›¼æ ‘çš„æ•°ç»„     * @return åˆ›å»ºå¥½åçš„èµ«å¤«æ›¼æ ‘çš„root     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Node</span> <span class="token function">creatHuffmanTree</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Node</span><span class="token punctuation">></span></span> nodes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Node</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> value <span class="token operator">:</span> arr        <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            nodes<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>nodes<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//æ’åº</span>            <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"nodes = "</span> <span class="token operator">+</span> nodes<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å–å‡ºæ ¹èŠ‚ç‚¹æƒå€¼æœ€å°çš„ä¸¤é¢—äºŒå‰æ ‘</span>            <span class="token class-name">Node</span> leftNode <span class="token operator">=</span> nodes<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å–å‡ºæ ¹èŠ‚ç‚¹æƒå€¼ç¬¬äºŒå°çš„ä¸¤é¢—äºŒå‰æ ‘</span>            <span class="token class-name">Node</span> rightNode <span class="token operator">=</span> nodes<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//æ„å»ºä¸€é¢—æ–°çš„äºŒå‰æ ‘</span>            <span class="token class-name">Node</span> parent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>leftNode<span class="token punctuation">.</span>value <span class="token operator">+</span> rightNode<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>            parent<span class="token punctuation">.</span>left <span class="token operator">=</span> leftNode<span class="token punctuation">;</span>            parent<span class="token punctuation">.</span>right <span class="token operator">=</span> rightNode<span class="token punctuation">;</span>            <span class="token comment">//ä»ArrayListåˆ é™¤å¤„ç†è¿‡çš„äºŒå‰æ ‘</span>            nodes<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>leftNode<span class="token punctuation">)</span><span class="token punctuation">;</span>            nodes<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>rightNode<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å°†parentåŠ å…¥åˆ°nodes</span>            nodes<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> nodes<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//èŠ‚ç‚¹ç±»</span><span class="token comment">//ä¸ºäº†è®©node å¯¹è±¡æŒç»­æ’åºCollectionsé›†åˆæ’åº éœ€è¦å®ç°Comparableæ¥å£</span><span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token keyword">implements</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Node</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> value<span class="token punctuation">;</span> <span class="token comment">//èŠ‚ç‚¹æƒå€¼</span>    <span class="token class-name">Node</span> left<span class="token punctuation">;</span>    <span class="token class-name">Node</span> right<span class="token punctuation">;</span>    <span class="token comment">//å‰åºéå†</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"Node&#123;"</span> <span class="token operator">+</span>                <span class="token string">"value="</span> <span class="token operator">+</span> value <span class="token operator">+</span>                <span class="token string">'&#125;'</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">Node</span> o<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//ä»å°åˆ°å¤§æ’(ä»å¤§åˆ°å° -(this.value - o.value))</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">-</span> o<span class="token punctuation">.</span>value<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Node</span><span class="token punctuation">&#123;</span>value<span class="token operator">=</span><span class="token number">67</span><span class="token punctuation">&#125;</span><span class="token class-name">Node</span><span class="token punctuation">&#123;</span>value<span class="token operator">=</span><span class="token number">29</span><span class="token punctuation">&#125;</span><span class="token class-name">Node</span><span class="token punctuation">&#123;</span>value<span class="token operator">=</span><span class="token number">38</span><span class="token punctuation">&#125;</span><span class="token class-name">Node</span><span class="token punctuation">&#123;</span>value<span class="token operator">=</span><span class="token number">15</span><span class="token punctuation">&#125;</span><span class="token class-name">Node</span><span class="token punctuation">&#123;</span>value<span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">&#125;</span><span class="token class-name">Node</span><span class="token punctuation">&#123;</span>value<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">&#125;</span><span class="token class-name">Node</span><span class="token punctuation">&#123;</span>value<span class="token operator">=</span><span class="token number">23</span><span class="token punctuation">&#125;</span><span class="token class-name">Node</span><span class="token punctuation">&#123;</span>value<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">&#125;</span><span class="token class-name">Node</span><span class="token punctuation">&#123;</span>value<span class="token operator">=</span><span class="token number">4</span><span class="token punctuation">&#125;</span><span class="token class-name">Node</span><span class="token punctuation">&#123;</span>value<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token class-name">Node</span><span class="token punctuation">&#123;</span>value<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">&#125;</span><span class="token class-name">Node</span><span class="token punctuation">&#123;</span>value<span class="token operator">=</span><span class="token number">6</span><span class="token punctuation">&#125;</span><span class="token class-name">Node</span><span class="token punctuation">&#123;</span>value<span class="token operator">=</span><span class="token number">13</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="5-èµ«å¤«æ›¼ç¼–ç "><a href="#5-èµ«å¤«æ›¼ç¼–ç " class="headerlink" title="5. èµ«å¤«æ›¼ç¼–ç "></a>5. èµ«å¤«æ›¼ç¼–ç </h3><p><strong>åŸºæœ¬ä»‹ç»</strong></p><ul><li><p>èµ«å¤«æ›¼ç¼–ç ä¹Ÿç¿»è¯‘ä¸º <a href="https://baike.baidu.com/item/%E5%93%88%E5%A4%AB%E6%9B%BC"> å“ˆå¤«æ›¼</a>ç¼–ç (Huffman Coding)ï¼Œåˆç§°éœå¤«æ›¼ç¼–ç ï¼Œæ˜¯ä¸€ç§ç¼–ç æ–¹å¼, å±äºä¸€ç§ç¨‹åºç®—æ³•</p></li><li><p>èµ«å¤«æ›¼ç¼–ç æ˜¯èµ«å“ˆå¤«æ›¼æ ‘åœ¨ç”µè®¯é€šä¿¡ä¸­çš„ç»å…¸çš„åº”ç”¨ä¹‹ä¸€ã€‚</p></li><li><p>èµ«å¤«æ›¼ç¼–ç å¹¿æ³›åœ°ç”¨äºæ•°æ®æ–‡ä»¶å‹ç¼©ã€‚å…¶å‹ç¼©ç‡é€šå¸¸åœ¨20%90%ä¹‹é—´</p></li><li><p>èµ«å¤«æ›¼ç æ˜¯å¯å˜<a href="https://baike.baidu.com/item/%E5%AD%97%E9%95%BF/97660">å­—é•¿</a>ç¼–ç (VLC)çš„ä¸€ç§ã€‚Huffmanäº1952å¹´æå‡ºä¸€ç§ç¼–ç æ–¹æ³•ï¼Œç§°ä¹‹ä¸ºæœ€ä½³ç¼–ç </p></li><li><p>æ³¨æ„, èµ«å¤«æ›¼æ ‘æ ¹æ®æ’åºæ–¹æ³•ä¸åŒï¼Œä¹Ÿå¯èƒ½ä¸å¤ªä¸€æ ·ï¼Œ<strong>è¿™æ ·å¯¹åº”çš„èµ«å¤«æ›¼ç¼–ç ä¹Ÿä¸å®Œå…¨ä¸€æ ·</strong>ï¼Œä½†æ˜¯wpl æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯æœ€å°çš„ </p></li></ul><p>æ¡ˆä¾‹ å‹ç¼© -&gt; è§£å‹ å’Œæ–‡ä»¶çš„å‹ç¼© -&gt; è§£å‹:</p><ul><li> ä¸€æ®µæ–‡æœ¬: i like like like java do you like a java  </li><li>æ ¹æ®èµ«å¤«æ›¼ç¼–ç å‹ç¼©æ•°æ®çš„åŸç†ï¼Œéœ€è¦åˆ›å»º â€œi like like like java do you like a javaâ€ å¯¹åº”çš„èµ«å¤«æ›¼æ ‘.</li><li>ç”Ÿæˆèµ«å¤«æ›¼æ ‘å¯¹åº”çš„èµ«å¤«æ›¼ç¼–ç </li><li>ä½¿ç”¨èµ«å¤«æ›¼ç¼–ç æ¥ç”Ÿæˆèµ«å¤«æ›¼ç¼–ç æ•°æ®  (å·²å‹ç¼©)</li><li>è½¬æˆèµ«å¤«æ›¼ç¼–ç å¯¹åº”çš„å­—ç¬¦ä¸² â€œ101010â€¦â€</li><li>=&gt;å¯¹ç…§èµ«å¤«æ›¼ç¼–ç é‡æ–°è½¬æˆåŸæ¥çš„å­—ç¬¦ä¸²</li></ul><p>ä»£ç å®ç°(è§£å‹åŠŸèƒ½æœ‰bug ï¼šæ•°ç»„ä¸‹æ ‡è¶Šç•Œå’Œç©ºæŒ‡é’ˆå¼‚å¸¸)</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>tree<span class="token punctuation">.</span>huffmanCode</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>tree<span class="token punctuation">.</span></span><span class="token class-name">HuffmanTree</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>sun<span class="token punctuation">.</span>corba<span class="token punctuation">.</span>se<span class="token punctuation">.</span>pept<span class="token punctuation">.</span>encoding<span class="token punctuation">.</span></span><span class="token class-name">OutputObject</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/10 19:07 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HuffmanCode</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> content <span class="token operator">=</span> <span class="token string">"i like like like java do you like a java"</span><span class="token punctuation">;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> contentBytes <span class="token operator">=</span> content<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> huffmanCodeBytes <span class="token operator">=</span> <span class="token function">huffmanZip</span><span class="token punctuation">(</span>contentBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å‹ç¼©åçš„ç»“æœ:"</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>huffmanCodeBytes<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"é•¿åº¦= "</span> <span class="token operator">+</span> huffmanCodeBytes<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> decode <span class="token operator">=</span> <span class="token function">decode</span><span class="token punctuation">(</span>huffmanCodes<span class="token punctuation">,</span> huffmanCodeBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è§£å‹ååŸæ¥çš„å­—ç¬¦ä¸²="</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>decode<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> srcFile <span class="token operator">=</span> <span class="token string">"G://1.jpg"</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> dstFile <span class="token operator">=</span> <span class="token string">"G://dst.zip"</span><span class="token punctuation">;</span>        <span class="token function">zipFile</span><span class="token punctuation">(</span>srcFile<span class="token punctuation">,</span> dstFile<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å‹ç¼©æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> zipFile <span class="token operator">=</span> <span class="token string">"G://dst.zip"</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> dstFile2 <span class="token operator">=</span> <span class="token string">"G://2.jpg"</span><span class="token punctuation">;</span>        <span class="token function">unZipFile</span><span class="token punctuation">(</span>zipFile<span class="token punctuation">,</span> dstFile2<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è§£å‹æˆåŠŸ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ä½¿ç”¨ä¸€ä¸ªæ–¹æ³•å°†å‰é¢çš„æ–¹æ³•å°è£…èµ·æ¥,ä¾¿äºè°ƒç”¨</span>    <span class="token comment">/**     * @param bytes åŸå§‹çš„å­—ç¬¦ä¸²å¯¹åº”çš„å­—èŠ‚æ•°ç»„     * @return æ˜¯ç»è¿‡ èµ«å¤«æ›¼ç¼–ç å¤„ç†åçš„å­—èŠ‚æ•°ç»„(å‹ç¼©åçš„æ•°ç»„)     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">huffmanZip</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Node</span><span class="token punctuation">></span></span> nodes <span class="token operator">=</span> <span class="token function">getNodes</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ ¹æ®nodes åˆ›å»ºèµ«å¤«æ›¼æ ‘</span>        <span class="token class-name">Node</span> huffmanTreeRoot <span class="token operator">=</span> <span class="token function">creatHuffmanTree</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å¯¹åº”çš„èµ«å¤«æ›¼ç¼–ç </span>        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Byte</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> huffmanCodes <span class="token operator">=</span> <span class="token function">getCodes</span><span class="token punctuation">(</span>huffmanTreeRoot<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// æ ¹æ®ç”Ÿæˆçš„èµ«å¤«æ›¼ç¼–ç ,å‹ç¼©å¾—åˆ°å‹ç¼©åçš„èµ«å¤«æ›¼ç¼–ç å­—èŠ‚æ•°ç»„</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> huffmanCodeBytes <span class="token operator">=</span> <span class="token function">zip</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span> huffmanCodes<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> huffmanCodeBytes<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å°†å­—ç¬¦ä¸²å¯¹åº”çš„byte[]æ•°ç»„,é€šè¿‡ç”Ÿæˆçš„èµ«å¤«æ›¼ç¼–ç è¡¨,è¿”å›ä¸€ä¸ªèµ«å¤«æ›¼ç å‹ç¼©åçš„byte[]</span>    <span class="token comment">/**     * @param bytes        åŸå§‹çš„å­—ç¬¦ä¸²å¯¹åº”çš„byte[]     * @param huffmanCodes ç”Ÿæˆçš„èµ«å¤«æ›¼ç¼–ç map     * @return è¿”å›èµ«å¤«æ›¼ç¼–ç å¤„ç†åçš„byte[]     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">zip</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes<span class="token punctuation">,</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Byte</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> huffmanCodes<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//1.åˆ©ç”¨HuffmanCodes å°† bytes è½¬æˆ èµ«å¤«æ›¼ç¼–ç å¯¹åº”çš„å­—ç¬¦ä¸²</span>        <span class="token class-name">StringBuilder</span> stringBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">byte</span> b <span class="token operator">:</span> bytes        <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            stringBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>huffmanCodes<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//ç»Ÿè®¡è¿”å› byte[] huffmanCodeBytes é•¿åº¦  ä¸€å¥è¯è¡¨ç¤º int len = (StringBuilder.length+7)/8</span>        <span class="token keyword">int</span> len<span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>stringBuilder<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">8</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            len <span class="token operator">=</span> stringBuilder<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">8</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            len <span class="token operator">=</span> stringBuilder<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">8</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//åˆ›å»ºå­˜å‚¨å‹ç¼©åçš„byteæ•°ç»„</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> huffmanCodeBytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span>len<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//è®°å½•æ˜¯ç¬¬å‡ ä¸ªbyte</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> stringBuilder<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">8</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//å› ä¸ºæ˜¯æ¯8ä½å¯¹åº”ä¸€ä¸ªbyte,æ‰€ä»¥æ­¥é•¿+8</span>            <span class="token class-name">String</span> strByte<span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">8</span> <span class="token operator">></span> stringBuilder<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//ä¸å¤Ÿå…«ä½</span>                strByte <span class="token operator">=</span> stringBuilder<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                strByte <span class="token operator">=</span> stringBuilder<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">//å°†strByte è½¬æˆä¸€ä¸ªbyte,æ”¾å…¥åˆ° huffmanCodeBytes</span>            huffmanCodeBytes<span class="token punctuation">[</span>index<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>strByte<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            index<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> huffmanCodeBytes<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å®Œæˆæ•°æ®çš„è§£å‹</span>    <span class="token comment">/**     * @param huffmanCodes èµ«å¤«æ›¼ç¼–ç è¡¨ map     * @param huffmanBytes èµ«å¤«æ›¼ç¼–ç å¾—åˆ°çš„å­—èŠ‚æ•°ç»„     * @return åŸæ¥çš„å­—ç¬¦ä¸²å¯¹åº”çš„æ•°ç»„     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">decode</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Byte</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> huffmanCodes<span class="token punctuation">,</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> huffmanBytes<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//è½¬æˆèµ«å¤«æ›¼ç¼–ç å¯¹åº”çš„å­—ç¬¦ä¸² "101010..."</span>        <span class="token class-name">StringBuilder</span> stringBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å°†byteæ•°ç»„è½¬æˆäºŒè¿›åˆ¶å­—ç¬¦ä¸²</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> huffmanBytes<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">byte</span> b <span class="token operator">=</span> huffmanBytes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">boolean</span> flag <span class="token operator">=</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> huffmanBytes<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            stringBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token function">byteToBitString</span><span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//è§£ç  æŠŠèµ«å¤«æ›¼ç¼–ç è¿›è¡Œè°ƒæ¢,å› ä¸ºåå‘æŸ¥è¯¢ a->100 100->a</span>        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Byte</span><span class="token punctuation">></span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Byte</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Byte</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> entry <span class="token operator">:</span> huffmanCodes<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//åˆ›å»ºä¸€ä¸ªé›†åˆ,å­˜æ”¾byte</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Byte</span><span class="token punctuation">></span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> stringBuilder<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">boolean</span> flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>            <span class="token class-name">Byte</span> b <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">String</span> key <span class="token operator">=</span> stringBuilder<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> i <span class="token operator">+</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// i ä¸åŠ¨,countç§»åŠ¨,ç›´åˆ°åŒ¹é…åˆ°ä¸€ä¸ªå­—ç¬¦</span>                b <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>b <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//æ²¡æœ‰åŒ¹é…åˆ°</span>                    count<span class="token operator">++</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>            i <span class="token operator">+=</span> count<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//for å¾ªç¯ç»“æŸ listä¸­å°±å­˜æ”¾äº†æ‰€æœ‰çš„å­—ç¬¦</span>        <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> b<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            b<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> b<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å®Œæˆå¯¹æ–‡ä»¶çš„å‹ç¼©</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">zipFile</span><span class="token punctuation">(</span><span class="token class-name">String</span> srcFile<span class="token punctuation">,</span> <span class="token class-name">String</span> dstFile<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">OutputStream</span> os <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token class-name">ObjectOutputStream</span> oos <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token class-name">FileInputStream</span> is <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            is <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>srcFile<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span>is<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            is<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> huffmanBytes <span class="token operator">=</span> <span class="token function">huffmanZip</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>            os <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>dstFile<span class="token punctuation">)</span><span class="token punctuation">;</span>            oos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectOutputStream</span><span class="token punctuation">(</span>os<span class="token punctuation">)</span><span class="token punctuation">;</span>            oos<span class="token punctuation">.</span><span class="token function">writeObject</span><span class="token punctuation">(</span>huffmanBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>            oos<span class="token punctuation">.</span><span class="token function">writeObject</span><span class="token punctuation">(</span>huffmanCodes<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                is<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                os<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                oos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å®Œæˆå¯¹æ–‡ä»¶çš„è§£å‹</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">unZipFile</span><span class="token punctuation">(</span><span class="token class-name">String</span> zipFile<span class="token punctuation">,</span> <span class="token class-name">String</span> dstFile<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">InputStream</span> is <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token class-name">OutputStream</span> os <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token class-name">ObjectInputStream</span> ois <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            is <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span>zipFile<span class="token punctuation">)</span><span class="token punctuation">;</span>            ois <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectInputStream</span><span class="token punctuation">(</span>is<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> huffmanBytes <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> ois<span class="token punctuation">.</span><span class="token function">readObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Byte</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> huffmanCodes <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Byte</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">)</span> ois<span class="token punctuation">.</span><span class="token function">readObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//è§£ç </span>            <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token function">decode</span><span class="token punctuation">(</span>huffmanCodes<span class="token punctuation">,</span> huffmanBytes<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å°†bytes æ•°ç»„å†™å…¥ç›®æ ‡æ–‡ä»¶</span>            os <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span>dstFile<span class="token punctuation">)</span><span class="token punctuation">;</span>            os<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                os<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                ois<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                is<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å°†ä¸€ä¸ªbyte è½¬æˆä¸€ä¸ªäºŒè¿›åˆ¶å­—ç¬¦ä¸²     *     * @param flag æ ‡å¿—æ˜¯å¦éœ€è¦è¡¥é«˜ä½ å¦‚æœæ˜¯true,è¡¨ç¤ºéœ€è¦ false ä¸éœ€è¦ (æœ€åä¸€ä¸ªå­—èŠ‚)     * @param b    ä¼ å…¥çš„byte     * @return è¯¥bå¯¹åº”çš„äºŒè¿›åˆ¶å­—ç¬¦ä¸²(æŒ‰è¡¥ç è¿”å›)     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">byteToBitString</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> flag<span class="token punctuation">,</span> <span class="token keyword">byte</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> temp <span class="token operator">=</span> b<span class="token punctuation">;</span> <span class="token comment">// å°† b è½¬æˆint</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            temp <span class="token operator">|=</span> <span class="token number">256</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">String</span> string <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toBinaryString</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¿”å›çš„æ˜¯tempå¯¹åº”çš„äºŒè¿›åˆ¶è¡¥ç </span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> string<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> string<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ç”Ÿæˆèµ«å¤«æ›¼æ ‘å¯¹åº”çš„èµ«å¤«æ›¼ç¼–ç </span>    <span class="token comment">//å°†èµ«å¤«æ›¼ç¼–ç å­˜æ”¾åœ¨Map&lt;Byte,String> å½¢å¼: 32->01 97->100</span>    <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Byte</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> huffmanCodes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Byte</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//åœ¨ç”Ÿæˆçš„èµ«å¤«æ›¼ç¼–ç è¡¨ç¤º,éœ€è¦å»æ‹¼æ¥è·¯å¾„,å®šä¹‰ä¸€ä¸ªStringBuilder,å­˜å‚¨æŸä¸ªå¶å­ç»“ç‚¹çš„è·¯å¾„</span>    <span class="token keyword">static</span> <span class="token class-name">StringBuilder</span> stringBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//é‡è½½ä¸€ä¸‹</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Byte</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> <span class="token function">getCodes</span><span class="token punctuation">(</span><span class="token class-name">Node</span> root<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å¤„ç†å·¦å­æ ‘</span>        <span class="token function">getCodes</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>left<span class="token punctuation">,</span> <span class="token string">"0"</span><span class="token punctuation">,</span> stringBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å¤„ç†å³å­æ ‘</span>        <span class="token function">getCodes</span><span class="token punctuation">(</span>root<span class="token punctuation">.</span>right<span class="token punctuation">,</span> <span class="token string">"1"</span><span class="token punctuation">,</span> stringBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> huffmanCodes<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * åŠŸèƒ½:å°†ä¼ å…¥çš„nodeç»“ç‚¹çš„æ‰€æœ‰å¶å­ç»“ç‚¹çš„èµ«å¤«æ›¼ç¼–ç å¾—åˆ°,å¹¶æ”¾å…¥åˆ°huffmanCodesé›†åˆ     *     * @param node          ä¼ å…¥ç»“ç‚¹     * @param code          è·¯å¾„:å·¦å­ç»“ç‚¹æ˜¯0,å³å­ç»“ç‚¹1     * @param stringBuilder ç”¨äºæ‹¼æ¥è·¯å¾„     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">getCodes</span><span class="token punctuation">(</span><span class="token class-name">Node</span> node<span class="token punctuation">,</span> <span class="token class-name">String</span> code<span class="token punctuation">,</span> <span class="token class-name">StringBuilder</span> stringBuilder<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">StringBuilder</span> stringBuilder2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span>stringBuilder<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å°†codeåŠ å…¥åˆ°stringBuilder2</span>        stringBuilder2<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>code<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¶å­èŠ‚ç‚¹è¿˜æ˜¯éå¶å­ç»“ç‚¹</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>data <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//éå¶å­ç»“ç‚¹</span>                <span class="token comment">//å‘å·¦é€’å½’</span>                <span class="token function">getCodes</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>left<span class="token punctuation">,</span> <span class="token string">"0"</span><span class="token punctuation">,</span> stringBuilder2<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//åƒå³é€’å½’</span>                <span class="token function">getCodes</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>right<span class="token punctuation">,</span> <span class="token string">"1"</span><span class="token punctuation">,</span> stringBuilder2<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token comment">//è¯´æ˜æ˜¯ä¸€ä¸ªå¶å­ç»“ç‚¹</span>                huffmanCodes<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>data<span class="token punctuation">,</span> stringBuilder2<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// å‰åºéå†çš„æ–¹æ³•</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token class-name">Node</span> root<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            root<span class="token punctuation">.</span><span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"èµ«å¤«æ›¼ç©ºæ ‘"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @param bytes æ¥æ”¶å­—èŠ‚æ•°ç»„     * @return è¿”å›æ•°æ˜¯List å½¢å¼     */</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Node</span><span class="token punctuation">></span></span> <span class="token function">getNodes</span><span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//åˆ›å»ºä¸€ä¸ªArrayList</span>        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Node</span><span class="token punctuation">></span></span> nodes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å­˜å‚¨æ¯ä¸€ä¸ªbyteå‡ºç°çš„æ¬¡æ•° ->map[key,value]</span>        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Byte</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">></span></span> counts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">byte</span> b <span class="token operator">:</span> bytes        <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Integer</span> count <span class="token operator">=</span> counts<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>count <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//map æ²¡æœ‰æ•°æ®</span>                counts<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                counts<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> count <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//æŠŠæ¯ä¸€ä¸ªé”®å€¼å¯¹è½¬æˆä¸€ä¸ªnodeå¯¹è±¡,å¹¶åŠ å…¥åˆ°nodesé›†åˆ  éå†map</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Byte</span><span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">></span></span> entry <span class="token operator">:</span> counts<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            nodes<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> entry<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> nodes<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//é€šè¿‡list,åˆ›å»ºå¯¹åº”çš„èµ«å¤«æ›¼æ ‘</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Node</span> <span class="token function">creatHuffmanTree</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Node</span><span class="token punctuation">></span></span> nodes<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>nodes<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//æ’åº</span>            <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>nodes<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"nodes = "</span> <span class="token operator">+</span> nodes<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å–å‡ºæ ¹èŠ‚ç‚¹æƒå€¼æœ€å°çš„ä¸¤é¢—äºŒå‰æ ‘</span>            <span class="token class-name">Node</span> leftNode <span class="token operator">=</span> nodes<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å–å‡ºæ ¹èŠ‚ç‚¹æƒå€¼ç¬¬äºŒå°çš„ä¸¤é¢—äºŒå‰æ ‘</span>            <span class="token class-name">Node</span> rightNode <span class="token operator">=</span> nodes<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//æ„å»ºä¸€é¢—æ–°çš„äºŒå‰æ ‘,ä»–çš„æ ¹ç»“ç‚¹æ²¡æœ‰data,åªæœ‰æƒå€¼</span>            <span class="token class-name">Node</span> parent <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> leftNode<span class="token punctuation">.</span>weight <span class="token operator">+</span> rightNode<span class="token punctuation">.</span>weight<span class="token punctuation">)</span><span class="token punctuation">;</span>            parent<span class="token punctuation">.</span>left <span class="token operator">=</span> leftNode<span class="token punctuation">;</span>            parent<span class="token punctuation">.</span>right <span class="token operator">=</span> rightNode<span class="token punctuation">;</span>            <span class="token comment">//ä»ArrayListåˆ é™¤å¤„ç†è¿‡çš„äºŒå‰æ ‘</span>            nodes<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>leftNode<span class="token punctuation">)</span><span class="token punctuation">;</span>            nodes<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>rightNode<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å°†æ–°çš„äºŒå‰æ ‘åŠ å…¥åˆ°nodes</span>            nodes<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>parent<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//æœ€åçš„ç»“ç‚¹å°±æ˜¯èµ«å¤«æ›¼æ ‘çš„æ ¹ç»“ç‚¹</span>        <span class="token keyword">return</span> nodes<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token keyword">implements</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Node</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>    <span class="token class-name">Byte</span> data<span class="token punctuation">;</span> <span class="token comment">//å­˜å‚¨æ•°æ®æœ¬èº«.'a' => 97 ' ' =>32</span>    <span class="token keyword">int</span> weight<span class="token punctuation">;</span> <span class="token comment">//æƒå€¼,å­—ç¬¦å‡ºç°çš„æ¬¡æ•°</span>    <span class="token class-name">Node</span> left<span class="token punctuation">;</span>    <span class="token class-name">Node</span> right<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token class-name">Byte</span> data<span class="token punctuation">,</span> <span class="token keyword">int</span> weight<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>data <span class="token operator">=</span> data<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>weight <span class="token operator">=</span> weight<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">Node</span> o<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>weight <span class="token operator">-</span> o<span class="token punctuation">.</span>weight<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"Node&#123;"</span> <span class="token operator">+</span>                <span class="token string">"data="</span> <span class="token operator">+</span> data <span class="token operator">+</span>                <span class="token string">", weight="</span> <span class="token operator">+</span> weight <span class="token operator">+</span>                <span class="token string">'&#125;'</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å‰åºéå†</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">preOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å­—ç¬¦ä¸²è¿è¡Œç»“æœ</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">å‹ç¼©åçš„ç»“æœ<span class="token operator">:</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">88</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">56</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">56</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">65</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">55</span><span class="token punctuation">,</span> <span class="token number">77</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">57</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">24</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">14</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">117</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">90</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">]</span>é•¿åº¦<span class="token operator">=</span> <span class="token number">17</span>è§£å‹ååŸæ¥çš„å­—ç¬¦ä¸²<span class="token operator">=</span>i like like like java <span class="token keyword">do</span> you like a java<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h3 id="6-äºŒå‰æ’åºæ ‘"><a href="#6-äºŒå‰æ’åºæ ‘" class="headerlink" title="6.äºŒå‰æ’åºæ ‘"></a>6.äºŒå‰æ’åºæ ‘</h3><p>äºŒå‰æ’åºæ ‘ï¼šBST: (Binary Sort(Search) Tree), å¯¹äºäºŒå‰æ’åºæ ‘çš„ä»»ä½•ä¸€ä¸ªéå¶å­èŠ‚ç‚¹ï¼Œè¦æ±‚å·¦å­èŠ‚ç‚¹çš„å€¼æ¯”å½“å‰èŠ‚ç‚¹çš„å€¼å°ï¼Œå³å­èŠ‚ç‚¹çš„å€¼æ¯”å½“å‰èŠ‚ç‚¹çš„å€¼å¤§ã€‚  å¦‚æœæœ‰ç›¸åŒçš„å€¼ï¼Œå¯ä»¥å°†è¯¥èŠ‚ç‚¹æ”¾åœ¨å·¦å­èŠ‚ç‚¹æˆ–å³å­èŠ‚ç‚¹</p><p><img src="https://img-blog.csdnimg.cn/00e7f5c89bea4dc79f56fe518b3bf7a5.png" alt="äºŒå‰æ’åºæ ‘"></p><p>ä»£ç å®ç°</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>tree<span class="token punctuation">.</span>binartSortTree</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/12 9:51 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BinarySortTreeDemo</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token class-name">BinarySortTree</span> binarySortTree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BinarySortTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            binarySortTree<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        binarySortTree<span class="token punctuation">.</span><span class="token function">infixOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        binarySortTree<span class="token punctuation">.</span><span class="token function">delNode</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"-----------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        binarySortTree<span class="token punctuation">.</span><span class="token function">infixOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//äºŒå‰æ’åºæ ‘</span><span class="token keyword">class</span> <span class="token class-name">BinarySortTree</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">Node</span> root<span class="token punctuation">;</span>    <span class="token comment">//æŸ¥æ‰¾è¦åˆ é™¤çš„ç»“ç‚¹</span>    <span class="token keyword">public</span> <span class="token class-name">Node</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> root<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æŸ¥æ‰¾çˆ¶ç»“ç‚¹</span>    <span class="token keyword">public</span> <span class="token class-name">Node</span> <span class="token function">searchParent</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> root<span class="token punctuation">.</span><span class="token function">searchParent</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @param node ä¼ å…¥çš„ç»“ç‚¹(å½“åšäºŒå‰æ’åºæ ‘çš„æ ¹ç»“ç‚¹)     * @return è¿”å›çš„ ä»¥node ä¸ºæ ¹ç»“ç‚¹çš„äºŒå‰æ’åºæ ‘çš„æœ€å°ç»“ç‚¹å€¼     * åˆ é™¤node ä¸ºæ ¹ç»“ç‚¹çš„äºŒå‰æ’åºæ ‘çš„æœ€å°ç»“ç‚¹     */</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">delRightTreeMin</span><span class="token punctuation">(</span><span class="token class-name">Node</span> node<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Node</span> target <span class="token operator">=</span> node<span class="token punctuation">;</span>        <span class="token comment">//å¾ªç¯æŸ¥æ‰¾å·¦å­ç»“ç‚¹,å°±ä¼šæ‰¾åˆ°æœ€å°å€¼</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            target <span class="token operator">=</span> target<span class="token punctuation">.</span>left<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//åˆ é™¤æœ€å°ç»“ç‚¹</span>        <span class="token function">delNode</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//åˆ é™¤ç»“ç‚¹</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">delNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Node</span> targetNode <span class="token operator">=</span> <span class="token function">search</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>targetNode <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>left <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> root<span class="token punctuation">.</span>right <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                root <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>                <span class="token keyword">return</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token class-name">Node</span> parent <span class="token operator">=</span> <span class="token function">searchParent</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//è¦åˆ é™¤çš„ç»“ç‚¹æ˜¯å¶å­ç»“ç‚¹</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>targetNode<span class="token punctuation">.</span>left <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> targetNode<span class="token punctuation">.</span>right <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> parent<span class="token punctuation">.</span>left<span class="token punctuation">.</span>value <span class="token operator">==</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//æ˜¯å·¦å­ç»“ç‚¹</span>                    parent<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> parent<span class="token punctuation">.</span>right<span class="token punctuation">.</span>value <span class="token operator">==</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    parent<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token comment">//è¦åˆ é™¤çš„ç»“ç‚¹æœ‰ä¸¤é¢—å­æ ‘</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>targetNode<span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> targetNode<span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">int</span> minVal <span class="token operator">=</span> <span class="token function">delRightTreeMin</span><span class="token punctuation">(</span>targetNode<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>                targetNode<span class="token punctuation">.</span>value <span class="token operator">=</span> minVal<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token comment">//åªæœ‰ä¸€é¢—å­æ ‘çš„ç»“ç‚¹</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>targetNode<span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>parent <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>left<span class="token punctuation">.</span>value <span class="token operator">==</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                            parent<span class="token punctuation">.</span>left <span class="token operator">=</span> targetNode<span class="token punctuation">.</span>left<span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                            parent<span class="token punctuation">.</span>right <span class="token operator">=</span> targetNode<span class="token punctuation">.</span>left<span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                        root <span class="token operator">=</span> targetNode<span class="token punctuation">.</span>left<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>left<span class="token punctuation">.</span>value <span class="token operator">==</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                            parent<span class="token punctuation">.</span>left <span class="token operator">=</span> targetNode<span class="token punctuation">.</span>right<span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                            parent<span class="token punctuation">.</span>right <span class="token operator">=</span> targetNode<span class="token punctuation">.</span>right<span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                        root <span class="token operator">=</span> targetNode<span class="token punctuation">.</span>right<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ·»åŠ ç»“ç‚¹</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Node</span> node<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            root <span class="token operator">=</span> node<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            root<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">infixOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            root<span class="token punctuation">.</span><span class="token function">infixOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"äºŒå‰æ’åºæ ‘ä¸ºç©ºï¼ä¸èƒ½éå†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> value<span class="token punctuation">;</span>    <span class="token class-name">Node</span> left<span class="token punctuation">;</span>    <span class="token class-name">Node</span> right<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æŸ¥æ‰¾è¦åˆ é™¤çš„èŠ‚ç‚¹     *     * @param value å¸Œæœ›åˆ é™¤çš„ç»“ç‚¹çš„å€¼     * @return å¦‚æœæ‰¾åˆ°è¿”å›è¯¥ç»“ç‚¹ï¼Œå¦åˆ™è¿”å›null     */</span>    <span class="token keyword">public</span> <span class="token class-name">Node</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æŸ¥æ‰¾è¦åˆ é™¤èŠ‚ç‚¹çš„çˆ¶ç»“ç‚¹     *     * @param value è¦æ‰¾åˆ°ç»“ç‚¹çš„å€¼     * @return è¿”å›è¦åˆ é™¤èŠ‚ç‚¹çš„çˆ¶ç»“ç‚¹ï¼Œå¦‚æœæ²¡æœ‰è¿”å›nul     */</span>    <span class="token keyword">public</span> <span class="token class-name">Node</span> <span class="token function">searchParent</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span>value <span class="token operator">==</span> value<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span>value <span class="token operator">==</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">searchParent</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">>=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">searchParent</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"Node&#123;"</span> <span class="token operator">+</span>                <span class="token string">"value="</span> <span class="token operator">+</span> value <span class="token operator">+</span>                <span class="token string">'&#125;'</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ·»åŠ ç»“ç‚¹</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Node</span> node<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">=</span> node<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">=</span> node<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ç¼–å†™ä¸­åºéå†</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">infixOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">infixOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">infixOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="7-å¹³è¡¡äºŒå‰æ ‘"><a href="#7-å¹³è¡¡äºŒå‰æ ‘" class="headerlink" title="7. å¹³è¡¡äºŒå‰æ ‘"></a>7. å¹³è¡¡äºŒå‰æ ‘</h3><ul><li><p>å¹³è¡¡äºŒå‰æ ‘ä¹Ÿå«å¹³è¡¡äºŒå‰æ’åº(æœç´¢)æ ‘ï¼ˆSelf-balancing binary search treeï¼‰åˆè¢«ç§°ä¸ºAVLæ ‘ï¼Œ å¯ä»¥<strong>ä¿è¯æŸ¥è¯¢æ•ˆç‡è¾ƒé«˜</strong>ã€‚</p></li><li><p>å…·æœ‰ä»¥ä¸‹<strong>ç‰¹ç‚¹</strong>ï¼šå®ƒæ˜¯ä¸€ æ£µç©ºæ ‘æˆ–å®ƒçš„å·¦å³ä¸¤ä¸ªå­æ ‘çš„é«˜åº¦å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1ï¼Œå¹¶ä¸”å·¦å³ä¸¤ä¸ªå­æ ‘éƒ½æ˜¯ä¸€æ£µå¹³è¡¡äºŒå‰æ ‘ã€‚å¹³è¡¡äºŒå‰æ ‘çš„å¸¸ç”¨å®ç°æ–¹æ³•æœ‰<a href="https://baike.baidu.com/item/%E7%BA%A2%E9%BB%91%E6%A0%91/2413209">çº¢é»‘æ ‘</a>ã€<a href="https://baike.baidu.com/item/AVL/7543015">AVL</a>ã€<a href="https://baike.baidu.com/item/%E6%9B%BF%E7%BD%AA%E7%BE%8A%E6%A0%91/13859070">æ›¿ç½ªç¾Šæ ‘</a>ã€<a href="https://baike.baidu.com/item/Treap">Treap</a>ã€<a href="https://baike.baidu.com/item/%E4%BC%B8%E5%B1%95%E6%A0%91/7003945">ä¼¸å±•æ ‘</a>ç­‰ã€‚</p></li></ul><p><img src="https://img-blog.csdnimg.cn/dda5bc0ab06944ef8b5949a493192d23.png" alt="eg"></p><p><img src="https://img-blog.csdnimg.cn/66c187d4e742460e8086e11e7e580d03.jpg" alt="å·¦å³æ—‹è½¬"></p><p>ä»£ç å®ç°</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>tree<span class="token punctuation">.</span>avlTree</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/12 18:35 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AVLTreeDemo</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//  int [] arr = &#123;4,3,6,5,7,8&#125;;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token class-name">AVLTree</span> avlTree <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AVLTree</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            avlTree<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        avlTree<span class="token punctuation">.</span><span class="token function">infixOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>avlTree<span class="token punctuation">.</span><span class="token function">getRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>avlTree<span class="token punctuation">.</span><span class="token function">getRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">leftHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>avlTree<span class="token punctuation">.</span><span class="token function">getRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rightHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">AVLTree</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">Node</span> root<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">Node</span> <span class="token function">getRoot</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> root<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>        <span class="token comment">//æŸ¥æ‰¾è¦åˆ é™¤çš„ç»“ç‚¹</span>    <span class="token keyword">public</span> <span class="token class-name">Node</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> root<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æŸ¥æ‰¾çˆ¶ç»“ç‚¹</span>    <span class="token keyword">public</span> <span class="token class-name">Node</span> <span class="token function">searchParent</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> root<span class="token punctuation">.</span><span class="token function">searchParent</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * @param node ä¼ å…¥çš„ç»“ç‚¹(å½“åšäºŒå‰æ’åºæ ‘çš„æ ¹ç»“ç‚¹)     * @return è¿”å›çš„ ä»¥node ä¸ºæ ¹ç»“ç‚¹çš„äºŒå‰æ’åºæ ‘çš„æœ€å°ç»“ç‚¹å€¼     * åˆ é™¤node ä¸ºæ ¹ç»“ç‚¹çš„äºŒå‰æ’åºæ ‘çš„æœ€å°ç»“ç‚¹     */</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">delRightTreeMin</span><span class="token punctuation">(</span><span class="token class-name">Node</span> node<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Node</span> target <span class="token operator">=</span> node<span class="token punctuation">;</span>        <span class="token comment">//å¾ªç¯æŸ¥æ‰¾å·¦å­ç»“ç‚¹,å°±ä¼šæ‰¾åˆ°æœ€å°å€¼</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>target<span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            target <span class="token operator">=</span> target<span class="token punctuation">.</span>left<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//åˆ é™¤æœ€å°ç»“ç‚¹</span>        <span class="token function">delNode</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> target<span class="token punctuation">.</span>value<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//åˆ é™¤ç»“ç‚¹</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">delNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Node</span> targetNode <span class="token operator">=</span> <span class="token function">search</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>targetNode <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>root<span class="token punctuation">.</span>left <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> root<span class="token punctuation">.</span>right <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                root <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>                <span class="token keyword">return</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token class-name">Node</span> parent <span class="token operator">=</span> <span class="token function">searchParent</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//è¦åˆ é™¤çš„ç»“ç‚¹æ˜¯å¶å­ç»“ç‚¹</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>targetNode<span class="token punctuation">.</span>left <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> targetNode<span class="token punctuation">.</span>right <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> parent<span class="token punctuation">.</span>left<span class="token punctuation">.</span>value <span class="token operator">==</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//æ˜¯å·¦å­ç»“ç‚¹</span>                    parent<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> parent<span class="token punctuation">.</span>right<span class="token punctuation">.</span>value <span class="token operator">==</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    parent<span class="token punctuation">.</span>right <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token comment">//è¦åˆ é™¤çš„ç»“ç‚¹æœ‰ä¸¤é¢—å­æ ‘</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>targetNode<span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> targetNode<span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">int</span> minVal <span class="token operator">=</span> <span class="token function">delRightTreeMin</span><span class="token punctuation">(</span>targetNode<span class="token punctuation">.</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>                targetNode<span class="token punctuation">.</span>value <span class="token operator">=</span> minVal<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token comment">//åªæœ‰ä¸€é¢—å­æ ‘çš„ç»“ç‚¹</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>targetNode<span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>parent <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>left<span class="token punctuation">.</span>value <span class="token operator">==</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                            parent<span class="token punctuation">.</span>left <span class="token operator">=</span> targetNode<span class="token punctuation">.</span>left<span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                            parent<span class="token punctuation">.</span>right <span class="token operator">=</span> targetNode<span class="token punctuation">.</span>left<span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                        root <span class="token operator">=</span> targetNode<span class="token punctuation">.</span>left<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>parent <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">if</span> <span class="token punctuation">(</span>parent<span class="token punctuation">.</span>left<span class="token punctuation">.</span>value <span class="token operator">==</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                            parent<span class="token punctuation">.</span>left <span class="token operator">=</span> targetNode<span class="token punctuation">.</span>right<span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                            parent<span class="token punctuation">.</span>right <span class="token operator">=</span> targetNode<span class="token punctuation">.</span>right<span class="token punctuation">;</span>                        <span class="token punctuation">&#125;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                        root <span class="token operator">=</span> targetNode<span class="token punctuation">.</span>right<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ·»åŠ ç»“ç‚¹</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Node</span> node<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            root <span class="token operator">=</span> node<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            root<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">infixOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>root <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            root<span class="token punctuation">.</span><span class="token function">infixOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"äºŒå‰æ’åºæ ‘ä¸ºç©ºï¼ä¸èƒ½éå†"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> value<span class="token punctuation">;</span>    <span class="token class-name">Node</span> left<span class="token punctuation">;</span>    <span class="token class-name">Node</span> right<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">Node</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//è¿”å›å·¦å­æ ‘çš„é«˜åº¦</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">leftHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> left<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//è¿”å›å³å­æ ‘çš„é«˜åº¦</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">rightHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>right <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> right<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//è¿”å›ä»¥è¯¥ç»“ç‚¹ä¸ºæ ¹ç»“ç‚¹çš„é«˜åº¦</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>left <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> left<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> right <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> right<span class="token punctuation">.</span><span class="token function">height</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å·¦æ—‹è½¬æ–¹æ³•</span>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">leftRotate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//åˆ›å»ºæ–°ç»“ç‚¹,ä»¥å½“å‰ç»“ç‚¹çš„å€¼</span>        <span class="token class-name">Node</span> newNode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æŠŠæ–°çš„ç»“ç‚¹çš„å·¦å­æ ‘è®¾ç½®æˆå½“å‰ç»“ç‚¹çš„å·¦å­æ ‘</span>        newNode<span class="token punctuation">.</span>left <span class="token operator">=</span> left<span class="token punctuation">;</span>        <span class="token comment">//æŠŠæ–°çš„ç»“ç‚¹çš„å³å­æ ‘è®¾ç½®æˆå½“å‰ç»“ç‚¹çš„å³å­æ ‘çš„å·¦å­æ ‘</span>        newNode<span class="token punctuation">.</span>right <span class="token operator">=</span> right<span class="token punctuation">.</span>left<span class="token punctuation">;</span>        <span class="token comment">//æŠŠå½“å‰ç»“ç‚¹çš„å€¼æ›¿æ¢æˆå³å­ç»“ç‚¹çš„å€¼</span>        value <span class="token operator">=</span> right<span class="token punctuation">.</span>value<span class="token punctuation">;</span>        <span class="token comment">//æŠŠå½“å‰ç»“ç‚¹çš„å³å­æ ‘è®¾ç½®æˆå½“å‰ç»“ç‚¹å³å­æ ‘çš„å³å­æ ‘</span>        right <span class="token operator">=</span> right<span class="token punctuation">.</span>right<span class="token punctuation">;</span>        <span class="token comment">//æŠŠå½“å‰ç»“ç‚¹çš„å·¦å­æ ‘(ç»“ç‚¹)è®¾ç½®æˆæ–°çš„ç»“ç‚¹</span>        left <span class="token operator">=</span> newNode<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å³æ—‹è½¬æ–¹æ³•</span>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">rightRotate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Node</span> newNode <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ–°ç»“ç‚¹çš„å³å­æ ‘è®¾ç½®æˆå½“å‰ç»“ç‚¹çš„å³å­æ ‘</span>        newNode<span class="token punctuation">.</span>right <span class="token operator">=</span> right<span class="token punctuation">;</span>        <span class="token comment">//æ–°ç»“ç‚¹çš„å·¦å­æ ‘è®¾ç½®æˆå½“å‰ç»“ç‚¹çš„å·¦å­æ ‘çš„å³å­æ ‘</span>        newNode<span class="token punctuation">.</span>left <span class="token operator">=</span> left<span class="token punctuation">.</span>right<span class="token punctuation">;</span>        <span class="token comment">//å½“å‰ç»“ç‚¹çš„å€¼æ¢ä¸ºå·¦å­ç»“ç‚¹çš„å€¼</span>        value <span class="token operator">=</span> left<span class="token punctuation">.</span>value<span class="token punctuation">;</span>        <span class="token comment">//å½“å‰ç»“ç‚¹çš„å·¦å­æ ‘è®¾ç½®æˆå·¦å­æ ‘çš„å·¦å­æ ‘</span>        left <span class="token operator">=</span> left<span class="token punctuation">.</span>left<span class="token punctuation">;</span>        <span class="token comment">///å½“å‰ç»“ç‚¹çš„å³å­æ ‘è®¾ç½®ä¸ºæ–°ç»“ç‚¹</span>        right <span class="token operator">=</span> newNode<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æŸ¥æ‰¾è¦åˆ é™¤çš„èŠ‚ç‚¹     *     * @param value å¸Œæœ›åˆ é™¤çš„ç»“ç‚¹çš„å€¼     * @return å¦‚æœæ‰¾åˆ°è¿”å›è¯¥ç»“ç‚¹ï¼Œå¦åˆ™è¿”å›null     */</span>    <span class="token keyword">public</span> <span class="token class-name">Node</span> <span class="token function">search</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">==</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æŸ¥æ‰¾è¦åˆ é™¤èŠ‚ç‚¹çš„çˆ¶ç»“ç‚¹     *     * @param value è¦æ‰¾åˆ°ç»“ç‚¹çš„å€¼     * @return è¿”å›è¦åˆ é™¤èŠ‚ç‚¹çš„çˆ¶ç»“ç‚¹ï¼Œå¦‚æœæ²¡æœ‰è¿”å›nul     */</span>    <span class="token keyword">public</span> <span class="token class-name">Node</span> <span class="token function">searchParent</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span>value <span class="token operator">==</span> value<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span>value <span class="token operator">==</span> value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">searchParent</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">>=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">searchParent</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"Node&#123;"</span> <span class="token operator">+</span>                <span class="token string">"value="</span> <span class="token operator">+</span> value <span class="token operator">+</span>                <span class="token string">'&#125;'</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ·»åŠ ç»“ç‚¹</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">Node</span> node<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>node <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>value <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">=</span> node<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">=</span> node<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">// 1.å½“ç¬¦åˆå³æ—‹è½¬çš„æ¡ä»¶æ—¶</span>        <span class="token comment">// 2.å¦‚æœå®ƒçš„å·¦å­æ ‘çš„çš„å³å­æ ‘é«˜åº¦å¤§äºå®ƒçš„å·¦å­æ ‘çš„é«˜åº¦</span>        <span class="token comment">// 3.å…ˆå¯¹å½“å‰è¿™ä¸ªç»“ç‚¹çš„å·¦èŠ‚ç‚¹è¿›è¡Œå·¦æ—‹è½¬</span>        <span class="token comment">// 4.å†å¯¹å½“å‰ç»“ç‚¹è¿›è¡Œå³æ—‹è½¬çš„æ“ä½œå³å¯</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">rightHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">leftHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//å·¦æ—‹è½¬</span>            <span class="token comment">//å¦‚æœå®ƒçš„å³å­æ ‘çš„å·¦å­æ ‘çš„é«˜åº¦å¤§äºå®ƒçš„å³å­æ ‘çš„å³å­æ ‘çš„é«˜åº¦</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>right <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> right<span class="token punctuation">.</span><span class="token function">leftHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> right<span class="token punctuation">.</span><span class="token function">rightHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//å…ˆå¯¹å³å­ç»“ç‚¹è¿›è¡Œå³è½¬ç§»</span>                right<span class="token punctuation">.</span><span class="token function">rightRotate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//ç„¶åå†å¯¹å½“å‰ç»“ç‚¹è¿›è¡Œå·¦è½¬ç§»</span>                <span class="token function">leftRotate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token function">leftRotate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">leftHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">rightHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//å³æ—‹è½¬</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> left<span class="token punctuation">.</span><span class="token function">rightHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">></span> left<span class="token punctuation">.</span><span class="token function">leftHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//å…ˆå¯¹å½“å‰è¿™ä¸ªç»“ç‚¹çš„å·¦èŠ‚ç‚¹è¿›è¡Œå·¦æ—‹è½¬</span>                left<span class="token punctuation">.</span><span class="token function">leftRotate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token function">rightRotate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token function">rightRotate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ç¼–å†™ä¸­åºéå†</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">infixOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>left<span class="token punctuation">.</span><span class="token function">infixOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>right <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">this</span><span class="token punctuation">.</span>right<span class="token punctuation">.</span><span class="token function">infixOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å¤šè·¯æŸ¥æ‰¾æ ‘"><a href="#å¤šè·¯æŸ¥æ‰¾æ ‘" class="headerlink" title="å¤šè·¯æŸ¥æ‰¾æ ‘"></a>å¤šè·¯æŸ¥æ‰¾æ ‘</h3><h4 id="1-å¤šå‰æ ‘"><a href="#1-å¤šå‰æ ‘" class="headerlink" title="1. å¤šå‰æ ‘"></a>1. å¤šå‰æ ‘</h4><ul><li>åœ¨äºŒå‰æ ‘ä¸­ï¼Œæ¯ä¸ªèŠ‚ç‚¹æœ‰æ•°æ®é¡¹ï¼Œæœ€å¤šæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹ã€‚å¦‚æœ<strong>å…è®¸æ¯ä¸ªèŠ‚ç‚¹å¯ä»¥æœ‰æ›´å¤šçš„æ•°æ®é¡¹å’Œæ›´å¤šçš„å­èŠ‚ç‚¹</strong>ï¼Œå°±æ˜¯<strong>å¤šå‰æ ‘</strong></li></ul><h4 id="2-Bæ ‘"><a href="#2-Bæ ‘" class="headerlink" title="2. Bæ ‘"></a>2. Bæ ‘</h4><ul><li>Bæ ‘é€šè¿‡é‡æ–°ç»„ç»‡èŠ‚ç‚¹ï¼Œé™ä½æ ‘çš„é«˜åº¦ï¼Œå¹¶ä¸”å‡å°‘i/oè¯»å†™æ¬¡æ•°æ¥æå‡æ•ˆç‡  </li><li>Bæ ‘çš„é˜¶ï¼šèŠ‚ç‚¹çš„æœ€å¤šå­èŠ‚ç‚¹ä¸ªæ•°ã€‚æ¯”å¦‚2-3æ ‘çš„é˜¶æ˜¯3ï¼Œ2-3-4æ ‘çš„é˜¶æ˜¯4</li><li>B-æ ‘çš„æœç´¢ï¼Œä»æ ¹ç»“ç‚¹å¼€å§‹ï¼Œå¯¹ç»“ç‚¹å†…çš„å…³é”®å­—ï¼ˆæœ‰åºï¼‰åºåˆ—è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ï¼Œå¦‚æœå‘½ä¸­åˆ™ç»“æŸï¼Œå¦åˆ™è¿›å…¥æŸ¥è¯¢å…³é”®å­—æ‰€å±èŒƒå›´çš„å„¿å­ç»“ç‚¹ï¼›é‡å¤ï¼Œç›´åˆ°æ‰€å¯¹åº”çš„å„¿å­æŒ‡é’ˆä¸ºç©ºï¼Œæˆ–å·²ç»æ˜¯å¶å­ç»“ç‚¹</li><li>å…³é”®å­—é›†åˆåˆ†å¸ƒåœ¨æ•´é¢—æ ‘ä¸­, å³å¶å­èŠ‚ç‚¹å’Œéå¶å­èŠ‚ç‚¹éƒ½å­˜æ”¾æ•°æ®.</li><li>æœç´¢æœ‰å¯èƒ½åœ¨éå¶å­ç»“ç‚¹ç»“æŸ</li><li>å…¶æœç´¢æ€§èƒ½ç­‰ä»·äºåœ¨å…³é”®å­—å…¨é›†å†…åšä¸€æ¬¡äºŒåˆ†æŸ¥æ‰¾</li></ul><p><img src="https://img-blog.csdnimg.cn/a385deda670f48569e2ecf8e1b4e39ee.png" alt="Bæ ‘"></p><h5 id="2-1-2-3æ ‘åŸºæœ¬ä»‹ç»"><a href="#2-1-2-3æ ‘åŸºæœ¬ä»‹ç»" class="headerlink" title="2.1 2-3æ ‘åŸºæœ¬ä»‹ç»"></a>2.1 2-3æ ‘åŸºæœ¬ä»‹ç»</h5><ul><li><p>2-3æ ‘çš„æ‰€æœ‰å¶å­èŠ‚ç‚¹éƒ½åœ¨åŒä¸€å±‚.(åªè¦æ˜¯Bæ ‘éƒ½æ»¡è¶³è¿™ä¸ªæ¡ä»¶)</p></li><li><p>æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹çš„èŠ‚ç‚¹å«äºŒèŠ‚ç‚¹ï¼ŒäºŒèŠ‚ç‚¹è¦ä¹ˆæ²¡æœ‰å­èŠ‚ç‚¹ï¼Œè¦ä¹ˆæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹.</p></li><li><p>æœ‰ä¸‰ä¸ªå­èŠ‚ç‚¹çš„èŠ‚ç‚¹å«ä¸‰èŠ‚ç‚¹ï¼Œä¸‰èŠ‚ç‚¹è¦ä¹ˆæ²¡æœ‰å­èŠ‚ç‚¹ï¼Œè¦ä¹ˆæœ‰ä¸‰ä¸ªå­èŠ‚ç‚¹.</p></li><li><p>2-3æ ‘æ˜¯ç”±äºŒèŠ‚ç‚¹å’Œä¸‰èŠ‚ç‚¹æ„æˆçš„æ ‘ã€‚</p></li><li><p>æ’å…¥è§„åˆ™:</p><ul><li><p>2-3æ ‘çš„æ‰€æœ‰å¶å­èŠ‚ç‚¹éƒ½åœ¨åŒä¸€å±‚.(åªè¦æ˜¯Bæ ‘éƒ½æ»¡è¶³è¿™ä¸ªæ¡ä»¶)</p></li><li><p>æœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹çš„èŠ‚ç‚¹å«äºŒèŠ‚ç‚¹ï¼ŒäºŒèŠ‚ç‚¹è¦ä¹ˆæ²¡æœ‰å­èŠ‚ç‚¹ï¼Œè¦ä¹ˆæœ‰ä¸¤ä¸ªå­èŠ‚ç‚¹.</p></li><li><p>æœ‰ä¸‰ä¸ªå­èŠ‚ç‚¹çš„èŠ‚ç‚¹å«ä¸‰èŠ‚ç‚¹ï¼Œä¸‰èŠ‚ç‚¹è¦ä¹ˆæ²¡æœ‰å­èŠ‚ç‚¹ï¼Œè¦ä¹ˆæœ‰ä¸‰ä¸ªå­èŠ‚ç‚¹</p></li><li><p>å½“æŒ‰ç…§è§„åˆ™æ’å…¥ä¸€ä¸ªæ•°åˆ°æŸä¸ªèŠ‚ç‚¹æ—¶ï¼Œä¸èƒ½æ»¡è¶³ä¸Šé¢ä¸‰ä¸ªè¦æ±‚ï¼Œå°±éœ€è¦æ‹†ï¼Œå…ˆå‘ä¸Šæ‹†ï¼Œå¦‚æœä¸Šå±‚æ»¡ï¼Œåˆ™æ‹†æœ¬å±‚ï¼Œæ‹†åä»ç„¶éœ€è¦æ»¡è¶³ä¸Šé¢3ä¸ªæ¡ä»¶ã€‚ </p></li><li><p>å¯¹äºä¸‰èŠ‚ç‚¹çš„å­æ ‘çš„å€¼å¤§å°ä»ç„¶éµå®ˆ(BST äºŒå‰æ’åºæ ‘)çš„è§„åˆ™</p></li></ul></li></ul><p><img src="https://img-blog.csdnimg.cn/2fdcf1746da94cf1b85391a64ef05a85.png" alt="2-3æ ‘"></p><h4 id="3-B-æ ‘"><a href="#3-B-æ ‘" class="headerlink" title="3. B+æ ‘"></a>3. B+æ ‘</h4><ul><li><p>B+æ ‘çš„æœç´¢ä¸Bæ ‘ä¹ŸåŸºæœ¬ç›¸åŒï¼ŒåŒºåˆ«æ˜¯B+æ ‘åªæœ‰è¾¾åˆ°å¶å­ç»“ç‚¹æ‰å‘½ä¸­ï¼ˆBæ ‘å¯ä»¥åœ¨éå¶å­ç»“ç‚¹å‘½ä¸­ï¼‰ï¼Œå…¶æ€§èƒ½ä¹Ÿç­‰ä»·äºåœ¨å…³é”®å­—å…¨é›†åšä¸€æ¬¡äºŒåˆ†æŸ¥æ‰¾</p></li><li><p>æ‰€æœ‰<strong>å…³é”®å­—éƒ½å‡ºç°åœ¨å¶å­ç»“ç‚¹çš„é“¾è¡¨ä¸­</strong>ï¼ˆå³æ•°æ®åªèƒ½åœ¨å¶å­èŠ‚ç‚¹ã€ä¹Ÿå«ç¨ å¯†ç´¢å¼•ã€‘ï¼‰ï¼Œä¸”é“¾è¡¨ä¸­çš„å…³é”®å­—(æ•°æ®)æ°å¥½æ˜¯æœ‰åºçš„ã€‚</p></li><li><p>ä¸å¯èƒ½åœ¨éå¶å­ç»“ç‚¹å‘½ä¸­</p></li><li><p>éå¶å­ç»“ç‚¹ç›¸å½“äºæ˜¯å¶å­ç»“ç‚¹çš„ç´¢å¼•ï¼ˆç¨€ç–ç´¢å¼•ï¼‰ï¼Œå¶å­ç»“ç‚¹ç›¸å½“äºæ˜¯å­˜å‚¨ï¼ˆå…³é”®å­—ï¼‰æ•°æ®çš„æ•°æ®å±‚</p></li><li><p>æ›´é€‚åˆæ–‡ä»¶ç´¢å¼•ç³»ç»Ÿ</p></li><li><p>Bæ ‘å’ŒB+æ ‘å„æœ‰è‡ªå·±çš„åº”ç”¨åœºæ™¯ï¼Œä¸èƒ½è¯´B+æ ‘<strong>å®Œå…¨æ¯”</strong>Bæ ‘å¥½ï¼Œåä¹‹äº¦ç„¶.</p></li></ul><p><img src="https://img-blog.csdnimg.cn/6e6cc37542f4416f991d9ba1744dfc15.png" alt="B+æ ‘"></p><h4 id="4-B-æ ‘"><a href="#4-B-æ ‘" class="headerlink" title="4. B*æ ‘"></a>4. B*æ ‘</h4><ul><li>B*æ ‘å®šä¹‰äº†éå¶å­ç»“ç‚¹å…³é”®å­—ä¸ªæ•°è‡³å°‘ä¸º(2/3)*Mï¼Œå³å—çš„æœ€ä½ä½¿ç”¨ç‡ä¸º2/3ï¼Œè€ŒB+æ ‘çš„å—çš„æœ€ä½ä½¿ç”¨ç‡ä¸ºB+æ ‘çš„1/2ã€‚</li><li>ä»ç¬¬1ä¸ªç‰¹ç‚¹æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼ŒB*æ ‘åˆ†é…æ–°ç»“ç‚¹çš„æ¦‚ç‡æ¯”B+æ ‘è¦ä½ï¼Œç©ºé—´ä½¿ç”¨ç‡æ›´é«˜</li></ul><p><img src="https://img-blog.csdnimg.cn/b2d68c1dd4f94fd993548864f7b1bb83.png" alt="B*æ ‘"></p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„å’Œç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaæ•°æ®ç»“æ„å’Œç®—æ³•(å››)</title>
      <link href="/2021-10-02-java-shu-ju-jie-gou-he-suan-fa-si.html"/>
      <url>/2021-10-02-java-shu-ju-jie-gou-he-suan-fa-si.html</url>
      
        <content type="html"><![CDATA[<h3 id="æŸ¥æ‰¾"><a href="#æŸ¥æ‰¾" class="headerlink" title="æŸ¥æ‰¾"></a><center>æŸ¥æ‰¾</h3><h4 id="1-1-çº¿æ€§æŸ¥æ‰¾"><a href="#1-1-çº¿æ€§æŸ¥æ‰¾" class="headerlink" title="1.1 çº¿æ€§æŸ¥æ‰¾"></a>1.1 çº¿æ€§æŸ¥æ‰¾</h4><p>ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>search</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/3 16:19 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SeqSearch</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">62</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token function">seqSearch</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ‰¾åˆ°äº†ä¸‹æ ‡ä¸º:"</span> <span class="token operator">+</span> index<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ²¡æœ‰æ‰¾åˆ°"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">seqSearch</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//çº¿æ€§æŸ¥æ‰¾é€ä¸€å¯¹æ¯”,å‘ç°æœ‰ç›¸åŒå€¼å°±è¿”å›ä¸‹æ ‡</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> i<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">æ‰¾åˆ°äº†ä¸‹æ ‡ä¸º<span class="token operator">:</span><span class="token number">4</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="1-2-äºŒåˆ†æŸ¥æ‰¾"><a href="#1-2-äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="1.2 äºŒåˆ†æŸ¥æ‰¾"></a>1.2 äºŒåˆ†æŸ¥æ‰¾</h4><p>ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>search</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/4 13:19 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BinarySearch</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1625</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> i <span class="token operator">=</span> <span class="token function">binarySearch</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ArrayList="</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> <span class="token function">binarySearch</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">,</span> <span class="token keyword">int</span> findval<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//å½“left > right è¯´æ˜æ²¡æœ‰æ‰¾åˆ°</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">></span> right<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> midvalue <span class="token operator">=</span> arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>findval <span class="token operator">></span> midvalue<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//å‘å³é€’å½’</span>            <span class="token keyword">return</span> <span class="token function">binarySearch</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">,</span> findval<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>findval <span class="token operator">&lt;</span> midvalue<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token function">binarySearch</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> left<span class="token punctuation">,</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> findval<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//1.åœ¨æ‰¾åˆ°midçš„ç´¢å¼•å€¼,ä¸è¦é©¬ä¸Šè¿”å›</span>            <span class="token comment">//2.å‘midå·¦è¾¹æ‰«æ,å°†æ‰€æœ‰æ»¡è¶³çš„å…ƒç´ çš„ä¸‹æ ‡æ”¾å…¥åˆ°é›†åˆArrayListä¸­</span>            <span class="token comment">//3.å‘midå³è¾¹æ‰«æ,å°†æ‰€æœ‰æ»¡è¶³çš„å…ƒç´ çš„ä¸‹æ ‡æ”¾å…¥åˆ°é›†åˆArrayListä¸­</span>            <span class="token comment">//4.è¿”å›ArrayLis</span>            <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> resIndexList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å‘å·¦æ‰«æ</span>            <span class="token keyword">int</span> temp <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>temp <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> arr<span class="token punctuation">[</span>temp<span class="token punctuation">]</span> <span class="token operator">!=</span> findval<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    resIndexList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>                    temp <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                resIndexList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>mid<span class="token punctuation">)</span><span class="token punctuation">;</span>                temp <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>temp <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">||</span> arr<span class="token punctuation">[</span>temp<span class="token punctuation">]</span> <span class="token operator">!=</span> findval<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    resIndexList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>                    temp <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">return</span> resIndexList<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">ArrayList</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="1-3-æ’å€¼æŸ¥æ‰¾"><a href="#1-3-æ’å€¼æŸ¥æ‰¾" class="headerlink" title="1.3 æ’å€¼æŸ¥æ‰¾"></a>1.3 æ’å€¼æŸ¥æ‰¾</h4><ul><li><p>æ’å€¼æŸ¥æ‰¾ç®—æ³•ç±»ä¼¼äºäºŒåˆ†æŸ¥æ‰¾ï¼Œä¸åŒçš„æ˜¯æ’å€¼æŸ¥æ‰¾æ¯æ¬¡ä»<strong>è‡ªé€‚åº”****mid</strong>å¤„å¼€å§‹æŸ¥æ‰¾ã€‚</p></li><li><p>å°†æŠ˜åŠæŸ¥æ‰¾ä¸­çš„æ±‚mid ç´¢å¼•çš„å…¬å¼ , low è¡¨ç¤ºå·¦è¾¹ç´¢å¼•left, highè¡¨ç¤ºå³è¾¹ç´¢å¼•right. key å°±æ˜¯å‰é¢æˆ‘ä»¬è®²çš„ findVal</p><p><img src="https://img-blog.csdnimg.cn/9ef76a13213741cda4beebcd41c793b1.png" alt="äºŒåˆ†=&gt;æ’å€¼"></p></li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">int</span> mid <span class="token operator">=</span> low <span class="token operator">+</span> <span class="token punctuation">(</span>high <span class="token operator">-</span> low<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>key <span class="token operator">-</span> arr<span class="token punctuation">[</span>low<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>high<span class="token punctuation">]</span> <span class="token operator">-</span> arr<span class="token punctuation">[</span>low<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">;</span><span class="token comment">/*æ’å€¼ç´¢å¼•*/</span>å¯¹åº”å‰é¢çš„ä»£ç å…¬å¼ï¼š <span class="token keyword">int</span> mid <span class="token operator">=</span> left <span class="token operator">+</span> <span class="token punctuation">(</span>right â€“ left<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>findVal â€“ arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>right<span class="token punctuation">]</span> â€“ arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>search</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/4 14:18 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InsertValueSearch</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"index = "</span><span class="token operator">+</span><span class="token function">insertValueSearch</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>arr<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//System.out.println(Arrays.toString(arr));</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">insertValueSearch</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">,</span> <span class="token keyword">int</span> findVal<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//æ³¨æ„findVal &lt; arr[0] å’Œ findVal > arr[arr.length - 1] å¿…é¡»æœ‰ å¦åˆ™å¯èƒ½è¶Šç•Œ</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>left <span class="token operator">></span> right <span class="token operator">||</span> findVal <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> findVal <span class="token operator">></span> arr<span class="token punctuation">[</span>arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> mid <span class="token operator">=</span> left <span class="token operator">+</span> <span class="token punctuation">(</span>right <span class="token operator">-</span> left<span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>findVal <span class="token operator">-</span> arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>right<span class="token punctuation">]</span> <span class="token operator">-</span> arr<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> midValue <span class="token operator">=</span> arr<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>findVal <span class="token operator">></span> midValue<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token function">insertValueSearch</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> right<span class="token punctuation">,</span> findVal<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>findVal <span class="token operator">&lt;</span> midValue<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token function">insertValueSearch</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> left<span class="token punctuation">,</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> findVal<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> mid<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">index <span class="token operator">=</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="1-4-æ–æ³¢é‚£å¥‘-é»„é‡‘åˆ†å‰²-æŸ¥æ‰¾"><a href="#1-4-æ–æ³¢é‚£å¥‘-é»„é‡‘åˆ†å‰²-æŸ¥æ‰¾" class="headerlink" title="1.4 æ–æ³¢é‚£å¥‘(é»„é‡‘åˆ†å‰²)æŸ¥æ‰¾"></a>1.4 æ–æ³¢é‚£å¥‘(é»„é‡‘åˆ†å‰²)æŸ¥æ‰¾</h4><p>åŸç†:</p><p>æ–æ³¢é‚£å¥‘æŸ¥æ‰¾åŸç†ä¸å‰ä¸¤ç§ç›¸ä¼¼ï¼Œä»…ä»…æ”¹å˜äº†ä¸­é—´ç»“ç‚¹ï¼ˆmidï¼‰çš„ä½ç½®ï¼Œmidä¸å†æ˜¯ä¸­é—´æˆ–æ’å€¼å¾—åˆ°ï¼Œè€Œæ˜¯ä½äºé»„é‡‘åˆ†å‰²ç‚¹é™„è¿‘ï¼Œå³mid=low+F(k-1)-1ï¼ˆFä»£è¡¨æ–æ³¢é‚£å¥‘æ•°åˆ—ï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p><p><img src="https://img-blog.csdnimg.cn/49c1b593a8c54e52bfd97284e13a3136.png" alt="æ–æ³¢é‚£å¥‘æŸ¥æ‰¾åŸç†ç¤ºæ„å›¾"></p><p>å¯¹F(k-1)-1çš„ç†è§£ï¼š</p><ul><li>ç”±æ–æ³¢é‚£å¥‘æ•°åˆ— F[k]=F[k-1]+F[k-2] çš„æ€§è´¨ï¼Œå¯ä»¥å¾—åˆ° ï¼ˆF[k]-1ï¼‰=ï¼ˆF[k-1]-1ï¼‰+ï¼ˆF[k-2]-1ï¼‰+1 ã€‚è¯¥å¼è¯´æ˜ï¼šåªè¦é¡ºåºè¡¨çš„é•¿åº¦ä¸ºF[k]-1ï¼Œåˆ™å¯ä»¥å°†è¯¥è¡¨åˆ†æˆé•¿åº¦ä¸ºF[k-1]-1å’ŒF[k-2]-1çš„ä¸¤æ®µï¼Œå³å¦‚ä¸Šå›¾æ‰€ç¤ºã€‚ä»è€Œä¸­é—´ä½ç½®ä¸ºmid=low+F(k-1)-1</li><li>ç±»ä¼¼çš„ï¼Œæ¯ä¸€å­æ®µä¹Ÿå¯ä»¥ç”¨ç›¸åŒçš„æ–¹å¼åˆ†å‰²</li><li>ä½†é¡ºåºè¡¨é•¿åº¦nä¸ä¸€å®šåˆšå¥½ç­‰äºF[k]-1ï¼Œæ‰€ä»¥éœ€è¦å°†åŸæ¥çš„é¡ºåºè¡¨é•¿åº¦nå¢åŠ è‡³F[k]-1ã€‚è¿™é‡Œçš„kå€¼åªè¦èƒ½ä½¿å¾—F[k]-1æ°å¥½å¤§äºæˆ–ç­‰äºnå³å¯ï¼Œç”±ä»¥ä¸‹ä»£ç å¾—åˆ°,é¡ºåºè¡¨é•¿åº¦å¢åŠ åï¼Œæ–°å¢çš„ä½ç½®ï¼ˆä»n+1åˆ°F[k]-1ä½ç½®ï¼‰ï¼Œéƒ½èµ‹ä¸ºnä½ç½®çš„å€¼å¯ã€‚</li></ul><p>ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>search</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/4 14:43 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FibonacciSearch</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> maxSize <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">1234</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"index= "</span> <span class="token operator">+</span> <span class="token function">fibSearch</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å› ä¸ºåé¢mid = low+F(k-1)-1,éœ€è¦ä½¿ç”¨æ–æ³¢é‚£å¥‘æ•°åˆ—,æ‰€ä»¥å…ˆè·å–ä¸€ä¸ªæ–æ³¢é‚£å¥‘æ•°åˆ—</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">fib</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>maxSize<span class="token punctuation">]</span><span class="token punctuation">;</span>        f<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        f<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> maxSize<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            f<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> f<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> f<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ç¼–å†™æ–æ³¢é‚£å¥‘æŸ¥æ‰¾ç®—æ³•(éé€’å½’)</span>    <span class="token comment">/**     * @param a   æ•°ç»„     * @param key éœ€è¦æŸ¥æ‰¾çš„å…³é”®ç ï¼ˆå€¼ï¼‰     * @return è¿”å›å¯¹åº”çš„ä¸‹æ ‡ æ²¡æœ‰è¿”å›-1     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">fibSearch</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> low <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> high <span class="token operator">=</span> a<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">// æ–æ³¢é‚£å¥‘æ•°ç»„ä¸‹æ ‡</span>        <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//å­˜æ”¾midå€¼</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> f <span class="token operator">=</span> <span class="token function">fib</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è·å–åˆ°æ–æ³¢é‚£å¥‘æ•°åˆ—</span>        <span class="token comment">//è·å–åˆ°æ–æ³¢é‚£å¥‘æ•°ç»„çš„ä¸‹æ ‡</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>high <span class="token operator">></span> f<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//ç”¨highå’Œ f[k]ä¸­çš„å€¼æ¯”è¾ƒ(1, 1, 2, 3, 5, 8, 13, 21, 34, 55)  > è¡¨ç¤ºè¿˜æ²¡æ‰¾åˆ°</span>            k<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å› ä¸ºf[k] å€¼å¯èƒ½å¤§äºaçš„é•¿åº¦,å› æ­¤æˆ‘ä»¬éœ€è¦ä½¿ç”¨Arraysç±»,æ„é€ ä¸€ä¸ªæ–°çš„æ•°ç»„,å¹¶æŒ‡å‘temp[],ä¸è¶³çš„éƒ¨åˆ†ç”¨0è¡¥é½</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> temp <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">copyOf</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> f<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å®é™…ä¸Šæ˜¯ç”¨aæ•°ç»„æœ€åçš„æ•°å¡«å……temp eg:temp = &#123;1, 8, 20, 89, 1000, 1234,0,0&#125; => temp = &#123;1, 8, 20, 89, 1000, 1234,1234,&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> high <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> temp<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> a<span class="token punctuation">[</span>high<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//æ‰¾åˆ° key</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>low <span class="token operator">&lt;=</span> high<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            mid <span class="token operator">=</span> low <span class="token operator">+</span> f<span class="token punctuation">[</span>k <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">&lt;</span> temp<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//å‘æ•°ç»„çš„å‰é¢æŸ¥æ‰¾</span>                high <span class="token operator">=</span> mid <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token comment">//è¯´æ˜ 1.å…¨éƒ¨å…ƒç´  = å‰é¢çš„å…ƒç´ +åé¢çš„å…ƒç´ </span>                <span class="token comment">//2. f[k]+f[k-1]+f[k-2]</span>                <span class="token comment">//å› ä¸ºå‰é¢æœ‰f[k-1]ä¸ªå…ƒç´ ,æ‰€ä»¥å¯ä»¥ç»§ç»­æ‹†åˆ† f[k-1] = f[k-2]+f[k-3]</span>                <span class="token comment">//å³ f[k-1]çš„å‰é¢ç»§ç»­æŸ¥æ‰¾ k-- å³ä¸‹æ¬¡å¾ªç¯mid =low+ f[k-1-1]-1</span>                k<span class="token operator">--</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">></span> temp<span class="token punctuation">[</span>mid<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// åé¢æŸ¥æ‰¾</span>                low <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>                <span class="token comment">//è¯´æ˜ 1.å…¨éƒ¨å…ƒç´  = å‰é¢çš„å…ƒç´ +åé¢çš„å…ƒç´ </span>                <span class="token comment">//2. f[k]+f[k-1]+f[k-2]</span>                <span class="token comment">//å› ä¸ºå‰é¢æœ‰f[k-2]ä¸ªå…ƒç´ ,æ‰€ä»¥å¯ä»¥ç»§ç»­æ‹†åˆ† f[k-2] = f[k-3]+f[k-4]</span>                <span class="token comment">//å³ f[k-2]çš„å‰é¢ç»§ç»­æŸ¥æ‰¾ k-=2 å³ä¸‹æ¬¡å¾ªç¯mid =low+ f[k-1-2]-1</span>                k <span class="token operator">-=</span> <span class="token number">2</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token comment">//æ‰¾åˆ°</span>                <span class="token comment">//éœ€è¦ç¡®å®šè¿”å›çš„æ˜¯å“ªä¸ªä¸‹è¡¨</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>mid <span class="token operator">&lt;=</span> high<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> mid<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> high<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">nidex<span class="token operator">=</span> <span class="token number">3</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„å’Œç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaæ•°æ®ç»“æ„å’Œç®—æ³•(ä¸‰)</title>
      <link href="/2021-10-01-java-shu-ju-jie-gou-he-suan-fa-san.html"/>
      <url>/2021-10-01-java-shu-ju-jie-gou-he-suan-fa-san.html</url>
      
        <content type="html"><![CDATA[<h3 id="æ’åºç®—æ³•"><a href="#æ’åºç®—æ³•" class="headerlink" title="æ’åºç®—æ³•"></a><center>æ’åºç®—æ³•</h3><ul><li><p>æ’åºä¹Ÿç§°æ’åºç®—æ³•(Sort Algorithm)ï¼Œæ’åºæ˜¯å°†ä¸€ç»„æ•°æ®ï¼Œä¾æŒ‡å®šçš„é¡ºåºè¿›è¡Œæ’åˆ—çš„è¿‡ç¨‹ã€‚</p></li><li><p>æ’åºçš„åˆ†ç±»ï¼š</p><ul><li>å†…éƒ¨æ’åº:æŒ‡å°†éœ€è¦å¤„ç†çš„æ‰€æœ‰æ•°æ®éƒ½åŠ è½½åˆ°å†…éƒ¨å­˜å‚¨å™¨ä¸­è¿›è¡Œæ’åºã€‚</li><li>å¤–éƒ¨æ’åºæ³•ï¼šæ•°æ®é‡è¿‡å¤§ï¼Œæ— æ³•å…¨éƒ¨åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œéœ€è¦å€ŸåŠ©å¤–éƒ¨å­˜å‚¨è¿›è¡Œæ’åºã€‚</li></ul></li></ul><p><img src="https://img-blog.csdnimg.cn/4fb4f5bc04d740bcb85bb978b600a3a7.png" alt="å¸¸è§æ’åºåˆ†ç±»"></p><h3 id="1-ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦"><a href="#1-ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦" class="headerlink" title="1.ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦"></a>1.ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦</h3><h4 id="1-1-åº¦é‡ä¸€ä¸ªç¨‹åº-ç®—æ³•-æ‰§è¡Œæ—¶é—´çš„ä¸¤ç§æ–¹æ³•"><a href="#1-1-åº¦é‡ä¸€ä¸ªç¨‹åº-ç®—æ³•-æ‰§è¡Œæ—¶é—´çš„ä¸¤ç§æ–¹æ³•" class="headerlink" title="1.1 åº¦é‡ä¸€ä¸ªç¨‹åº(ç®—æ³•)æ‰§è¡Œæ—¶é—´çš„ä¸¤ç§æ–¹æ³•:"></a>1.1 åº¦é‡ä¸€ä¸ªç¨‹åº(ç®—æ³•)æ‰§è¡Œæ—¶é—´çš„ä¸¤ç§æ–¹æ³•:</h4><ul><li>äº‹åç»Ÿè®¡çš„æ–¹æ³• è¿™ç§æ–¹æ³•å¯è¡Œ, ä½†æ˜¯æœ‰ä¸¤ä¸ªé—®é¢˜ï¼šä¸€æ˜¯è¦æƒ³å¯¹è®¾è®¡çš„ç®—æ³•çš„è¿è¡Œæ€§èƒ½è¿›è¡Œè¯„æµ‹ï¼Œéœ€è¦å®é™…è¿è¡Œè¯¥ç¨‹åºï¼›äºŒæ˜¯æ‰€å¾—æ—¶é—´çš„ç»Ÿè®¡é‡ä¾èµ–äºè®¡ç®—æœºçš„ç¡¬ä»¶ã€è½¯ä»¶ç­‰ç¯å¢ƒå› ç´ , <strong>è¿™ç§æ–¹å¼ï¼Œè¦åœ¨åŒä¸€å°è®¡ç®—æœºçš„ç›¸åŒçŠ¶æ€ä¸‹è¿è¡Œï¼Œæ‰èƒ½æ¯”è¾ƒé‚£ä¸ªç®—æ³•</strong>é€Ÿåº¦æ›´å¿«ã€‚</li><li>äº‹å‰ä¼°ç®—çš„æ–¹æ³•é€šè¿‡åˆ†ææŸä¸ªç®—æ³•çš„<strong>æ—¶é—´å¤æ‚åº¦</strong>æ¥åˆ¤æ–­å“ªä¸ªç®—æ³•æ›´ä¼˜.</li></ul><h4 id="1-2-æ—¶é—´é¢‘åº¦"><a href="#1-2-æ—¶é—´é¢‘åº¦" class="headerlink" title="1.2 æ—¶é—´é¢‘åº¦"></a>1.2 æ—¶é—´é¢‘åº¦</h4><p>æ—¶é—´é¢‘åº¦<strong>ï¼šä¸€ä¸ªç®—æ³•èŠ±è´¹çš„æ—¶é—´ä¸ç®—æ³•ä¸­è¯­å¥çš„æ‰§è¡Œæ¬¡æ•°æˆæ­£æ¯”ä¾‹ï¼Œå“ªä¸ªç®—æ³•ä¸­è¯­å¥æ‰§è¡Œæ¬¡æ•°å¤šï¼Œå®ƒèŠ±è´¹æ—¶é—´å°±å¤šã€‚</strong>ä¸€ä¸ªç®—æ³•ä¸­çš„è¯­å¥æ‰§è¡Œæ¬¡æ•°ç§°ä¸ºè¯­å¥é¢‘åº¦æˆ–æ—¶é—´é¢‘åº¦**ã€‚è®°ä¸ºT(n)ã€‚</p><h4 id="1-3-æ—¶é—´å¤æ‚åº¦"><a href="#1-3-æ—¶é—´å¤æ‚åº¦" class="headerlink" title="1.3 æ—¶é—´å¤æ‚åº¦"></a>1.3 æ—¶é—´å¤æ‚åº¦</h4><ul><li><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç®—æ³•ä¸­çš„åŸºæœ¬æ“ä½œè¯­å¥çš„é‡å¤æ‰§è¡Œæ¬¡æ•°æ˜¯é—®é¢˜è§„æ¨¡nçš„æŸä¸ªå‡½æ•°ï¼Œç”¨T(n)è¡¨ç¤ºï¼Œè‹¥æœ‰æŸä¸ªè¾…åŠ©å‡½æ•°f(n)ä½¿å¾—å½“nè¶‹è¿‘äºæ— ç©·å¤§æ—¶ï¼ŒT(n) / f(n) çš„æé™å€¼ä¸ºä¸ç­‰äºé›¶çš„å¸¸æ•°ï¼Œåˆ™ç§°f(n)æ˜¯T(n)çš„åŒæ•°é‡çº§å‡½æ•°ã€‚è®°ä½œ T(n)=ï¼¯( f(n))ï¼Œç§°ï¼¯( f(n) ) ä¸ºç®—æ³•çš„æ¸è¿›æ—¶é—´å¤æ‚åº¦ï¼Œç®€ç§°æ—¶é—´å¤æ‚åº¦ã€‚</p></li><li><p>T(n) ä¸åŒï¼Œä½†æ—¶é—´å¤æ‚åº¦å¯èƒ½ç›¸åŒã€‚ å¦‚ï¼šT(n)=nÂ²+7n+6 ä¸ T(n)=3nÂ²+2n+2 å®ƒä»¬çš„T(n) ä¸åŒï¼Œä½†æ—¶é—´å¤æ‚åº¦ç›¸åŒï¼Œéƒ½ä¸ºO(nÂ²)ã€‚</p></li><li><p>è®¡ç®—æ—¶é—´å¤æ‚åº¦çš„æ–¹æ³•ï¼š</p><ul><li>ç”¨å¸¸æ•°1ä»£æ›¿è¿è¡Œæ—¶é—´ä¸­çš„æ‰€æœ‰åŠ æ³•å¸¸æ•° T(n)=nÂ²+7n+6  =&gt; T(n)=nÂ²+7n+1</li><li>ä¿®æ”¹åçš„è¿è¡Œæ¬¡æ•°å‡½æ•°ä¸­ï¼Œåªä¿ç•™æœ€é«˜é˜¶é¡¹ T(n)=nÂ²+7n+1 =&gt; T(n) = nÂ²</li><li>å»é™¤æœ€é«˜é˜¶é¡¹çš„ç³»æ•° T(n) = nÂ² =&gt; T(n) = nÂ² =&gt; O(nÂ²)</li><li>ç®€å•æ¥è¯´æ˜¯å¿½ç•¥å¸¸æ•°é¡¹,ç³»æ•°é¡¹å’Œä½æ¬¡æ•°é¡¹,åªè€ƒè™‘æœ€é«˜æ¬¡é¡¹</li></ul></li></ul><h4 id="1-4-å¸¸è§çš„æ—¶é—´å¤æ‚åº¦"><a href="#1-4-å¸¸è§çš„æ—¶é—´å¤æ‚åº¦" class="headerlink" title="1.4 å¸¸è§çš„æ—¶é—´å¤æ‚åº¦"></a>1.4 å¸¸è§çš„æ—¶é—´å¤æ‚åº¦</h4><ul><li>å¸¸æ•°é˜¶O(1)</li></ul><p><img src="https://img-blog.csdnimg.cn/66dad9c2234243e89fa2a72e26ad1f3b.png" alt="å¸¸ç†Ÿé˜¶"></p><ul><li><p>å¯¹æ•°é˜¶O(log2n)</p><p><img src="https://img-blog.csdnimg.cn/0c9067a732f148159a943eca3df22578.png" alt="å¯¹æ•°é˜¶"></p></li><li><p>çº¿æ€§é˜¶O(n)</p></li></ul><p><img src="https://img-blog.csdnimg.cn/6bdf246c7b714db980d58860e21ce45b.png" alt="çº¿æ€§é˜¶"></p><ul><li>çº¿æ€§å¯¹æ•°é˜¶O(nlog2n)</li></ul><p><img src="https://img-blog.csdnimg.cn/eb1d292b3acc4d849fbf211a2b0daa91.png" alt="çº¿æ€§å¯¹æ•°é˜¶"></p><ul><li>å¹³æ–¹é˜¶O(n^2)</li></ul><p><img src="https://img-blog.csdnimg.cn/78bf930c1a3943b6a852fa74cbeadc26.png" alt="å¹³æ–¹é˜¶"></p><ul><li><p>ç«‹æ–¹é˜¶O(n^3)</p></li><li><p>kæ¬¡æ–¹é˜¶O(n^k)</p></li><li><p>æŒ‡æ•°é˜¶O(2^n)</p></li></ul><p><img src="https://img-blog.csdnimg.cn/9f38a76e16594a7698239cc57de2ede9.png" alt="å¸¸è§çš„æ—¶é—´å¤æ‚åº¦"></p><ul><li><p>å¸¸è§çš„ç®—æ³•æ—¶é—´å¤æ‚åº¦ç”±å°åˆ°å¤§ä¾æ¬¡ä¸ºï¼šÎŸ(1)ï¼œÎŸ(log2n)ï¼œÎŸ(n)ï¼œÎŸ(nlog2n)ï¼œÎŸ(n2)ï¼œÎŸ(n3)ï¼œ ÎŸ(nk) ï¼œÎŸ(2n) ï¼Œéšç€é—®é¢˜è§„æ¨¡nçš„ä¸æ–­å¢å¤§ï¼Œä¸Šè¿°æ—¶é—´å¤æ‚åº¦ä¸æ–­å¢å¤§ï¼Œç®—æ³•çš„æ‰§è¡Œæ•ˆç‡è¶Šä½ </p></li><li><p>ä»å›¾ä¸­å¯è§ï¼Œæˆ‘ä»¬åº”è¯¥å°½å¯èƒ½é¿å…ä½¿ç”¨æŒ‡æ•°é˜¶çš„ç®—æ³•</p></li></ul><h4 id="1-5-å¹³å‡æ—¶é—´å¤æ‚åº¦å’Œæœ€åæ—¶é—´å¤æ‚åº¦"><a href="#1-5-å¹³å‡æ—¶é—´å¤æ‚åº¦å’Œæœ€åæ—¶é—´å¤æ‚åº¦" class="headerlink" title="1.5 å¹³å‡æ—¶é—´å¤æ‚åº¦å’Œæœ€åæ—¶é—´å¤æ‚åº¦"></a>1.5 å¹³å‡æ—¶é—´å¤æ‚åº¦å’Œæœ€åæ—¶é—´å¤æ‚åº¦</h4><ul><li><p>å¹³å‡æ—¶é—´å¤æ‚åº¦æ˜¯æŒ‡æ‰€æœ‰å¯èƒ½çš„è¾“å…¥å®ä¾‹å‡ä»¥ç­‰æ¦‚ç‡å‡ºç°çš„æƒ…å†µä¸‹ï¼Œè¯¥ç®—æ³•çš„è¿è¡Œæ—¶é—´ã€‚</p></li><li><p>æœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ç§°æœ€åæ—¶é—´å¤æ‚åº¦ã€‚ä¸€èˆ¬è®¨è®ºçš„æ—¶é—´å¤æ‚åº¦å‡æ˜¯æœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ã€‚ è¿™æ ·åšçš„åŸå› æ˜¯ï¼šæœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦æ˜¯ç®—æ³•åœ¨ä»»ä½•è¾“å…¥å®ä¾‹ä¸Šè¿è¡Œæ—¶é—´çš„ç•Œé™ï¼Œè¿™å°±ä¿è¯äº†ç®—æ³•çš„è¿è¡Œæ—¶é—´ä¸ä¼šæ¯”æœ€åæƒ…å†µæ›´é•¿ã€‚ </p></li><li><p>å¹³å‡æ—¶é—´å¤æ‚åº¦å’Œæœ€åæ—¶é—´å¤æ‚åº¦æ˜¯å¦ä¸€è‡´ï¼Œå’Œç®—æ³•æœ‰å…³(å¦‚å›¾:)ã€‚</p></li></ul><p><img src="https://img-blog.csdnimg.cn/bd2c667a76244282866b63b6b64bc46e.png" alt="å¹³å‡æ—¶é—´å¤æ‚åº¦å’Œæœ€åæ—¶é—´å¤æ‚åº¦"></p><h3 id="2-ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦"><a href="#2-ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦" class="headerlink" title="2 ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦"></a>2 ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦</h3><ul><li><p>ç±»ä¼¼äºæ—¶é—´å¤æ‚åº¦çš„è®¨è®ºï¼Œä¸€ä¸ªç®—æ³•çš„ç©ºé—´å¤æ‚åº¦(Space Complexity)å®šä¹‰ä¸ºè¯¥ç®—æ³•æ‰€è€—è´¹çš„å­˜å‚¨ç©ºé—´ï¼Œå®ƒä¹Ÿæ˜¯é—®é¢˜è§„æ¨¡nçš„å‡½æ•°ã€‚</p></li><li><p>ç©ºé—´å¤æ‚åº¦(Space Complexity)æ˜¯å¯¹ä¸€ä¸ªç®—æ³•åœ¨è¿è¡Œè¿‡ç¨‹ä¸­ä¸´æ—¶å ç”¨å­˜å‚¨ç©ºé—´å¤§å°çš„é‡åº¦ã€‚æœ‰çš„ç®—æ³•éœ€è¦å ç”¨çš„ä¸´æ—¶å·¥ä½œå•å…ƒæ•°ä¸è§£å†³é—®é¢˜çš„è§„æ¨¡næœ‰å…³ï¼Œå®ƒéšç€nçš„å¢å¤§è€Œå¢å¤§ï¼Œå½“nè¾ƒå¤§æ—¶ï¼Œå°†å ç”¨è¾ƒå¤šçš„å­˜å‚¨å•å…ƒï¼Œä¾‹å¦‚å¿«é€Ÿæ’åºå’Œå½’å¹¶æ’åºç®—æ³•å°±å±äºè¿™ç§æƒ…å†µ</p></li><li><p> åœ¨åšç®—æ³•åˆ†ææ—¶ï¼Œ<strong>ä¸»è¦è®¨è®ºçš„æ˜¯æ—¶é—´å¤æ‚åº¦</strong>ã€‚ä»ç”¨æˆ·ä½¿ç”¨ä½“éªŒä¸Šçœ‹ï¼Œæ›´çœ‹é‡çš„ç¨‹åºæ‰§è¡Œçš„é€Ÿåº¦ã€‚ä¸€äº›ç¼“å­˜äº§å“(redis, memcache)å’Œç®—æ³•(åŸºæ•°æ’åº)æœ¬è´¨å°±æ˜¯ç”¨ç©ºé—´æ¢æ—¶é—´.</p></li></ul><h3 id="3-å…«ç§æ’åº"><a href="#3-å…«ç§æ’åº" class="headerlink" title="3 å…«ç§æ’åº"></a>3 å…«ç§æ’åº</h3><h4 id="3-1-å†’æ³¡æ’åº"><a href="#3-1-å†’æ³¡æ’åº" class="headerlink" title="3.1 å†’æ³¡æ’åº"></a>3.1 å†’æ³¡æ’åº</h4><ul><li>å†’æ³¡æ’åºï¼ˆBubble Sortingï¼‰çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼šé€šè¿‡å¯¹å¾… æ’åºåºåˆ—ä»å‰å‘åï¼ˆä»ä¸‹æ ‡è¾ƒå°çš„å…ƒç´ å¼€å§‹ï¼‰,ä¾æ¬¡æ¯”è¾ƒ ç›¸é‚»å…ƒç´ çš„å€¼ï¼Œè‹¥å‘ç°é€†åºåˆ™äº¤æ¢ï¼Œä½¿å€¼è¾ƒå¤§ çš„å…ƒç´ é€æ¸ä»å‰ç§»å‘åéƒ¨ï¼Œå°±è±¡æ°´åº•ä¸‹çš„æ°”æ³¡ä¸€æ ·é€æ¸ å‘ä¸Šå†’ã€‚</li><li> å› ä¸ºæ’åºçš„è¿‡ç¨‹ä¸­ï¼Œå„å…ƒç´ ä¸æ–­æ¥è¿‘è‡ªå·±çš„ä½ç½®ï¼Œå¦‚æœä¸€è¶Ÿæ¯”è¾ƒä¸‹ æ¥æ²¡æœ‰è¿›è¡Œè¿‡äº¤æ¢ï¼Œå°±è¯´æ˜åºåˆ—æœ‰åºï¼Œå› æ­¤è¦åœ¨æ’åºè¿‡ç¨‹ä¸­è®¾ç½® ä¸€ä¸ªæ ‡å¿—flagåˆ¤æ–­å…ƒç´ æ˜¯å¦è¿›è¡Œè¿‡äº¤æ¢ã€‚ä»è€Œå‡å°‘ä¸å¿…è¦çš„æ¯”è¾ƒã€‚</li><li>è§„åˆ™å°æ€»: <ul><li>ä¸€å…±è¿›è¡Œæ•°ç»„çš„å¤§å°-1æ¬¡å¾ªç¯</li><li>æ¯æ¬¡æ’åºçš„æ¬¡æ•°åœ¨é€æ¸åœ°å‡å°‘</li></ul></li></ul><p>ä»£ç å®ç°å¹¶ä¼˜åŒ–:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>sort</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">SimpleDateFormat</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/1 18:12 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">BubbleSort</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//int[] arr = &#123;3, 9, -1, 11, -5,&#125;;</span>        <span class="token comment">//System.out.println("æ’åºå‰" + Arrays.toString(arr));</span>        <span class="token comment">//æµ‹è¯•å†’æ³¡æ’åºçš„é€Ÿåº¦ O(n^2) ,ç»™80000ä¸ªæ•°æ®æµ‹è¯•</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">80000</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">8000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ’åºå‰çš„æ—¶é—´æ˜¯:"</span><span class="token operator">+</span>simpleDateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">bubbleSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//System.out.println("æ’åºå" + Arrays.toString(arr));</span>        <span class="token class-name">Date</span> date2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ’åºåçš„æ—¶é—´æ˜¯:"</span><span class="token operator">+</span>simpleDateFormat2<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">/*        //ç¬¬äºŒè¶Ÿæ’åº,å°±æ˜¯å°†å€’æ•°ç¬¬äºŒå¤§çš„æ’åˆ°å€’æ•°ç¬¬äºŒä½        for (int i = 0; i &lt; arr.length - 1 - 1; i++) &#123;            if (arr[i] > arr[i + 1]) &#123;                temp = arr[i];                arr[i] = arr[i + 1];                arr[i + 1] = temp;            &#125;        &#125;        System.out.println("ç¬¬äºŒè¶Ÿæ’åºåçš„æ•°ç»„" + Arrays.toString(arr));        //ç¬¬ä¸‰è¶Ÿæ’åº,å°±æ˜¯å°†å€’æ•°ç¬¬ä¸‰å¤§çš„æ’åˆ°å€’æ•°ç¬¬ä¸‰ä½        for (int i = 0; i &lt; arr.length - 1 - 2; i++) &#123;            if (arr[i] > arr[i + 1]) &#123;                temp = arr[i];                arr[i] = arr[i + 1];                arr[i + 1] = temp;            &#125;        &#125;        System.out.println("ç¬¬ä¸‰è¶Ÿæ’åºåçš„æ•°ç»„" + Arrays.toString(arr));        //ç¬¬å››è¶Ÿæ’åº,å°±æ˜¯å°†å€’æ•°ç¬¬å››å¤§çš„æ’åˆ°å€’æ•°ç¬¬å››ä½        for (int i = 0; i &lt; arr.length - 1 - 3; i++) &#123;            if (arr[i] > arr[i + 1]) &#123;                temp = arr[i];                arr[i] = arr[i + 1];                arr[i + 1] = temp;            &#125;        &#125;        System.out.println("ç¬¬å››è¶Ÿæ’åºåçš„æ•°ç»„" + Arrays.toString(arr));        */</span>    <span class="token punctuation">&#125;</span><span class="token comment">//å†’æ³¡æ’åºæ–¹æ³•</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">bubbleSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//å†’æ³¡æ’åºæ—¶é—´å¤æ‚åº¦: O(n^2)</span>        <span class="token keyword">int</span> temp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">boolean</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//æ ‡è¯†ç¬¦ è¡¨ç¤ºæ˜¯å¦å‘ç”Ÿè¿‡äº¤æ¢</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token operator">-</span> j<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> arr<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                    temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>                    arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                    arr<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>flag<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// åœ¨ä¸€æ¬¡æ’åºä¸­æ²¡æœ‰å‘ç”Ÿè¿‡äº¤æ¢</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">// é‡ç½®flag!!!,è¿›è¡Œä¸‹æ¬¡åˆ¤æ–­</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">ç¬¬ä¸€è¶Ÿæ’åºåçš„æ•°ç»„<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span>ç¬¬äºŒè¶Ÿæ’åºåçš„æ•°ç»„<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span>ç¬¬ä¸‰è¶Ÿæ’åºåçš„æ•°ç»„<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span>ç¬¬å››è¶Ÿæ’åºåçš„æ•°ç»„<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span>    æ’åºå‰<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">]</span>æ’åºå<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">11</span><span class="token punctuation">]</span>æ’åºå‰çš„æ—¶é—´æ˜¯<span class="token operator">:</span><span class="token number">2021</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">48</span><span class="token operator">:</span><span class="token number">46</span>æ’åºåçš„æ—¶é—´æ˜¯<span class="token operator">:</span><span class="token number">2021</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">18</span><span class="token operator">:</span><span class="token number">48</span><span class="token operator">:</span><span class="token number">55</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="3-2-é€‰æ‹©æ’åº"><a href="#3-2-é€‰æ‹©æ’åº" class="headerlink" title="3.2 é€‰æ‹©æ’åº"></a>3.2 é€‰æ‹©æ’åº</h4><ul><li>é€‰æ‹©å¼æ’åºä¹Ÿå±äºå†…éƒ¨æ’åºæ³•ï¼Œæ˜¯ä»æ¬²æ’åºçš„æ•°æ®ä¸­ï¼ŒæŒ‰æŒ‡å®šçš„è§„åˆ™é€‰å‡ºæŸä¸€å…ƒç´ ï¼Œå†ä¾è§„å®šäº¤æ¢ä½ç½®åè¾¾åˆ°æ’åºçš„ç›®çš„ã€‚</li></ul><p>å®ƒçš„<font color="red">åŸºæœ¬æ€æƒ³</font>æ˜¯ï¼šç¬¬ä¸€æ¬¡ä»arr[0]-arr[n-1]ä¸­é€‰å–æœ€å°å€¼ï¼Œä¸arr[0]äº¤æ¢ï¼Œç¬¬äºŒæ¬¡ä»arr[1]-arr[n-1]ä¸­é€‰å–æœ€å°å€¼ï¼Œä¸arr[1]äº¤æ¢ï¼Œç¬¬ä¸‰æ¬¡ä»arr[2]-arr[n-1]ä¸­é€‰å–æœ€å°å€¼ï¼Œä¸arr[2]äº¤æ¢ï¼Œâ€¦ï¼Œç¬¬iæ¬¡ä»arr[i-1]-arr[n-1]ä¸­é€‰å–æœ€å°å€¼ï¼Œä¸arr[i-1]äº¤æ¢ï¼Œâ€¦, ç¬¬n-1æ¬¡ä»arr[n-2]-arr[n-1]ä¸­é€‰å–æœ€å°å€¼ï¼Œä¸arr[n-2]äº¤æ¢ï¼Œæ€»å…±é€šè¿‡n-1æ¬¡ï¼Œå¾—åˆ°ä¸€ä¸ªæŒ‰æ’åºç ä»å°åˆ°å¤§æ’åˆ—çš„æœ‰åºåºåˆ—ã€‚</p><p><img src="https://img-blog.csdnimg.cn/6ca83b7cf2cb423a837ed32996ca9625.png" alt="é€‰æ‹©æ’åºæ€è·¯åˆ†æå›¾"></p><p>é€æ­¥æ¨å¯¼ä»£ç æ¼”ç¤º:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>sort</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/1 22:18 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SelectSort</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">101</span><span class="token punctuation">,</span><span class="token number">34</span><span class="token punctuation">,</span><span class="token number">119</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ’åºå‰:"</span><span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">selectSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">selectSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//ç¬¬ä¸€è½®</span>        <span class="token keyword">int</span> minIndex  <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> min <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length <span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>min <span class="token operator">></span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">//è¯´æ˜å‡å®šçš„æœ€å°å€¼ä¸æ˜¯æœ€å°å€¼</span>                min <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//é‡ç½®min</span>                minIndex <span class="token operator">=</span> j<span class="token punctuation">;</span> <span class="token comment">// é‡ç½®minindex</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å°†æœ€å°å€¼,æ”¾åœ¨arr[0],å³äº¤æ¢</span>        arr<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> min<span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç¬¬ä¸€è½®å:"</span><span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ç¬¬äºŒè½®</span>        minIndex  <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        min <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length <span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>min <span class="token operator">></span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">//è¯´æ˜å‡å®šçš„æœ€å°å€¼ä¸æ˜¯æœ€å°å€¼</span>                min <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//é‡ç½®min</span>                minIndex <span class="token operator">=</span> j<span class="token punctuation">;</span> <span class="token comment">// é‡ç½®minindex</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å°†æœ€å°å€¼,æ”¾åœ¨arr[0],å³äº¤æ¢</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>minIndex <span class="token operator">!=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            arr<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> min<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç¬¬äºŒè½®å:"</span><span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ç¬¬ä¸‰è½®</span>        minIndex  <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>        min <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length <span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>min <span class="token operator">></span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">//è¯´æ˜å‡å®šçš„æœ€å°å€¼ä¸æ˜¯æœ€å°å€¼</span>                min <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//é‡ç½®min</span>                minIndex <span class="token operator">=</span> j<span class="token punctuation">;</span> <span class="token comment">// é‡ç½®minindex</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å°†æœ€å°å€¼,æ”¾åœ¨arr[0],å³äº¤æ¢</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>minIndex <span class="token operator">!=</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            arr<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> min<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç¬¬ä¸‰è½®å:"</span><span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">æ’åºå‰<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>ç¬¬ä¸€è½®å<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">]</span>ç¬¬äºŒè½®å<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">]</span>ç¬¬ä¸‰è½®å<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å®Œæ•´ç‰ˆä»£ç æ¼”ç¤º:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>sort</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">SimpleDateFormat</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/1 22:18 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SelectSort</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//int [] arr = &#123;101,34,119,1&#125;;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">80000</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">8000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ’åºå‰çš„æ—¶é—´æ˜¯:"</span><span class="token operator">+</span>simpleDateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">selectSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//System.out.println("æ’åºå" + Arrays.toString(arr));</span>        <span class="token class-name">Date</span> date2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ’åºåçš„æ—¶é—´æ˜¯:"</span><span class="token operator">+</span>simpleDateFormat2<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//System.out.println("æ’åºå‰:"+ Arrays.toString(arr));</span>        <span class="token comment">//selectSort(arr);</span>        <span class="token comment">//System.out.println("æ’åºå:"+ Arrays.toString(arr));</span>            <span class="token punctuation">&#125;</span>    <span class="token comment">//é€‰æ‹©æ’åºæ—¶é—´å¤æ‚åº¦O(n^2)</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">selectSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span>arr<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> minIndex <span class="token operator">=</span> i<span class="token punctuation">;</span>            <span class="token keyword">int</span> min <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>min <span class="token operator">></span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//è¯´æ˜å‡å®šçš„æœ€å°å€¼ä¸æ˜¯æœ€å°å€¼</span>                    min <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//é‡ç½®min</span>                    minIndex <span class="token operator">=</span> j<span class="token punctuation">;</span> <span class="token comment">// é‡ç½®minindex</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">//å°†æœ€å°å€¼,æ”¾åœ¨arr[0],å³äº¤æ¢</span>            arr<span class="token punctuation">[</span>minIndex<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> min<span class="token punctuation">;</span>           <span class="token comment">// System.out.println("ç¬¬"+(i+1)+"è½®å:" + Arrays.toString(arr));</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">æ’åºå‰<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>ç¬¬<span class="token number">1</span>è½®å<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">]</span>ç¬¬<span class="token number">2</span>è½®å<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">]</span>ç¬¬<span class="token number">3</span>è½®å<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">]</span>ç¬¬<span class="token number">4</span>è½®å<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">]</span>æ’åºå<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">]</span>æ’åºå‰çš„æ—¶é—´æ˜¯<span class="token operator">:</span><span class="token number">2021</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">07</span><span class="token operator">:</span><span class="token number">18</span>æ’åºåçš„æ—¶é—´æ˜¯<span class="token operator">:</span><span class="token number">2021</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">23</span><span class="token operator">:</span><span class="token number">07</span><span class="token operator">:</span><span class="token number">21</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="3-3æ’å…¥æ’åº"><a href="#3-3æ’å…¥æ’åº" class="headerlink" title="3.3æ’å…¥æ’åº"></a>3.3æ’å…¥æ’åº</h4><ul><li><p>æ’å…¥å¼æ’åºå±äºå†…éƒ¨æ’åºæ³•ï¼Œæ˜¯å¯¹äºæ¬²æ’åºçš„å…ƒç´ ä»¥æ’å…¥çš„æ–¹å¼æ‰¾å¯»è¯¥å…ƒç´ çš„é€‚å½“ä½ç½®ï¼Œä»¥è¾¾åˆ°æ’åºçš„ç›®çš„ã€‚</p></li><li><p>æ’å…¥æ’åºï¼ˆInsertion Sortingï¼‰çš„<strong>åŸºæœ¬æ€æƒ³</strong>æ˜¯ï¼šæŠŠnä¸ªå¾…æ’åºçš„å…ƒç´ çœ‹æˆä¸ºä¸€ä¸ªæœ‰åºè¡¨å’Œä¸€ä¸ªæ— åºè¡¨ï¼Œå¼€å§‹æ—¶æœ‰åºè¡¨ä¸­åªåŒ…å«ä¸€ä¸ªå…ƒç´ ï¼Œæ— åºè¡¨ä¸­åŒ…å«æœ‰n-1ä¸ªå…ƒç´ ï¼Œæ’åºè¿‡ç¨‹ä¸­æ¯æ¬¡ä»æ— åºè¡¨ä¸­å–å‡ºç¬¬ä¸€ä¸ªå…ƒç´ ï¼ŒæŠŠå®ƒçš„æ’åºç ä¾æ¬¡ä¸æœ‰åºè¡¨å…ƒç´ çš„æ’åºç è¿›è¡Œæ¯”è¾ƒï¼Œå°†å®ƒæ’å…¥åˆ°æœ‰åºè¡¨ä¸­çš„é€‚å½“ä½ç½®ï¼Œä½¿ä¹‹æˆä¸ºæ–°çš„æœ‰åºè¡¨ã€‚</p></li></ul><p><img src="https://img-blog.csdnimg.cn/762406816a064092ae2ed340cfc76c17.png" alt="æ’å…¥æ’åºæ€è·¯åˆ†æå›¾"></p><p>é€æ­¥ä»£ç æ¼”ç¤º:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>sort</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/2 13:01 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InsertSort</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token function">insertSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">insertSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// ç¬¬ä¸€è½®&#123;101,34,119,2&#125;; => &#123;34,101,119,2&#125;;</span>        <span class="token comment">// å®šä¹‰å¾…æ’å…¥çš„æ•°</span>        <span class="token keyword">int</span> insertVal <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> insertIndex <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//å³arr[1]å‰é¢è¿™ä¸ªæ•°çš„ä¸‹æ ‡</span>        <span class="token comment">//ç»™insertæ‰¾åˆ°æ’å…¥çš„ä½ç½®</span>        <span class="token comment">// 1.insertIndex >= 0 ä¿è¯åœ¨ç»™insertVal æ‰¾åˆ°æ’å…¥ä½ç½®,ä¸è¶Šç•Œ</span>        <span class="token comment">// 2.insertVal &lt; arr[insertIndex] å¾…æ’å…¥çš„æ•°,è¿˜æ²¡æœ‰æ‰¾åˆ°æ’å…¥ä½ç½®</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>insertIndex <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> insertVal <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>insertIndex<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            arr<span class="token punctuation">[</span>insertIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>insertIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>            insertIndex<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å½“é€€å‡ºwhileå¾ªç¯æ—¶,è¯´æ˜æ’å…¥ä½ç½®æ‰¾åˆ°,insertIndex + 1</span>        arr<span class="token punctuation">[</span>insertIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> insertVal<span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç¬¬1è½®æ’å…¥"</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// ç¬¬2è½®&#123;34,101,119,2&#125;; => &#123;34,101,119,2&#125;;</span>        insertVal <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        insertIndex <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>insertIndex <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> insertVal <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>insertIndex<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            arr<span class="token punctuation">[</span>insertIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>insertIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>            insertIndex<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        arr<span class="token punctuation">[</span>insertIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> insertVal<span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç¬¬3è½®æ’å…¥"</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">// ç¬¬3è½®&#123;34,101,119,2&#125;; => &#123;2, 34, 101, 119&#125;;</span>        insertVal <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        insertIndex <span class="token operator">=</span> <span class="token number">3</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>insertIndex <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> insertVal <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>insertIndex<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            arr<span class="token punctuation">[</span>insertIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>insertIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>            insertIndex<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        arr<span class="token punctuation">[</span>insertIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> insertVal<span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç¬¬2è½®æ’å…¥"</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">ç¬¬<span class="token number">1</span>è½®æ’å…¥<span class="token punctuation">[</span><span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>ç¬¬<span class="token number">3</span>è½®æ’å…¥<span class="token punctuation">[</span><span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>ç¬¬<span class="token number">2</span>è½®æ’å…¥<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">34</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">119</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å®Œæ•´ç‰ˆä»£ç æ¼”ç¤º:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>sort</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">SimpleDateFormat</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/2 13:01 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">InsertSort</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//int[] arr = &#123;101, 34, 119, 2&#125;;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">80000</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">8000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ’åºå‰çš„æ—¶é—´æ˜¯:"</span> <span class="token operator">+</span> simpleDateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">insertSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Date</span> date2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ’åºåçš„æ—¶é—´æ˜¯:"</span> <span class="token operator">+</span> simpleDateFormat2<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">insertSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> insertVal <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> insertIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//å³arr[1]å‰é¢è¿™ä¸ªæ•°çš„ä¸‹æ ‡</span>        <span class="token comment">// ç¬¬ä¸€è½®&#123;101,34,119,2&#125;; => &#123;34,101,119,2&#125;;</span>        <span class="token comment">// å®šä¹‰å¾…æ’å…¥çš„æ•°</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            insertVal <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            insertIndex <span class="token operator">=</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//å³arr[1]å‰é¢è¿™ä¸ªæ•°çš„ä¸‹æ ‡</span>            <span class="token comment">//ç»™insertæ‰¾åˆ°æ’å…¥çš„ä½ç½®</span>            <span class="token comment">// 1.insertIndex >= 0 ä¿è¯åœ¨ç»™insertVal æ‰¾åˆ°æ’å…¥ä½ç½®,ä¸è¶Šç•Œ</span>            <span class="token comment">// 2.insertVal &lt; arr[insertIndex] å¾…æ’å…¥çš„æ•°,è¿˜æ²¡æœ‰æ‰¾åˆ°æ’å…¥ä½ç½®</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>insertIndex <span class="token operator">>=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> insertVal <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>insertIndex<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                arr<span class="token punctuation">[</span>insertIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>insertIndex<span class="token punctuation">]</span><span class="token punctuation">;</span>                insertIndex<span class="token operator">--</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">//å½“é€€å‡ºwhileå¾ªç¯æ—¶,è¯´æ˜æ’å…¥ä½ç½®æ‰¾åˆ°,insertIndex + 1</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>insertIndex <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">!=</span> i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                arr<span class="token punctuation">[</span>insertIndex <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> insertVal<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">// System.out.println("ç¬¬"+i+"è½®æ’å…¥" + Arrays.toString(arr));</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">æ’åºå‰çš„æ—¶é—´æ˜¯<span class="token operator">:</span><span class="token number">2021</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">13</span><span class="token operator">:</span><span class="token number">53</span><span class="token operator">:</span><span class="token number">13</span>æ’åºåçš„æ—¶é—´æ˜¯<span class="token operator">:</span><span class="token number">2021</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">13</span><span class="token operator">:</span><span class="token number">53</span><span class="token operator">:</span><span class="token number">14</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="3-4-å¸Œå°”æ’åº"><a href="#3-4-å¸Œå°”æ’åº" class="headerlink" title="3.4 å¸Œå°”æ’åº"></a>3.4 å¸Œå°”æ’åº</h4><ul><li><p><strong>å¸Œå°”æ’åº</strong>æ˜¯å¸Œå°”ï¼ˆDonald Shellï¼‰äº1959å¹´æå‡ºçš„ä¸€ç§æ’åºç®—æ³•ã€‚å¸Œå°”æ’åºä¹Ÿæ˜¯ä¸€ç§<strong>æ’å…¥æ’åº</strong>ï¼Œå®ƒæ˜¯ç®€å•æ’å…¥æ’åºç»è¿‡æ”¹è¿›ä¹‹åçš„ä¸€ä¸ª<strong>æ›´é«˜æ•ˆçš„ç‰ˆæœ¬</strong>ï¼Œä¹Ÿç§°ä¸ºç¼©å°å¢é‡æ’åºã€‚</p></li><li><p><strong>åŸºæœ¬æ€æƒ³</strong>:  å¸Œå°”æ’åºæ˜¯æŠŠè®°å½•æŒ‰ä¸‹æ ‡çš„ä¸€å®šå¢é‡åˆ†ç»„ï¼Œå¯¹æ¯ç»„ä½¿ç”¨ç›´æ¥æ’å…¥æ’åºç®—æ³•æ’åºï¼›éšç€å¢é‡é€æ¸å‡å°‘ï¼Œæ¯ç»„åŒ…å«çš„å…³é”®è¯è¶Šæ¥è¶Šå¤šï¼Œå½“å¢é‡å‡è‡³1æ—¶ï¼Œæ•´ä¸ªæ–‡ä»¶æ°è¢«åˆ†æˆä¸€ç»„ï¼Œç®—æ³•ä¾¿ç»ˆæ­¢ã€‚</p></li></ul><p><img src="https://img-blog.csdnimg.cn/336e6bec857e44a4855fe3b4b993217f.png" alt="å¸Œå°”æ’åºåˆ†æç¤ºæ„å›¾"></p><h5 id="3-4-1-äº¤æ¢æ³•"><a href="#3-4-1-äº¤æ¢æ³•" class="headerlink" title="3.4.1 äº¤æ¢æ³•"></a>3.4.1 äº¤æ¢æ³•</h5><p>ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>sort</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/2 14:27 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ShellSort</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span><span class="token function">shellSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å¸Œå°”æ’åº</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">shellSort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> temp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token comment">//ç¬¬ä¸€è½® 10ä¸ªæ•°æ®åˆ†æˆäº†5ç»„</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">5</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//éå†å„ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ (å…±5ç»„,æ¯ç»„ä¸­æœ‰2ä¸ªå…ƒç´ ), æ­¥é•¿5</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token operator">-</span><span class="token number">5</span><span class="token punctuation">;</span> j <span class="token operator">>=</span><span class="token number">0</span> <span class="token punctuation">;</span> j<span class="token operator">-=</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//å¦‚æœå½“å‰å…ƒç´ å¤§äºåŠ ä¸Šæ­¥é•¿åçš„é‚£ä¸ªå…ƒç´ ,è¯´æ˜äº¤æ¢</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                    arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                    arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å¸Œå°”æ’åºå1è½®å: "</span><span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ç¬¬äºŒè½® </span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//éå†å„ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ (å…±5ç»„,æ¯ç»„ä¸­æœ‰2ä¸ªå…ƒç´ ), æ­¥é•¿5</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span> j <span class="token operator">>=</span><span class="token number">0</span> <span class="token punctuation">;</span> j<span class="token operator">-=</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//å¦‚æœå½“å‰å…ƒç´ å¤§äºåŠ ä¸Šæ­¥é•¿åçš„é‚£ä¸ªå…ƒç´ ,è¯´æ˜äº¤æ¢</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                    arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                    arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å¸Œå°”æ’åºå2è½®å: "</span><span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ç¬¬3è½®</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//éå†å„ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ (å…±5ç»„,æ¯ç»„ä¸­æœ‰2ä¸ªå…ƒç´ ), æ­¥é•¿5</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">>=</span><span class="token number">0</span> <span class="token punctuation">;</span> j<span class="token operator">-=</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//å¦‚æœå½“å‰å…ƒç´ å¤§äºåŠ ä¸Šæ­¥é•¿åçš„é‚£ä¸ªå…ƒç´ ,è¯´æ˜äº¤æ¢</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                    arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>                    arr<span class="token punctuation">[</span>j<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å¸Œå°”æ’åºå3è½®å: "</span><span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">å¸Œå°”æ’åºå<span class="token number">1</span>è½®å<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span>å¸Œå°”æ’åºå<span class="token number">2</span>è½®å<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>å¸Œå°”æ’åºå<span class="token number">3</span>è½®å<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>å®Œæ•´ç‰ˆä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>sort</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">SimpleDateFormat</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/2 14:27 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ShellSort</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">//  int [] arr = &#123;8,9,1,7,2,3,5,4,6,0&#125;;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">80000</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">8000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ’åºå‰çš„æ—¶é—´æ˜¯:"</span> <span class="token operator">+</span> simpleDateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">shellSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Date</span> date2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ’åºåçš„æ—¶é—´æ˜¯:"</span> <span class="token operator">+</span> simpleDateFormat2<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å¸Œå°”æ’åº</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">shellSort</span><span class="token punctuation">(</span><span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> temp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> gap <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span> gap <span class="token operator">></span><span class="token number">0</span> <span class="token punctuation">;</span> gap<span class="token operator">/=</span><span class="token number">2</span> <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//ç¬¬ä¸€è½® 10ä¸ªæ•°æ®åˆ†æˆäº†5ç»„</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> gap<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//éå†å„ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ (å…±gapç»„,æ¯ç»„ä¸­æœ‰2ä¸ªå…ƒç´ ), æ­¥é•¿gap</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> i <span class="token operator">-</span> gap<span class="token punctuation">;</span> j <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">-=</span> gap<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//j-=5 ä¸ºäº†è·³å‡ºå¾ªç¯</span>                <span class="token comment">//å¦‚æœå½“å‰å…ƒç´ å¤§äºåŠ ä¸Šæ­¥é•¿åçš„é‚£ä¸ªå…ƒç´ ,è¯´æ˜äº¤æ¢</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">></span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> gap<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                    arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j <span class="token operator">+</span> gap<span class="token punctuation">]</span><span class="token punctuation">;</span>                    arr<span class="token punctuation">[</span>j <span class="token operator">+</span> gap<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>            <span class="token comment">//System.out.println("å¸Œå°”æ’åºç¬¬"+(++count)+"è½®å: " + Arrays.toString(arr));</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">æ’åºå‰çš„æ—¶é—´æ˜¯<span class="token operator">:</span><span class="token number">2021</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">46</span>æ’åºåçš„æ—¶é—´æ˜¯<span class="token operator">:</span><span class="token number">2021</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">14</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">51</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h5 id="3-4-2-ç§»ä½æ³•"><a href="#3-4-2-ç§»ä½æ³•" class="headerlink" title="3.4.2 ç§»ä½æ³•"></a>3.4.2 ç§»ä½æ³•</h5><p>ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>sort</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">SimpleDateFormat</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/2 14:27 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ShellSort</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>      <span class="token comment">//  int [] arr = &#123;8,9,1,7,2,3,5,4,6,0&#125;;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">80000</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">8000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ’åºå‰çš„æ—¶é—´æ˜¯:"</span> <span class="token operator">+</span> simpleDateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">shellSort2</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Date</span> date2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ’åºåçš„æ—¶é—´æ˜¯:"</span> <span class="token operator">+</span> simpleDateFormat2<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>   <span class="token comment">//å¸Œå°”æ’åº ->ç§»ä½æ³•</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">shellSort2</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//å¢é‡gap é€æ­¥ç¼©å°å¢é‡</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> gap <span class="token operator">=</span> arr<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span> gap <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> gap <span class="token operator">/=</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//ä»ç¬¬gapä¸ªå…ƒç´ ,é€ä¸ªå¯¹å…¶æ‰€åœ¨çš„ç»„è¿›è¡Œç›´æ¥æ’å…¥æ’åº</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> gap<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">int</span> j <span class="token operator">=</span> i<span class="token punctuation">;</span>                <span class="token keyword">int</span> temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token operator">&lt;</span>arr<span class="token punctuation">[</span>j<span class="token operator">-</span>gap<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    <span class="token keyword">while</span> <span class="token punctuation">(</span>j<span class="token operator">-</span>gap<span class="token operator">>=</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> temp<span class="token operator">&lt;</span>arr<span class="token punctuation">[</span>j<span class="token operator">-</span>gap<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                        <span class="token comment">//ç§»åŠ¨</span>                        arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token operator">-</span>gap<span class="token punctuation">]</span><span class="token punctuation">;</span>                        j<span class="token operator">-=</span>gap<span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                    <span class="token comment">//å½“é€€å‡ºwhileå,å°±ç»™tempæ‰¾åˆ°æ’å…¥çš„æ•°æ®</span>                    arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">//System.out.println("å¸Œå°”æ’åºå: " + Arrays.toString(arr));</span>        <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">æ’åºå‰çš„æ—¶é—´æ˜¯<span class="token operator">:</span><span class="token number">2021</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">42</span>æ’åºåçš„æ—¶é—´æ˜¯<span class="token operator">:</span><span class="token number">2021</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">15</span><span class="token operator">:</span><span class="token number">14</span><span class="token operator">:</span><span class="token number">42</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="3-5-å¿«é€Ÿæ’åº"><a href="#3-5-å¿«é€Ÿæ’åº" class="headerlink" title="3.5 å¿«é€Ÿæ’åº"></a>3.5 å¿«é€Ÿæ’åº</h4><p><strong>å¿«é€Ÿæ’åºï¼ˆQuicksortï¼‰</strong>æ˜¯å¯¹å†’æ³¡æ’åºçš„ä¸€ç§æ”¹è¿›ã€‚åŸºæœ¬æ€æƒ³æ˜¯ï¼šé€šè¿‡ä¸€è¶Ÿæ’åºå°†è¦æ’åºçš„æ•°æ®åˆ†å‰²æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½æ¯”å¦å¤–ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½è¦å°ï¼Œç„¶åå†æŒ‰æ­¤æ–¹æ³•å¯¹è¿™ä¸¤éƒ¨åˆ†æ•°æ®åˆ†åˆ«è¿›è¡Œå¿«é€Ÿæ’åºï¼Œæ•´ä¸ªæ’åºè¿‡ç¨‹å¯ä»¥é€’å½’è¿›è¡Œï¼Œä»¥æ­¤è¾¾åˆ°æ•´ä¸ªæ•°æ®å˜æˆæœ‰åºåºåˆ—</p><p><img src="https://img-blog.csdnimg.cn/a03f7bfd62b84b849a13906f0aaaf5b8.png" alt="å¿«é€Ÿæ’åºæ³•ç¤ºæ„å›¾"></p><p>ä»£ç æ¼”ç¤º:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>sort</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">SimpleDateFormat</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/2 20:22 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QucikSort</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//int[] arr = &#123;-9, 78, 0, 23, -56, 70,45,12,48,13&#125;;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">8000000</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">8000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ’åºå‰çš„æ—¶é—´æ˜¯:"</span><span class="token operator">+</span>simpleDateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">qucikSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//System.out.println("æ’åºå" + Arrays.toString(arr));</span>        <span class="token class-name">Date</span> date2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ’åºåçš„æ—¶é—´æ˜¯:"</span><span class="token operator">+</span>simpleDateFormat2<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//System.out.println("arr=" + Arrays.toString(arr));</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">qucikSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> l <span class="token operator">=</span> left<span class="token punctuation">;</span>        <span class="token keyword">int</span> r <span class="token operator">=</span> right<span class="token punctuation">;</span>        <span class="token keyword">int</span> pivot <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token punctuation">(</span>left <span class="token operator">+</span> right<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//ä¸­è½´å€¼</span>        <span class="token keyword">int</span> temp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//ä¸´æ—¶å˜é‡ä½œä¸ºäº¤æ¢ä½¿ç”¨</span>        <span class="token comment">//while å¾ªç¯çš„ç›®çš„æ˜¯è®©æ¯”pivotå€¼ å°çš„æ”¾å·¦è¾¹, å¤§çš„æ”¾å³è¾¹</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>l <span class="token operator">&lt;</span> r<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//åœ¨pivotçš„å·¦è¾¹ä¸€ç›´æ‰¾,æ‰¾åˆ°å¤§äºç­‰äºpivotçš„å€¼,æ‰é€€å‡º</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">&lt;</span> pivot<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                l <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">//åœ¨pivotçš„å³è¾¹ä¸€ç›´æ‰¾,æ‰¾åˆ°å°äºç­‰äºpivotçš„å€¼,æ‰é€€å‡º</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">></span> pivot<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                r <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">// å¦‚æœ l>=r è¯´æ˜pivotçš„å·¦å³ä¸¤è¾¹çš„å€¼å·²ç»æŒ‰ç…§å·¦è¾¹å…¨æ˜¯å°äºç­‰äºpivot,å³è¾¹å…¨æ˜¯å¤§äºç­‰äºpivotçš„å€¼</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">>=</span> r<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">//äº¤æ¢</span>            temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">;</span>            arr<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>r<span class="token punctuation">]</span><span class="token punctuation">;</span>            arr<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>            <span class="token comment">//å¦‚æœäº¤æ¢å®Œåå‘ç°arr[l] == pivot å€¼ç›¸ç­‰r--,å‰ç§»</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>l<span class="token punctuation">]</span> <span class="token operator">==</span> pivot<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                r <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">//å¦‚æœäº¤æ¢å®Œåå‘ç°arr[r] == pivot å€¼ç›¸ç­‰l++,åç§»</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">==</span> pivot<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                l <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å¿…é¡»l++,r--,å¦åˆ™æ ˆæº¢å‡º</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>l <span class="token operator">==</span> r<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            l <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>            r <span class="token operator">-=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å‘å·¦é€’å½’</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>left<span class="token operator">&lt;</span>r<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">// è¿™é‡Œçš„rå·²å‘ç”Ÿå˜åŒ– r -= 1;</span>            <span class="token function">qucikSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span>left<span class="token punctuation">,</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å‘å³é€’å½’</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>right<span class="token operator">></span>l<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">//è¿™é‡Œçš„lå·²å‘ç”Ÿå˜åŒ–  l += 1;</span>            <span class="token function">qucikSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span>l<span class="token punctuation">,</span>right<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">56</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">13</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">,</span> <span class="token number">45</span><span class="token punctuation">,</span> <span class="token number">48</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">,</span> <span class="token number">78</span><span class="token punctuation">]</span>æ’åºå‰çš„æ—¶é—´æ˜¯<span class="token operator">:</span><span class="token number">2021</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">20</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">58</span>æ’åºåçš„æ—¶é—´æ˜¯<span class="token operator">:</span><span class="token number">2021</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">20</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">59</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h4 id="3-6-å½’å¹¶æ’åº"><a href="#3-6-å½’å¹¶æ’åº" class="headerlink" title="3.6 å½’å¹¶æ’åº"></a>3.6 å½’å¹¶æ’åº</h4><p>å½’å¹¶æ’åºï¼ˆMERGE-SORTï¼‰æ˜¯åˆ©ç”¨<font color="red">å½’å¹¶</font>çš„æ€æƒ³å®ç°çš„æ’åºæ–¹æ³•ï¼Œè¯¥ç®—æ³•é‡‡ç”¨ç»å…¸çš„<font color="red">åˆ†æ²»</font>ï¼ˆdivide-and-conquerï¼‰ç­–ç•¥ï¼ˆåˆ†æ²»æ³•å°†é—®é¢˜<font color="red">åˆ†(divide)</font>æˆä¸€äº›å°çš„é—®é¢˜ç„¶åé€’å½’æ±‚è§£ï¼Œè€Œ<font color="red">æ²»(conquer)</font>çš„é˜¶æ®µåˆ™å°†åˆ†çš„é˜¶æ®µå¾—åˆ°çš„å„ç­”æ¡ˆâ€ä¿®è¡¥â€åœ¨ä¸€èµ·ï¼Œå³åˆ†è€Œæ²»ä¹‹)ã€‚</p><p><img src="https://img-blog.csdnimg.cn/eb432bba43ba42d7852fee5153bda282.png" alt="å½’å¹¶æ’åºç¤ºæ„å›¾"></p><ul><li><p>å¯ä»¥çœ‹åˆ°è¿™ç§ç»“æ„å¾ˆåƒä¸€æ£µå®Œå…¨äºŒå‰æ ‘ï¼Œæœ¬æ–‡çš„å½’å¹¶æ’åºæˆ‘ä»¬é‡‡ç”¨é€’å½’å»å®ç°ï¼ˆä¹Ÿå¯é‡‡ç”¨è¿­ä»£çš„æ–¹å¼å»å®ç°ï¼‰ã€‚<strong>åˆ†</strong>é˜¶æ®µå¯ä»¥ç†è§£ä¸ºå°±æ˜¯é€’å½’æ‹†åˆ†å­åºåˆ—çš„è¿‡ç¨‹ã€‚</p></li><li><p>å†æ¥çœ‹çœ‹<strong>æ²»</strong>é˜¶æ®µï¼Œæˆ‘ä»¬éœ€è¦å°†ä¸¤ä¸ªå·²ç»æœ‰åºçš„å­åºåˆ—åˆå¹¶æˆä¸€ä¸ªæœ‰åºåºåˆ—ï¼Œæ¯”å¦‚ä¸Šå›¾ä¸­çš„æœ€åä¸€æ¬¡åˆå¹¶ï¼Œè¦å°†[4,5,7,8]å’Œ[1,2,3,6]ä¸¤ä¸ªå·²ç»æœ‰åºçš„å­åºåˆ—ï¼Œåˆå¹¶ä¸ºæœ€ç»ˆåºåˆ—[1,2,3,4,5,6,7,8]ï¼Œæ¥çœ‹ä¸‹å®ç°æ­¥éª¤:</p></li></ul><p><img src="https://img-blog.csdnimg.cn/58301be90b7a44c5972a4002a309f782.png" alt="åˆ1"></p><p><img src="https://img-blog.csdnimg.cn/52668f99e617454e9ad5ab1f79492e55.png" alt="åˆ2"></p><p>ä»£ç æ¼”ç¤º:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>sort</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">SimpleDateFormat</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/2 21:24 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MergeSort</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//int[] arr = &#123;8, 4, 5, 1, 7, 3, 6, 2&#125;;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">8000000</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> temp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">800000000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ’åºå‰çš„æ—¶é—´æ˜¯:"</span><span class="token operator">+</span>simpleDateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">mergeSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>arr<span class="token punctuation">.</span>length<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Date</span> date2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ’åºåçš„æ—¶é—´æ˜¯:"</span><span class="token operator">+</span>simpleDateFormat2<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// int [] temp = new int[arr.length];</span>        <span class="token comment">//mergeSort(arr,0,arr.length-1,temp);</span>        <span class="token comment">//System.out.println("å½’å¹¶æ’åºå:"+ Arrays.toString(arr));</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//åˆ†+åˆçš„æ–¹æ³•</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">mergeSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> temp<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>left<span class="token operator">&lt;</span>right<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">int</span> mid <span class="token operator">=</span> <span class="token punctuation">(</span>left<span class="token operator">+</span>right<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span>            <span class="token comment">//å‘å·¦é€’å½’è¿›è¡Œåˆ†è§£</span>            <span class="token function">mergeSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span>left<span class="token punctuation">,</span>mid<span class="token punctuation">,</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å‘å³é€’å½’è¿›è¡Œåˆ†è§£</span>            <span class="token function">mergeSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span>mid<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>right<span class="token punctuation">,</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//åˆå¹¶</span>            <span class="token function">merge</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span>left<span class="token punctuation">,</span>mid<span class="token punctuation">,</span>right<span class="token punctuation">,</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//åˆå¹¶çš„æ–¹æ³•</span>    <span class="token comment">/**     * @param arr   æ’åºçš„åŸå§‹æ•°ç»„     * @param left  å·¦è¾¹æœ‰åºæ•°åˆ—çš„åˆå§‹ç´¢å¼•     * @param mid   ä¸­é—´ç´¢å¼•     * @param right å³è¾¹ç´¢å¼•     * @param temp  åšä¸­è½¬çš„æ•°ç»„     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> left<span class="token punctuation">,</span> <span class="token keyword">int</span> mid<span class="token punctuation">,</span> <span class="token keyword">int</span> right<span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> temp<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> left<span class="token punctuation">;</span> <span class="token comment">//åˆå§‹åŒ–i,å·¦è¾¹æœ‰åºæ•°åˆ—çš„åˆå§‹ç´¢å¼•</span>        <span class="token keyword">int</span> j <span class="token operator">=</span> mid <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//åˆå§‹åŒ–j,å³è¾¹æœ‰åºæ•°åˆ—çš„åˆå§‹ç´¢å¼•</span>        <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//æŒ‡å‘tempæ•°ç»„çš„å½“å‰ç´¢å¼•</span>        <span class="token comment">//(ä¸€)</span>        <span class="token comment">//å…ˆæŠŠå·¦å³ä¸¤è¾¹(æœ‰åº)çš„æ•°æ®æŒ‰ç…§è§„åˆ™å¡«å……åˆ°tempæ•°ç»„,ç›´åˆ°å·¦å³ä¸¤è¾¹çš„æœ‰åºæ•°åˆ—,æœ‰ä¸€è¾¹å¤„ç†å®Œæ¯•</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> mid <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//å¦‚æœå·¦è¾¹çš„æœ‰åºæ•°åˆ—å°äºç­‰äºå³è¾¹çš„æœ‰åºæ•°åˆ—,å³å°†æœ‰åºåºåˆ—çš„å·¦è¾¹æœ‰åºåºåˆ—çš„å½“å‰å…ƒç´ ,æ‹·è´åˆ°tempæ•°ç»„,ç„¶åt++,i++</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                temp<span class="token punctuation">[</span>t<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>                t <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>                i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token comment">//åä¹‹,å°†å³è¾¹æœ‰åºåºåˆ—çš„å½“å‰å…ƒç´ ,æ‹·è´åˆ°tempæ•°ç»„</span>                temp<span class="token punctuation">[</span>t<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                t <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>                j <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//(äºŒ) æŠŠæœ‰å‰©ä½™æ•°æ®çš„ä¸€è¾¹çš„æ•°æ®ä¾æ¬¡å¡«å……åˆ°temp</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;=</span> mid<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//å·¦è¾¹çš„æœ‰åºåºåˆ—è¿˜æœ‰å‰©ä½™çš„å…ƒç´ ,å°±å…¨éƒ¨å¡«å……åˆ°temp</span>            temp<span class="token punctuation">[</span>t<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>            t <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>            i <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//å³è¾¹çš„æœ‰åºåºåˆ—è¿˜æœ‰å‰©ä½™çš„å…ƒç´ ,å°±å…¨éƒ¨å¡«å……åˆ°temp</span>            temp<span class="token punctuation">[</span>t<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            t <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>            j <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//(ä¸‰)å°†tempæ•°ç»„å…ƒç´ æ‹·è´åˆ°arr  æ³¨æ„,å¹¶ä¸æ˜¯æ¯æ¬¡éƒ½æ‹·è´æ‰€æœ‰</span>        t <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> tempLeft <span class="token operator">=</span> left<span class="token punctuation">;</span>        <span class="token comment">//System.out.println("tempLeft="+tempLeft+"right="+right);</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>tempLeft <span class="token operator">&lt;=</span> right<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            arr<span class="token punctuation">[</span>tempLeft<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">;</span>            t <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>            tempLeft <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">tempLeft<span class="token operator">=</span><span class="token number">0</span>right<span class="token operator">=</span><span class="token number">1</span>tempLeft<span class="token operator">=</span><span class="token number">2</span>right<span class="token operator">=</span><span class="token number">3</span>tempLeft<span class="token operator">=</span><span class="token number">0</span>right<span class="token operator">=</span><span class="token number">3</span>tempLeft<span class="token operator">=</span><span class="token number">4</span>right<span class="token operator">=</span><span class="token number">5</span>tempLeft<span class="token operator">=</span><span class="token number">6</span>right<span class="token operator">=</span><span class="token number">7</span>tempLeft<span class="token operator">=</span><span class="token number">4</span>right<span class="token operator">=</span><span class="token number">7</span>tempLeft<span class="token operator">=</span><span class="token number">0</span>right<span class="token operator">=</span><span class="token number">7</span>å½’å¹¶æ’åºå<span class="token operator">:</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">]</span>æ’åºå‰çš„æ—¶é—´æ˜¯<span class="token operator">:</span><span class="token number">2021</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">44</span><span class="token operator">:</span><span class="token number">58</span>æ’åºåçš„æ—¶é—´æ˜¯<span class="token operator">:</span><span class="token number">2021</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">22</span><span class="token operator">:</span><span class="token number">44</span><span class="token operator">:</span><span class="token number">58</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="3-7-åŸºæ•°-æ¡¶-æ’åº"><a href="#3-7-åŸºæ•°-æ¡¶-æ’åº" class="headerlink" title="3.7 åŸºæ•°(æ¡¶)æ’åº"></a>3.7 åŸºæ•°(æ¡¶)æ’åº</h4><ul><li><p><a href="https://baike.baidu.com/item/%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F/7875498">åŸº</a><a href="https://baike.baidu.com/item/%E5%9F%BA%E6%95%B0%E6%8E%92%E5%BA%8F/7875498">æ•°æ’åº</a>ï¼ˆradix sortï¼‰å±äºâ€œåˆ†é…å¼æ’åºâ€ï¼ˆdistribution sortï¼‰ï¼Œåˆç§°â€œæ¡¶å­æ³•â€ï¼ˆbucket sortï¼‰æˆ–bin sortï¼Œé¡¾åæ€ä¹‰ï¼Œå®ƒæ˜¯é€šè¿‡é”®å€¼çš„å„ä¸ªä½çš„å€¼ï¼Œå°†è¦æ’åºçš„<a href="https://baike.baidu.com/item/%E5%85%83%E7%B4%A0%E5%88%86%E9%85%8D/2107419">å…ƒç´ åˆ†é…</a>è‡³æŸäº›â€œæ¡¶â€ä¸­ï¼Œè¾¾åˆ°æ’åºçš„ä½œç”¨</p></li><li><p>åŸºæ•°æ’åºæ³•æ˜¯å±äºç¨³å®šæ€§çš„æ’åºï¼ŒåŸºæ•°æ’åºæ³•çš„æ˜¯æ•ˆç‡é«˜çš„ç¨³å®šæ€§æ’åºæ³•</p></li><li><p>åŸºæ•°æ’åº(Radix Sort)æ˜¯**<a href="http://www.cnblogs.com/skywang12345/p/3602737.html">æ¡¶æ’åº</a>**çš„æ‰©å±•</p></li><li><p>åŸºæ•°æ’åºæ˜¯1887å¹´èµ«å°”æ›¼Â·ä½•ä¹ç¤¼å‘æ˜çš„ã€‚å®ƒæ˜¯è¿™æ ·å®ç°çš„ï¼šå°†æ•´æ•°æŒ‰ä½æ•°åˆ‡å‰²æˆä¸åŒçš„æ•°å­—ï¼Œç„¶åæŒ‰æ¯ä¸ªä½æ•°åˆ†åˆ«æ¯”è¾ƒã€‚</p></li><li><p>åŸºæœ¬æ€æƒ³: å°†æ‰€æœ‰å¾…æ¯”è¾ƒæ•°å€¼ç»Ÿä¸€ä¸ºåŒæ ·çš„æ•°ä½é•¿åº¦ï¼Œæ•°ä½è¾ƒçŸ­çš„æ•°å‰é¢è¡¥é›¶ã€‚ç„¶åï¼Œä»æœ€ä½ä½å¼€å§‹ï¼Œä¾æ¬¡è¿›è¡Œä¸€æ¬¡æ’åºã€‚è¿™æ ·ä»æœ€ä½ä½æ’åºä¸€ç›´åˆ°æœ€é«˜ä½æ’åºå®Œæˆä»¥å, æ•°åˆ—å°±å˜æˆä¸€ä¸ªæœ‰åºåºåˆ—ã€‚</p></li></ul><p><img src="https://img-blog.csdnimg.cn/3d2ccb651a994485a2a41e25712ed3d9.png" alt="åŸºæ•°æ’åºå®ç°ç¤ºæ„å›¾"></p><p>ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>sort</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>text<span class="token punctuation">.</span></span><span class="token class-name">SimpleDateFormat</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Date</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/3 15:34 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RadixSort</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//int[] arr = &#123;53,3,542,748,14,214&#125;;</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">800000</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> <span class="token punctuation">(</span><span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">800000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">Date</span> date <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ’åºå‰çš„æ—¶é—´æ˜¯:"</span><span class="token operator">+</span>simpleDateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">radixSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Date</span> date2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">SimpleDateFormat</span> simpleDateFormat2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ’åºåçš„æ—¶é—´æ˜¯:"</span><span class="token operator">+</span>simpleDateFormat2<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>date2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">radixSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//å¾—åˆ°æ•°ç»„ä¸­æœ€å¤§æ•°çš„ä½æ•°</span>        <span class="token keyword">int</span> max <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//å‡è®¾ç¬¬ä¸€ä¸ªæ•°å°±æ˜¯æœ€å¤§çš„</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">></span> max<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                max <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//å¾—åˆ°æœ€å¤§æ•°</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å¾—åˆ°æœ€å¤§æ•°æ˜¯å‡ ä½æ•°</span>        <span class="token keyword">int</span> maxLength <span class="token operator">=</span> <span class="token punctuation">(</span>max <span class="token operator">+</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å®šä¹‰ä¸€ä¸ªäºŒç»´æ•°ç»„,è¡¨ç¤º10ä¸ªæ¡¶å­,æ¯ä¸ªæ¡¶å°±æ˜¯ä¸€ä¸ªä¸€ç»´æ•°ç»„</span>        <span class="token comment">//å…±10ä¸ªä¸€ç»´æ•°ç»„,ä¸ºé˜²æ­¢æ ˆæº¢å‡º,åˆ™æ¯ä¸ªä¸€ç»´æ•°ç»„å¤§å°å®šä¹‰ä¸ºarr.length</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bucket <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">[</span>arr<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">//å®šä¹‰ä¸€ä¸ªä¸€ç»´æ•°ç»„ç”¨æ¥è®°å½•æ¯ä¸ªæ¡¶ä¸­å®é™…å­˜æ”¾äº†å¤šå°‘ä¸ªæ•°æ®</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bucketElementsCounts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">//ä½¿ç”¨å¾ªç¯å¤„ç†</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> n <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> maxLength<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">,</span> n <span class="token operator">*=</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//é’ˆå¯¹æ¯ä¸ªå…ƒç´ çš„å¯¹åº”çš„ä½æ•°è¿›è¡Œæ’åºå¤„ç† ä¸ªä½,åä½,ç™¾ä½</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//å–å‡ºæ¯ä¸ªå…ƒç´ å¯¹åº”ä½çš„å€¼</span>                <span class="token keyword">int</span> digitOfElement <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">/</span> n <span class="token operator">%</span> <span class="token number">10</span><span class="token punctuation">;</span>                <span class="token comment">//æ”¾å…¥åˆ°å¯¹åº”çš„æ¡¶ä¸­</span>                bucket<span class="token punctuation">[</span>digitOfElement<span class="token punctuation">]</span><span class="token punctuation">[</span>bucketElementsCounts<span class="token punctuation">[</span>digitOfElement<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                bucketElementsCounts<span class="token punctuation">[</span>digitOfElement<span class="token punctuation">]</span><span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">//æŒ‰ç…§æ¡¶çš„é¡ºåº(ä¸€ç»´æ•°ç»„çš„ä¸‹æ ‡ä¾æ¬¡å–å‡ºæ•°æ®,æ”¾å…¥åŸæ¥çš„æ•°ç»„)</span>            <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span>bucketElementsCounts<span class="token punctuation">.</span>length <span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//å¦‚æœæ¡¶ä¸­æœ‰æ•°æ®,åˆ™æ”¾å…¥</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>bucketElementsCounts<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    <span class="token comment">//å¾ªç¯è¯¥æ¡¶å³ç¬¬kä¸ªæ¡¶(ç¬¬kä¸ªä¸€ç»´æ•°ç»„)</span>                    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> l <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> l <span class="token operator">&lt;</span>bucketElementsCounts<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token punctuation">;</span> l<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token comment">//å–å‡ºå…ƒç´ æ”¾å…¥arr</span>                        arr<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> bucket<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">[</span>l<span class="token punctuation">]</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>                <span class="token comment">//ç¬¬i+1è½®å¤„ç†å®Œåéœ€å°†æ¯ä¸ªbucketElementsCounts[k] = 0 !!!</span>                bucketElementsCounts<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">//System.out.println("ç¬¬"+(i+1)+"è½®å arr="+ Arrays.toString(arr));</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">ç¬¬<span class="token number">1</span>è½®å arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">542</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">214</span><span class="token punctuation">,</span> <span class="token number">748</span><span class="token punctuation">]</span>ç¬¬<span class="token number">2</span>è½®å arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">214</span><span class="token punctuation">,</span> <span class="token number">542</span><span class="token punctuation">,</span> <span class="token number">748</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">]</span>ç¬¬<span class="token number">3</span>è½®å arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">,</span> <span class="token number">53</span><span class="token punctuation">,</span> <span class="token number">214</span><span class="token punctuation">,</span> <span class="token number">542</span><span class="token punctuation">,</span> <span class="token number">748</span><span class="token punctuation">]</span>æ’åºå‰çš„æ—¶é—´æ˜¯<span class="token operator">:</span><span class="token number">2021</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">03</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">10</span>æ’åºåçš„æ—¶é—´æ˜¯<span class="token operator">:</span><span class="token number">2021</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">03</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">00</span><span class="token operator">:</span><span class="token number">10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><strong>åŸºæ•°æ’åº</strong>çš„è¯´æ˜:</p><ul><li><p>åŸºæ•°æ’åºæ˜¯å¯¹ä¼ ç»Ÿæ¡¶æ’åºçš„æ‰©å±•ï¼Œé€Ÿåº¦å¾ˆå¿«.</p></li><li><p>åŸºæ•°æ’åºæ˜¯ç»å…¸çš„ç©ºé—´æ¢æ—¶é—´çš„æ–¹å¼ï¼Œå ç”¨å†…å­˜å¾ˆå¤§, å½“å¯¹æµ·é‡æ•°æ®æ’åºæ—¶ï¼Œå®¹æ˜“é€ æˆ OutOfMemoryError ã€‚</p></li><li><p>åŸºæ•°æ’åºæ—¶ç¨³å®šçš„ã€‚[æ³¨:å‡å®šåœ¨å¾…æ’åºçš„è®°å½•åºåˆ—ä¸­ï¼Œå­˜åœ¨å¤šä¸ªå…·æœ‰ç›¸åŒçš„å…³é”®å­—çš„è®°å½•ï¼Œè‹¥ç»è¿‡æ’åºï¼Œè¿™äº›è®°å½•çš„ç›¸å¯¹æ¬¡åºä¿æŒä¸å˜ï¼Œå³åœ¨åŸåºåˆ—ä¸­ï¼Œr[i]=r[j]ï¼Œä¸”r[i]åœ¨r[j]ä¹‹å‰ï¼Œè€Œåœ¨æ’åºåçš„åºåˆ—ä¸­ï¼Œr[i]ä»åœ¨r[j]ä¹‹å‰ï¼Œ<strong>åˆ™ç§°è¿™ç§æ’åºç®—æ³•æ˜¯ç¨³å®šçš„ï¼›å¦åˆ™ç§°ä¸ºä¸ç¨³å®šçš„</strong>]</p></li></ul><p>4)æœ‰è´Ÿæ•°çš„æ•°ç»„ï¼Œæˆ‘ä»¬ä¸ç”¨åŸºæ•°æ’åºæ¥è¿›è¡Œæ’åº, å¦‚æœè¦æ”¯æŒè´Ÿæ•°ï¼Œå‚è€ƒ<a href="https://code.i-harness.com/zh-CN/q/e98fa9">https://</a><a href="https://code.i-harness.com/zh-CN/q/e98fa9">code.i-harness.com/zh-CN/q/e98fa9</a></p><h4 id="3-8-å †æ’åº"><a href="#3-8-å †æ’åº" class="headerlink" title="3.8 å †æ’åº"></a>3.8 å †æ’åº</h4><ul><li>å †æ’åºçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼š<ul><li>å°†å¾…æ’åºåºåˆ—æ„é€ æˆä¸€ä¸ªå¤§é¡¶å †</li><li>æ­¤å°†å…¶ä¸æœ«å°¾å…ƒç´ è¿›è¡Œäº¤æ¢ï¼Œæ­¤æ—¶æœ«å°¾å°±ä¸ºæœ€å¤§å€¼ã€‚</li><li>ç„¶åå°†å‰©ä½™n-1ä¸ªå…ƒç´ é‡æ–°æ„é€ æˆä¸€ä¸ªå †ï¼Œè¿™æ ·ä¼šå¾—åˆ°nä¸ªå…ƒç´ çš„æ¬¡å°å€¼ã€‚å¦‚æ­¤åå¤æ‰§è¡Œï¼Œä¾¿èƒ½å¾—åˆ°ä¸€ä¸ªæœ‰åºåºåˆ—äº†ã€‚</li><li>è¿™æ—¶ï¼Œæ•´ä¸ªåºåˆ—çš„æœ€å¤§å€¼å°±æ˜¯å †é¡¶çš„æ ¹èŠ‚ç‚¹ã€‚</li></ul></li></ul><p><img src="https://img-blog.csdnimg.cn/13db5cc6cad54aabbb5925f6a98de0cc.png" alt="å¤§é¡¶å †å’Œå°é¡¶å †ç¤ºæ„å›¾"></p><p>ä¸€èˆ¬<strong>å‡åºé‡‡ç”¨å¤§é¡¶å †</strong>ï¼Œ<strong>é™åºé‡‡ç”¨å°é¡¶å †</strong> </p><p>ä»£ç å®ç°</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>sort</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Arrays</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/10/9 16:55 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HeapSort</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//è¦æ±‚å°†æ•°ç»„è¿›è¡Œå‡åºæ’åº</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>        <span class="token function">heapSort</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>       <span class="token comment">//ç¼–å†™ä¸€ä¸ªå †æ’åºçš„æ–¹æ³•</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">heapSort</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> temp <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token comment">//æœ€ç»ˆä»£ç </span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> arr<span class="token punctuation">.</span>length <span class="token operator">/</span> <span class="token number">2</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">adjustHeap</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> i<span class="token punctuation">,</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">/**         * å°†å…¶ä¸æœ«å°¾å…ƒç´ è¿›è¡Œäº¤æ¢ï¼Œæ­¤æ—¶æœ«å°¾å°±ä¸ºæœ€å¤§å€¼ã€‚         * ç„¶åå°†å‰©ä½™n-1ä¸ªå…ƒç´ é‡æ–°æ„é€ æˆä¸€ä¸ªå †ï¼Œè¿™æ ·ä¼šå¾—åˆ°nä¸ªå…ƒç´ çš„æ¬¡å°å€¼ã€‚å¦‚æ­¤åå¤æ‰§è¡Œï¼Œä¾¿èƒ½å¾—åˆ°ä¸€ä¸ªæœ‰åºåºåˆ—äº†ã€‚         */</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> arr<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">;</span> j<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>            arr<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span>            <span class="token function">adjustHeap</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ•°ç»„: "</span> <span class="token operator">+</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//9, 6, 8, 5, 4</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å°†ä¸€ä¸ªæ•°ç»„(äºŒå‰æ ‘),è°ƒæ•´æˆä¸€ä¸ªå¤§é¡¶å †</span>    <span class="token comment">/**     * å®Œæˆå°†ä»¥i å¯¹åº”çš„éå¶å­ç»“ç‚¹çš„æ ‘è°ƒæ•´æˆå¤§é¡¶å †     *     * @param arr    å¾…è°ƒæ•´æ•°ç»„     * @param i      éå¶å­ç»“ç‚¹åœ¨æ•°ç»„ä¸­ç´¢å¼•     * @param length è¡¨ç¤ºå¤šå°‘ä¸ªå…ƒç´ è¦ç»§ç»­è°ƒæ•´ lengthåœ¨é€æ¸å‡å°‘     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">adjustHeap</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> temp <span class="token operator">=</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//å…ˆå»é™¤å½“å‰å…ƒç´ çš„å€¼,ä¿å­˜åœ¨ä¸´æ—¶å˜é‡</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> i <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> k <span class="token operator">=</span> k <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>k <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> length <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">&lt;</span> arr<span class="token punctuation">[</span>k <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//è¯´æ˜å·¦å­ç»“ç‚¹çš„å€¼å°äºå³å­ç»“ç‚¹çš„å€¼</span>                k<span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">//k æŒ‡å‘å³å­ç»“ç‚¹</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">></span> temp<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//å­èŠ‚ç‚¹å¤§äºçˆ¶ç»“ç‚¹</span>                arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> arr<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//æŠŠè¾ƒå¤§çš„å€¼èµ‹å€¼ç»™å½“å‰ç»“ç‚¹</span>                i <span class="token operator">=</span> k<span class="token punctuation">;</span>  <span class="token comment">//!!! iæŒ‡å‘k,ç»§ç»­å¾ªç¯æ¯”è¾ƒ</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å½“forå¾ªç¯ç»“æŸæ—¶,æˆ‘ä»¬å·²ç»å°†ä»¥iä¸ºçˆ¶ç»“ç‚¹çš„æ ‘çš„æœ€å¤§å€¼,æ”¾åœ¨äº†æœ€é¡¶éƒ¨(å±€éƒ¨)</span>        arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> temp<span class="token punctuation">;</span><span class="token comment">//å°†tempå€¼æ”¾åˆ°è°ƒæ•´åçš„ä½ç½®</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">æ•°ç»„<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h3 id="å¸¸ç”¨ç®—æ³•æ’åºå¯¹æ¯”"><a href="#å¸¸ç”¨ç®—æ³•æ’åºå¯¹æ¯”" class="headerlink" title="å¸¸ç”¨ç®—æ³•æ’åºå¯¹æ¯”"></a><center>å¸¸ç”¨ç®—æ³•æ’åºå¯¹æ¯”</h3><p><img src="https://img-blog.csdnimg.cn/02c1eb753cc8413aa243bcb5d7c88ead.png" alt="å¸¸ç”¨ç®—æ³•æ’åºå¯¹æ¯”"></p><p><img src="https://img-blog.csdnimg.cn/50b05c4420844ee8af84e87ac4892ff1.jpg" alt="ç›¸å…³æœ¯è¯­è§£é‡Š"></p>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„å’Œç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaæ•°æ®ç»“æ„å’Œç®—æ³•(äºŒ)</title>
      <link href="/2021-09-24-java-shu-ju-jie-gou-he-suan-fa-er.html"/>
      <url>/2021-09-24-java-shu-ju-jie-gou-he-suan-fa-er.html</url>
      
        <content type="html"><![CDATA[<h3 id="æ ˆ"><a href="#æ ˆ" class="headerlink" title="æ ˆ"></a><center>æ ˆ</h3><h4 id="1-1-æ ˆçš„ä»‹ç»"><a href="#1-1-æ ˆçš„ä»‹ç»" class="headerlink" title="1.1 æ ˆçš„ä»‹ç»"></a>1.1 æ ˆçš„ä»‹ç»</h4><ul><li><p>æ ˆçš„è‹±æ–‡ä¸º(stack)</p></li><li><p>æ ˆæ˜¯ä¸€ä¸ª<strong>å…ˆå…¥åå‡º</strong>(FILO-First In Last Out)çš„æœ‰åºåˆ—è¡¨ã€‚</p></li><li><p>æ ˆ(stack)æ˜¯é™åˆ¶çº¿æ€§è¡¨ä¸­å…ƒç´ çš„æ’å…¥å’Œåˆ é™¤<strong>åªèƒ½åœ¨çº¿æ€§è¡¨çš„åŒä¸€ç«¯</strong>è¿›è¡Œçš„ä¸€ç§ç‰¹æ®Šçº¿æ€§è¡¨ã€‚å…è®¸æ’å…¥å’Œåˆ é™¤çš„ä¸€ç«¯ï¼Œä¸ºå˜åŒ–çš„ä¸€ç«¯ï¼Œç§°ä¸º<strong>æ ˆé¡¶</strong>(Top)ï¼Œå¦ä¸€ç«¯ä¸ºå›ºå®šçš„ä¸€ç«¯ï¼Œç§°ä¸º<strong>æ ˆåº•</strong>(Bottom)ã€‚</p></li><li><p>æ ¹æ®æ ˆçš„å®šä¹‰å¯çŸ¥ï¼Œæœ€å…ˆæ”¾å…¥æ ˆä¸­å…ƒç´ åœ¨æ ˆåº•ï¼Œæœ€åæ”¾å…¥çš„å…ƒç´ åœ¨æ ˆé¡¶ï¼Œè€Œåˆ é™¤å…ƒç´ åˆšå¥½ç›¸åï¼Œæœ€åæ”¾å…¥çš„å…ƒç´ æœ€å…ˆåˆ é™¤ï¼Œæœ€å…ˆæ”¾å…¥çš„å…ƒç´ æœ€ååˆ é™¤</p></li></ul><p><img src="https://img-blog.csdnimg.cn/629064845556410c83cddd02f0ba0f5c.png" alt="å…¥æ ˆ"></p><p><img src="https://img-blog.csdnimg.cn/9b405e76cbda41dcb3aab55ae8d97301.png" alt="å‡ºæ ˆ"></p><h4 id="1-2-æ ˆçš„åº”ç”¨åœºæ™¯"><a href="#1-2-æ ˆçš„åº”ç”¨åœºæ™¯" class="headerlink" title="1.2 æ ˆçš„åº”ç”¨åœºæ™¯"></a>1.2 æ ˆçš„åº”ç”¨åœºæ™¯</h4><ul><li><p>å­ç¨‹åºçš„è°ƒç”¨ï¼šåœ¨è·³å¾€å­ç¨‹åºå‰ï¼Œä¼šå…ˆå°†ä¸‹ä¸ªæŒ‡ä»¤çš„åœ°å€å­˜åˆ°å †æ ˆä¸­ï¼Œç›´åˆ°å­ç¨‹åºæ‰§è¡Œå®Œåå†å°†åœ°å€å–å‡ºï¼Œä»¥å›åˆ°åŸæ¥çš„ç¨‹åºä¸­ã€‚  </p></li><li><p>å¤„ç†é€’å½’è°ƒç”¨ï¼šå’Œå­ç¨‹åºçš„è°ƒç”¨ç±»ä¼¼ï¼Œåªæ˜¯é™¤äº†å‚¨å­˜ä¸‹ä¸€ä¸ªæŒ‡ä»¤çš„åœ°å€å¤–ï¼Œä¹Ÿå°†å‚æ•°ã€åŒºåŸŸå˜é‡ç­‰æ•°æ®å­˜å…¥å †æ ˆä¸­ã€‚</p></li><li><p>è¡¨è¾¾å¼çš„è½¬æ¢[ä¸­ç¼€è¡¨è¾¾å¼è½¬åç¼€è¡¨è¾¾å¼]ä¸æ±‚å€¼(å®é™…è§£å†³)ã€‚</p></li><li><p>äºŒå‰æ ‘çš„éå†ã€‚</p></li><li><p>å›¾å½¢çš„æ·±åº¦ä¼˜å…ˆ(depthä¸€first)æœç´¢æ³•ã€‚</p></li></ul><h4 id="1-3-æ ˆçš„å¿«é€Ÿå…¥é—¨"><a href="#1-3-æ ˆçš„å¿«é€Ÿå…¥é—¨" class="headerlink" title="1.3 æ ˆçš„å¿«é€Ÿå…¥é—¨"></a>1.3 æ ˆçš„å¿«é€Ÿå…¥é—¨</h4><p><strong>æ€è·¯</strong></p><ul><li>å®šä¹‰topè¡¨ç¤ºæ ˆé¡¶ï¼Œåˆå§‹å€¼ä¸º-1</li><li>å…¥æ ˆçš„æ“ä½œï¼Œå…ˆè®©top++ï¼Œå†æ”¾å…¥æ•°ç»„</li><li>å‡ºæ ˆæ“ä½œï¼Œå…ˆå–å‡ºå…ƒç´ ï¼Œåœ¨è®©topâ€“</li><li>top == -1æ—¶ï¼Œæ ˆç©º</li><li>top == maxSize-1æ—¶ï¼Œæ ˆæ»¡</li></ul><p><strong>ä»£ç å®ç°</strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ArrayStackDemo</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">ArrayStack</span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayStack</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> key <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>        <span class="token keyword">boolean</span> loop <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>loop<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"show: æ˜¾ç¤ºæ ˆ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"exit: é€€å‡ºç¨‹åº"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"push: æ·»åŠ æ•°æ®åˆ°æ ˆ(å…¥æ ˆ)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"pop: ä»æ ˆä¸­å¼¹å‡ºæ•°æ®(å¼¹æ ˆ)"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            key <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">switch</span> <span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token keyword">case</span> <span class="token string">"show"</span><span class="token operator">:</span>                    stack<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">"push"</span><span class="token operator">:</span>                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥ä¸€ä¸ªæ•°"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">int</span> value <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">"pop"</span><span class="token operator">:</span>                    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">int</span> res <span class="token operator">=</span> stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å‡ºæ ˆçš„æ•°æ®æ˜¯: "</span><span class="token operator">+</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">"exit"</span><span class="token operator">:</span>                    scanner<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    loop <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">default</span><span class="token operator">:</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"é€€å‡ºç¨‹åº!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//æ ˆ</span><span class="token keyword">class</span> <span class="token class-name">ArrayStack</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> maxSize<span class="token punctuation">;</span> <span class="token comment">//æ ˆçš„å¤§å°</span>    <span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> stack<span class="token punctuation">;</span> <span class="token comment">//æ•°ç»„æ¨¡æ‹Ÿæˆ˜</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> top <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//topè¡¨ç¤ºæ ˆé¡¶,åˆå§‹å€¼ä¸º-1</span>    <span class="token comment">//æ„é€ å™¨</span>    <span class="token keyword">public</span> <span class="token class-name">ArrayStack</span><span class="token punctuation">(</span><span class="token keyword">int</span> maxSize<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>maxSize <span class="token operator">=</span> maxSize<span class="token punctuation">;</span>        stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>maxSize<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ ˆæ»¡</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isFull</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> top <span class="token operator">==</span> maxSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ ˆç©º</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> top <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å…¥æ ˆ-push</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isFull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ ˆæ»¡"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        top<span class="token operator">++</span><span class="token punctuation">;</span>        stack<span class="token punctuation">[</span>top<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å‡ºæ ˆ</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//æŠ›å‡ºå¼‚å¸¸</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"æ ˆç©º"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> value <span class="token operator">=</span> stack<span class="token punctuation">[</span>top<span class="token punctuation">]</span><span class="token punctuation">;</span>        top<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> value<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//éå†æ ˆ</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ ˆç©º"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> top<span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"stack[%d]=%d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> stack<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="1-4-æ ˆå®ç°ç»¼åˆè®¡ç®—å™¨-ä¸­ç¼€è¡¨è¾¾å¼"><a href="#1-4-æ ˆå®ç°ç»¼åˆè®¡ç®—å™¨-ä¸­ç¼€è¡¨è¾¾å¼" class="headerlink" title="1.4 æ ˆå®ç°ç»¼åˆè®¡ç®—å™¨(ä¸­ç¼€è¡¨è¾¾å¼)"></a>1.4 æ ˆå®ç°ç»¼åˆè®¡ç®—å™¨(ä¸­ç¼€è¡¨è¾¾å¼)</h4><ul><li><p>æ±‚[7*2+12-5]</p></li><li><p>é€šè¿‡ä¸€ä¸ªindexå€¼(ç´¢å¼•)ï¼Œæ¥éå†æ‰¾ä»¬çš„è¡¨è¾¾å¼</p></li><li><p>å¦‚æœæˆ‘ä»¬å‘ç°æ˜¯ä¸€ä¸ªæ•°å­—å°±ç›´æ¥å…¥æ•°æ ˆ</p></li><li><p>3å¦‚æœå‘ç°æ‰«æåˆ°æ˜¯ä¸€ä¸ªç¬¦å·å°±åˆ†å¦‚ä¸‹æƒ…å†µ</p><ul><li>å¦‚æœå‘ç°å½“å‰çš„ç¬¦å·æ ˆä¸ºç©ºï¼Œå°±ç›´æ¥å…¥æ ˆ</li><li>å¦‚æœç¬¦å·æ ˆæœ‰æ“ä½œç¬¦ï¼Œå°±è¿›è¡Œæ¯”è¾ƒ<font color="red">å¦‚æœå½“å‰çš„æ“ä½œç¬¦çš„ä¼˜å…ˆçº§å°äºæˆ–è€…ç­‰äºæ ˆä¸­çš„æ“ä½œç¬¦</font>ï¼Œå°±éœ€è¦ä»æ•°æ ˆä¸­popå‡ºä¸¤ä¸ªæ•°åœ¨ä»ç¬¦å·æ ˆä¸­popå‡ºä¸€ä¸ªç¬¦å·ï¼Œè¿›è¡Œè¿ç®—ï¼Œå°†å¾—åˆ°ç»“æœï¼Œå…¥æ•°æ ˆï¼Œç„¶åå°†å½“å‰çš„æ“ä½œç¬¦å…¥ç¬¦å·æ ˆï¼Œ<font color="red">å¦‚æœå½“å‰çš„æ“ä½œç¬¦çš„ä¼˜å…ˆçº§å¤§äºæ ˆä¸­çš„æ“ä½œç¬¦ï¼Œå°±ç›´æ¥å…¥ç¬¦å·æ ˆ</font></li></ul></li><li><p>å½“è¡¨è¾¾å¼æ‰«æå®Œæ¯•ï¼Œå°±é¡ºåºçš„ä»æ•°æ ˆå’Œç¬¦å·æ ˆä¸­popå‡ºç›¸åº”çš„æ•°å’Œç¬¦å·ï¼Œå¹¶è¿è¡Œ.</p></li><li><p>5æœ€ååœ¨æ•°æ ˆåªæœ‰ä¸€ä¸ªæ•°å­—ï¼Œå°±æ˜¯è¡¨è¾¾å¼çš„ç»“æœ</p></li></ul><p><img src="https://img-blog.csdnimg.cn/1aaaf16df056477fa3454e8263169c5d.png" alt="æ•°æ ˆ,ç¬¦å·æ ˆ">ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Calculator</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> experssion <span class="token operator">=</span> <span class="token string">"70+2*6-4"</span><span class="token punctuation">;</span>        <span class="token comment">//åˆ›å»ºä¸¤ä¸ªæ ˆ æ•°æ ˆ,ç¬¦å·æ ˆ</span>        <span class="token class-name">ArrayStack2</span> numStack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayStack2</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">ArrayStack2</span> operStack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayStack2</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å®šä¹‰éœ€è¦çš„ç›¸å…³å˜é‡</span>        <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> num1 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> num2 <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> oper <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">char</span> ch <span class="token operator">=</span> <span class="token string">' '</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> keepNum <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token comment">//ç”¨äºæ‹¼æ¥å¤šä½æ•°</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            ch <span class="token operator">=</span> experssion<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//åˆ¤æ–­chæ˜¯ä»€ä¹ˆ,ç„¶ååšç›¸åº”çš„å¤„ç†</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>operStack<span class="token punctuation">.</span><span class="token function">isOper</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//å¦‚æœæ˜¯è¿ç®—ç¬¦</span>                <span class="token comment">//åˆ¤æ–­å½“å‰æ ˆæ˜¯å¦ä¸ºç©º</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>operStack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token comment">//å¦‚æœç¬¦å·æ ˆä¸­æœ‰æ“ä½œç¬¦,å°±è¿›è¡Œæ¯”è¾ƒ,å¦‚æœå½“å‰çš„æ“ä½œç¬¦çš„ä¼˜å…ˆçº§å°äºæˆ–è€…ç­‰äºæ ˆä¸­çš„æ“ä½œç¬¦,å°±éœ€è¦ä»æ•°æ ˆä¸­popå‡ºä¸¤ä¸ªæ•°</span>                    <span class="token comment">//å†ä»ç¬¦å·æ ˆä¸­popå‡ºä¸€ä¸ªç¬¦å·,è¿›è¡Œè¿ç®—,å°†å¾—åˆ°çš„ç»“æœå…¥æ•°æ ˆ,ç„¶åå°†å½“å‰çš„æ“ä½œç¬¦å…¥ç¬¦å·æ ˆ</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>operStack<span class="token punctuation">.</span><span class="token function">priority</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span> <span class="token operator">&lt;=</span> operStack<span class="token punctuation">.</span><span class="token function">priority</span><span class="token punctuation">(</span>operStack<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        num1 <span class="token operator">=</span> numStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        num2 <span class="token operator">=</span> numStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        oper <span class="token operator">=</span> operStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        res <span class="token operator">=</span> numStack<span class="token punctuation">.</span><span class="token function">cal</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">,</span> oper<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">//å°†å¾—åˆ°çš„ç»“æœå…¥æ•°æ ˆ</span>                        numStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">//ç„¶åå°†å½“å‰çš„æ“ä½œç¬¦å…¥ç¬¦å·æ ˆ</span>                        operStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                        <span class="token comment">//å¦‚æœå½“å‰çš„æ“ä½œç¬¦çš„ä¼˜å…ˆçº§å°äºæˆ–è€…ç­‰äºæ ˆä¸­çš„æ“ä½œç¬¦,å°±ç›´æ¥å…¥ç¬¦å·æ ˆ</span>                        operStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    <span class="token comment">//å¦‚æœä¸ºç©ºç›´æ¥å…¥ç¬¦å·æ ˆ</span>                    operStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token comment">//å¦‚æœæ˜¯æ•°,åˆ™ç›´æ¥å…¥æ•°æ ˆ</span>                <span class="token comment">//1.å½“å¤„ç†å¤šä½æ•°æ—¶,ä¸èƒ½å‘ç°æ˜¯ä¸€ä¸ªæ•°å°±ç›´æ¥å…¥æ ˆ</span>                <span class="token comment">//2.åœ¨å¤„ç†æ•°æ—¶,éœ€è¦å‘expressionçš„è¡¨è¾¾å¼çš„index åå†çœ‹ä¸€ä½,å¦‚æœæ˜¯æ•°å°±æ‰«æ,å¦‚æœæ˜¯ç¬¦å·æ‰å…¥æ ˆ</span>                <span class="token comment">//3. å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²å˜é‡ç”¨äºæ‹¼æ¥</span>                keepNum<span class="token operator">+=</span>ch<span class="token punctuation">;</span>                <span class="token comment">//å¦‚æœexpressionæ˜¯æœ€åä¸€ä½,å°±ç›´æ¥å…¥æ ˆ</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">==</span> experssion<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    numStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>keepNum<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    <span class="token comment">//åˆ¤æ–­ä¸‹ä¸€ä¸ªå­—ç¬¦æ˜¯ä¸æ˜¯æ•°å­—,,å¦‚æœæ˜¯æ•°å°±æ‰«æ,å¦‚æœæ˜¯ç¬¦å·æ‰å…¥æ ˆ</span>                    <span class="token keyword">if</span> <span class="token punctuation">(</span>operStack<span class="token punctuation">.</span><span class="token function">isOper</span><span class="token punctuation">(</span>experssion<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>index<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span>index<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                        <span class="token comment">//å¦‚æœåä¸€ä½æ˜¯è¿ç®—ç¬¦,åˆ™å…¥æ ˆ</span>                        numStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>keepNum<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token comment">//keepNumæ¸…ç©º!!!!!</span>                        keepNum<span class="token operator">=</span><span class="token string">""</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            index<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">>=</span>experssion<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>operStack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            num1 <span class="token operator">=</span> numStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            num2 <span class="token operator">=</span> numStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            oper <span class="token operator">=</span> operStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            res <span class="token operator">=</span> numStack<span class="token punctuation">.</span><span class="token function">cal</span><span class="token punctuation">(</span>num1<span class="token punctuation">,</span> num2<span class="token punctuation">,</span> oper<span class="token punctuation">)</span><span class="token punctuation">;</span>            numStack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"è¡¨è¾¾å¼%s = %d"</span><span class="token punctuation">,</span>experssion<span class="token punctuation">,</span>numStack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">ArrayStack2</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> maxSize<span class="token punctuation">;</span> <span class="token comment">//æ ˆçš„å¤§å°</span>    <span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> stack<span class="token punctuation">;</span> <span class="token comment">//æ•°ç»„æ¨¡æ‹Ÿæˆ˜</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> top <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">//topè¡¨ç¤ºæ ˆé¡¶,åˆå§‹å€¼ä¸º-1</span>    <span class="token comment">//æ„é€ å™¨</span>    <span class="token keyword">public</span> <span class="token class-name">ArrayStack2</span><span class="token punctuation">(</span><span class="token keyword">int</span> maxSize<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>maxSize <span class="token operator">=</span> maxSize<span class="token punctuation">;</span>        stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>maxSize<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// è¿”å›å½“å‰æ ˆé¡¶çš„å€¼</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> stack<span class="token punctuation">[</span>top<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ ˆæ»¡</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isFull</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> top <span class="token operator">==</span> maxSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ ˆç©º</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> top <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å…¥æ ˆ-push</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">int</span> value<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isFull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ ˆæ»¡"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        top<span class="token operator">++</span><span class="token punctuation">;</span>        stack<span class="token punctuation">[</span>top<span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å‡ºæ ˆ</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//æŠ›å‡ºå¼‚å¸¸</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"æ ˆç©º"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> value <span class="token operator">=</span> stack<span class="token punctuation">[</span>top<span class="token punctuation">]</span><span class="token punctuation">;</span>        top<span class="token operator">--</span><span class="token punctuation">;</span>        <span class="token keyword">return</span> value<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//éå†æ ˆ</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ ˆç©º"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> top<span class="token punctuation">;</span> i <span class="token operator">>=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"stack[%d]=%d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> stack<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//è¿”å›è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§,ä¼˜å…ˆçº§ç”¨æ•°å­—è¡¨ç¤º</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">priority</span><span class="token punctuation">(</span><span class="token keyword">int</span> oper<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>oper <span class="token operator">==</span> <span class="token string">'*'</span> <span class="token operator">||</span> oper <span class="token operator">==</span> <span class="token string">'/'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oper <span class="token operator">==</span> <span class="token string">'+'</span> <span class="token operator">||</span> oper <span class="token operator">==</span> <span class="token string">'-'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//åˆ¤æ–­æ˜¯ä¸æ˜¯ä¸€ä¸ªè¿ç®—ç¬¦</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isOper</span><span class="token punctuation">(</span><span class="token keyword">char</span> val<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> val <span class="token operator">==</span> <span class="token string">'+'</span> <span class="token operator">||</span> val <span class="token operator">==</span> <span class="token string">'-'</span> <span class="token operator">||</span> val <span class="token operator">==</span> <span class="token string">'*'</span> <span class="token operator">||</span> val <span class="token operator">==</span> <span class="token string">'/'</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">cal</span><span class="token punctuation">(</span><span class="token keyword">int</span> num1<span class="token punctuation">,</span> <span class="token keyword">int</span> num2<span class="token punctuation">,</span> <span class="token keyword">int</span> oper<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment">//res ç”¨äºå­˜æ”¾è®¡ç®—çš„ç»“æœ</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>oper<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">case</span> <span class="token string">'+'</span><span class="token operator">:</span>                res <span class="token operator">=</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">'-'</span><span class="token operator">:</span>                res <span class="token operator">=</span> num2 <span class="token operator">-</span> num1<span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">'*'</span><span class="token operator">:</span>                res <span class="token operator">=</span> num1 <span class="token operator">*</span> num2<span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">'/'</span><span class="token operator">:</span>                res <span class="token operator">=</span> num2 <span class="token operator">/</span> num1<span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">default</span><span class="token operator">:</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> res<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-1å‰ç¼€è¡¨ç¤ºã€ä¸­ç¼€è¡¨è¾¾å¼ã€åç¼€è¡¨è¾¾å¼-é€†æ³¢å…°è¡¨è¾¾å¼"><a href="#2-1å‰ç¼€è¡¨ç¤ºã€ä¸­ç¼€è¡¨è¾¾å¼ã€åç¼€è¡¨è¾¾å¼-é€†æ³¢å…°è¡¨è¾¾å¼" class="headerlink" title="2.1å‰ç¼€è¡¨ç¤ºã€ä¸­ç¼€è¡¨è¾¾å¼ã€åç¼€è¡¨è¾¾å¼(é€†æ³¢å…°è¡¨è¾¾å¼)"></a>2.1å‰ç¼€è¡¨ç¤ºã€ä¸­ç¼€è¡¨è¾¾å¼ã€åç¼€è¡¨è¾¾å¼(é€†æ³¢å…°è¡¨è¾¾å¼)</h3><p><strong><font color="blue">å‰ç¼€è¡¨è¾¾å¼çš„è®¡ç®—æœºæ±‚å€¼</font></strong></p><p>ä»å³è‡³å·¦æ‰«æè¡¨è¾¾å¼ï¼Œé‡åˆ°æ•°å­—æ—¶ï¼Œå°†æ•°å­—å‹å…¥å †æ ˆï¼Œé‡åˆ°è¿ç®—ç¬¦æ—¶ï¼Œå¼¹å‡ºæ ˆé¡¶çš„ä¸¤ä¸ªæ•°ï¼Œç”¨è¿ç®—ç¬¦å¯¹å®ƒä»¬åšç›¸åº”çš„è®¡ç®—ï¼ˆæ ˆé¡¶å…ƒç´  å’Œ æ¬¡é¡¶å…ƒç´ ï¼‰ï¼Œå¹¶å°†ç»“æœå…¥æ ˆï¼›é‡å¤ä¸Šè¿°è¿‡ç¨‹ç›´åˆ°è¡¨è¾¾å¼æœ€å·¦ç«¯ï¼Œæœ€åè¿ç®—å¾—å‡ºçš„å€¼å³ä¸ºè¡¨è¾¾å¼çš„ç»“æœ</p><p>ä¾‹å¦‚: (3+4)Ã—5-6 å¯¹åº”çš„å‰ç¼€è¡¨è¾¾å¼å°±æ˜¯ <strong>- Ã— + 3 4 5</strong> <strong>6 ,</strong> <strong>é’ˆå¯¹å‰ç¼€è¡¨è¾¾å¼æ±‚å€¼æ­¥éª¤</strong>å¦‚ä¸‹</p><p>1)ä»<strong>å³è‡³å·¦æ‰«æ</strong>ï¼Œå°†6ã€5ã€4ã€3å‹å…¥å †æ ˆ</p><p>2)é‡åˆ°+è¿ç®—ç¬¦ï¼Œå› æ­¤å¼¹å‡º3å’Œ4ï¼ˆ3ä¸ºæ ˆé¡¶å…ƒç´ ï¼Œ4ä¸ºæ¬¡é¡¶å…ƒç´ ï¼‰ï¼Œè®¡ç®—å‡º3+4çš„å€¼ï¼Œå¾—7ï¼Œå†å°†7å…¥æ ˆ</p><p>3)æ¥ä¸‹æ¥æ˜¯Ã—è¿ç®—ç¬¦ï¼Œå› æ­¤å¼¹å‡º7å’Œ5ï¼Œè®¡ç®—å‡º7Ã—5=35ï¼Œå°†35å…¥æ ˆ</p><p>4)æœ€åæ˜¯-è¿ç®—ç¬¦ï¼Œè®¡ç®—å‡º35-6çš„å€¼ï¼Œå³29ï¼Œç”±æ­¤å¾—å‡ºæœ€ç»ˆç»“æœ</p><p><strong><font color="blue">ä¸­ç¼€è¡¨è¾¾å¼</font></strong></p><p>1)ä¸­ç¼€è¡¨è¾¾å¼å°±æ˜¯<strong>å¸¸è§çš„è¿ç®—è¡¨è¾¾å¼</strong>ï¼Œå¦‚(3+4)Ã—5-6</p><p>2)ä¸­ç¼€è¡¨è¾¾å¼çš„æ±‚å€¼æ˜¯æˆ‘ä»¬äººæœ€ç†Ÿæ‚‰çš„ï¼Œä½†æ˜¯å¯¹è®¡ç®—æœºæ¥è¯´å´ä¸å¥½æ“ä½œ(å‰é¢æˆ‘ä»¬è®²çš„æ¡ˆä¾‹å°±èƒ½çœ‹çš„è¿™ä¸ªé—®é¢˜)ï¼Œå› æ­¤ï¼Œåœ¨è®¡ç®—ç»“æœæ—¶ï¼Œå¾€å¾€ä¼šå°†ä¸­ç¼€è¡¨è¾¾å¼è½¬æˆå…¶å®ƒè¡¨è¾¾å¼æ¥æ“ä½œ(ä¸€èˆ¬è½¬æˆåç¼€è¡¨è¾¾å¼.)</p><p><strong><font color="blue">åç¼€è¡¨è¾¾å¼</font></strong></p><p>1)åç¼€è¡¨è¾¾å¼åˆç§°<strong>é€†æ³¢å…°è¡¨è¾¾å¼</strong>,ä¸å‰ç¼€è¡¨è¾¾å¼ç›¸ä¼¼ï¼Œåªæ˜¯è¿ç®—ç¬¦ä½äºæ“ä½œæ•°ä¹‹å</p><p>2)ä¸­ä¸¾ä¾‹è¯´æ˜ï¼š (3+4)Ã—5-6 å¯¹åº”çš„åç¼€è¡¨è¾¾å¼å°±æ˜¯ <strong>3</strong> <strong>4 + 5 Ã— 6</strong> <strong>â€“</strong></p><table><thead><tr><th>æ­£å¸¸çš„è¡¨è¾¾å¼</th><th>é€†æ³¢å…°è¡¨è¾¾å¼</th></tr></thead><tbody><tr><td>a+b</td><td>a b +</td></tr><tr><td>a+(b-c)</td><td>a b c - +</td></tr><tr><td>a+(b-c)*d</td><td>a b c â€“ d * +</td></tr><tr><td>a+d*(b-c)</td><td>a d b c - * +</td></tr><tr><td>a=1+3</td><td>a 1 3 + =</td></tr></tbody></table><p><strong><font color="blue">åç¼€è¡¨è¾¾å¼çš„è®¡ç®—æœºæ±‚å€¼</font></strong></p><p>ä»<strong>å·¦è‡³å³</strong>æ‰«æè¡¨è¾¾å¼ï¼Œé‡åˆ°æ•°å­—æ—¶ï¼Œå°†æ•°å­—å‹å…¥å †æ ˆï¼Œé‡åˆ°è¿ç®—ç¬¦æ—¶ï¼Œå¼¹å‡ºæ ˆé¡¶çš„ä¸¤ä¸ªæ•°ï¼Œç”¨è¿ç®—ç¬¦å¯¹å®ƒä»¬åšç›¸åº”çš„è®¡ç®—ï¼ˆæ¬¡é¡¶å…ƒç´  å’Œ æ ˆé¡¶å…ƒç´ ï¼‰ï¼Œå¹¶å°†ç»“æœå…¥æ ˆï¼›é‡å¤ä¸Šè¿°è¿‡ç¨‹ç›´åˆ°è¡¨è¾¾å¼æœ€å³ç«¯ï¼Œæœ€åè¿ç®—å¾—å‡ºçš„å€¼å³ä¸ºè¡¨è¾¾å¼çš„ç»“æœ</p><p>ä¾‹å¦‚: (3+4)Ã—5-6 å¯¹åº”çš„åç¼€è¡¨è¾¾å¼å°±æ˜¯ <strong>3 4 + 5 Ã— 6 -</strong> <strong>,</strong> é’ˆå¯¹åç¼€è¡¨è¾¾å¼æ±‚å€¼æ­¥éª¤å¦‚ä¸‹:</p><p>1)ä»å·¦è‡³å³æ‰«æï¼Œå°†3å’Œ4å‹å…¥å †æ ˆï¼›</p><p>2)é‡åˆ°+è¿ç®—ç¬¦ï¼Œå› æ­¤å¼¹å‡º4å’Œ3ï¼ˆ4ä¸ºæ ˆé¡¶å…ƒç´ ï¼Œ3ä¸ºæ¬¡é¡¶å…ƒç´ ï¼‰ï¼Œè®¡ç®—å‡º3+4çš„å€¼ï¼Œå¾—7ï¼Œå†å°†7å…¥æ ˆï¼›</p><p>3)å°†5å…¥æ ˆï¼›</p><p>4)æ¥ä¸‹æ¥æ˜¯Ã—è¿ç®—ç¬¦ï¼Œå› æ­¤å¼¹å‡º5å’Œ7ï¼Œè®¡ç®—å‡º7Ã—5=35ï¼Œå°†35å…¥æ ˆï¼›</p><p>5)å°†6å…¥æ ˆï¼›</p><p>6)æœ€åæ˜¯è¿ç®—ç¬¦ï¼Œè®¡ç®—å‡ºçš„å€¼ï¼Œå³ï¼Œç”±æ­¤å¾—å‡ºæœ€ç»ˆç»“ .</p><h4 id="2-2-é€†æ³¢å…°è®¡ç®—å™¨"><a href="#2-2-é€†æ³¢å…°è®¡ç®—å™¨" class="headerlink" title="2.2 é€†æ³¢å…°è®¡ç®—å™¨"></a>2.2 é€†æ³¢å…°è®¡ç®—å™¨</h4><ul><li>æ”¯æŒ + - * / ( ) </li><li>å¤šä½æ•°ï¼Œæ”¯æŒå°æ•°,</li><li>å…¼å®¹å¤„ç†, è¿‡æ»¤ä»»ä½•ç©ºç™½å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦ã€æ¢é¡µç¬¦</li></ul><p><strong>é€†æ³¢å…°è®¡ç®—å™¨</strong></p><p>ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>stack</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Stack</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/9/26 20:53 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PoLandNotation</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//å®šä¹‰é€†æ³¢å…°è¡¨è¾¾å¼</span>        <span class="token class-name">String</span> suffixExpression <span class="token operator">=</span> <span class="token string">"3 4 + 5 * 6 -"</span><span class="token punctuation">;</span>        <span class="token comment">//æ€è·¯: 1.å…ˆå°†"3 4 + 5 * 6-" => æ”¾åˆ°ArrayListä¸­</span>        <span class="token comment">//2.å°†ArrayList ä¼ é€’ç»™ä¸€ä¸ªæ–¹æ³•,éå†ArrayList é…åˆæ ˆå®Œæˆè®¡ç®—</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> rpnList <span class="token operator">=</span> <span class="token function">getListString</span><span class="token punctuation">(</span>suffixExpression<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"rpnList="</span> <span class="token operator">+</span> rpnList<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token function">calculate</span><span class="token punctuation">(</span>rpnList<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è®¡ç®—çš„ç»“æœæ˜¯:"</span> <span class="token operator">+</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å°†ä¸€ä¸ªé€†æ³¢å…°è¡¨è¾¾å¼ä¾æ¬¡å°†æ•°æ®å’Œè¿ç®—ç¬¦æ”¾å…¥åˆ°ArrayListä¸­</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> <span class="token function">getListString</span><span class="token punctuation">(</span><span class="token class-name">String</span> suffixExpression<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// å°† suffixExpression åˆ†å‰²</span>        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> split <span class="token operator">=</span> suffixExpression<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> ele <span class="token operator">:</span> split<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> list<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å®Œæˆå¯¹é€†æ³¢å…°è¡¨è¾¾å¼çš„è¿ç®—</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> ls<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//åˆ›å»ºä¸€ä¸ªæ ˆ</span>        <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//éå†ls</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> item <span class="token operator">:</span> ls        <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å–å‡ºæ•°æ®</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">"\\d+"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//pop ä¸¤ä¸ªæ•°,å¹¶è¿ç®—,å†å…¥æ ˆ</span>                <span class="token keyword">int</span> num2 <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> num1 <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"+"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    res <span class="token operator">=</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    res <span class="token operator">=</span> num1 <span class="token operator">-</span> num2<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    res <span class="token operator">=</span> num1 <span class="token operator">*</span> num2<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    res <span class="token operator">=</span> num1 <span class="token operator">/</span> num2<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"è¿ç®—ç¬¦æœ‰è¯¯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token comment">//æŠŠreså…¥æ ˆ</span>                stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">""</span> <span class="token operator">+</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//æœ€åç•™åœ¨stackä¸­çš„æ•°æ®å°±æ˜¯è¿ç®—ç»“æœ</span>        <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="2-3-ä¸­ç¼€è¡¨è¾¾å¼è½¬åç¼€è¡¨è¾¾å¼çš„æ€è·¯åˆ†æ"><a href="#2-3-ä¸­ç¼€è¡¨è¾¾å¼è½¬åç¼€è¡¨è¾¾å¼çš„æ€è·¯åˆ†æ" class="headerlink" title="2.3 ä¸­ç¼€è¡¨è¾¾å¼è½¬åç¼€è¡¨è¾¾å¼çš„æ€è·¯åˆ†æ"></a>2.3 ä¸­ç¼€è¡¨è¾¾å¼è½¬åç¼€è¡¨è¾¾å¼çš„æ€è·¯åˆ†æ</h4><p><font color="blue">å…·ä½“æ­¥éª¤å¦‚ä¸‹:</font></p><ul><li><p>åˆå§‹åŒ–ä¸¤ä¸ªæ ˆï¼šè¿ç®—ç¬¦æ ˆs1å’Œå‚¨å­˜ä¸­é—´ç»“æœçš„æ ˆs2ï¼›</p></li><li><p>ä»å·¦è‡³å³æ‰«æä¸­ç¼€è¡¨è¾¾å¼ï¼›</p></li><li><p>é‡åˆ°æ“ä½œæ•°æ—¶ï¼Œå°†å…¶å‹s2ï¼›</p></li><li><p>é‡åˆ°è¿ç®—ç¬¦æ—¶ï¼Œæ¯”è¾ƒå…¶ä¸s1æ ˆé¡¶è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§ï¼š</p><ul><li>å¦‚æœs1ä¸ºç©ºï¼Œæˆ–æ ˆé¡¶è¿ç®—ç¬¦ä¸ºå·¦æ‹¬å·â€œ(â€ï¼Œåˆ™ç›´æ¥å°†æ­¤è¿ç®—ç¬¦å…¥æ ˆï¼›</li><li>å¦åˆ™ï¼Œè‹¥ä¼˜å…ˆçº§æ¯”æ ˆé¡¶è¿ç®—ç¬¦çš„é«˜ï¼Œä¹Ÿå°†è¿ç®—ç¬¦å‹å…¥s1ï¼›</li><li>å¦åˆ™ï¼Œå°†s1æ ˆé¡¶çš„è¿ç®—ç¬¦å¼¹å‡ºå¹¶å‹å…¥åˆ°s2ä¸­ï¼Œå†æ¬¡è½¬åˆ°(4-1)ä¸s1ä¸­æ–°çš„æ ˆé¡¶è¿ç®—ç¬¦ç›¸æ¯”è¾ƒï¼› </li></ul></li><li><p>é‡åˆ°æ‹¬å·æ—¶ï¼š</p><ul><li>å¦‚æœæ˜¯å·¦æ‹¬å·â€œ(â€ï¼Œåˆ™ç›´æ¥å‹å…¥s1</li><li>å¦‚æœæ˜¯å³æ‹¬å·â€œ)â€ï¼Œåˆ™ä¾æ¬¡å¼¹å‡ºs1æ ˆé¡¶çš„è¿ç®—ç¬¦ï¼Œå¹¶å‹å…¥s2ï¼Œç›´åˆ°é‡åˆ°å·¦æ‹¬å·ä¸ºæ­¢ï¼Œæ­¤æ—¶å°†è¿™ä¸€å¯¹æ‹¬å·ä¸¢å¼ƒ</li></ul></li><li><p>é‡å¤æ­¥éª¤2è‡³5ï¼Œç›´åˆ°è¡¨è¾¾å¼çš„æœ€å³è¾¹</p></li><li><p>å°†s1ä¸­å‰©ä½™çš„è¿ç®—ç¬¦ä¾æ¬¡å¼¹å‡ºå¹¶å‹å…¥s2</p></li><li><p>ä¾æ¬¡å¼¹å‡ºs2ä¸­çš„å…ƒç´ å¹¶è¾“å‡ºï¼Œ<strong>ç»“æœçš„é€†åºå³ä¸ºä¸­ç¼€è¡¨è¾¾å¼å¯¹åº”çš„åç¼€è¡¨è¾¾å¼</strong></p></li></ul><p><font color="blue">ä¸¾ä¾‹è¯´æ˜:</font></p><p>å°†ä¸­ç¼€è¡¨è¾¾å¼<strong>1+((2+3)Ã—4)-5</strong>è½¬ä¸ºåç¼€è¡¨è¾¾å¼çš„*è¿‡ç¨‹å¦‚ä¸‹:</p><p>å› æ­¤ç»“æœä¸º<strong>1 2 3 + 4 Ã— + 5 â€“</strong></p><table><thead><tr><th>æ‰«æåˆ°çš„å…ƒç´ </th><th>s2(æ ˆåº•-&gt;æ ˆé¡¶)</th><th>s1 (æ ˆåº•-&gt;æ ˆé¡¶)</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>1</td><td>1</td><td>ç©º</td><td>æ•°å­—ï¼Œç›´æ¥å…¥æ ˆ</td></tr><tr><td>+</td><td>1</td><td>+</td><td>s1ä¸ºç©ºï¼Œè¿ç®—ç¬¦ç›´æ¥å…¥æ ˆ</td></tr><tr><td>(</td><td>1</td><td>+ (</td><td>å·¦æ‹¬å·ï¼Œç›´æ¥å…¥æ ˆ</td></tr><tr><td>(</td><td>1</td><td>+ ( (</td><td>åŒä¸Š</td></tr><tr><td>2</td><td>1 2</td><td>+ ( (</td><td>æ•°å­—</td></tr><tr><td>+</td><td>1 2</td><td>+ ( ( +</td><td>s1æ ˆé¡¶ä¸ºå·¦æ‹¬å·ï¼Œè¿ç®—ç¬¦ç›´æ¥å…¥æ ˆ</td></tr><tr><td>3</td><td>1 2 3</td><td>+ ( ( +</td><td>æ•°å­—</td></tr><tr><td>)</td><td>1 2 3 +</td><td>+ (</td><td>å³æ‹¬å·ï¼Œå¼¹å‡ºè¿ç®—ç¬¦ç›´è‡³é‡åˆ°å·¦æ‹¬å·</td></tr><tr><td>Ã—</td><td>1 2 3 +</td><td>+ ( Ã—</td><td>s1æ ˆé¡¶ä¸ºå·¦æ‹¬å·ï¼Œè¿ç®—ç¬¦ç›´æ¥å…¥æ ˆ</td></tr><tr><td>4</td><td>1 2 3 + 4</td><td>+ ( Ã—</td><td>æ•°å­—</td></tr><tr><td>)</td><td>1 2 3 + 4 Ã—</td><td>+</td><td>å³æ‹¬å·ï¼Œå¼¹å‡ºè¿ç®—ç¬¦ç›´è‡³é‡åˆ°å·¦æ‹¬å·</td></tr><tr><td>-</td><td>1 2 3 + 4 Ã— +</td><td>-</td><td>-ä¸+ä¼˜å…ˆçº§ç›¸åŒï¼Œå› æ­¤å¼¹å‡º+ï¼Œå†å‹å…¥-</td></tr><tr><td>5</td><td>1 2 3 + 4 Ã— + 5</td><td>-</td><td>æ•°å­—</td></tr><tr><td>åˆ°è¾¾æœ€å³ç«¯</td><td><strong>1  2 3 + 4 Ã— + 5 -</strong></td><td>ç©º</td><td>s1ä¸­å‰©ä½™çš„è¿ç®—ç¬¦</td></tr></tbody></table><p>ä»£ç å®ç°</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>stack</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">ArrayList</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Stack</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/9/26 20:53 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PoLandNotation</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//å°†ä¸­ç¼€è¡¨è¾¾å¼è½¬æˆåç¼€è¡¨è¾¾å¼</span>        <span class="token comment">//ç›´æ¥å¯¹stræ“ä½œä¸æ–¹ä¾¿,å› æ­¤å°† "1+((2+3)*4)-5" => ArrayList [1,+,(,(,2,+,3,),*4,)-,5]</span>        <span class="token comment">//å°†å¾—åˆ°çš„ä¸­ç¼€è¡¨è¾¾å¼å¯¹åº”çš„list => åç¼€è¡¨è¾¾å¼å¯¹åº”çš„list</span>        <span class="token comment">//å³ ArrayList [1,+,(,(,2,+,3,),*4,)-,5]  => ArrayList [1,2,3,+,4,*+,5,-]</span>        <span class="token class-name">String</span> expression <span class="token operator">=</span> <span class="token string">"1+((2+3)*4)-5"</span><span class="token punctuation">;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> infixExpressionList <span class="token operator">=</span> <span class="token function">toInfixExpressionList</span><span class="token punctuation">(</span>expression<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸­ç¼€è¡¨è¾¾å¼å¯¹åº”çš„list:"</span><span class="token operator">+</span>infixExpressionList<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> parseSuffixExpressionList <span class="token operator">=</span> <span class="token function">parseSuffixExpressionList</span><span class="token punctuation">(</span>infixExpressionList<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åç¼€è¡¨è¾¾å¼å¯¹åº”çš„list:"</span><span class="token operator">+</span>parseSuffixExpressionList<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"expression=%d"</span><span class="token punctuation">,</span><span class="token function">calculate</span><span class="token punctuation">(</span>parseSuffixExpressionList<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å®šä¹‰é€†æ³¢å…°è¡¨è¾¾å¼</span>        <span class="token class-name">String</span> suffixExpression <span class="token operator">=</span> <span class="token string">"3 4 + 5 * 6 -"</span><span class="token punctuation">;</span>        <span class="token comment">//æ€è·¯: 1.å…ˆå°†"3 4 + 5 * 6-" => æ”¾åˆ°ArrayListä¸­</span>        <span class="token comment">//2.å°†ArrayList ä¼ é€’ç»™ä¸€ä¸ªæ–¹æ³•,éå†ArrayList é…åˆæ ˆå®Œæˆè®¡ç®—</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> rpnList <span class="token operator">=</span> <span class="token function">getListString</span><span class="token punctuation">(</span>suffixExpression<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"rpnList="</span> <span class="token operator">+</span> rpnList<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token function">calculate</span><span class="token punctuation">(</span>rpnList<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è®¡ç®—çš„ç»“æœæ˜¯:"</span> <span class="token operator">+</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">// ArrayList [1,+,(,(,2,+,3,),*4,)-,5]  => ArrayList [1,2,3,+,4,*+,5,-]</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> <span class="token function">parseSuffixExpressionList</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> ls<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token comment">//å®šä¹‰ä¸¤ä¸ªæ ˆ s2å¯ä»¥ç”¨ArrayListä»£æ›¿</span>        <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> item<span class="token operator">:</span>ls<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//å¦‚æœæ˜¯ä¸€ä¸ªæ•°</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">"\\d+"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                s2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"("</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                s1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">")"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token comment">//å¦‚æœæ˜¯å³æ‹¬å·â€œ)â€ï¼Œåˆ™ä¾æ¬¡å¼¹å‡ºs1æ ˆé¡¶çš„è¿ç®—ç¬¦ï¼Œå¹¶å‹å…¥s2ï¼Œç›´åˆ°é‡åˆ°å·¦æ‹¬å·ä¸ºæ­¢ï¼Œæ­¤æ—¶å°†è¿™ä¸€å¯¹æ‹¬å·ä¸¢å¼ƒ</span>                <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span>s1<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"("</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    s2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                s1<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//!!! å°†( å¼¹å‡ºs1æ ˆ æ¶ˆé™¤å°æ‹¬å·</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//æ­¥éª¤ç¬¬å››æ­¥</span>                <span class="token keyword">while</span> <span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span><span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token class-name">Operation</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">>=</span><span class="token class-name">Operation</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                    s2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                s1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å°†s1ä¸­å‰©ä½™çš„è¿ç®—ç¬¦ä¾æ¬¡å¼¹å‡ºå¹¶åŠ å…¥s2</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            s2<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> s2<span class="token punctuation">;</span> <span class="token comment">//å› ä¸ºæ˜¯å­˜æ”¾åˆ° listä¸­,å› æ­¤æŒ‰é¡ºåºè¾“å‡ºå°±æ˜¯å¯¹åº”çš„åç¼€è¡¨è¾¾å¼å¯¹åº”çš„list</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å°†ä¸­ç¼€è¡¨è¾¾å¼è½¬æˆå¯¹åº”çš„list</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> <span class="token function">toInfixExpressionList</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> ls <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//æŒ‡é’ˆ ç”¨äºéå†ä¸­ç¼€è¡¨è¾¾å¼å­—ç¬¦ä¸²</span>        <span class="token class-name">String</span> str<span class="token punctuation">;</span> <span class="token comment">//å¤šä½æ•°æ‹¼æ¥</span>        <span class="token keyword">char</span> c<span class="token punctuation">;</span> <span class="token comment">//æ¯éå†ä¸€ä¸ªå­—ç¬¦å°±æ”¾å…¥åˆ°c</span>        <span class="token keyword">do</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//å¦‚æœcæ˜¯éæ•°å­—,éœ€è¦åŠ å…¥åˆ°lsä¸­</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>c <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">48</span> <span class="token operator">||</span> <span class="token punctuation">(</span>c <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">></span> <span class="token number">57</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                ls<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">""</span> <span class="token operator">+</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>                i<span class="token operator">++</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token comment">//å¦‚æœæ˜¯ä¸€ä¸ªæ•°,éœ€è¦è€ƒè™‘å¤šä½æ•°</span>                str <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span>                <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>c <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">>=</span> <span class="token number">48</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>c <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">57</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    str <span class="token operator">+=</span> c<span class="token punctuation">;</span> <span class="token comment">//æ‹¼æ¥</span>                    i<span class="token operator">++</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                ls<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> s<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> ls<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å°†ä¸€ä¸ªé€†æ³¢å…°è¡¨è¾¾å¼ä¾æ¬¡å°†æ•°æ®å’Œè¿ç®—ç¬¦æ”¾å…¥åˆ°ArrayListä¸­</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> <span class="token function">getListString</span><span class="token punctuation">(</span><span class="token class-name">String</span> suffixExpression<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">// å°† suffixExpression åˆ†å‰²</span>        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> split <span class="token operator">=</span> suffixExpression<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> ele <span class="token operator">:</span> split<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>ele<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> list<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å®Œæˆå¯¹é€†æ³¢å…°è¡¨è¾¾å¼çš„è¿ç®—</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">calculate</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> ls<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//åˆ›å»ºä¸€ä¸ªæ ˆ</span>        <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//éå†ls</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> item <span class="token operator">:</span> ls        <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼å–å‡ºæ•°æ®</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span><span class="token string">"\\d+"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//pop ä¸¤ä¸ªæ•°,å¹¶è¿ç®—,å†å…¥æ ˆ</span>                <span class="token keyword">int</span> num2 <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> num1 <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> res <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"+"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    res <span class="token operator">=</span> num1 <span class="token operator">+</span> num2<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    res <span class="token operator">=</span> num1 <span class="token operator">-</span> num2<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"*"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    res <span class="token operator">=</span> num1 <span class="token operator">*</span> num2<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    res <span class="token operator">=</span> num1 <span class="token operator">/</span> num2<span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"è¿ç®—ç¬¦æœ‰è¯¯"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>                <span class="token comment">//æŠŠreså…¥æ ˆ</span>                stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">""</span> <span class="token operator">+</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//æœ€åç•™åœ¨stackä¸­çš„æ•°æ®å°±æ˜¯è¿ç®—ç»“æœ</span>        <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Operation</span><span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> ADD <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> SUB <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> MUL <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> DIV <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>    <span class="token comment">//è¿”å›å¯¹åº”çš„ä¼˜å…ˆçº§æ•°å­—</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token class-name">String</span> operation<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">switch</span> <span class="token punctuation">(</span>operation<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">case</span> <span class="token string">"+"</span><span class="token operator">:</span>                result <span class="token operator">=</span> ADD<span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">"-"</span><span class="token operator">:</span>                result <span class="token operator">=</span> SUB<span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">"*"</span><span class="token operator">:</span>                result <span class="token operator">=</span> MUL<span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">case</span> <span class="token string">"/"</span><span class="token operator">:</span>                result <span class="token operator">=</span> DIV<span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token keyword">default</span><span class="token operator">:</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸å­˜åœ¨è¯¥è¿ç®—ç¬¦"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> result<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a><center>é€’å½’</h3><ul><li><strong>é€’å½’å°±æ˜¯æ–¹æ³•è‡ªå·±è°ƒç”¨è‡ªå·±</strong>,æ¯æ¬¡è°ƒç”¨æ—¶<strong>ä¼ å…¥ä¸åŒçš„å˜é‡</strong>.é€’å½’æœ‰åŠ©äºç¼–ç¨‹è€…è§£å†³å¤æ‚çš„é—®é¢˜,åŒæ—¶å¯ä»¥è®©ä»£ç å˜å¾—ç®€æ´ã€‚</li></ul><h4 id="2-1-é€’å½’ç®€å•ç¤ºä¾‹"><a href="#2-1-é€’å½’ç®€å•ç¤ºä¾‹" class="headerlink" title="2.1 é€’å½’ç®€å•ç¤ºä¾‹"></a>2.1 é€’å½’ç®€å•ç¤ºä¾‹</h4><p>é€’å½’è°ƒç”¨è§„åˆ™:</p><ul><li>å½“ç¨‹åºæ‰§è¡Œåˆ°ä¸€ä¸ªæ–¹æ³•æ—¶,å°±ä¼šå¼€è¾Ÿä¸€ä¸ªç‹¬ç«‹çš„ç©ºé—´(æ ˆå¸§)</li><li>æ¯ä¸ªç©ºé—´çš„æ•°æ®(å±€éƒ¨å˜é‡),æ˜¯ç‹¬ç«‹çš„</li></ul><p><img src="https://img-blog.csdnimg.cn/9d9722f7d8534a2d83a4810d0b55fc8c.png" alt="é€’å½’å›¾è§£"></p><p>æ‰“å°é—®é¢˜ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>recursion</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/9/30 13:22 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RecursionTest</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ‰“å°é—®é¢˜</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token function">test</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"n="</span> <span class="token operator">+</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">n<span class="token operator">=</span><span class="token number">2</span>n<span class="token operator">=</span><span class="token number">3</span>n<span class="token operator">=</span><span class="token number">4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>é˜¶å±‚é—®é¢˜ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>recursion</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/9/30 13:22 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RecursionTest</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">factorial</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>  <span class="token comment">//é˜¶å±‚é—®é¢˜</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">factorial</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token function">factorial</span><span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">*</span> n<span class="token punctuation">;</span> <span class="token comment">// 1 * 2 * 3 * 4</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token number">24</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><ul><li>é€’å½’éœ€è¦éµå®ˆçš„é‡è¦è§„åˆ™<ul><li>æ‰§è¡Œä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œå°±åˆ›å»ºä¸€ä¸ªæ–°çš„å—ä¿æŠ¤çš„ç‹¬ç«‹ç©ºé—´(æ ˆç©ºé—´)</li><li>æ–¹æ³•çš„å±€éƒ¨å˜é‡æ˜¯ç‹¬ç«‹çš„ï¼Œä¸ä¼šç›¸äº’å½±å“ï¼Œæ¯”å¦‚nå˜é‡</li><li>å¦‚æœæ–¹æ³•ä¸­ä½¿ç”¨çš„æ˜¯å¼•ç”¨ç±»å‹å˜é‡(æ¯”å¦‚æ•°ç»„)ï¼Œå°±ä¼šå…±äº«è¯¥å¼•ç”¨ç±»å‹çš„æ•°æ®</li><li>é€’å½’å¿…é¡»å‘é€€å‡ºé€’å½’çš„æ¡ä»¶é€¼è¿‘ï¼Œå¦åˆ™å°±æ˜¯æ— é™é€’å½’å‡ºç°StackOverflowErrorï¼Œæ­»é¾Ÿäº†:)</li><li>å½“ä¸€ä¸ªæ–¹æ³•æ‰§è¡Œå®Œæ¯•ï¼Œæˆ–è€…é‡åˆ°returnï¼Œå°±ä¼šè¿”å›ï¼Œéµå®ˆè°è°ƒç”¨ï¼Œå°±å°†ç»“æœè¿”å›ç»™è°ï¼ŒåŒæ—¶å½“æ–¹æ³•æ‰§è¡Œå®Œæ¯•æˆ–<br>è€…è¿”å›æ—¶ï¼Œè¯¥æ–¹æ³•ä¹Ÿå°±æ‰§è¡Œå®Œæ¯•</li></ul></li></ul><h4 id="3-1-è¿·å®«é—®é¢˜"><a href="#3-1-è¿·å®«é—®é¢˜" class="headerlink" title="3.1 è¿·å®«é—®é¢˜"></a>3.1 è¿·å®«é—®é¢˜</h4><p>ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>recursion</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/9/30 14:30 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MiGong</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//åˆ›å»ºäºŒç»´æ•°ç»„ æ¨¡æ‹ŸäºŒç»´æ•°ç»„</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">//ä¸Šä¸‹å·¦å³å…¨éƒ¨ç½®ä¸º1</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">7</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            map<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            map<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>            map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//è®¾ç½®æŒ¡æ¿,1è¡¨ç¤º</span>        map<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        map<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token comment">// è¾“å‡ºåœ°å›¾</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">7</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"-------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ä½¿ç”¨é€’å½’å›æº¯ç»™å°çƒæ‰¾è·¯</span>        <span class="token function">setWay</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è¾“å‡ºæ–°åœ°å›¾</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">7</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * å‡ºå‘ç‚¹map[1][1]     * è‹¥å°çƒèƒ½åˆ°map[6][5] åˆ™æ‰¾åˆ°é€šè·¯     * çº¦å®š:å½“map[i][j]ä¸º0çš„ç‚¹è¡¨ç¤ºæ”¹ç‚¹æ²¡æœ‰èµ°è¿‡,å½“1è¡¨ç¤ºå¢™,2è¡¨ç¤ºå¯ä»¥èµ°,3è¡¨ç¤ºæ­¤è·¯ä»¥èµ°è¿‡,ä½†èµ°ä¸é€š     * åœ¨èµ°è¿·å®«æ—¶,åˆ¶å®šä¸€ä¸ªç­–ç•¥:  ä¸‹->å³->ä¸Š->å·¦,å¦‚æœæ”¹ç‚¹èµ°ä¸é€š,å†å›æº¯     *     * @param map åœ°å›¾     * @param i   ä»å“ªä¸ªä½ç½®æ‰¾     * @param j   ä»å“ªä¸ªä½ç½®æ‰¾     * @return è‹¥æ‰¾åˆ°é€šè·¯, è¿”å›true, å¦åˆ™è¿”å›false     */</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> <span class="token function">setWay</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> map<span class="token punctuation">,</span> <span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token keyword">int</span> j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//å·²æ‰¾åˆ°</span>            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//è¿™ä¸ªç‚¹æ²¡èµ°è¿‡</span>                <span class="token comment">// æŒ‰ç…§ç­–ç•¥ ä¸‹->å³->ä¸Š->å·¦</span>                map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// å‡å®šè¯¥ç‚¹å¯æœ‰èµ°é€š</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">setWay</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">setWay</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">setWay</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span> j<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">setWay</span><span class="token punctuation">(</span>map<span class="token punctuation">,</span> i<span class="token punctuation">,</span> j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                    map<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>                    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œç»“æœ:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">2</span> <span class="token number">2</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">2</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">2</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">2</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">0</span> <span class="token number">0</span> <span class="token number">2</span> <span class="token number">2</span> <span class="token number">2</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="3-2-å…«çš‡åé—®é¢˜"><a href="#3-2-å…«çš‡åé—®é¢˜" class="headerlink" title="3.2 å…«çš‡åé—®é¢˜"></a>3.2 å…«çš‡åé—®é¢˜</h4><p>é—®é¢˜æè¿°: ä»»æ„ä¸¤ä¸ªçš‡åä¸èƒ½å¤„äºåŒä¸€è¡Œã€åŒä¸€åˆ—æˆ–åŒæ„æ–œçº¿,é—®æœ‰å¤šå°‘ä¸­è§£æ³•</p><p>è¯´æ˜:ç†è®ºä¸Šåº”è¯¥åˆ›å»ºä¸€ä¸ªäºŒç»´æ•°ç»„æ¥è¡¨ç¤ºæ£‹ç›˜ï¼Œä½†æ˜¯å®é™…ä¸Šå¯ä»¥é€šè¿‡ç®—æ³•ï¼Œç”¨ä¸€ä¸ªä¸€ç»´æ•°ç»„å³å¯è§£å†³é—®é¢˜.arr[8]=047,5,2,61,3)//å¯¹åº”arrä¸‹æ ‡è¡¨ç¤ºç¬¬å‡ è¡Œï¼Œå³ç¬¬å‡ ä¸ªçš‡åï¼Œarr[i]=val,valè¡¨ç¤ºç¬¬i+1ä¸ªçš‡åï¼Œæ”¾åœ¨ç¬¬i+1è¡Œçš„ç¬¬val+1 åˆ—</p><p>æ¸¸æˆåœ¨çº¿åœ°å€:<a href="https://www.novelgames.com/zh/queens/">https://www.novelgames.com/zh/queens/</a></p><p>ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ssm<span class="token punctuation">.</span>recursion</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/9/30 20:43 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Queue8</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//å®šä¹‰æœ€å¤§çš‡åæ•°</span>    <span class="token keyword">int</span> max <span class="token operator">=</span> <span class="token number">8</span><span class="token punctuation">;</span>    <span class="token comment">//å®šä¹‰æ•°ç»„arr,ä¿å­˜çš‡åæ”¾ç½®ä½ç½®çš„ç»“æœ arr=&#123;0,4,7,5,2,6,1,3&#125;</span>    <span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> array <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span> <span class="token punctuation">[</span>max<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">static</span> <span class="token keyword">int</span> count <span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">static</span> <span class="token keyword">int</span> judgeCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">Queue8</span> queue8 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Queue8</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        queue8<span class="token punctuation">.</span><span class="token function">check</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ä¸€å…±æœ‰%dä¸­è§£æ³•\n"</span><span class="token punctuation">,</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"ä¸€å…±åˆ¤æ–­äº†%dæ¬¡å†²çª"</span><span class="token punctuation">,</span>judgeCount<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ”¾ç½®ç¬¬nä¸ªçš‡å</span>    <span class="token comment">//ç‰¹åˆ«æ³¨æ„ : check æ˜¯ æ¯ä¸€æ¬¡é€’å½’æ—¶,è¿›å…¥åˆ°checkä¸­éƒ½æœ‰for (int i = 0; i &lt;max ; i++),å› æ­¤ä¼šæœ‰å›æº¯</span>    <span class="token keyword">private</span> <span class="token keyword">void</span>  <span class="token function">check</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> max<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// n = 8 8ä¸ªçš‡åå·²ç»æ”¾å¥½</span>            <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//ä¾æ¬¡æ”¾å…¥çš‡å å¹¶åˆ¤æ–­æ˜¯å¦å†²çª</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span>max <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//å…ˆæŠŠå½“å‰è¿™ä¸ªçš‡ån,æ”¾åˆ°æ”¹è¡Œçš„ç¬¬ä¸€åˆ—</span>            array<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>            <span class="token comment">//åˆ¤æ–­å½“å‰ç¬¬nä¸ªçš‡ååˆ°iåˆ—æ—¶,æ˜¯å¦å†²çª</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">judge</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">//ä¸å†²çª</span>                <span class="token function">check</span><span class="token punctuation">(</span>n<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">//å¦‚æœå†²çª ç»§ç»­æ‰§è¡Œ array[n] = i;å³å°†ç¬¬nä¸ªçš‡å,æ”¾ç½®åœ¨æœ¬è¡Œçš„åç§»ä¸€ä¸ªä½ç½®</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æŸ¥çœ‹å½“æˆ‘ä»¬æ”¾ç½®ç¬¬nä¸ªçš‡å,å°±å»æ£€æµ‹è¯¥çš‡åæ˜¯å¦å’Œå‰é¢å·²ç»æ‘†æ”¾çš„çš‡åå†²çª</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">judge</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        judgeCount<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> n<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">// 1.array[i] == array[n]  åˆ¤æ–­ç¬¬nä¸ªçš‡åæ˜¯å¦å’Œå‰é¢çš„n-1ä¸ªçš‡åæ˜¯å¦åœ¨åŒä¸€åˆ—</span>            <span class="token comment">// 2.Math.abs(n-i) == Math.abs(array[n] - array[i]  åˆ¤æ–­ç¬¬nä¸ªçš‡åæ˜¯å¦å’Œå‰é¢çš„n-1ä¸ªçš‡åæ˜¯å¦åœ¨åŒä¸€æ–œçº¿</span>            <span class="token comment">// 3. åˆ¤æ–­æ˜¯å¦åœ¨åŒä¸€è¡Œ æ²¡å¿…è¦ æ¯æ¬¡éƒ½é€’å¢</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">==</span> array<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>n<span class="token operator">-</span>i<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">-</span> array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//å°†çš‡åæ‘†æ”¾ä½ç½®è¾“å‡º</span>    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        count<span class="token operator">++</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span>array<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>array<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è¿è¡Œéƒ¨åˆ†ç»“æœ:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token number">6</span> <span class="token number">1</span> <span class="token number">5</span> <span class="token number">2</span> <span class="token number">0</span> <span class="token number">3</span> <span class="token number">7</span> <span class="token number">4</span> <span class="token number">6</span> <span class="token number">2</span> <span class="token number">0</span> <span class="token number">5</span> <span class="token number">7</span> <span class="token number">4</span> <span class="token number">1</span> <span class="token number">3</span> <span class="token number">6</span> <span class="token number">2</span> <span class="token number">7</span> <span class="token number">1</span> <span class="token number">4</span> <span class="token number">0</span> <span class="token number">5</span> <span class="token number">3</span> ä¸€å…±æœ‰<span class="token number">92</span>ä¸­è§£æ³•ä¸€å…±åˆ¤æ–­äº†<span class="token number">15720</span>æ¬¡å†²çª<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„å’Œç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaåŸºç¡€</title>
      <link href="/2021-09-22-java-ji-chu.html"/>
      <url>/2021-09-22-java-ji-chu.html</url>
      
        <content type="html"><![CDATA[<h3 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h3><ul><li> Javaä¸­çš„å¼•ç”¨æŒ‡çš„æ˜¯é™¤å¼€é‚£äº›ç‰¹å®šçš„åŸºæœ¬ç±»å‹ä¹‹å¤–çš„å˜é‡ç±»å‹.~ </li><li> å¯¹äºåŸºæœ¬ç±»å‹ å¦‚ intï¼Œcharï¼Œbooleanï¼Œfloatç­‰åŸºæœ¬ç±»å‹ï¼Œå˜é‡åä¸æ˜¯å¼•ç”¨ï¼Œä»–ç›´æ¥æŒ‡å‘å…·ä½“çš„å€¼ï¼Œåªæœ‰<font color="red">å¯¹è±¡ç±»å‹</font>çš„å˜é‡åæ‰æ˜¯å¼•ç”¨</li><li> Javaåªæœ‰ä¸€ç§å‚æ•°ä¼ é€’æ–¹å¼ï¼šé‚£å°±æ˜¯æŒ‰å€¼ä¼ é€’ï¼Œå³Javaä¸­ä¼ é€’ä»»ä½•ä¸œè¥¿éƒ½æ˜¯ä¼ å€¼ã€‚ </li></ul><p>ä¸¾ä¾‹1:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> test <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">int</span> nums1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> nums2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        nums1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">50</span><span class="token punctuation">;</span>        nums2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>        nums2<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>        nums2<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>        nums1 <span class="token operator">=</span> nums2<span class="token punctuation">;</span>        # nums2 <span class="token operator">=</span> nums1        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">:</span> nums1<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> x <span class="token operator">:</span> nums2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nums1 <span class="token operator">==</span> nums2<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>nums1<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>nums2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>è¾“å‡ºç»“æœ<span class="token operator">:</span>                               è¾“å‡ºç»“æœ<span class="token operator">:</span><span class="token number">10</span> <span class="token number">20</span> <span class="token number">30</span>                               <span class="token number">50</span> <span class="token number">0</span><span class="token number">10</span> <span class="token number">20</span> <span class="token number">30</span>                               <span class="token number">50</span> <span class="token number">0</span><span class="token boolean">true</span>    # nums1æŒ‡å‘çš„å†…å­˜åœ°å€æ˜¯nums2<span class="token boolean">true</span>    # æ€»ç»“<span class="token operator">:</span>æŒ‡å‘çš„æ˜¯å³è¾¹çš„å†…å­˜åœ°å€<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>åˆ†æ:<br>è¿™é‡Œçš„ nums1 = nums2 ä¸æ˜¯å°† nums2 çš„å€¼èµ‹å€¼ç»™ nums1 ,è€Œæ˜¯å°† nums2æŒ‡å‘äº†nums1çš„å¯¹è±¡,æˆ–æŠŠnums2çš„å†…å­˜åœ°å€æŒ‡å‘ç»™nums1,æ‰€ä»¥nums1çš„å€¼å°±ä¸ºnums2çš„å€¼ .</p><p>ä¸¾ä¾‹2:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> test <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">String</span> x <span class="token operator">=</span> <span class="token string">"ab"</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">change</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">change</span><span class="token punctuation">(</span><span class="token class-name">String</span> a<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        a <span class="token operator">=</span> <span class="token string">"cd"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>è¾“å‡ºç»“æœ<span class="token operator">:</span>ab      # xæœ¬èº«cd      # aè¿™é‡Œå¼•ç”¨çš„æ˜¯<span class="token string">"cd"</span>çš„å†…å­˜åœ°å€ å…¥å‚çš„ä½œç”¨åŸŸä¹Ÿä»…é™å‡½æ•°å†…éƒ¨ï¼Œå±äºå±€éƒ¨å˜é‡ab      # xæœ¬èº«<span class="token punctuation">,</span>ä¸ä¼šå› ä¸ºä¸Šé¢çš„<span class="token function">change</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span>è€Œæ”¹å˜<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>åœ¨JAVAé‡Œï¼Œ<font color="blue">â€œ=â€ä¸èƒ½è¢«çœ‹æˆæ˜¯ä¸€ä¸ªèµ‹å€¼è¯­å¥ï¼Œå®ƒä¸æ˜¯åœ¨æŠŠä¸€ä¸ªå¯¹è±¡èµ‹ç»™å¦å¤–ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„æ‰§è¡Œè¿‡ç¨‹å®è´¨ä¸Šæ˜¯å°†å³è¾¹å¯¹è±¡çš„åœ°å€ä¼ ç»™äº†å·¦è¾¹çš„å¼•ç”¨ï¼Œä½¿å¾—å·¦è¾¹çš„å¼•ç”¨æŒ‡å‘äº†å³è¾¹çš„å¯¹è±¡</font>ã€‚JAVAè¡¨é¢ä¸Šçœ‹èµ·æ¥æ²¡æœ‰æŒ‡é’ˆï¼Œä½†å®ƒçš„å¼•ç”¨å…¶å®è´¨å°±æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œ<font color="blue">å¼•ç”¨é‡Œé¢å­˜æ”¾çš„å¹¶ä¸æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯è¯¥å¯¹è±¡çš„åœ°å€ï¼Œä½¿å¾—è¯¥å¼•ç”¨æŒ‡å‘äº†å¯¹è±¡</font>ã€‚</li><li>åœ¨JAVAé‡Œï¼Œâ€œ=â€è¯­å¥ä¸åº”è¯¥è¢«ç¿»è¯‘æˆèµ‹å€¼è¯­å¥ï¼Œå› ä¸ºå®ƒæ‰€æ‰§è¡Œçš„ç¡®å®ä¸æ˜¯ä¸€ä¸ªèµ‹å€¼çš„è¿‡ç¨‹ï¼Œ<font color="blue">è€Œæ˜¯ä¸€ä¸ªä¼ åœ°å€çš„è¿‡ç¨‹</font></li><li>åœ¨JAVAä¸­ï¼Œ<font color="blue">æ–¹æ³•çš„å…¥å‚å¯¹äºåŸºæœ¬æ•°æ®ç±»å‹å’Œå­—ç¬¦ä¸²å¸¸é‡æ¥è¯´ï¼Œä¼ é€’çš„å…¶å®åªæ˜¯è¿™ä¸ªå€¼æœ¬èº«çš„ä¸€ä¸ªæ‹·è´è€Œå·²</font>ï¼Œå¯¹äºå¤–é¢çš„å˜é‡æ¥è¯´ï¼Œå¹¶æ²¡æœ‰æ”¹å˜ä»€ä¹ˆï¼Œå…¥å‚çš„ä½œç”¨åŸŸä¹Ÿä»…é™å‡½æ•°å†…éƒ¨ï¼Œå±äºå±€éƒ¨å˜é‡ï¼ˆå¯¹äºåŒ…è£…ç±»å‹å’ŒStringï¼Œä¾ç„¶å¦‚æ­¤ï¼‰ã€‚ </li><li>ç»¼ä¸Šæ‰€è¿°ï¼Œå¯ä»¥ç®€å•çš„è®°ä¸ºï¼Œåœ¨åˆå§‹åŒ–æ—¶ï¼Œ<font color="blue">â€œ=â€è¯­å¥å·¦è¾¹çš„æ˜¯å¼•ç”¨ï¼Œå³è¾¹newå‡ºæ¥çš„æ˜¯å¯¹è±¡ã€‚åœ¨åé¢çš„å·¦å³éƒ½æ˜¯å¼•ç”¨çš„â€œ=â€è¯­å¥æ—¶ï¼Œå·¦å³çš„å¼•ç”¨åŒæ—¶æŒ‡å‘äº†å³è¾¹å¼•ç”¨æ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚</font><br>å†æ‰€è°“å®ä¾‹ï¼Œå…¶å®å°±æ˜¯å¯¹è±¡çš„åŒä¹‰è¯ã€‚ </li></ul><h3 id="è®¿é—®æƒé™"><a href="#è®¿é—®æƒé™" class="headerlink" title="è®¿é—®æƒé™"></a>è®¿é—®æƒé™</h3><table><thead><tr><th>è®¿é—®æƒé™</th><th>æœ¬ç±»</th><th>æœ¬åŒ…çš„ç±»</th><th>å­ç±»</th><th>éå­ç±»çš„å¤–åŒ…ç±»</th></tr></thead><tbody><tr><td>public</td><td>âˆš</td><td>âˆš</td><td>âˆš</td><td>âˆš</td></tr><tr><td>protect</td><td>âˆš</td><td>âˆš</td><td>âˆš</td><td></td></tr><tr><td>default</td><td>âˆš</td><td>âˆš</td><td></td><td></td></tr><tr><td>private</td><td>âˆš</td><td></td><td></td><td></td></tr></tbody></table><h3 id="æ„é€ å™¨-ç»§æ‰¿é—®é¢˜"><a href="#æ„é€ å™¨-ç»§æ‰¿é—®é¢˜" class="headerlink" title="æ„é€ å™¨ ç»§æ‰¿é—®é¢˜"></a>æ„é€ å™¨ ç»§æ‰¿é—®é¢˜</h3><ul><li><p>çˆ¶ç±» ä»…ä»…å£°æ˜äº†æœ‰å‚æ„é€ å‡½æ•°ï¼Œæ²¡æœ‰è‡ªå·±å£°æ˜æ— å‚æ„é€ å‡½æ•°ï¼Œåˆ™å­ç±»å¿…é¡»<strong>é‡å†™</strong>çˆ¶ç±»æ„é€ å‡½æ•° </p><p>çˆ¶ç±» æœ‰æ— å‚æ„é€ å‡½æ•°ï¼Œåˆ™å­ç±»<strong>ä¸å¿…é‡å†™</strong>çˆ¶ç±»æ„é€ å‡½æ•°ã€‚</p></li></ul><h3 id="this-amp-static"><a href="#this-amp-static" class="headerlink" title="this&amp; static"></a>this&amp; static</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java">publist clatt <span class="token class-name">Test</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">//ç¤ºä¾‹å˜é‡ (å¼•ç”¨.çš„æ–¹å¼è®¿é—®)</span>publis <span class="token keyword">static</span> <span class="token keyword">void</span> main <span class="token punctuation">(</span><span class="token class-name">String</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span>  <span class="token comment">// ç¼–è¯‘æŠ¥é”™</span>    <span class="token class-name">Test</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Test</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>t<span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="abstractç±»ä¸æ¥å£çš„æ¯”è¾ƒ"><a href="#abstractç±»ä¸æ¥å£çš„æ¯”è¾ƒ" class="headerlink" title="abstractç±»ä¸æ¥å£çš„æ¯”è¾ƒ"></a>abstractç±»ä¸æ¥å£çš„æ¯”è¾ƒ</h3><ul><li><code>abstract</code>ç±»å’Œæ¥å£éƒ½å¯ä»¥æœ‰<code>abstract</code>æ–¹æ³•</li><li>æ¥å£ä¸­åªå¯ä»¥æœ‰å¸¸é‡,ä¸èƒ½æœ‰å˜é‡,è€Œ<code>abstract</code>ç±»ä¸­æ—¢å¯ä»¥æœ‰å¸¸é‡ä¹Ÿå¯ä»¥æœ‰å˜é‡</li><li><code>abstract</code>ç±»ä¸­ä¹Ÿå¯ä»¥æœ‰é<code>abstract</code>æ–¹æ³•,æ¥å£ä¸å¯ä»¥</li><li>æŠ½è±¡ç±»çš„å­ç±»ä¸æ˜¯å¿…é¡»éœ€è¦å®ç°æŠ½è±¡ç±»çš„æŠ½è±¡æ–¹æ³•,å¦‚æœæŠ½è±¡ç±»çš„å­ç±»ä¹Ÿæ˜¯ä¸ªæŠ½è±¡ç±»çš„è¯å°±ä¸ç”¨å®ç°</li><li>å…·æœ‰æŠ½è±¡æ–¹æ³•çš„ç±»å¿…é¡»æ˜¯æŠ½è±¡ç±»</li></ul><hr><ul><li><p>æ–¹æ³•çš„è°ƒç”¨</p></li><li><p><font color="red">å¼•ç”¨</font>.æ–¹æ³•   ä¸å¸¦æœ‰<font color="red">static </font>çš„æ–¹æ³•æ˜¯é€šè¿‡å¼•ç”¨çš„æ–¹å¼è®¿é—®çš„,è¿™ä¸ªè¿‡ç¨‹éœ€è¦å¯¹è±¡çš„å‚ä¸ (student1.æ–¹æ³•)</p></li><li><p><font color="red">ç±»åÂ </font>.æ–¹æ³•  å¸¦æœ‰<font color="red">static </font>çš„æ–¹æ³•æ˜¯ç”¨è¿‡ç±»åçš„æ–¹å¼è®¿é—®çš„,è¿™ä¸ªæ‰§è¡Œè¿‡ç¨‹ä¸­æ²¡æœ‰å½“å‰å¯¹è±¡,è‡ªç„¶ä¹Ÿä¸å­˜åœ¨this,ç±»åå¯ä»¥çœç•¥</p></li><li><p>thisä¸èƒ½ä½¿ç”¨åœ¨å¸¦æœ‰static çš„æ–¹æ³•ä¸­</p></li><li><p>this. åœ¨åŒºåˆ†ç¤ºä¾‹å˜é‡å’Œå±€éƒ¨å˜é‡ä¸­ä¸èƒ½çœç•¥</p></li><li><p>thiså¯ä»¥ä½¿ç”¨åœ¨ç¤ºä¾‹æ–¹æ³•ä¸­,ä»£è¡¨å½“å‰å¯¹è±¡ã€è¯­æ³•æ ¼å¼ï¼šthis.ã€‘</p></li><li><p>thiså¯ä»¥ä½¿ç”¨åœ¨æ„é€ æ–¹æ³•ä¸­ï¼Œé€šè¿‡å½“å‰çš„æ„é€ æ–¹æ³•è°ƒç”¨å…¶ä»–æ„é€ æ–¹æ³•ã€è¯­æ³•æ ¼å¼ï¼šthigï¼ˆå®å‚ï¼‰ã€‘</p></li><li><p>this()è¿™ç§è¯­æ³•åªèƒ½å‡ºç°åœ¨æ„é€ å‡½æ•°çš„ç¬¬ä¸€è¡Œ</p></li></ul><hr><ul><li>javaä¸­åŸºæœ¬æ•°æ®ç±»å‹æ¯”è¾ƒæ˜¯å¦ç›¸ç­‰,ä½¿ç”¨**==**å·åˆ¤æ–­</li><li>javaä¸­æ‰€æœ‰çš„å¼•ç”¨æ•°æ®ç±»å‹ç»Ÿä¸€ä½¿ç”¨<strong>equals</strong>æ–¹æ³•åˆ¤æ–­</li></ul><hr><ul><li>å¦‚æœAç±»ä¸­æŸä¸ªæ–¹æ³•çš„å‚æ•°æ˜¯Bç±»ç”Ÿå‘½çš„å¯¹è±¡(æˆ–æŸä¸ªæ–¹æ³•è¿”å›çš„æ•°æ®ç±»å‹æ˜¯Bç±»å¯¹è±¡),åˆ™Aç±»ä¾èµ–Bç±»</li><li>Aç±»ä¸­æˆå‘˜å˜é‡ä½¿ç”¨Bç±»å£°æ˜çš„å¯¹è±¡,åˆ™ç§°Aç±»å…³è”äºBç±»</li></ul><h3 id="å†…éƒ¨ç±»"><a href="#å†…éƒ¨ç±»" class="headerlink" title="å†…éƒ¨ç±»"></a>å†…éƒ¨ç±»</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">Inner</span> <span class="token keyword">class</span> <span class="token punctuation">&#123;</span>    <span class="token comment">// é™æ€å†…éƒ¨ç±»</span><span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Inner1</span><span class="token punctuation">&#123;</span>            <span class="token punctuation">&#125;</span>    <span class="token comment">// å®ä¾‹å†…éƒ¨ç±»</span><span class="token keyword">class</span> <span class="token class-name">Inner2</span><span class="token punctuation">&#123;</span>            <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//å±€éƒ¨å†…éƒ¨ç±»</span>        <span class="token keyword">class</span> <span class="token class-name">Inner3</span><span class="token punctuation">&#123;</span>                    <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// åŒ¿åå†…éƒ¨ç±»</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">MyMath</span> myMath <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyMath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//åŒ¿åå†…éƒ¨ç±» (ä»£æ›¿æ¥å£çš„å®ç°) è£…é€¼å¯ä»¥ç”¨ç”¨ å¼€å‘å»ºè®®ä¸ç”¨</span>        myMath<span class="token punctuation">.</span><span class="token function">mySum</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Compute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span> <span class="token keyword">int</span> b<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token keyword">interface</span> <span class="token class-name">Compute</span><span class="token punctuation">&#123;</span>    <span class="token keyword">int</span> <span class="token function">sum</span><span class="token punctuation">(</span><span class="token keyword">int</span> a<span class="token punctuation">,</span><span class="token keyword">int</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">MyMath</span><span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">mySum</span><span class="token punctuation">(</span><span class="token class-name">Compute</span> c<span class="token punctuation">,</span> <span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x<span class="token operator">+</span><span class="token string">"+"</span><span class="token operator">+</span>y<span class="token operator">+</span><span class="token string">"="</span><span class="token operator">+</span>c<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>è£…ç®±ã€æ‹†ç®±</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">Integer</span> i <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åŸºæœ¬æ•°æ®ç±»å‹->å¼•ç”¨æ•°æ®ç±»å‹(æ‰‹åŠ¨è£…ç®±)</span><span class="token keyword">int</span> retVlaue <span class="token operator">=</span> i<span class="token punctuation">.</span><span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å¼•ç”¨æ•°æ®ç±»å‹->åŸºæœ¬æ•°æ®ç±»å‹(æ‰‹åŠ¨æ‹†ç®±)</span><span class="token class-name">Integer</span> x <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>              <span class="token comment">// è‡ªåŠ¨è£…ç®±</span><span class="token keyword">int</span> y <span class="token operator">=</span> x<span class="token punctuation">;</span>                    <span class="token comment">// è‡ªåŠ¨æ‹†ç®±</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h3><h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><pre class="line-numbers language-java" data-language="java"><code class="language-java">    <span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token string">"Hello World"</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">byte</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> b <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">97</span><span class="token punctuation">,</span><span class="token number">98</span><span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">101</span><span class="token punctuation">,</span><span class="token number">102</span><span class="token punctuation">,</span><span class="token number">103</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token class-name">String</span> s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">String</span> s3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s3<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">char</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> c <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'æˆ‘'</span><span class="token punctuation">,</span><span class="token string">'æ˜¯'</span><span class="token punctuation">,</span><span class="token string">'ä¸­'</span><span class="token punctuation">,</span><span class="token string">'å›½'</span><span class="token punctuation">,</span><span class="token string">'äºº'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token class-name">String</span> s4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>c<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s4<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">String</span> s5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">"èƒ¡é‘«äº®"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s5<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>        <span class="token class-name">Hello</span> <span class="token class-name">World</span>        abcdefg        bcdef        ä¸­å›½äºº        èƒ¡é‘«äº®<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StringTest02</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token string">"ä¸­è¿‡äºº"</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> result <span class="token operator">=</span> <span class="token string">"abc"</span><span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token string">"abc"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hollo World.java"</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">".java"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello World.java"</span><span class="token punctuation">.</span><span class="token function">endsWith</span><span class="token punctuation">(</span><span class="token string">".java"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ABCDef"</span><span class="token punctuation">.</span><span class="token function">equalsIgnoreCase</span><span class="token punctuation">(</span><span class="token string">"abcdef"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"dasagagaacavavajavadaodako"</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">"java"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">"dada "</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">byte</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token string">"abcdef"</span><span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span>bytes<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>bytes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token operator">+</span><span class="token string">" "</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"-----------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"javaasdafagagagagajava"</span><span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">"java"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"------------"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> newString <span class="token operator">=</span> <span class="token string">"http://www.baidu.com"</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">"http://"</span><span class="token punctuation">,</span><span class="token string">"https://"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>newString<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> ymd <span class="token operator">=</span> <span class="token string">"2000-11-23"</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">"-"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span>ymd<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ymd<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"www.baidu.com"</span><span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">"www"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"www.baidu.com"</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"www.baidu.com"</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">char</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span> <span class="token string">"æˆ‘æ˜¯ä¸­å›½äºº"</span><span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span>chars<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>chars<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ABGJAcafhuADABGbbJFABjb"</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ABGJAcafhuADABGbbJFABjb"</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"  adaadad  "</span><span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span>  s2 <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span> <span class="token keyword">new</span> <span class="token class-name">Customer2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s2<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">Object</span> object <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Customer2</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"Customer2&#123;&#125;"</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>è¿‡<span class="token number">0</span><span class="token boolean">true</span><span class="token boolean">true</span><span class="token boolean">true</span><span class="token number">15</span><span class="token boolean">false</span><span class="token number">97</span> <span class="token number">98</span> <span class="token number">99</span> <span class="token number">100</span> <span class="token number">101</span> <span class="token number">102</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token number">18</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>baidu<span class="token punctuation">.</span>com<span class="token number">2000</span><span class="token number">11</span><span class="token number">23</span><span class="token boolean">true</span>baidu<span class="token punctuation">.</span>combaæˆ‘æ˜¯ä¸­å›½äººabgjacafhuadabgbbjfabjbABGJACAFHUADABGBBJFABJBadaadad<span class="token boolean">true</span><span class="token class-name">Customer2</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span></span>Object</span><span class="token annotation punctuation">@1b6d3586</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="StringBuffer-amp-Stringbuilder"><a href="#StringBuffer-amp-Stringbuilder" class="headerlink" title="StringBuffer&amp;Stringbuilder"></a>StringBuffer&amp;Stringbuilder</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//StringBuffer æ˜¯çº¿ç¨‹å®‰å…¨çš„</span><span class="token comment">//Stringbuilderæ˜¯éçº¿ç¨‹å®‰å…¨çš„</span><span class="token class-name">String</span> s1 <span class="token operator">=</span> <span class="token string">""</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span><span class="token number">10</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    s1<span class="token operator">+=</span>i<span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">StringBuffer</span> stringBuffer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringBuffer<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringBuffer<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>stringBuffer<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">StringBuffer</span> stringBuffer1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuffer</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">StringBuilderTest01</span> stringBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilderTest01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>stringBuilder<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">append</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æŠ½è±¡ç±»"><a href="#æŠ½è±¡ç±»" class="headerlink" title="æŠ½è±¡ç±»"></a>æŠ½è±¡ç±»</h3><ul><li>ç±»å’Œç±»ä¹‹é—´å…·æœ‰å…±åŒç‰¹å¾,å°†è¿™äº›å…±åŒç‰¹å¾æå–å‡ºæ¥,å½¢æˆçš„å°±æ˜¯æŠ½è±¡ç±»</li><li>æŠ½è±¡ç±»å±äºå¼•ç”¨æ•°æ®ç±»å‹</li><li>æŠ½è±¡ç±»æ— æ³•å®ä¾‹åŒ–,æ— æ³•åˆ›å»ºå¯¹è±¡,æŠ½è±¡ç±»æ˜¯ç”¨æ¥ç»§æ‰¿çš„</li><li><code>final</code>å’Œ<code>abstract</code>ä¸èƒ½è”åˆä½¿ç”¨</li><li>æŠ½è±¡ç±»çš„å­ç±»å¯ä»¥ä½¿æŠ½è±¡ç±»</li><li>æŠ½è±¡ç±»æ— æ³•å®ä¾‹åŒ–,ä½†æŠ½è±¡ç±»æœ‰æ„é€ æ–¹æ³•,è¿™ä¸ªæ„é€ æ–¹æ³•æ˜¯ä¾›å­ç±»ä½¿ç”¨çš„</li><li>æŠ½è±¡æ–¹æ³•ä¸­å¯ä»¥æ²¡æœ‰æŠ½è±¡ç±»,æŠ½è±¡ç±»å¿…é¡»åœ¨æŠ½è±¡æ–¹æ³•ä¸­</li></ul><h3 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h3><ul><li>æ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•å®šä¹‰æ—¶,<code>public abstract</code>ä¿®é¥°ç¬¦å¯ä»¥çœç•¥</li><li>æ¥å£ä¸­çš„æ–¹æ³•éƒ½æ˜¯æŠ½è±¡æ–¹æ³•,æ‰€ä»¥æ¥å£ä¸­çš„æ–¹æ³•ä¸èƒ½æœ‰æ–¹æ³•ä½“</li><li>æ¥å£ä¸­çš„å¸¸é‡çš„<code>public static final</code>å¯ä»¥çœç•¥</li><li>æ¥å£ä¸­çš„æ‰€æœ‰å…ƒç´ éƒ½æ˜¯<code>public</code>ä¿®é¥°çš„</li></ul><h3 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h3><p><img src="https://img-blog.csdnimg.cn/5c4f1a1c8739415d94180c5477489a70.png" alt="Javaå¼‚å¸¸ä½“ç³»"></p><p>å¼‚å¸¸çš„è¡¨ç°å½¢å¼</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">NumberFormatException</span> nfe <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NumberFormatException</span><span class="token punctuation">(</span><span class="token string">"æ•°å­—æ ¼å¼åŒ–å¼‚å¸¸"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// å¼‚å¸¸å¤„ç†ä¸¤ç§æ–¹å¼ try catch æ•æ‰(æ¨èä½¿ç”¨),æˆ–throw æŠ›å‡º(è®©è°ƒç”¨è€…å¤„ç†ä½¿ç”¨,)</span> <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">FileInputStream</span> fileInputStream <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"F:\\java-ä¹¦\\1.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">FileNotFoundException</span> <span class="token operator">|</span> <span class="token class-name">ArithmeticException</span> <span class="token operator">|</span> <span class="token class-name">NullPointerException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ–‡ä»¶ä¸å­˜åœ¨?æ•°å­—å¼‚å¸¸?ç©ºæŒ‡é’ˆå¼‚å¸¸?éƒ½æœ‰å¯èƒ½!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>     <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"finallyä»£ç ä¸€å®šæ‰§è¡Œ,é™¤é System.exit(0); "</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>è‡ªå®šä¹‰å¼‚å¸¸</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyExceptionTest01</span> <span class="token keyword">extends</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span><span class="token comment">//ç¼–è¯‘æ—¶å¼‚å¸¸</span>    <span class="token keyword">public</span> <span class="token class-name">MyExceptionTest01</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">MyExceptionTest01</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">super</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyExceptionTest01</span> <span class="token keyword">extends</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">&#123;</span><span class="token comment">//è¿è¡Œæ—¶å¼‚å¸¸</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>é‡å†™ä¹‹åçš„æ–¹æ³•ä¸èƒ½æ¯”é‡å†™ä¹‹å‰çš„æ–¹æ³•æŠ›å‡ºæ›´å¤šçš„å¼‚å¸¸,å¯ä»¥æ›´å°‘</li></ul><h3 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h3><p><img src="https://img-blog.csdnimg.cn/0168c290b5904154a26544f805b2bf6a.png" alt="Javaé›†åˆæ¡†æ¶æ€ç»´å¯¼å›¾"></p><h4 id="Mapéå†çš„å››ç§æ–¹å¼"><a href="#Mapéå†çš„å››ç§æ–¹å¼" class="headerlink" title="Mapéå†çš„å››ç§æ–¹å¼"></a>Mapéå†çš„å››ç§æ–¹å¼</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>     <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"hello1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"hello2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> keys <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//è¿­ä»£å™¨</span>     <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> i <span class="token operator">=</span> keys<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">while</span> <span class="token punctuation">(</span>i<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>         <span class="token class-name">Integer</span> key <span class="token operator">=</span> i<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token class-name">String</span> value <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">"="</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">&#125;</span>     <span class="token comment">//foreach</span>     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span> key <span class="token operator">:</span> keys     <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>         <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>key <span class="token operator">+</span> <span class="token string">"="</span> <span class="token operator">+</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">&#125;</span>     <span class="token comment">//Set&lt;Map.Entry&lt;Integer, String>>  Map -> Set</span>     <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span><span class="token punctuation">></span></span> set <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span><span class="token punctuation">></span></span> s <span class="token operator">=</span> set<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token keyword">while</span> <span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>         <span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> s1 <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token class-name">String</span> s2 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token class-name">Integer</span> i2 <span class="token operator">=</span> s1<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>         <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i2 <span class="token operator">+</span> <span class="token string">"="</span> <span class="token operator">+</span> s2<span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">&#125;</span>     <span class="token comment">// æ•ˆç‡æœ€é«˜</span>     <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">></span></span> node <span class="token operator">:</span> set     <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>         <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">"="</span> <span class="token operator">+</span> node<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>Hashtable çš„ key å’Œvalue éƒ½ä¸èƒ½ä¸ºnull HashMap é›†åˆçš„keyå’Œvalueéƒ½å¯ä»¥ä¸ºnullçš„ (å›¾ç‰‡å†™é”™äº†)</p></li><li><p>æ”¾åˆ°TreeSeté›†åˆä¸­æˆ–è€…TreeMapé›†åˆkeyéƒ¨åˆ†çš„å…ƒç´ å…ˆè¦åšåˆ°æ’åº,æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹å¼</p><ul><li>æ”¾åœ¨é›†åˆä¸­çš„å…ƒç´ å®ç°jva.lang.Comparableæ¥å£ </li><li>åœ¨æ„é€ TreeSetæˆ–è€…TreeMpé›†åˆçš„æ—¶å€™ç»™ä»–ä¼ ä¸€ä¸ªæ¯”è¾ƒå™¨å¯¹è±¡</li><li>æ¯”è¾ƒè§„åˆ™ä¸å˜æˆ–åªæœ‰ä¸€ä¸ªæ—¶,å»ºè®®ä½¿ç”¨ Comparableæ¥å£</li><li>æ¯”è¾ƒè§„åˆ™æœ‰å¤šä¸ªæ—¶,å»ºè®®ä½¿ç”¨ Comparator æ¥å£</li></ul></li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// Comparable</span><span class="token keyword">class</span> <span class="token class-name">Vip</span> <span class="token keyword">implements</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Vip</span><span class="token punctuation">></span></span><span class="token punctuation">&#123;</span>     <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">Vip</span> o<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">==</span>o<span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">compareTo</span><span class="token punctuation">(</span>o<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">-</span>o<span class="token punctuation">.</span>age<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// Comparator</span><span class="token keyword">class</span> <span class="token class-name">WuGuiComparator</span> <span class="token keyword">implements</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">WuGui</span><span class="token punctuation">></span></span><span class="token punctuation">&#123;</span>        <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">WuGui</span> o1<span class="token punctuation">,</span> <span class="token class-name">WuGui</span> o2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> o1<span class="token punctuation">.</span>age<span class="token operator">-</span>o2<span class="token punctuation">.</span>age<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token comment">//æˆ–è€…åŒ¿åå†…éƒ¨ç±»ç›´æ¥new æ¥å£</span><span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">WuGui</span><span class="token punctuation">></span></span> treeSets <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Comparator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">WuGui</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token class-name">WuGui</span> o1<span class="token punctuation">,</span> <span class="token class-name">WuGui</span> o2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">return</span> o1<span class="token punctuation">.</span>age <span class="token operator">-</span> o2<span class="token punctuation">.</span>age<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="I-Oæµ"><a href="#I-Oæµ" class="headerlink" title="I/Oæµ"></a>I/Oæµ</h3><h4 id="æµçš„åˆ†ç±»"><a href="#æµçš„åˆ†ç±»" class="headerlink" title="æµçš„åˆ†ç±»"></a>æµçš„åˆ†ç±»</h4><ul><li>å­—èŠ‚æµå’Œå­—ç¬¦æµï¼š<ul><li>å­—èŠ‚æµï¼šä»¥å­—èŠ‚ä¸ºå•ä½ï¼Œæ¯æ¬¡æ¬¡è¯»å…¥æˆ–è¯»å‡ºæ˜¯8ä½æ•°æ®ã€‚å¯ä»¥è¯»ä»»ä½•ç±»å‹æ•°æ®ã€‚</li><li>å­—ç¬¦æµï¼šä»¥å­—ç¬¦ä¸ºå•ä½ï¼Œæ¯æ¬¡æ¬¡è¯»å…¥æˆ–è¯»å‡ºæ˜¯16ä½æ•°æ®ã€‚å…¶åªèƒ½è¯»å–å­—ç¬¦ç±»å‹æ•°æ®ã€‚</li></ul></li><li>è¾“å‡ºæµå’Œè¾“å…¥æµï¼š<ul><li>è¾“å…¥æµï¼šä»æ–‡ä»¶è¯»å…¥åˆ°å†…å­˜ã€‚åªèƒ½è¿›è¡Œè¯»æ“ä½œã€‚</li><li>è¾“å‡ºæµï¼šä»å†…å­˜è¯»å‡ºåˆ°æ–‡ä»¶ã€‚åªèƒ½è¿›è¡Œå†™æ“ä½œã€‚</li></ul></li><li>èŠ‚ç‚¹æµå’Œå¤„ç†æµï¼š<ul><li>èŠ‚ç‚¹æµï¼šç›´æ¥ä¸æ•°æ®æºç›¸è¿ï¼Œè¯»å…¥æˆ–è¯»å‡ºã€‚</li><li>å¤„ç†æµï¼šä¸èŠ‚ç‚¹æµä¸€å—ä½¿ç”¨ï¼Œåœ¨èŠ‚ç‚¹æµçš„åŸºç¡€ä¸Šï¼Œå†å¥—æ¥ä¸€å±‚ï¼Œå¥—æ¥åœ¨èŠ‚ç‚¹æµä¸Šçš„å°±æ˜¯å¤„ç†æµã€‚å¤„ç†æµçš„æ„é€ æ–¹æ³•æ€»æ˜¯è¦å¸¦ä¸€ä¸ªå…¶ä»–çš„æµå¯¹è±¡åšå‚æ•°ã€‚ä¸€ä¸ªæµå¯¹è±¡ç»è¿‡å…¶ä»–æµçš„å¤šæ¬¡åŒ…è£…ï¼Œç§°ä¸ºæµçš„é“¾æ¥ã€‚</li></ul></li></ul><p><img src="https://img-blog.csdnimg.cn/a362489654ae473698f170100ea3cbb6.png" alt="I/Oæµ"></p><h4 id="FileInputStream"><a href="#FileInputStream" class="headerlink" title="FileInputStream"></a>FileInputStream</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ä¸€æ¬¡è¯»å–ä¸€ä¸ªå­—èŠ‚ ï¼ˆæ•ˆç‡ä½ï¼Œä¸€èˆ¬ä¸ç”¨ï¼‰</span><span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>readData <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>readData<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token comment">// ä¸€æ¬¡è¯»å–å››ä¸ªå­—èŠ‚</span>    <span class="token keyword">byte</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> readCount <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>readCount<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>readCount<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>count <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>count<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token comment">//</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>fis<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//è¿”å›æµå½“ä¸­å‰©ä½™çš„æ²¡æœ‰è¯»åˆ°çš„å­—èŠ‚æ•°é‡</span>    fis<span class="token punctuation">.</span><span class="token function">skip</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·³è¿‡å‡ ä¸ªå­—èŠ‚ä¸è¯»</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">byte</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span>fis<span class="token punctuation">.</span><span class="token function">available</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">//ä¸é€‚åˆå¤ªå¤§çš„æ–‡ä»¶</span>    <span class="token keyword">int</span> readCount <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="FileOutputStream"><a href="#FileOutputStream" class="headerlink" title="FileOutputStream"></a>FileOutputStream</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">byte</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token number">97</span><span class="token punctuation">,</span><span class="token number">98</span><span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">101</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">)</span><span class="token punctuation">;</span>    fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token string">"æˆ‘æ˜¯ä¸€ä¸ªä¸­å›½äºº,æˆ‘éª„å‚²!!!"</span><span class="token punctuation">;</span>    <span class="token keyword">byte</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> mb <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">getBytes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>mb<span class="token punctuation">)</span><span class="token punctuation">;</span>    fos<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="copy"><a href="#copy" class="headerlink" title="copy"></a>copy</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">package</span> <span class="token class-name">Example7</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileInputStream</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileNotFoundException</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">FileOutputStream</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CopyTest01</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">FileInputStream</span> fis <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token class-name">FileOutputStream</span> fos <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>            fis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            fos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token punctuation">]</span> bytes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">byte</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token operator">*</span><span class="token number">1024</span><span class="token punctuation">]</span><span class="token punctuation">;</span>            <span class="token keyword">int</span> reCoount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>            <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>reCoount <span class="token operator">=</span> fis<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>                fos<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>bytes<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>reCoount<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            fos<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">FileNotFoundException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token keyword">finally</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>fis <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                    fis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>fos <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                    fos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">IOException</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span>    <span class="token keyword">char</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">1024</span><span class="token operator">*</span><span class="token number">512</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> readCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>readCount <span class="token operator">=</span> fileReader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>chars<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        fileWriter<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>chars<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>readCount<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    fileWriter<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="FileReader"><a href="#FileReader" class="headerlink" title="FileReader"></a>FileReader</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// å­—ç¬¦è¾“å…¥æµ è¯»å–æ–‡æœ¬æ–¹ä¾¿</span><span class="token class-name">FileReader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">char</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token keyword">int</span> readerCount<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>readerCount <span class="token operator">=</span> reader<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span>chars<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span>chars<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span>readerCount<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="FileWriter"><a href="#FileWriter" class="headerlink" title="FileWriter"></a>FileWriter</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">FileWriter</span> out <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">"file"</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">char</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token string">'æˆ‘'</span><span class="token punctuation">,</span><span class="token string">'æ˜¯'</span><span class="token punctuation">,</span><span class="token string">'ä¸­'</span><span class="token punctuation">,</span><span class="token string">'å›½'</span><span class="token punctuation">,</span><span class="token string">'äºº'</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>            out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>chars<span class="token punctuation">)</span><span class="token punctuation">;</span>            out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span>chars<span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"å¾·ç›è¥¿äºš"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            out<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"Hello World"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            out<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="BufferedReader"><a href="#BufferedReader" class="headerlink" title="BufferedReader"></a>BufferedReader</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">FileReader</span> fr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">"file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">BufferedReader</span> bf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span>fr<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> s <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>s <span class="token operator">=</span> bf<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        bf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="BufferedReader-1"><a href="#BufferedReader-1" class="headerlink" title="BufferedReader"></a>BufferedReader</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">FileInputStream</span> in <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">InputStreamReader</span> inputStreamReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">BufferedReader</span> bf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span>inputStreamReader<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">BufferedReader</span> bf <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">InputStreamReader</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"file"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">String</span> line <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>line <span class="token operator">=</span> bf<span class="token punctuation">.</span><span class="token function">readLine</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>line<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span>bf<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="BufferedWriter"><a href="#BufferedWriter" class="headerlink" title="BufferedWriter"></a>BufferedWriter</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">BufferedWriter</span> bufferedWriter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileWriter</span><span class="token punctuation">(</span><span class="token string">"file"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">BufferedWriter</span> bufferedWriter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BufferedWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">OutputStreamWriter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"file"</span><span class="token punctuation">,</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>bufferedWriter<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"HelloWorld"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>bufferedWriter<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"woshi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>bufferedWriter<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"\n"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>bufferedWriter<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"huxinlaing"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>bufferedWriter<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>bufferedWriter<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="DataOutputStream"><a href="#DataOutputStream" class="headerlink" title="DataOutputStream"></a>DataOutputStream</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">DataOutputStream</span> dos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">byte</span> b <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span>        <span class="token keyword">short</span> s <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">;</span>        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">300</span><span class="token punctuation">;</span>        <span class="token keyword">long</span> l <span class="token operator">=</span> <span class="token number">400L</span><span class="token punctuation">;</span>        <span class="token keyword">float</span> f <span class="token operator">=</span> <span class="token number">3.0f</span><span class="token punctuation">;</span>        <span class="token keyword">double</span> d <span class="token operator">=</span> <span class="token number">3.14</span><span class="token punctuation">;</span>        <span class="token keyword">boolean</span> sex <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token string">'g'</span><span class="token punctuation">;</span>        dos<span class="token punctuation">.</span><span class="token function">writeByte</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>        dos<span class="token punctuation">.</span><span class="token function">writeShort</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>        dos<span class="token punctuation">.</span><span class="token function">writeInt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        dos<span class="token punctuation">.</span><span class="token function">writeLong</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>        dos<span class="token punctuation">.</span><span class="token function">writeFloat</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>        dos<span class="token punctuation">.</span><span class="token function">writeDouble</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>        dos<span class="token punctuation">.</span><span class="token function">writeBoolean</span><span class="token punctuation">(</span>sex<span class="token punctuation">)</span><span class="token punctuation">;</span>        dos<span class="token punctuation">.</span><span class="token function">writeChar</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>        dos<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        dos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="DataInputStream"><a href="#DataInputStream" class="headerlink" title="DataInputStream"></a>DataInputStream</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">DataInputStream</span> dis <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">byte</span> b <span class="token operator">=</span> dis<span class="token punctuation">.</span><span class="token function">readByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">short</span> s <span class="token operator">=</span> dis<span class="token punctuation">.</span><span class="token function">readShort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">int</span> i <span class="token operator">=</span> dis<span class="token punctuation">.</span><span class="token function">readInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">long</span> l <span class="token operator">=</span> dis<span class="token punctuation">.</span><span class="token function">readLong</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">float</span> f <span class="token operator">=</span> dis<span class="token punctuation">.</span><span class="token function">readFloat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">double</span> d <span class="token operator">=</span> dis<span class="token punctuation">.</span><span class="token function">readDouble</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">boolean</span> sex <span class="token operator">=</span> dis<span class="token punctuation">.</span><span class="token function">readBoolean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token keyword">char</span> c <span class="token operator">=</span> dis<span class="token punctuation">.</span><span class="token function">readChar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>i<span class="token operator">+</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>l<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sex<span class="token punctuation">)</span><span class="token punctuation">;</span>       dis<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="PrintStream"><a href="#PrintStream" class="headerlink" title="PrintStream"></a>PrintStream</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello World!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åˆ†å¼€å†™</span><span class="token class-name">PrintStream</span> ps<span class="token operator">=</span>  <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">;</span>ps<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello World"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>ps<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"hello lisi"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//PrintStream printStream = (new PrintStream(new FileOutputStream("F:\\java IOæµæ–‡ä»¶æ”¾ç½®\\log")));</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">gc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// System.setOut(printStream);</span><span class="token comment">//æ ‡å‡†è¾“å‡ºæµä¸åœ¨æŒ‡å‘æ§åˆ¶å°,è€Œæ˜¯æŒ‡å‘logæ–‡ä»¶</span><span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">setOut</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PrintStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"F:\\java IOæµæ–‡ä»¶æ”¾ç½®\\log"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"hello World"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ObjectOutputStream"><a href="#ObjectOutputStream" class="headerlink" title="ObjectOutputStream"></a>ObjectOutputStream</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//studentå¯¹è±¡ä¸æ”¯æŒåºåˆ—åŒ– å¿…é¡»å®ç°Serializableæ¥å£æ–¹å¯-</span><span class="token class-name">Student</span> s <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token string">"hu"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">ObjectOutputStream</span> oos <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectOutputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileOutputStream</span><span class="token punctuation">(</span><span class="token string">"F:\\java IOæµæ–‡ä»¶æ”¾ç½®\\students"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åºåˆ—åŒ–å¯¹è±¡</span>oos<span class="token punctuation">.</span><span class="token function">writeObject</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span>oos<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>oos<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="ObjectInputStream"><a href="#ObjectInputStream" class="headerlink" title="ObjectInputStream"></a>ObjectInputStream</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java">   <span class="token class-name">ObjectInputStream</span> ois <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectInputStream</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">FileInputStream</span><span class="token punctuation">(</span><span class="token string">"F:\\java IOæµæ–‡ä»¶æ”¾ç½®\\students"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ååºåˆ—åŒ–    </span><span class="token class-name">Object</span> o <span class="token operator">=</span> ois<span class="token punctuation">.</span><span class="token function">readObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>   ois<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><code>transient</code> : å…³é”®å­—ä¸å‚ä¸åºåˆ—åŒ–</li></ul><h4 id="åºåˆ—åŒ–ç‰ˆæœ¬å·"><a href="#åºåˆ—åŒ–ç‰ˆæœ¬å·" class="headerlink" title="åºåˆ—åŒ–ç‰ˆæœ¬å·"></a>åºåˆ—åŒ–ç‰ˆæœ¬å·</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">555516245443047316L</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre><h4 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//å±æ€§é…ç½®æ–‡ä»¶    </span><span class="token comment">//åˆ›å»ºä¸€ä¸ªè¾“å…¥æµå¯¹è±¡</span><span class="token class-name">FileReader</span> reader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token string">"F:\\java IOæµæ–‡ä»¶æ”¾ç½®\\userinfo.txt"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ–°å»ºä¸€ä¸ªmapé›†åˆ</span><span class="token class-name">Properties</span> pro <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Properties</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>pro<span class="token punctuation">.</span><span class="token function">load</span><span class="token punctuation">(</span>reader<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">String</span> username <span class="token operator">=</span> pro<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"username"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">String</span> password <span class="token operator">=</span> pro<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">"password"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>password<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="File"><a href="#File" class="headerlink" title="File"></a>File</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">File</span> f1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"F:\\java IOæµæ–‡ä»¶æ”¾ç½®\\file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ä»¥æ–‡ä»¶çš„å½¢å¼å­˜åœ¨</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>f1<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    f1<span class="token punctuation">.</span><span class="token function">createNewFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token comment">//ä»¥ç›®å½•çš„å½¢å¼å­˜åœ¨</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>f1<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    f1<span class="token punctuation">.</span><span class="token function">mkdir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">File</span> f2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"F:\\java IOæµæ–‡ä»¶æ”¾ç½®\\file\\a\\v\\c\\a\\d\\f"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>f2<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>    f2<span class="token punctuation">.</span><span class="token function">mkdirs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span class="token class-name">File</span> f3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"F:\\java IOæµæ–‡ä»¶æ”¾ç½®\\file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f3<span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">File</span> parentFile <span class="token operator">=</span>f3<span class="token punctuation">.</span><span class="token function">getParentFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è·å–ç»å¯¹è·¯å¾„"</span><span class="token operator">+</span>parentFile<span class="token punctuation">.</span><span class="token function">getAbsolutePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">File</span> f4<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"file"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f4<span class="token punctuation">.</span><span class="token function">getAbsoluteFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ–‡ä»¶å"</span><span class="token operator">+</span>f1<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åˆ¤æ–­æ˜¯ä¸æ˜¯æ–‡ä»¶</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">isFile</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//åˆ¤æ–­æ˜¯ä¸æ˜¯ç›®å½•</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è·å–æ–‡ä»¶æœ€åä¸€æ¬¡ä¿®æ”¹æ—¶é—´</span><span class="token keyword">long</span> lastModified <span class="token operator">=</span> f1<span class="token punctuation">.</span><span class="token function">lastModified</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Date</span> time <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>lastModified<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">SimpleDateFormat</span> simpleDateFormat <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">"yyyy-MM-dd HH:mm:ss:SSS"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>simpleDateFormat<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span><span class="token function">length</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">"F:\\java IOæµæ–‡ä»¶æ”¾ç½®"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">File</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> file1 <span class="token operator">=</span> file<span class="token punctuation">.</span><span class="token function">listFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">File</span> f<span class="token operator">:</span>file1    <span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>f<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><blockquote><p><strong>æ³¨</strong>ï¼šè¾“å…¥è¾“å‡ºæµä¸­çš„å…¥å’Œå‡ºï¼Œéƒ½æ˜¯ç›¸å¯¹äºç³»ç»Ÿå†…å­˜è€Œè¨€çš„ã€‚ä¸ºä»€ä¹ˆè¦æœ‰å¤„ç†æµï¼Ÿç›´æ¥ä½¿ç”¨èŠ‚ç‚¹æµï¼Œè¯»å†™ä¸æ–¹ä¾¿ï¼Œä¸ºäº†æ›´æ–¹ä¾¿çš„è¯»å†™æ–‡ä»¶ï¼Œæ‰æœ‰äº†å¤„ç†æµã€‚ åŒ…è£…æµä¸èŠ‚ç‚¹æµæ˜¯ç›¸å¯¹è€Œè¨€çš„,å¤–é¢çš„åŒ…è£…æµ,é‡Œé¢çš„å‚æ•°æ˜¯èŠ‚ç‚¹æµ</p></blockquote><p><img src="https://img-blog.csdnimg.cn/5695ebf864eb4de8b40bd4420bac5517.png" alt="Java I/O Mind"></p><p><img src="https://img-blog.csdnimg.cn/f866759318fd48709367db234091f2d5.png" alt="æµæŒ‰ç±»å‹åˆ†ç±»"></p><p><img src="https://img-blog.csdnimg.cn/df8e2e64bc754b7d9712c4e13fee5bad.png" alt="æµæŒ‰ç”¨é€”åˆ†ç±»"></p><h3 id="çº¿ç¨‹"><a href="#çº¿ç¨‹" class="headerlink" title="çº¿ç¨‹"></a>çº¿ç¨‹</h3><p>çº¿ç¨‹å®ç°ä¸‰ç§çš„æ–¹å¼</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 1. extends Thread</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">MyThread</span> myThread <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        myThread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span><span class="token number">1000</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸»çº¿ç¨‹--->"</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//ç¼–å†™ç¨‹åº è¿™æ®µç¨‹åºè¿è¡Œåœ¨åˆ†æ”¯çº¿ç¨‹ï¼ˆæ ˆï¼‰ä¸­</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span><span class="token number">1000</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åˆ†æ”¯çº¿ç¨‹--->"</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// 2.1 implements Runnable</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>       <span class="token class-name">Thread</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyRunnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        t<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span><span class="token number">100</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸»çº¿ç¨‹--->"</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">MyRunnable</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">&#123;</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span><span class="token number">100</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åˆ†æ”¯çº¿ç¨‹--->"</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">// 2.2 åŒ¿åå†…éƒ¨ç±»å†™æ³•</span> <span class="token class-name">Thread</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span><span class="token number">100</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åˆ†æ”¯çº¿ç¨‹--->"</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        t<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span><span class="token number">100</span> <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¸»çº¿ç¨‹--->"</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token comment">// 3. å®ç° Callable æ¥å£</span><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">&#123;</span>        <span class="token comment">//åˆ›å»ºä¸€ä¸ªâ€æœªæ¥ä»»åŠ¡ç±»â€œå¯¹è±¡</span>        <span class="token class-name">FutureTask</span> futureTask <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FutureTask</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Callable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token annotation punctuation">@Override</span>            <span class="token keyword">public</span> <span class="token class-name">Object</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">&#123;</span><span class="token comment">//callæ–¹æ³•ç›¸å½“äºrun()æ–¹æ³•</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"call method begin!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token operator">*</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"call method end!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> a<span class="token operator">=</span><span class="token number">10</span><span class="token punctuation">;</span>                <span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>                <span class="token keyword">return</span> a<span class="token operator">+</span>b<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//åˆ›å»ºçº¿ç¨‹å¯¹è±¡</span>        <span class="token class-name">Thread</span> t<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>futureTask<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//å¯åŠ¨çº¿ç¨‹</span>        t<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//è·å–è¿”å›å€¼</span>        <span class="token class-name">Object</span> obj <span class="token operator">=</span> futureTask<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"çº¿ç¨‹æ‰§è¡Œç»“æœï¼š"</span><span class="token operator">+</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//main æ–¹æ³•æ‰§è¡Œåˆ°è¿™é‡Œå¿…é¡»ç­‰å¾… å› ä¸ºè¿™ä¸ªçº¿ç¨‹åœ¨mainçº¿ç¨‹ä¸­æ‰§è¡Œ</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"Hello World!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>å¸¸ç”¨API</p><pre class="line-numbers language-java" data-language="java"><code class="language-java">myThread<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¯åŠ¨çº¿ç¨‹</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è·å–å½“å‰çº¿ç¨‹åç§°</span><span class="token class-name">M</span><span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">"m1"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®çº¿ç¨‹åç§°</span>myThread4<span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token operator">*</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// çº¿ç¨‹ä¼‘çœ </span>thread<span class="token punctuation">.</span><span class="token function">interrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// ç»ˆæ­¢çº¿ç¨‹ä¼‘çœ ,é‡‡ç”¨äº†javaå¼‚å¸¸å¤„ç†æœºåˆ¶</span>thread<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// ç»ˆæ­¢çº¿ç¨‹å·²è¿‡æ—¶(ä¸å»ºè®®ä½¿ç”¨)</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setPriority</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®¾ç½®å½“å‰çº¿ç¨‹çš„ä¼˜å…ˆçº§</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPriority</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è·å–å½“å‰çº¿ç¨‹çš„é»˜è®¤ä¼˜å…ˆçº§</span><span class="token class-name">Thread</span><span class="token punctuation">.</span>MAX_PRIORITY  <span class="token comment">// çº¿ç¨‹ä¼˜å…ˆçº§æœ€é«˜</span><span class="token class-name">Thread</span><span class="token punctuation">.</span>MIN_PRIORITY <span class="token comment">// çº¿ç¨‹ä¼˜å…ˆçº§æœ€ä½</span><span class="token class-name">Thread</span><span class="token punctuation">.</span>NORM_PRIORITY <span class="token comment">// é»˜è®¤çº¿ç¨‹ä¼˜å…ˆçº§</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token keyword">yield</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è®©æ­¥çº¿ç¨‹ æš‚åœå½“å‰æ­£åœ¨æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡ï¼Œå¹¶æ‰§è¡Œå…¶ä»–çº¿ç¨‹ã€‚</span>thread<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// åˆå¹¶çº¿ç¨‹ threadåˆå¹¶åˆ°å½“å‰çº¿ç¨‹ ,å½“å‰çº¿ç¨‹å—é˜» threadçº¿ç¨‹ç›´åˆ°ç»“æŸ</span>thread<span class="token punctuation">.</span><span class="token function">setDaemon</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//å¯åŠ¨çº¿ç¨‹ä¹‹å‰,å°†threadçº¿ç¨‹è®¾ç½®ä¸ºå®ˆæŠ¤çº¿ç¨‹</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="åå°„"><a href="#åå°„" class="headerlink" title="åå°„"></a>åå°„</h3><p>è·å–java.lang.Class å®ä¾‹çš„ä¸‰ç§æ–¹æ³•</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// 1.Class c1 =  Class.forName("å®Œæ•´ç±»ååŠ åŒ…å");</span><span class="token class-name">Class</span> c1 <span class="token operator">=</span>  <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"java.lang.String"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// c1 : String ç±»å‹</span><span class="token comment">// 2. Class c1 =  å¯¹è±¡.getClass()</span><span class="token class-name">Class</span> x <span class="token operator">=</span> <span class="token string">"abc"</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// x : String ç±»å‹ == c1 </span><span class="token comment">// 3. .Class å±æ€§</span><span class="token class-name">Class</span> v <span class="token operator">=</span> <span class="token class-name">String</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>èµ„æºç»‘å®šå™¨</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//åªèƒ½ç»‘å®šxxx.propertiesæ–‡ä»¶,è¿™ä¸ªæ–‡ä»¶å¿…é¡»åœ¨ç±»è·¯å¾„ä¸‹,æ–‡ä»¶æ‰©å±•åå¿…é¡»æ˜¯properties  åé¢çš„æ‰©å±•åä¸èƒ½å†™</span>        <span class="token class-name">ResourceBundle</span> bundle <span class="token operator">=</span> <span class="token class-name">ResourceBundle</span><span class="token punctuation">.</span><span class="token function">getBundle</span><span class="token punctuation">(</span><span class="token string">"Example9/classinfo2"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> classname <span class="token operator">=</span> bundle<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token string">"className"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-java" data-language="java"><code class="language-java"> <span class="token comment">//é€šè¿‡åå°„æœºåˆ¶,è·å–Class,é€šè¿‡Classæ¥å®ä¾‹åŒ–å¯¹è±¡</span><span class="token class-name">Class</span> c <span class="token operator">=</span> <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span><span class="token string">"Example9.bean.User"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token class-name">Object</span> obj <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       c<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//å®Œæ•´ç±»å</span>c<span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ç®€å•ç±»å</span>c<span class="token punctuation">.</span><span class="token function">getFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è·å–ç±»ä¸­æ‰€æœ‰å…¬å¼€çš„å±æ€§Field</span>c<span class="token punctuation">.</span><span class="token function">getDeclaredFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–ç±»ä¸­æ‰€æœ‰çš„Field(å…¬å¼€çš„)</span>c<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">"no"</span><span class="token punctuation">)</span> <span class="token comment">// è·å–noå±æ€§</span>c<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">"no"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token number">222</span><span class="token punctuation">)</span> <span class="token comment">// è®¾ç½®noå€¼</span>c<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">"no"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// è·å–noå€¼</span>c<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">"name"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAccessible</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ‰“ç ´å°è£…</span>field<span class="token punctuation">.</span><span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//éå†è·å–çš„Fileds,è·å–å±æ€§çš„ç±»å‹</span>field<span class="token punctuation">.</span><span class="token function">getModifiers</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è¿”å›çš„æ˜¯æ•°å­—,å¯¹åº”ä¿®é¥°ç¬¦çš„ä»£å·</span><span class="token class-name">Modifier</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>field<span class="token punctuation">.</span><span class="token function">getModifiers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// å°†ä»£å·è½¬æˆå­—ç¬¦ä¸²</span>c<span class="token punctuation">.</span><span class="token function">getDeclaredMethods</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è·å–æ‰€æœ‰çš„Method (åŒ…æ‹¬ç§æœ‰çš„)</span>method<span class="token punctuation">.</span><span class="token function">getParameterTypes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·å–æ‰€æœ‰çš„æ–¹æ³•å‚æ•°åˆ—è¡¨</span>c<span class="token punctuation">.</span><span class="token function">getDeclaredMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>invoke <span class="token comment">// è°ƒç”¨æ–¹æ³•(é‡è¦!!!) </span>c<span class="token punctuation">.</span><span class="token function">getDeclaredConstructors</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è·å–æ‰€æœ‰çš„æ„é€ æ–¹æ³•</span>c<span class="token punctuation">.</span><span class="token function">getDeclaredConstructor</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token comment">// è·å–æœ‰å‚æ•°çš„æ„é€ æ–¹æ³•</span>c<span class="token punctuation">.</span><span class="token function">getDeclaredConstructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è·å–æ— å‚æ•°çš„æ„é€ æ–¹æ³•</span>c<span class="token punctuation">.</span><span class="token function">getSuperclass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è·å–è¿™ç±»çš„çˆ¶ç±»</span>c<span class="token punctuation">.</span><span class="token function">getInterfaces</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// è·å–ç±»ä¸­æ‰€æœ‰çš„æ¥å£</span>c<span class="token punctuation">.</span><span class="token function">isAnnotationPresent</span><span class="token punctuation">(</span><span class="token class-name">MyAnnotation05</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>  <span class="token comment">// åˆ¤æ–­ç±»ä¸Šæ˜¯å¦æœ‰MyAnnotation05 æ³¨è§£</span>c<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">MyAnnotation05</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token comment">// è·å–è¯¥æ³¨è§£å¯¹è±¡</span>c<span class="token punctuation">.</span><span class="token function">getAnnotation</span><span class="token punctuation">(</span><span class="token class-name">MyAnnotation05</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value <span class="token comment">// è·å–æ³¨è§£å¯¹è±¡çš„å±æ€§</span>    <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h3><ul><li>å…ƒæ³¨è§£: ç”¨æ¥æ ‡æ³¨æ³¨è§£ç±»å‹çš„æ³¨è§£<ul><li>@Target  ç”¨æ¥æ ‡æ³¨è¢«æ ‡æ³¨çš„æ³¨è§£å¯ä»¥å‡ºç°åœ¨å“ªä¸ªä½ç½®<ul><li>@@Target(ElementType.METHOD) åªèƒ½å‡ºç°åœ¨æ–¹æ³•ä¸Š</li></ul></li><li>@Rentention ç”¨æ¥æ ‡æ³¨è¢«æ ‡æ³¨çš„æ³¨è§£æœ€ç»ˆä¿å­˜åœ¨å“ªé‡Œ<ul><li>@Retention(RetentionPolicy.RUNTIME)  è¯¥æ³¨è§£åªä¿ç•™åœ¨java classæ–‡ä»¶ä¸­,å¹¶ä¸”å¯ä»¥è¢«åå°„æœºåˆ¶æ‰€è¯»å–</li><li>@Retention(RetentionPolicy.CLASS) è¯¥æ³¨è§£åªä¿ç•™åœ¨java classæ–‡ä»¶ä¸­</li><li>@Retention(RetentionPolicy.SOURCE) è¯¥æ³¨è§£åªä¿ç•™åœ¨javaæºæ–‡ä»¶ä¸­</li></ul></li></ul></li><li>@Deprecated è¿™ä¸ªæ³¨è§£æ ‡æ³¨çš„å…ƒç´ å·²è¿‡æ—¶</li><li>@Overrideåªèƒ½æ³¨è§£æ–¹æ³•</li><li>@Test å¯ç›´æ¥è¿è¡Œæ–¹æ³•ï¼Œå¸¸ç”¨æ¥åšæµ‹è¯•</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/*è‡ªå®šä¹‰æ³¨è§£ */</span><span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">MyAnnotation</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token comment">// æ³¨è§£ä¸­å®šä¹‰å±æ€§</span><span class="token keyword">int</span> <span class="token function">age</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token number">25</span><span class="token punctuation">;</span> <span class="token comment">//å±æ€§æŒ‡å®šé»˜è®¤å€¼ é‚£åé¢çš„å¯ä»¥ä¸å†™äº†</span><span class="token annotation punctuation">@MyAnnotation02</span><span class="token punctuation">(</span>name<span class="token operator">=</span><span class="token string">"shaoshao"</span><span class="token punctuation">,</span>color <span class="token operator">=</span> <span class="token string">"blue"</span><span class="token punctuation">)</span><span class="token comment">//å±æ€§åæ˜¯value,å¹¶ä¸”åªæœ‰ä¸€ä¸ªå±æ€§å€¼å¯ä»¥çœç•¥</span><span class="token annotation punctuation">@MyAnnotation03</span><span class="token punctuation">(</span><span class="token string">"hehe"</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cè¯­è¨€æ•°æ®ç»“æ„</title>
      <link href="/2021-09-22-c-yu-yan-shu-ju-jie-gou.html"/>
      <url>/2021-09-22-c-yu-yan-shu-ju-jie-gou.html</url>
      
        <content type="html"><![CDATA[<h3 id="1-ç»ªè®º"><a href="#1-ç»ªè®º" class="headerlink" title="1. ç»ªè®º"></a>1. ç»ªè®º</h3><ul><li><p>è‹¥éœ€è¦åˆ©ç”¨å½¢å¼å‚æ•°ç›´æ¥è®¿é—®ä¿®æ”¹å®å‚å€¼ï¼Œåˆ™åº”å°†å½¢å¼å‚æ•°è¯´æ˜ä¸º<font color="red">æŒ‡é’ˆ</font>å‚æ•°ã€‚</p></li><li><p>å¯¹ä¸€ä¸ªç®—æ³•çš„è¯„ä»·åŒ…æ‹¬ä¸‰ä¸ªæ–¹é¢ï¼š</p><ul><li>å¥å£®æ€§</li><li>æ—¶é—´å¤æ‚åº¦</li><li>ç©ºé—´å¤æ‚åº¦ </li></ul></li><li><p>çº¿æ€§ç»“æ„æ˜¯æ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨ä¸€ç§<font color=red>ä¸€å¯¹ä¸€å…³ç³»</font></p></li><li><p>ç®—æ³•åˆ†æçš„ä¸¤ä¸ªä¸»è¦æ–¹é¢æ˜¯:</p><ul><li>ç©ºé—´å¤æ‚åº¦</li><li>æ—¶é—´å¤æ‚åº¦    </li></ul></li><li><p>è¯„ä»·ä¸€ä¸ªç®—æ³•æ€§èƒ½å¥½åçš„é‡è¦æ ‡å‡†æ˜¯<font color=red>ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦</font></p></li><li><p>ç®—æ³•åˆ†æçš„ç›®çš„æ˜¯<font color=red>åˆ†æç®—æ³•çš„æ•ˆç‡ä»¥æ±‚æ”¹è¿›</font></p></li><li><p>æŠ½è±¡æ•°æ®ç±»å‹ï¼ˆADTï¼‰åŒ…æ‹¬å®šä¹‰å’Œå®ç°ä¸¤æ–¹é¢ï¼Œå…¶ä¸­å®šä¹‰æ˜¯ç‹¬ç«‹äºå®ç°çš„ï¼Œå®šä¹‰ä»…ç»™å‡ºä¸€ä¸ªADTçš„é€»è¾‘ç‰¹æ€§ï¼Œä¸å¿…è€ƒè™‘å¦‚ä½•åœ¨è®¡ç®—æœºä¸­å®ç°ã€‚</p></li></ul><hr><p>1ã€è¯•è¯´æ˜æ•°æ®ç»“æ„å«ä¹‰ã€‚</p><p><strong>æ˜¯æŒ‡ç›¸äº’ä¹‹é—´å­˜åœ¨ä¸€ç§æˆ–å¤šç§ç‰¹å®šå…³ç³»çš„æ•°æ®å…ƒç´ é›†åˆã€‚</strong></p><p>2ã€å™è¿°å››ç±»åŸºæœ¬æ•°æ®ç»“æ„çš„åç§°ä¸å«ä¹‰ã€‚</p><p><strong>é›†åˆç»“æ„ï¼šç»“æ„ä¸­çš„æ•°æ®å…ƒç´ ä¹‹é—´é™¤äº†åŒå±ä¸€ä¸ªé›†åˆçš„å…³ç³»å¤–ï¼Œæ— ä»»ä½•å…³ç³»ã€‚</strong></p><p><strong>çº¿æ€§ç»“æ„ï¼šç»“æ„ä¸­çš„æ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨ä¸€å¯¹ä¸€çš„çº¿æ€§å…³ç³»ã€‚</strong></p><p><strong>æ ‘å½¢ç»“æ„ï¼šç»“æ„ä¸­çš„æ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨ä¸€å¯¹å¤šçš„å±‚æ¬¡ç»“æ„ã€‚</strong></p><p><strong>å›¾çŠ¶ç»“æ„ï¼šç»“æ„ä¸­çš„æ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨ç€å¤šå¯¹å¤šçš„ä»»æ„å…³ç³»ã€‚</strong></p><p>3ã€å™è¿°ç®—æ³•çš„å®šä¹‰ä¸ç‰¹æ€§ã€‚</p><p><strong>ç®—æ³•çš„å®šä¹‰ï¼šç®—æ³•æ˜¯è§„åˆ™çš„æœ‰é™é›†åˆï¼Œè§†ä¸ºè§£å†³ç‰¹å®šé—®é¢˜è€Œè§„å®šçš„ä¸€ç³»åˆ—æ“ä½œã€‚</strong></p><p><strong>ç®—æ³•çš„ç‰¹æ€§ï¼š</strong></p><p><strong>ï¼ˆ1ï¼‰</strong>   <strong>æœ‰é™æ€§ï¼šæœ‰é™æ­¥éª¤ä¹‹å†…æ­£å¸¸ç»“æŸï¼Œä¸èƒ½å½¢æˆæ— ç©·å¾ªç¯ã€‚</strong></p><p><strong>ï¼ˆ2ï¼‰</strong>  <strong>ç¡®å®šæ€§ï¼šç®—æ³•ä¸­çš„æ¯ä¸€ä¸ªæ­¥éª¤å¿…é¡»æœ‰ç¡®å®šçš„å«ä¹‰ï¼Œæ— äºŒä¹‰æ€§ã€‚</strong></p><p><strong>ï¼ˆ3ï¼‰</strong>  <strong>è¾“å…¥ï¼šæœ‰å¤šä¸ªæˆ–é›¶ä¸ªè¾“å…¥ã€‚</strong></p><p><strong>ï¼ˆ4ï¼‰</strong>  <strong>è¾“å‡ºï¼šè‡³å°‘æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å‡ºã€‚</strong></p><p><strong>ï¼ˆ5ï¼‰</strong>  <strong>å¯è¡Œæ€§ï¼šåŸåˆ™ä¸Šèƒ½ç²¾ç¡®è¿›è¡Œï¼Œæ“ä½œå¯é€šè¿‡å·²å®ç°çš„åŸºæœ¬è¿ç®—æ‰§è¡Œæœ‰é™æ¬¡è€Œå®Œæˆã€‚</strong></p><p>4ã€å™è¿°ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ã€‚</p><p><strong>æ‰€è°“ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦ï¼Œå³æ˜¯ç®—æ³•çš„æ—¶é—´é‡åº¦ï¼Œè®°ä¸ºTï¼ˆnï¼‰=Oï¼ˆf(n)ï¼‰.å®ƒè¡¨ç¤ºéšæ—¶é—´è§„æ¨¡nçš„å¢å¤§ï¼Œç®—æ³•çš„æ‰§è¡Œæ—¶é—´çš„å¢é•¿ç‡å’Œfï¼ˆnï¼‰çš„å¢é•¿ç‡ç›¸åŒï¼Œç§°ä¸ºç®—æ³•çš„æ¸è¿›æ—¶é—´å¤æ‚åº¦ï¼Œæ£€æŸ¥æ—¶é—´å¤æ‚åº¦ã€‚</strong></p><p>5ã€å™è¿°æ•°æ®ç±»å‹çš„æ¦‚å¿µã€‚</p><p><strong>æ•°æ®ç±»å‹æ˜¯ä¸€ç»„æ€§è´¨ç›¸åŒçš„å€¼é›†åˆä»¥åŠå®šä¹‰åœ¨è¿™ä¸ªå€¼é›†åˆä¸Šçš„ä¸€ç»„æ“ä½œçš„æ€»ç§°ã€‚</strong></p><p>6ã€å™è¿°çº¿æ€§ç»“æ„ä¸éçº¿æ€§ç»“æ„çš„å·®åˆ«ã€‚</p><p>(1)çº¿æ€§ç»“æ„æ˜¯ä¸€ä¸ªæœ‰åºæ•°æ®å…ƒç´ çš„é›†åˆã€‚ å…¶ä¸­æ•°æ®å…ƒç´ ä¹‹é—´çš„å…³ç³»æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œå³é™¤äº†ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªæ•°æ®å…ƒç´ ä¹‹å¤–ï¼Œå…¶å®ƒæ•°æ®å…ƒç´ éƒ½æ˜¯é¦–å°¾ç›¸æ¥çš„ã€‚å¸¸ç”¨çš„çº¿æ€§ç»“æ„æœ‰ï¼šçº¿æ€§è¡¨ï¼Œæ ˆï¼Œé˜Ÿåˆ—ï¼ŒåŒé˜Ÿåˆ—ï¼Œæ•°ç»„ï¼Œä¸²ã€‚<br> (2)éçº¿æ€§ç»“æ„ä¸­å„ä¸ªæ•°æ®å…ƒç´ ä¸å†ä¿æŒåœ¨ä¸€ä¸ªçº¿æ€§åºåˆ—ä¸­ï¼Œæ¯ä¸ªæ•°æ®å…ƒç´ å¯èƒ½ä¸é›¶ä¸ªæˆ–è€…å¤šä¸ªå…¶ä»–æ•°æ®å…ƒç´ å‘ç”Ÿè”ç³»ã€‚æ ¹æ®å…³ç³»çš„ä¸åŒï¼Œå¯åˆ†ä¸ºå±‚æ¬¡ç»“æ„å’Œç¾¤ç»“æ„ã€‚</p><p>7ã€å™è¿°æŠ½è±¡æ•°æ®ç±»å‹çš„æ¦‚å¿µã€‚</p><p><strong>æŠ½è±¡æ•°æ®ç±»å‹æ˜¯æŒ‡åŸºäºä¸€ç±»é€»è¾‘å…³ç³»çš„æ•°æ®ç±»å‹ä»¥åŠå®šä¹‰åœ¨è¿™ä¸ªç±»å‹ä¹‹ä¸Šçš„ä¸€ç»„æ“ä½œã€‚</strong></p><h3 id="2-çº¿æ€§è¡¨"><a href="#2-çº¿æ€§è¡¨" class="headerlink" title="2.çº¿æ€§è¡¨"></a>2.çº¿æ€§è¡¨</h3><ul><li>çº¿æ€§è¡¨æ˜¯nä¸ªç±»å‹ç›¸åŒçš„æ•°æ®å…ƒç´ çš„æœ‰é™åºåˆ—,æ•°æ®å…ƒç´ ä¹‹é—´æ˜¯<font color="red">ä¸€å¯¹ä¸€</font>çš„å…³ç³»,å³æ¯ä¸ªæ•°æ®å…ƒç´ æœ€å¤šæœ‰ä¸€ä¸ªå‰é©±å’Œä¸€ä¸ªç›´æ¥åç»§</li><li>ç‰¹ç‚¹:<ul><li>åŒä¸€æ€§ï¼šçº¿æ€§è¡¨ç”±åŒç±»æ•°æ®å…ƒç´ ç»„æˆï¼Œæ¯ä¸€ä¸ªaiå¿…é¡»å±äºåŒä¸€æ•°æ®å¯¹è±¡</li><li>æœ‰ç©·æ€§ï¼šçº¿æ€§è¡¨ç”±æœ‰é™ä¸ªæ•°æ®å…ƒç´ ç»„æˆï¼Œè¡¨é•¿åº¦å°±æ˜¯è¡¨ä¸­æ•°æ®å…ƒç´ çš„ä¸ªæ•°</li><li>æœ‰åºæ€§ï¼šçº¿æ€§è¡¨ä¸­ç›¸é‚»æ•°æ®å…ƒç´ ä¹‹é—´å­˜åœ¨ç€æœ‰åºå¶å…³ç³»ï¼Œ&lt;ai ,ai+1&gt;</li></ul></li><li>åœ¨è®¡ç®—æœºå†…å­˜æ”¾çº¿æ€§è¡¨ï¼Œä¸»è¦æœ‰ä¸¤ç§åŸºæœ¬çš„å­˜å‚¨ç»“æ„ï¼š<strong>é¡ºåºå­˜å‚¨ç»“æ„</strong>å’Œ<strong>é“¾å¼å­˜å‚¨ç»“æ„</strong></li><li>é‡‡ç”¨é¡ºåºå­˜å‚¨ç»“æ„çš„çº¿æ€§è¡¨é€šå¸¸ç§°ä¸º<strong>é¡ºåºè¡¨</strong></li><li>æŸ¥æ‰¾æ“ä½œæœ‰<strong>æŒ‰åºå·æŸ¥æ‰¾</strong>å’Œ<strong>æŒ‰å†…å®¹æŸ¥æ‰¾</strong>ä¸¤ç§åŸºæœ¬æŸ¥æ‰¾è¿ç®—</li><li>å•é“¾è¡¨åŒ…æ‹¬ä¸¤ä¸ªåŸŸ:<ul><li><strong>æ•°æ®åŸŸ</strong>ç”¨æ¥å­˜å‚¨èŠ‚ç‚¹çš„å€¼</li><li><strong>æŒ‡é’ˆåŸŸ</strong>ç”¨æ¥å­˜å‚¨æ•°æ®å…ƒç´ çš„ç›´æ¥åç»§çš„åœ°å€</li><li>ç”±äºé“¾è¡¨çš„æ¯ä¸ªèŠ‚ç‚¹åªæœ‰ä¸€ä¸ªæŒ‡é’ˆåŸŸ,æ•…å°†è¿™ç§é“¾è¡¨æˆä¸º<strong>å•é“¾è¡¨</strong></li></ul></li><li>å¤´æ’æ³•å¾—åˆ°çš„å•é“¾è¡¨çš„é€»è¾‘é¡ºåºç¾½è¾“å…¥å…ƒç´ é¡ºåºç›¸å,æ‰€ä»¥ä¹Ÿç§°å¤´æ’æ³•å»ºè¡¨ä¸ºé€†åºå»ºè¡¨æ³•</li></ul><hr><ul><li>éç©ºçš„å¾ªç¯å•é“¾è¡¨headçš„å°¾æŒ‡é’ˆpæ»¡è¶³  (p-&gt;next==head)</li><li>é“¾è¡¨çš„ç‰¹ç‚¹æ˜¯<ul><li>æ’å…¥åˆ é™¤ä¸éœ€è¦ç§»åŠ¨å…ƒç´ </li><li>ä¸å¿…äº‹å…ˆä¼°è®¡å­˜å‚¨ç©ºé—´ </li><li>æ‰€éœ€ç©ºé—´ä¸çº¿æ€§è¡¨çš„é•¿åº¦æˆæ­£æ¯” </li></ul></li><li>é“¾è¡¨ä¸èƒ½éšæœºè®¿é—®ä»»æ„å…ƒç´ </li><li>è‹¥æŸé“¾è¡¨ä¸­æœ€å¸¸ç”¨çš„æ“ä½œæ˜¯åœ¨æœ€åä¸€ä¸ªç»“ç‚¹ä¹‹åæ’å…¥ä¸€ä¸ªç»“ç‚¹å’Œåˆ é™¤æœ€åä¸€ä¸ªç»“ç‚¹ï¼Œåˆ™é‡‡ç”¨ï¼ˆ å¸¦å¤´ç»“ç‚¹çš„åŒå¾ªç¯é“¾è¡¨  ï¼‰å­˜å‚¨æ–¹å¼æœ€èŠ‚çœè¿ç®—æ—¶é—´ã€‚</li><li>è‹¥çº¿æ€§è¡¨ä¸­æœ€å¸¸ç”¨çš„æ“ä½œæ˜¯å­˜å–ç¬¬iä¸ªå…ƒç´ åŠå…¶å‰é©±çš„å€¼ï¼Œåˆ™é‡‡ç”¨ï¼ˆ é¡ºåºè¡¨   ï¼‰å­˜å‚¨æ–¹å¼èŠ‚çœæ—¶é—´ã€‚</li><li>é¡ºåºè¡¨è¯»å–å…ƒç´ èŠ±è´¹çš„æ—¶é—´æœ€å°‘</li><li></li></ul>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„å’Œç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo-materyé—®é¢˜è§£å†³</title>
      <link href="/2021-09-21-hexo-matery-wen-ti-jie-jue.html"/>
      <url>/2021-09-21-hexo-matery-wen-ti-jie-jue.html</url>
      
        <content type="html"><![CDATA[<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># æäº¤æ–‡ä»¶</span>hexo g -dhexo backup<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>é—®: hexo g -d çªç„¶æ— ç¼˜æ— æ•…æäº¤ä¸ä¸Šå»,ä½†æœ¬åœ° hexo server æ˜¯å¯ä»¥æ­£å¸¸æ˜¾ç¤ºçš„?</p><p>ç­”: åˆ é™¤publicæ–‡ä»¶å¤¹é‡æ–°è·‘å‘½ä»¤hexo clean hexo g -d ,ä¸è¡Œå°±è·‘ä¸¤æ¬¡,ç­‰å¾…æˆåŠŸ.(å°±æ˜¯è¿™ä¹ˆä¸é è°±O(âˆ©_âˆ©)O)</p><p>é—®: ä»£ç å—ä¸­èŠ±æ‹¬å·è¢«è½¬ä¹‰,ä¸èƒ½æ­£å¸¸æ˜¾ç¤º?</p><p>ç­”: åˆ é™¤ä»£ç é«˜äº®æ’ä»¶,å‡çº§hexoç‰ˆæœ¬åˆ°5.0ä»¥ä¸Šï¼Œå¹¶å¯åŠ¨è‡ªå¸¦é«˜äº®æ’ä»¶</p><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">åˆ é™¤æ’ä»¶:- <span class="token function">npm</span> uninstall hexo-prism-plugin å‡çº§ç‰ˆæœ¬:- cnpm <span class="token function">install</span> -g npm-upgrade         <span class="token comment"># å‡çº§ç³»ç»Ÿä¸­çš„æ’ä»¶</span>- cnpm update                         <span class="token comment"># æ›´æ–° hexo åŠæ‰€æœ‰æ’ä»¶</span>- hexo -v                             <span class="token comment"># ç¡®è®¤ hexo å·²ç»æ›´æ–°</span>ç³»ç»Ÿè‡ªå¸¦é«˜äº®æ’ä»¶ï¼šhighlight:  enable: <span class="token boolean">true</span>  line_number: <span class="token boolean">true</span>  auto_detect: <span class="token boolean">false</span>  tab_replace: <span class="token string">''</span>  wrap: <span class="token boolean">true</span>  hljs: <span class="token boolean">false</span>prismjs:  enable: <span class="token boolean">true</span>  preprocess: <span class="token boolean">true</span>  line_number: <span class="token boolean">true</span>  tab_replace: <span class="token string">''</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> matery </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitå‘½ä»¤å­¦ä¹ </title>
      <link href="/2021-09-21-git-ming-ling-xue-xi.html"/>
      <url>/2021-09-21-git-ming-ling-xue-xi.html</url>
      
        <content type="html"><![CDATA[<ul><li>è‹¥ä¸‹è½½åˆ†æ”¯çš„è¯éœ€è¦åŠ  <font color="dd0000"> -bÂ </font>  + åˆ†æ”¯åç§° + ä¸‹è½½åœ°å€</li></ul><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">git</span> clone -b backup git@github.com:shaoshaossm/shaoshaossm.github.io.git<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> åç«¯ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>javaæ•°æ®ç»“æ„å’Œç®—æ³•(ä¸€)</title>
      <link href="/2021-09-21-java-shu-ju-jie-gou-he-suan-fa.html"/>
      <url>/2021-09-21-java-shu-ju-jie-gou-he-suan-fa.html</url>
      
        <content type="html"><![CDATA[<h3 id="1-ç¨€ç–æ•°ç»„sparsearray"><a href="#1-ç¨€ç–æ•°ç»„sparsearray" class="headerlink" title="1.ç¨€ç–æ•°ç»„sparsearray"></a>1.ç¨€ç–æ•°ç»„sparsearray</h3><p>åŸºæœ¬ä»‹ç»:</p><p>å½“ä¸€ä¸ªæ•°ç»„ä¸­å¤§éƒ¨åˆ†å…ƒç´ ä¸ºï¼ï¼Œæˆ–è€…ä¸ºåŒä¸€ä¸ªå€¼çš„æ•°ç»„æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ç¨€ç–æ•°ç»„æ¥ä¿å­˜è¯¥æ•°ç»„ã€‚</p><p>ç¨€ç–æ•°ç»„çš„å¤„ç†æ–¹æ³•æ˜¯:</p><ul><li><p>è®°å½•æ•°ç»„ä¸€å…±æœ‰å‡ è¡Œå‡ åˆ—ï¼Œæœ‰å¤šå°‘ä¸ªä¸åŒçš„å€¼</p></li><li><p>æŠŠå…·æœ‰ä¸åŒå€¼çš„å…ƒç´ çš„è¡Œåˆ—åŠå€¼è®°å½•åœ¨ä¸€ä¸ªå°è§„æ¨¡çš„æ•°ç»„ä¸­ï¼Œä»è€Œç¼©å°ç¨‹åºçš„è§„æ¨¡</p></li></ul><p><img src="https://img-blog.csdnimg.cn/9c934b2eebc04a1f9ebdd7737b017824.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAd2VpeGluXzQ1MjAwNzM5,size_20,color_FFFFFF,t_70,g_se,x_16" alt="ç¨€ç–æ•°ç»„"></p><p>äºŒç»´æ•°ç»„è½¬ç¨€ç–æ•°ç»„çš„æ€è·¯:</p><ul><li><p>éå†åŸå§‹çš„äºŒç»´æ•°ç»„,å¾—åˆ°æœ‰æ•ˆæ•°æ®çš„ä¸ªæ•° sum</p></li><li><p>æ ¹æ®sumå°±å¯ä»¥åˆ›å»ºç¨€ç–æ•°ç»„ sparseArr int [sum+1] [3]</p></li><li><p>å°†äºŒç»´æ•°ç»„çš„æœ‰æ•ˆæ•°æ®å­˜å…¥åˆ°ç¨€ç–æ•°ç»„</p></li></ul><p>ç¨€ç–æ•°ç»„è½¬äºŒç»´æ•°ç»„æ€è·¯:</p><ul><li>å…ˆè¯»å–ç¨€ç–æ•°ç»„çš„ç¬¬ä¸€è¡Œ,æ ¹æ®ç¬¬ä¸€è¡Œçš„æ•°æ®,åˆ›å»ºåŸå§‹çš„äºŒç»´æ•°ç»„</li><li>å†è¯»å–ç¨€ç–æ•°ç»„åå‡ è¡Œçš„æ•°æ®,å¹¶èµ‹ç»™åŸå§‹çš„äºŒç»´æ•°ç»„å³å¯</li></ul><p>ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/9/14 18:30 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SparseArray</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//åˆ›å»ºä¸€ä¸ªäºŒä½æ•°ç»„ 11*11</span>        <span class="token comment">//0: è¡¨ç¤ºæ²¡æœ‰å»æ£‹å­  1:è¡¨ç¤ºé»‘å­  2: è¡¨ç¤ºè“å­</span>        <span class="token keyword">int</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chessArr1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">11</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        chessArr1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        chessArr1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        chessArr1<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>        <span class="token comment">//è¾“å‡ºåŸå§‹çš„äºŒç»´æ•°ç»„</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> row <span class="token operator">:</span> chessArr1<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> data <span class="token operator">:</span> row<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\t"</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//äºŒç»´æ•°ç»„ ------>  ç¨€ç–æ•°ç»„</span>        <span class="token comment">//1.éå†åŸå§‹çš„äºŒç»´æ•°ç»„å¾—åˆ°sumæ€»æ•°</span>        <span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span>chessArr1<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span>chessArr1<span class="token punctuation">.</span>length <span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>chessArr1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    sum<span class="token operator">++</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//2.åˆ›å»ºå¯¹åº”çš„ç¨€ç–æ•°ç»„</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> sparseArr2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>sum<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">//ç»™ç¨€ç–æ•°ç»„èµ‹å€¼</span>        sparseArr2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> chessArr1<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        sparseArr2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> chessArr1<span class="token punctuation">.</span>length<span class="token punctuation">;</span>        sparseArr2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> sum<span class="token punctuation">;</span>        <span class="token comment">//éå†äºŒç»´æ•°ç»„ å°†é0çš„å€¼å­˜æ”¾åˆ°sparseArrä¸­</span>        <span class="token comment">// ç”¨äºè®°å½•ç¬¬å‡ ä¸ªé0æ•°æ®</span>        <span class="token keyword">int</span>  count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span>chessArr1<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span>chessArr1<span class="token punctuation">.</span>length <span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">if</span> <span class="token punctuation">(</span>chessArr1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                    count<span class="token operator">++</span><span class="token punctuation">;</span>                    sparseArr2<span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> i<span class="token punctuation">;</span>                    sparseArr2<span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> j<span class="token punctuation">;</span>                    sparseArr2<span class="token punctuation">[</span>count<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> chessArr1<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>                <span class="token punctuation">&#125;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å¾—åˆ°çš„ç¨€ç–æ•°ç»„ä¸º~~~~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span>sparseArr2<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\t%d\t%d\t\n"</span><span class="token punctuation">,</span>sparseArr2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>sparseArr2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>sparseArr2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">/**         * ç¨€ç–æ•°ç»„ ---->äºŒç»´æ•°ç»„         */</span>        <span class="token comment">//1.å…ˆè¯»å–ç¨€ç–æ•°ç»„çš„ç¬¬ä¸€è¡Œ,æ ¹æ®ç¬¬ä¸€è¡Œæ•°æ®,åˆ›å»ºåŸå§‹çš„äºŒç»´æ•°ç»„</span>        <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chessArr2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>sparseArr2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>sparseArr2<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token comment">//2.å†è¯»å–ç¨€ç–æ•°ç»„ä»ç¬¬äºŒè¡Œå¼€å§‹çš„æ•°æ®,å¹¶èµ‹å€¼ç»™äºŒç»´æ•°ç»„å³å¯</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span>sparseArr2<span class="token punctuation">.</span>length <span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            chessArr2<span class="token punctuation">[</span>sparseArr2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">[</span>sparseArr2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> sparseArr2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æ¢å¤åçš„äºŒç»´æ•°ç»„~~~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> row <span class="token operator">:</span> chessArr2<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> data <span class="token operator">:</span> row<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\t"</span><span class="token punctuation">,</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="2-é˜Ÿåˆ—"><a href="#2-é˜Ÿåˆ—" class="headerlink" title="2.é˜Ÿåˆ—"></a>2.é˜Ÿåˆ—</h3><p>åŸºæœ¬ä»‹ç»:</p><ul><li>é˜Ÿåˆ—æ˜¯ä¸€ä¸ªæœ‰åºåˆ—è¡¨ï¼Œå¯ä»¥ç”¨<strong>æ•°ç»„</strong>æˆ–æ˜¯<strong>é“¾è¡¨</strong>æ¥å®ç°ã€‚</li><li>éµå¾ª<strong>å…ˆå…¥å…ˆå‡º</strong>çš„åŸåˆ™ã€‚å³ï¼šå…ˆå­˜å…¥é˜Ÿåˆ—çš„æ•°æ®ï¼Œè¦å…ˆå–å‡ºã€‚åå­˜å…¥çš„è¦åå–å‡º</li><li>ä½¿ç”¨æ•°ç»„æ¨¡æ‹Ÿé˜Ÿåˆ—ç¤ºæ„å›¾:</li></ul><p><img src="https://img-blog.csdnimg.cn/bd6a1f1d78b94fa4b34cdfc28ff8318b.png" alt="ä½¿ç”¨æ•°ç»„æ¨¡æ‹Ÿé˜Ÿåˆ—ç¤ºæ„å›¾"></p><h4 id="2-1-æ•°ç»„æ¨¡æ‹Ÿé˜Ÿåˆ—æ•°æ®"><a href="#2-1-æ•°ç»„æ¨¡æ‹Ÿé˜Ÿåˆ—æ•°æ®" class="headerlink" title="2.1 æ•°ç»„æ¨¡æ‹Ÿé˜Ÿåˆ—æ•°æ®"></a>2.1 æ•°ç»„æ¨¡æ‹Ÿé˜Ÿåˆ—æ•°æ®</h4><p>æ•°æ®å­˜å…¥é˜Ÿåˆ—æ€è·¯åˆ†æ:</p><ul><li>å°†å°¾æŒ‡é’ˆå¾€åç§»ï¼šrear+1 , å½“front == rear ã€ç©ºã€‘</li><li>è‹¥å°¾æŒ‡é’ˆ rear å°äºé˜Ÿåˆ—çš„æœ€å¤§ä¸‹æ ‡ maxSize-1ï¼Œåˆ™å°†æ•°æ®å­˜å…¥ rearæ‰€æŒ‡çš„æ•°ç»„å…ƒç´ ä¸­ï¼Œå¦åˆ™æ— æ³•å­˜å…¥æ•°æ®ã€‚ rear == maxSize - 1[é˜Ÿåˆ—æ»¡]</li></ul><p>ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/9/15 9:39 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ArrayQueueDemo</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æµ‹è¯•æ•°ç»„æ¨¡æ‹Ÿç¯å½¢é˜Ÿåˆ—~~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//åˆ›å»ºé˜Ÿåˆ—</span>        <span class="token class-name">ArrayQueue</span> queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayQueue</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æ¥å—ç”¨æˆ·è¾“å…¥</span>        <span class="token keyword">char</span> key <span class="token operator">=</span> <span class="token string">' '</span><span class="token punctuation">;</span>        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">boolean</span> loop <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>loop<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"s(show): æ˜¾ç¤ºé˜Ÿåˆ—"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"e(exit): é€€å‡ºç¨‹åº"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"a(add): æ·»åŠ ç¨‹åºåˆ°é˜Ÿåˆ—"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"g(get): ä»é˜Ÿåˆ—ä¸­è·å–æ•°æ®"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"h(head): æŸ¥çœ‹é˜Ÿåˆ—å¤´æ•°æ®"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            key <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">switch</span> <span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">case</span> <span class="token string">'s'</span><span class="token operator">:</span>                    queue<span class="token punctuation">.</span><span class="token function">showQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">'a'</span><span class="token operator">:</span>                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥ä¸€ä¸ªæ•°"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">int</span> value <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    queue<span class="token punctuation">.</span><span class="token function">addQueue</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">'g'</span><span class="token operator">:</span>                    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">int</span> res <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">getQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"å–å‡ºçš„æ•°æ®æ˜¯%d\n"</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">'h'</span><span class="token operator">:</span>                    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">int</span> res <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">headQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"å–å‡ºçš„æ•°æ®æ˜¯%d\n"</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">'e'</span><span class="token operator">:</span>                    scanner<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    loop <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">default</span><span class="token operator">:</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç¨‹åºé€€å‡º"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">/** * ä½¿ç”¨æ•°ç»„æ¨¡æ‹Ÿé˜Ÿåˆ— - ç¼–å†™ä¸€ä¸ªArrayQueueç±» */</span><span class="token keyword">class</span> <span class="token class-name">ArrayQueue</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> maxSize<span class="token punctuation">;</span> <span class="token comment">//æ•°ç»„çš„æœ€å¤§å®¹é‡</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> front<span class="token punctuation">;</span> <span class="token comment">//é˜Ÿåˆ—å¤´</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> rear<span class="token punctuation">;</span> <span class="token comment">//é˜Ÿåˆ—å°¾</span>    <span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">;</span> <span class="token comment">//è¯¥æ•°ç»„ç”¨äºå­˜æ”¾æ•°æ®,æ¨¡æ‹Ÿé˜Ÿåˆ—</span>    <span class="token comment">//åˆ›å»ºé˜Ÿåˆ—çš„æ„é€ å™¨</span>    <span class="token keyword">public</span> <span class="token class-name">ArrayQueue</span><span class="token punctuation">(</span><span class="token keyword">int</span> arrMaxSize<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>maxSize <span class="token operator">=</span> arrMaxSize<span class="token punctuation">;</span>        arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>maxSize<span class="token punctuation">]</span><span class="token punctuation">;</span>        front <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>        rear <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦æ»¡</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isFull</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> rear <span class="token operator">==</span> maxSize <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> rear <span class="token operator">==</span> front<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ·»åŠ æ•°æ®åˆ°é˜Ÿåˆ—ä¸­</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addQueue</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦å·²æ»¡</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isFull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"é˜Ÿåˆ—å·²æ»¡ä¸èƒ½åŠ å…¥æ•°æ®!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//rear++;  i++å…ˆèµ‹å€¼ç„¶ååŠ 1 ++iæ˜¯å…ˆ+1ç„¶åèµ‹å€¼</span>        arr<span class="token punctuation">[</span><span class="token operator">++</span>rear<span class="token punctuation">]</span> <span class="token operator">=</span> n<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//è·å–é˜Ÿåˆ—ä¸­çš„æ•°æ®,å‡ºé˜Ÿåˆ—</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"é˜Ÿåˆ—ä¸ºç©º,ä¸èƒ½å–æ•°æ®!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> arr<span class="token punctuation">[</span><span class="token operator">++</span>front<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ˜¾ç¤ºé˜Ÿåˆ—ä¸­çš„æ‰€æœ‰æ•°æ®</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">showQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"é˜Ÿåˆ—ä¸ºç©º,æ²¡æœ‰æ•°æ®~~~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"arr[%d]=%d\n"</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ˜¾ç¤ºé˜Ÿåˆ—çš„å¤´æ•°æ®</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">headQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"é˜Ÿåˆ—ä¸ºç©º,æ²¡æœ‰æ•°æ®~~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> arr<span class="token punctuation">[</span>front <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="2-2-æ•°ç»„æ¨¡æ‹Ÿç¯å½¢é˜Ÿåˆ—"><a href="#2-2-æ•°ç»„æ¨¡æ‹Ÿç¯å½¢é˜Ÿåˆ—" class="headerlink" title="2.2 æ•°ç»„æ¨¡æ‹Ÿç¯å½¢é˜Ÿåˆ—"></a>2.2 æ•°ç»„æ¨¡æ‹Ÿç¯å½¢é˜Ÿåˆ—</h4><p>åˆ†æè¯´æ˜</p><ul><li>å°¾ç´¢å¼•çš„ä¸‹ä¸€ä¸ªä¸ºå¤´ç´¢å¼•æ—¶è¡¨ç¤ºé˜Ÿåˆ—æ»¡,å³å°†é˜Ÿåˆ—å®¹é‡ç©ºå‡ºä¸€ä¸ªä½œä¸ºçº¦å®š,è¿™ä¸ªåœ¨åšåˆ¤æ–­é˜Ÿåˆ—æ»¡çš„æ—¶å€™éœ€è¦æ³¨æ„(rear+1)%maxSize == front [æ»¡]</li><li>rear  == front [ç©º]</li><li>é˜Ÿåˆ—ä¸­çš„æœ‰æ•ˆçš„æ•°æ®ä¸ªæ•°:(rear+maxSize-front)%maxSize //rear =1 front =0</li><li>frontæŒ‡å‘é˜Ÿåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ ,front çš„åˆå§‹å€¼æ˜¯0</li><li>rearæŒ‡å‘é˜Ÿåˆ—çš„æœ€åä¸€ä¸ªå…ƒç´ çš„åä¸€ä¸ªä½ç½®,å› ä¸ºå¸Œæœ›ç©ºå‡ºä¸€ä¸ªç©ºé—´ä½œä¸ºçº¦å®š(åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦æ»¡) rearçš„åˆå§‹å€¼æ˜¯0</li></ul><p>ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Scanner</span><span class="token punctuation">;</span><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/9/15 22:22 */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CircleArrayQueueDemo</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//åˆ›å»ºé˜Ÿåˆ—</span>        <span class="token class-name">CircleArray</span> queue <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CircleArray</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//è¿™é‡Œè®¾ç½®çš„4å…¶é˜Ÿåˆ—çš„æœ‰æ•ˆæ•°æ®æœ€å¤§æ˜¯3</span>        <span class="token comment">//æ¥å—ç”¨æˆ·è¾“å…¥</span>        <span class="token keyword">char</span> key <span class="token operator">=</span> <span class="token string">' '</span><span class="token punctuation">;</span>        <span class="token class-name">Scanner</span> scanner <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Scanner</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">boolean</span> loop <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>loop<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"s(show): æ˜¾ç¤ºé˜Ÿåˆ—"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"e(exit): é€€å‡ºç¨‹åº"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"a(add): æ·»åŠ ç¨‹åºåˆ°é˜Ÿåˆ—"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"g(get): ä»é˜Ÿåˆ—ä¸­è·å–æ•°æ®"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"h(head): æŸ¥çœ‹é˜Ÿåˆ—å¤´æ•°æ®"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            key <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">switch</span> <span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">case</span> <span class="token string">'s'</span><span class="token operator">:</span>                    queue<span class="token punctuation">.</span><span class="token function">showQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">'a'</span><span class="token operator">:</span>                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"è¯·è¾“å…¥ä¸€ä¸ªæ•°"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">int</span> value <span class="token operator">=</span> scanner<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    queue<span class="token punctuation">.</span><span class="token function">addQueue</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">'g'</span><span class="token operator">:</span>                    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">int</span> res <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">getQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"å–å‡ºçš„æ•°æ®æ˜¯%d\n"</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">'h'</span><span class="token operator">:</span>                    <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>                        <span class="token keyword">int</span> res <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">headQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"å–å‡ºçš„æ•°æ®æ˜¯%d\n"</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    <span class="token punctuation">&#125;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">case</span> <span class="token string">'e'</span><span class="token operator">:</span>                    scanner<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                    loop <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>                <span class="token keyword">default</span><span class="token operator">:</span>                    <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ç¨‹åºé€€å‡º"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">CircleArray</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> maxSize<span class="token punctuation">;</span> <span class="token comment">//æ•°ç»„çš„æœ€å¤§å®¹é‡</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> front<span class="token punctuation">;</span> <span class="token comment">//frontæŒ‡å‘é˜Ÿåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´ ,front çš„åˆå§‹å€¼æ˜¯0;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> rear<span class="token punctuation">;</span> <span class="token comment">//rearæŒ‡å‘é˜Ÿåˆ—çš„æœ€åä¸€ä¸ªå…ƒç´ çš„åä¸€ä¸ªä½ç½®,å› ä¸ºå¸Œæœ›ç©ºå‡ºä¸€ä¸ªç©ºé—´ä½œä¸ºçº¦å®š(åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦æ»¡) rearçš„åˆå§‹å€¼æ˜¯0;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arr<span class="token punctuation">;</span> <span class="token comment">//è¯¥æ•°ç»„ç”¨äºå­˜æ”¾æ•°æ®,æ¨¡æ‹Ÿé˜Ÿåˆ—</span>    <span class="token keyword">public</span> <span class="token class-name">CircleArray</span><span class="token punctuation">(</span><span class="token keyword">int</span> arrMaxSize<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        maxSize <span class="token operator">=</span> arrMaxSize<span class="token punctuation">;</span>        arr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span>maxSize<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦æ»¡</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isFull</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>rear <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> maxSize <span class="token operator">==</span> front<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span>    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> rear <span class="token operator">==</span> front<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ·»åŠ æ•°æ®åˆ°é˜Ÿåˆ—ä¸­</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addQueue</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦å·²æ»¡</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isFull</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"é˜Ÿåˆ—å·²æ»¡ä¸èƒ½åŠ å…¥æ•°æ®"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//ç›´æ¥å°†æ•°æ®åŠ å…¥</span>        arr<span class="token punctuation">[</span>rear<span class="token punctuation">]</span> <span class="token operator">=</span> n<span class="token punctuation">;</span>        <span class="token comment">//å°† rear åç§»,è¿™é‡Œå¿…é¡»è€ƒè™‘å–æ¨¡</span>        rear <span class="token operator">=</span> <span class="token punctuation">(</span>rear <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> maxSize<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//è·å–é˜Ÿåˆ—ä¸­çš„æ•°æ®,å‡ºé˜Ÿåˆ—</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//åˆ¤æ–­é˜Ÿåˆ—æ˜¯å¦ä¸ºç©º</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"é˜Ÿåˆ—ä¸ºç©º,ä¸èƒ½å–æ•°æ®!"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">/**         * è¿™é‡Œéœ€åˆ†æå‡ºfrontæ˜¯æŒ‡å‘é˜Ÿåˆ—çš„ç¬¬ä¸€ä¸ªå…ƒç´          * 1.å…ˆæŠŠfront å¯¹åº”çš„å€¼ä¿ç•™åˆ°ä¸€ä¸ªä¸´æ—¶å˜é‡         * 2.å°†front åç§»,è€ƒè™‘å–æ¨¡         * 3.å°†ä¸´æ—¶å˜é‡è¿”å›         */</span>        <span class="token keyword">int</span> value <span class="token operator">=</span> arr<span class="token punctuation">[</span>front<span class="token punctuation">]</span><span class="token punctuation">;</span>        front <span class="token operator">=</span> <span class="token punctuation">(</span>front <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> maxSize<span class="token punctuation">;</span>        <span class="token keyword">return</span> value<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ˜¾ç¤ºé˜Ÿåˆ—ä¸­çš„æ‰€æœ‰æ•°æ®</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">showQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"é˜Ÿåˆ—ä¸ºç©º,æ²¡æœ‰æ•°æ®~~~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> front<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> front<span class="token operator">+</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"arr[%d]=%d\n"</span><span class="token punctuation">,</span> i<span class="token operator">%</span>maxSize<span class="token punctuation">,</span> arr<span class="token punctuation">[</span>i<span class="token operator">%</span>maxSize<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ±‚å‡ºå½“å‰é˜Ÿåˆ—æœ‰æ•ˆæ•°æ®çš„ä¸ªæ•°</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token punctuation">(</span>rear<span class="token operator">+</span>maxSize<span class="token operator">-</span>front<span class="token punctuation">)</span><span class="token operator">%</span>maxSize<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ˜¾ç¤ºé˜Ÿåˆ—çš„å¤´æ•°æ®</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">headQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span><span class="token string">"é˜Ÿåˆ—ä¸ºç©º,æ²¡æœ‰æ•°æ®~~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> arr<span class="token punctuation">[</span>front<span class="token punctuation">]</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-é“¾è¡¨"><a href="#3-é“¾è¡¨" class="headerlink" title="3.é“¾è¡¨"></a>3.é“¾è¡¨</h3><p>é“¾è¡¨æ˜¯æœ‰åºçš„åˆ—è¡¨:</p><ul><li>é“¾è¡¨æ˜¯ä»¥èŠ‚ç‚¹çš„æ–¹å¼æ¥å­˜å‚¨,æ˜¯é“¾å¼å­˜å‚¨</li><li>æ¯ä¸ªèŠ‚ç‚¹åŒ…å« data åŸŸï¼Œ next åŸŸï¼šæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹  </li><li>é“¾è¡¨çš„<strong>å„ä¸ªèŠ‚ç‚¹ä¸ä¸€å®šæ˜¯è¿ç»­å­˜å‚¨</strong>.  </li><li>é“¾è¡¨åˆ†å¸¦å¤´èŠ‚ç‚¹çš„é“¾è¡¨å’Œæ²¡æœ‰å¤´èŠ‚ç‚¹çš„é“¾è¡¨ï¼Œæ ¹æ®å®é™…çš„éœ€æ±‚æ¥ç¡®å®š</li></ul><h4 id="3-1å•å‘é“¾è¡¨"><a href="#3-1å•å‘é“¾è¡¨" class="headerlink" title="3.1å•å‘é“¾è¡¨"></a>3.1å•å‘é“¾è¡¨</h4><ul><li><p>æ·»åŠ è‹±é›„,ç›´æ¥æ·»åŠ åˆ°é“¾è¡¨å°¾éƒ¨</p><ul><li>å…ˆåˆ›å»ºä¸€ä¸ªheadèŠ‚ç‚¹,ç”¨æ¥è¡¨ç¤ºå•é“¾è¡¨çš„å¤´</li><li>åé¢æ¯æ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹,å°±ç›´æ¥åŠ å…¥åˆ°é“¾è¡¨çš„å°¾éƒ¨</li><li>é€šè¿‡ä¸€ä¸ªè¾…åŠ©å˜é‡éå†,å¸®åŠ©éå†æ•´ä¸ªé“¾è¡¨</li></ul></li><li><p>æ·»åŠ è‹±é›„,æ ¹æ®<strong>æ’å</strong>å°†è‹±é›„æ’å…¥æŒ‡å®šä½ç½®</p><ul><li>é¦–å…ˆæ ¹æ®è¾…åŠ©èŠ‚ç‚¹æ‰¾åˆ°æ–°æ·»åŠ èŠ‚ç‚¹çš„ä½ç½®</li><li>æ–°çš„èŠ‚ç‚¹.next = temp.next</li><li>å°†temp.next = æ–°çš„èŠ‚ç‚¹</li></ul></li><li><p>ä¿®æ”¹èŠ‚ç‚¹åŠŸèƒ½</p><ul><li>å…ˆæ‰¾åˆ°è¯¥èŠ‚ç‚¹,é€šè¿‡éå†</li><li>temp.name = newHeroNode.name; temp.nickname = newHeroNode.nickname</li></ul></li><li><p>åˆ é™¤èŠ‚ç‚¹</p><ul><li>å…ˆæ‰¾åˆ°éœ€è¦åˆ é™¤çš„è¿™ä¸ªèŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹temp</li><li>temp.next = temp.next.next</li><li>è¢«åˆ é™¤çš„èŠ‚ç‚¹,å°†ä¸ä¼šæœ‰å…¶ä»–å¼•ç”¨æŒ‡å‘,ä¼šè¢«gcå›æ”¶</li></ul></li><li><p>æ±‚å•é“¾è¡¨ä¸­èŠ‚ç‚¹ä¸ªæ•°</p></li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">int</span> <span class="token function">getLength</span><span class="token punctuation">(</span><span class="token class-name">HeroNode</span> head<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>head<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//ç©ºé“¾è¡¨</span>            <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">int</span> lenght <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode</span> cur <span class="token operator">=</span> head<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            lenght<span class="token operator">++</span><span class="token punctuation">;</span>            cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> lenght<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>æ±‚å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹<ul><li>ç¼–å†™ä¸€ä¸ªæ–¹æ³•,æ¥æ”¶headèŠ‚ç‚¹,åŒæ—¶æ¥æ”¶ä¸€ä¸ªindex</li><li>index è¡¨ç¤ºå€’æ•°ç¬¬indexä¸ªèŠ‚ç‚¹</li><li>å…ˆæŠŠé“¾è¡¨ä»å¤´åˆ°å°¾éå†,å¾—åˆ°é“¾è¡¨çš„æ€»é•¿åº¦getlength</li><li>å¾—åˆ°sizeå,ä»é“¾è¡¨çš„ç¬¬ä¸€ä¸ªå¼€å§‹éå†(size-index)ä¸ª,å°±å¯ä»¥å¾—åˆ°</li><li>å¦‚æœæ‰¾åˆ°äº†,åˆ™è¿”å›è¯¥èŠ‚ç‚¹,å¦åˆ™è¿”å›null</li></ul></li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">HeroNode</span> <span class="token function">findLastIndexNode</span><span class="token punctuation">(</span><span class="token class-name">HeroNode</span> head<span class="token punctuation">,</span> <span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>head<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//ç¬¬ä¸€ä¸ªéå†å¾—åˆ°é“¾è¡¨çš„æ€»é•¿åº¦(èŠ‚ç‚¹ä¸ªæ•°)</span>        <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token function">getLength</span><span class="token punctuation">(</span>head<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ç¬¬äºŒæ¬¡éå† size-index ä½ç½®,å°±æ˜¯æˆ‘ä»¬å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹</span>        <span class="token comment">//index éªŒè¯</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>index <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">||</span> index <span class="token operator">></span> size<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å®šä¹‰ä¸€ä¸ªè¾…åŠ©å˜é‡,for å¾ªç¯å®šä½åˆ°å€’æ•°çš„index</span>        <span class="token class-name">HeroNode</span> cur <span class="token operator">=</span> head<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size <span class="token operator">-</span> index<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">return</span> cur<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><p>åè½¬å•é“¾è¡¨  (å¤´æ’æ³•)</p><ul><li><p>å®šä¹‰ä¸€ä¸ªèŠ‚ç‚¹reverseHead = new HeroNode();</p></li><li><p>ä»å¤´åˆ°å°¾éå†åŸæ¥çš„èŠ‚ç‚¹,æ¯éå†ä¸€ä¸ªèŠ‚ç‚¹å°±å°†å…¶å–å‡º,å¹¶æ”¾åœ¨æ–°çš„é“¾è¡¨reverseHeadçš„æœ€å‰ç«¯</p></li><li><p>åŸæ¥çš„é“¾è¡¨çš„head.next = reverseHead.next</p></li></ul></li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">reverseList</span><span class="token punctuation">(</span><span class="token class-name">HeroNode</span> head<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//å¦‚æœé“¾è¡¨ä¸ºç©ºæˆ–åªæœ‰ä¸€ä¸ªèŠ‚ç‚¹ æ— éœ€åè½¬ ç›´æ¥è¿”å›</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>head<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> head<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å®šä¹‰ä¸€ä¸ªè¾…åŠ©æŒ‡é’ˆ,å¸®åŠ©éå†åŸæ¥çš„é“¾è¡¨</span>        <span class="token class-name">HeroNode</span> cur <span class="token operator">=</span> head<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token class-name">HeroNode</span> next <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">//æŒ‡å‘å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span>        <span class="token class-name">HeroNode</span> reverseHead <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>cur <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            next <span class="token operator">=</span> cur<span class="token punctuation">.</span>next<span class="token punctuation">;</span> <span class="token comment">//å…ˆæš‚æ—¶ä¿å­˜å½“å‰èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹,åé¢éœ€è¦ä½¿ç”¨</span>            cur<span class="token punctuation">.</span>next <span class="token operator">=</span> reverseHead<span class="token punctuation">.</span>next<span class="token punctuation">;</span> <span class="token comment">//å°†curçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹æŒ‡å‘æ–°çš„é“¾è¡¨çš„æœ€å‰ç«¯</span>            reverseHead<span class="token punctuation">.</span>next <span class="token operator">=</span> cur<span class="token punctuation">;</span> <span class="token comment">//å°†curè¿æ¥åˆ°æ–°çš„é“¾è¡¨ä¸Š</span>            cur <span class="token operator">=</span> next<span class="token punctuation">;</span> <span class="token comment">//cure åç§»</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å°†head.next æŒ‡å‘ reverseHead.next,å®ç°å•é“¾è¡¨åè½¬</span>        head<span class="token punctuation">.</span>next <span class="token operator">=</span> reverseHead<span class="token punctuation">.</span>next<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>ä»å°¾åˆ°å¤´æ‰“å°å•é“¾è¡¨<ul><li>åˆ©ç”¨æ ˆçš„æ•°æ®ç»“æ„,å°†å„ä¸ªèŠ‚ç‚¹å‹å…¥æ ˆä¸­,ç„¶ååˆ©ç”¨æ ˆçš„<font color="red">å…ˆè¿›åå‡º</font>çš„ç‰¹ç‚¹,å®ç°é€†åºæ‰“å°çš„æ•ˆæœ</li></ul></li></ul><p>ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span>  <span class="token function">reversePrint</span><span class="token punctuation">(</span><span class="token class-name">HeroNode</span> head<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>       <span class="token keyword">if</span> <span class="token punctuation">(</span>head<span class="token punctuation">.</span>next <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>           <span class="token comment">//åˆ›å»ºä¸€ä¸ªæ ˆ,å°†å„ä¸ªèŠ‚ç‚¹å‹å…¥æ ˆä¸­</span>           <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">HeroNode</span><span class="token punctuation">></span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token class-name">HeroNode</span> cur <span class="token operator">=</span> head<span class="token punctuation">.</span>next<span class="token punctuation">;</span>           <span class="token keyword">while</span> <span class="token punctuation">(</span>cur<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>               stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>cur<span class="token punctuation">)</span><span class="token punctuation">;</span>               cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>next<span class="token punctuation">;</span>           <span class="token punctuation">&#125;</span>           <span class="token keyword">while</span> <span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">></span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>               <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>           <span class="token punctuation">&#125;</span>       <span class="token punctuation">&#125;</span>   <span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>ä»£ç å®ç°:</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">/** * @author shaoshao * @version 1.0 * @date 2021/9/16 11:59 * &lt;p> * å•å‘é“¾è¡¨åˆ›å»ºå¹¶ç›´æ¥æ·»åŠ åˆ°é“¾è¡¨çš„å°¾éƒ¨å®ç°&amp;&amp;è€ƒè™‘æ’åå°†è‹±é›„æ·»åŠ åˆ°æŒ‡å®šä½ç½® */</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SingleLinkListDemo</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">HeroNode</span> heroNode1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"æ˜“"</span><span class="token punctuation">,</span> <span class="token string">"æ— æå‰‘åœ£"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode</span> heroNode2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"è‰¾å¸Œ"</span><span class="token punctuation">,</span> <span class="token string">"å¯’å†°å°„æ‰‹"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode</span> heroNode3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"ç‘å…¹"</span><span class="token punctuation">,</span> <span class="token string">"æµæµªæ³•å¸ˆ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode</span> heroNode4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"æè«"</span><span class="token punctuation">,</span> <span class="token string">"è¿…æ·æ–¥å€™"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//åˆ›å»ºå•å‘é“¾è¡¨</span>        <span class="token class-name">SingleLinkList</span> singleLinkList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SingleLinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">/*singleLinkList.add(heroNode1);        singleLinkList.add(heroNode2);        singleLinkList.add(heroNode4);        singleLinkList.add(heroNode3);*/</span>        singleLinkList<span class="token punctuation">.</span><span class="token function">addByOrder</span><span class="token punctuation">(</span>heroNode1<span class="token punctuation">)</span><span class="token punctuation">;</span>        singleLinkList<span class="token punctuation">.</span><span class="token function">addByOrder</span><span class="token punctuation">(</span>heroNode2<span class="token punctuation">)</span><span class="token punctuation">;</span>        singleLinkList<span class="token punctuation">.</span><span class="token function">addByOrder</span><span class="token punctuation">(</span>heroNode4<span class="token punctuation">)</span><span class="token punctuation">;</span>        singleLinkList<span class="token punctuation">.</span><span class="token function">addByOrder</span><span class="token punctuation">(</span>heroNode3<span class="token punctuation">)</span><span class="token punctuation">;</span>        singleLinkList<span class="token punctuation">.</span><span class="token function">addByOrder</span><span class="token punctuation">(</span>heroNode3<span class="token punctuation">)</span><span class="token punctuation">;</span>        singleLinkList<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æµ‹è¯•ä¿®æ”¹èŠ‚ç‚¹çš„ä»£ç </span>        singleLinkList<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"adå¸Œ"</span><span class="token punctuation">,</span> <span class="token string">"å¯’å†°"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¿®æ”¹åçš„é“¾è¡¨æƒ…å†µ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        singleLinkList<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æµ‹è¯•åˆ é™¤èŠ‚ç‚¹çš„ä»£ç </span>        singleLinkList<span class="token punctuation">.</span><span class="token function">del</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        singleLinkList<span class="token punctuation">.</span><span class="token function">del</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        singleLinkList<span class="token punctuation">.</span><span class="token function">del</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        singleLinkList<span class="token punctuation">.</span><span class="token function">del</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åˆ é™¤åçš„é“¾è¡¨æƒ…å†µ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        singleLinkList<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//æµ‹è¯•æ±‚å•é“¾è¡¨ä¸­èŠ‚ç‚¹ä¸ªæ•°</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"æœ‰æ•ˆçš„èŠ‚ç‚¹ä¸ªæ•°: "</span> <span class="token operator">+</span> <span class="token function">getLength</span><span class="token punctuation">(</span>singleLinkList<span class="token punctuation">.</span><span class="token function">getHead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//æµ‹è¯•æ˜¯å¦å¾—åˆ°å€’æ•°ç¬¬kä¸ªèŠ‚ç‚¹</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å€’æ•°ç¬¬1ä¸ªèŠ‚ç‚¹: "</span> <span class="token operator">+</span> <span class="token function">findLastIndexNode</span><span class="token punctuation">(</span>singleLinkList<span class="token punctuation">.</span><span class="token function">getHead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//åè½¬å•é“¾è¡¨</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åè½¬å•é“¾è¡¨~~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">reverseList</span><span class="token punctuation">(</span>singleLinkList<span class="token punctuation">.</span><span class="token function">getHead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        singleLinkList<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                <span class="token comment">//é€†åºæ‰“å°å•é“¾è¡¨</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"é€†åºæ‰“å°å•é“¾è¡¨~~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token function">reversePrint</span><span class="token punctuation">(</span>singleLinkList<span class="token punctuation">.</span><span class="token function">getHead</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//å®šä¹‰SingleLinkList ç®¡ç†æˆ‘ä»¬çš„è‹±é›„</span><span class="token keyword">class</span> <span class="token class-name">SingleLinkList</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//å…ˆåˆå§‹åŒ–ä¸€ä¸ªå¤´èŠ‚ç‚¹,ä¸å­˜æ”¾æ•°æ®</span>    <span class="token keyword">private</span> <span class="token class-name">HeroNode</span> head <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">/**     * æ·»åŠ èŠ‚ç‚¹åˆ°å•å‘é“¾è¡¨     * æ€è·¯:å½“ä¸è€ƒè™‘ç¼–å·é¡ºåºæ—¶     * 1.æ‰¾åˆ°å½“å‰é“¾è¡¨çš„æœ€åèŠ‚ç‚¹     * 2.å°†æœ€åè¿™ä¸ªèŠ‚ç‚¹çš„next æŒ‡å‘æ–°çš„èŠ‚ç‚¹     */</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">HeroNode</span> heroNode<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//å› ä¸ºheadèŠ‚ç‚¹ä¸èƒ½åŠ¨,æ‰€ä»¥éœ€è¦ä¸€ä¸ªè¾…åŠ©èŠ‚ç‚¹å˜é‡temp</span>        <span class="token class-name">HeroNode</span> temp <span class="token operator">=</span> head<span class="token punctuation">;</span>        <span class="token comment">//éå†é“¾è¡¨,æ‰¾åˆ°æœ€å</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>temp<span class="token punctuation">.</span>next <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            temp <span class="token operator">=</span> temp<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å½“é€€å‡ºwhileå¾ªç¯æ—¶tempå°±æŒ‡å‘äº†é“¾è¡¨çš„æœ€å</span>        temp<span class="token punctuation">.</span>next <span class="token operator">=</span> heroNode<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * ç¬¬äºŒç§æ·»åŠ èŠ‚ç‚¹çš„æ–¹å¼ æ ¹æ®è‹±é›„æ’åæ’å…¥åˆ°æŒ‡å®šä½ç½®     * (å¦‚æœæœ‰æ’ååˆ™æ·»åŠ å¤±è´¥,å¹¶ç»™å‡ºæç¤º)     * 1.é¦–å…ˆæ‰¾åˆ°æ·»åŠ çš„æ–°çš„èŠ‚ç‚¹çš„ä½ç½®,é€šè¿‡è¾…åŠ©å˜é‡é€šè¿‡éå†æ¥æå®š     * 2.æ–°çš„èŠ‚ç‚¹.next = temp.next     * 3.å°†temp.next=æ–°çš„èŠ‚ç‚¹     */</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addByOrder</span><span class="token punctuation">(</span><span class="token class-name">HeroNode</span> heroNode<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//å†æ¬¡ä½¿ç”¨è¾…åŠ©èŠ‚ç‚¹æ¥å¸®åŠ©æˆ‘ä»¬æ‰¾åˆ°æ·»åŠ çš„ä½ç½®</span>        <span class="token comment">//å› ä¸ºå•é“¾è¡¨,å› ä¸ºæˆ‘ä»¬æ‰¾åˆ°temp æ˜¯ä½äºæ·»åŠ ä½ç½®çš„å‰ä¸€ä¸ªèŠ‚ç‚¹,å¦åˆ™æ’å…¥ä¸äº†(1,,,4 è‹¥æ’å…¥2çš„è¯tempè¦æ‰¾çš„æ˜¯1)</span>        <span class="token class-name">HeroNode</span> temp <span class="token operator">=</span> head<span class="token punctuation">;</span>        <span class="token keyword">boolean</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//flag æ ‡å¿—ç”¨äºåˆ¤æ–­æ·»åŠ çš„ç¼–å·æ˜¯å¦å·²ç»å­˜åœ¨,é»˜è®¤æœªfalse</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>temp<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//è¯´æ˜å·²ç»éå†åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹ ç›´æ¥åœ¨æœ€åæ’å…¥å³å¯</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>temp<span class="token punctuation">.</span>next<span class="token punctuation">.</span>no <span class="token operator">></span> heroNode<span class="token punctuation">.</span>no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//ä½ç½®æ‰¾åˆ°,å°±åœ¨tempçš„åé¢æ’å…¥ heroNode(2) æ·»åŠ åœ¨tempå’Œtemp.next(4)ä¹‹é—´</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>temp<span class="token punctuation">.</span>next<span class="token punctuation">.</span>no <span class="token operator">==</span> heroNode<span class="token punctuation">.</span>no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//ç¼–å·å­˜åœ¨</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            temp <span class="token operator">=</span> temp<span class="token punctuation">.</span>next<span class="token punctuation">;</span> <span class="token comment">//ä¸Šé¢ä¸‰ä¸ªæ¡ä»¶éƒ½ä¸æˆç«‹ åç§» éå†å½“å‰é“¾è¡¨</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//åˆ¤æ–­flag çš„å€¼</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"å‡†å¤‡æ’å…¥è‹±é›„çš„ç¼–å· %d å·²ç»å­˜åœ¨,ä¸èƒ½æ·»åŠ \n"</span><span class="token punctuation">,</span> heroNode<span class="token punctuation">.</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//æ’å…¥åˆ°tempåé¢</span>            heroNode<span class="token punctuation">.</span>next <span class="token operator">=</span> temp<span class="token punctuation">.</span>next<span class="token punctuation">;</span>            temp<span class="token punctuation">.</span>next <span class="token operator">=</span> heroNode<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ä¿®æ”¹èŠ‚ç‚¹çš„ä¿¡æ¯,æ ¹æ®noç¼–å·æ¥ä¿®æ”¹,å³noç¼–å·ä¸ä¿®æ”¹</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">HeroNode</span> newHeroNode<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>head<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"é“¾è¡¨ä¸ºç©º"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//æ ¹æ®noç¼–å·,æ‰¾åˆ°éœ€è¦ä¿®æ”¹çš„èŠ‚ç‚¹ å®šä¹‰è¾…åŠ©å˜é‡</span>        <span class="token class-name">HeroNode</span> temp <span class="token operator">=</span> head<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token keyword">boolean</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>temp <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>temp<span class="token punctuation">.</span>no <span class="token operator">==</span> newHeroNode<span class="token punctuation">.</span>no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//æ‰¾åˆ°äº†</span>                flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            temp <span class="token operator">=</span> temp<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//æ ¹æ®flag åˆ¤æ–­æ˜¯å¦æ‰¾åˆ°éœ€è¦ä¿®æ”¹çš„èŠ‚ç‚¹</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            temp<span class="token punctuation">.</span>name <span class="token operator">=</span> newHeroNode<span class="token punctuation">.</span>name<span class="token punctuation">;</span>            temp<span class="token punctuation">.</span>nickname <span class="token operator">=</span> newHeroNode<span class="token punctuation">.</span>nickname<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æ²¡æœ‰æ‰¾åˆ°ç¼–å·%d çš„èŠ‚ç‚¹,ä¸èƒ½ä¿®æ”¹\n"</span><span class="token punctuation">,</span> newHeroNode<span class="token punctuation">.</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * åˆ é™¤èŠ‚ç‚¹     * 1. head ä¸èƒ½åŠ¨,éœ€è¦ä¸€ä¸ªtempè¾…åŠ©èŠ‚ç‚¹æ‰¾åˆ°å¾…åˆ é™¤èŠ‚ç‚¹å‰ä¸€ä¸ªèŠ‚ç‚¹     * 2. è¯´æ˜æˆ‘ä»¬åœ¨æ¯”è¾ƒæ—¶,æ˜¯temp.next.noå’Œéœ€è¦åˆ é™¤èŠ‚ç‚¹çš„noæ¯”è¾ƒ     */</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">del</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">HeroNode</span> temp <span class="token operator">=</span> head<span class="token punctuation">;</span>        <span class="token keyword">boolean</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//æ ‡å¿—æ˜¯å¦æ‰¾åˆ°åˆ é™¤èŠ‚ç‚¹</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>temp<span class="token punctuation">.</span>next <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>temp<span class="token punctuation">.</span>next<span class="token punctuation">.</span>no <span class="token operator">==</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//æ‰¾åˆ°å¾…åˆ é™¤èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹temp</span>                flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            temp <span class="token operator">=</span> temp<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            temp<span class="token punctuation">.</span>next <span class="token operator">=</span> temp<span class="token punctuation">.</span>next<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"è¦åˆ é™¤çš„ %d èŠ‚ç‚¹ä¸å­˜åœ¨\n"</span><span class="token punctuation">,</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ˜¾ç¤ºé“¾è¡¨[éå†]</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©º</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>head<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"é“¾è¡¨ä¸ºç©º,æ²¡æœ‰æ•°æ®~~~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å¤´èŠ‚ç‚¹ä¸èƒ½åŠ¨å†æ¬¡ä½¿ç”¨è¾…åŠ©å˜é‡tempæ¥éå†</span>        <span class="token class-name">HeroNode</span> temp <span class="token operator">=</span> head<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token comment">//åˆ¤æ–­æ˜¯å¦åˆ°æœ€å</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>temp <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//è¾“å‡ºèŠ‚ç‚¹ä¿¡æ¯</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å°†tempåç§»</span>            temp <span class="token operator">=</span> temp<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token comment">//å®šä¹‰HeroNode,æ¯ä¸ªHeroNodeå¯¹è±¡å°±æ˜¯ä¸€ä¸ªèŠ‚ç‚¹</span><span class="token keyword">class</span> <span class="token class-name">HeroNode</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> no<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> nickname<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">HeroNode</span> next<span class="token punctuation">;</span> <span class="token comment">//æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span>    <span class="token comment">//æ„é€ å™¨</span>    <span class="token keyword">public</span> <span class="token class-name">HeroNode</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> nickname<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>no <span class="token operator">=</span> no<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>nickname <span class="token operator">=</span> nickname<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ä¸ºäº†æ˜¾ç¤ºæ–¹æ³• é‡å†™toString</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"HeroNode&#123;"</span> <span class="token operator">+</span>                <span class="token string">"no="</span> <span class="token operator">+</span> no <span class="token operator">+</span>                <span class="token string">", name='"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>                <span class="token string">", nickname='"</span> <span class="token operator">+</span> nickname <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>                <span class="token string">'&#125;'</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="3-2-åŒå‘é“¾è¡¨"><a href="#3-2-åŒå‘é“¾è¡¨" class="headerlink" title="3.2 åŒå‘é“¾è¡¨"></a>3.2 åŒå‘é“¾è¡¨</h4><ul><li><p>å•å‘é“¾è¡¨ï¼Œ<strong>æŸ¥æ‰¾çš„æ–¹å‘åªèƒ½æ˜¯ä¸€ä¸ªæ–¹å‘</strong>ï¼Œè€ŒåŒå‘é“¾è¡¨å¯ä»¥å‘å‰æˆ–è€…å‘åæŸ¥æ‰¾ã€‚</p></li><li><p>å•å‘é“¾è¡¨ä¸èƒ½è‡ªæˆ‘åˆ é™¤ï¼Œéœ€è¦é è¾…åŠ©èŠ‚ç‚¹ ï¼Œè€ŒåŒå‘é“¾è¡¨ï¼Œåˆ™å¯ä»¥<font color="red">è‡ªæˆ‘åˆ é™¤</font>ï¼Œæ‰€ä»¥å‰é¢æˆ‘ä»¬å•é“¾è¡¨åˆ é™¤<br>æ—¶èŠ‚ç‚¹ï¼Œæ€»æ˜¯æ‰¾åˆ°temp,tempæ˜¯å¾…åˆ é™¤èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹(è®¤çœŸä½“ä¼š).</p></li></ul><p>ç¤ºæ„å›¾ï¼š</p><p><img src="https://img-blog.csdnimg.cn/accb13b27dd14853b1adb28a57bc4af0.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAd2VpeGluXzQ1MjAwNzM5,size_20,color_FFFFFF,t_70,g_se,x_16" alt="åŒå‘é“¾è¡¨"></p><ul><li>éå†ï¼šå’Œå•é“¾è¡¨ä¸€æ ·ï¼Œåªæ˜¯å‰åéƒ½å¯ä»¥éå†</li><li>æ·»åŠ ï¼šï¼ˆé»˜è®¤æ·»åŠ åˆ°é“¾è¡¨æœ€åï¼‰<ul><li>å…ˆæ‰¾åˆ°åŒå‘é“¾è¡¨çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹</li><li>temp.next = newHeroNoed</li><li>newHeroNode.pre = temp</li></ul></li><li>æ·»åŠ ï¼šæ ¹æ®<strong>æ’å</strong>æ·»åŠ <ul><li>é¦–å…ˆæ ¹æ®è¾…åŠ©èŠ‚ç‚¹æ‰¾åˆ°æ–°æ·»åŠ èŠ‚ç‚¹çš„ä½ç½®</li><li>æ–°çš„èŠ‚ç‚¹.next = temp.next</li><li>å°†temp.next = heroNode</li><li>temp.next.pre = heroNode;</li><li>heroNode.pre = temp;</li></ul></li><li>ä¿®æ”¹ï¼šå’Œå•é“¾è¡¨æ€è·¯ä¸€æ ·</li><li>åˆ é™¤ ï¼ˆè‡ªæˆ‘åˆ é™¤ï¼‰<ul><li>ç›´æ¥æ‰¾åˆ°è¦åˆ é™¤çš„èŠ‚ç‚¹ temp</li><li>temp.pre.next = temp.next</li><li>temp.next.pre = temp.pre</li></ul></li></ul><p>ä»£ç å®ç°ï¼š</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DoubleLinkListDemo</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">HeroNode2</span> heroNode1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode2</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">"æ˜“"</span><span class="token punctuation">,</span> <span class="token string">"æ— æå‰‘åœ£"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode2</span> heroNode2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode2</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"è‰¾å¸Œ"</span><span class="token punctuation">,</span> <span class="token string">"å¯’å†°å°„æ‰‹"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode2</span> heroNode3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode2</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"ç‘å…¹"</span><span class="token punctuation">,</span> <span class="token string">"æµæµªæ³•å¸ˆ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode2</span> heroNode4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode2</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"æè«"</span><span class="token punctuation">,</span> <span class="token string">"è¿…æ·æ–¥å€™"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">HeroNode2</span> heroNode5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode2</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">"æ‹‰è«æ–¯"</span><span class="token punctuation">,</span> <span class="token string">"æŠ«ç”²é¾™é¾Ÿ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">DoubleLinkList</span> doubleLinkList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DoubleLinkList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">/* doubleLinkList.add(heroNode1);        doubleLinkList.add(heroNode2);        doubleLinkList.add(heroNode3);        doubleLinkList.add(heroNode4);        doubleLinkList.add(heroNode5);*/</span>        doubleLinkList<span class="token punctuation">.</span><span class="token function">addByOrder</span><span class="token punctuation">(</span>heroNode1<span class="token punctuation">)</span><span class="token punctuation">;</span>        doubleLinkList<span class="token punctuation">.</span><span class="token function">addByOrder</span><span class="token punctuation">(</span>heroNode4<span class="token punctuation">)</span><span class="token punctuation">;</span>        doubleLinkList<span class="token punctuation">.</span><span class="token function">addByOrder</span><span class="token punctuation">(</span>heroNode3<span class="token punctuation">)</span><span class="token punctuation">;</span>        doubleLinkList<span class="token punctuation">.</span><span class="token function">addByOrder</span><span class="token punctuation">(</span>heroNode2<span class="token punctuation">)</span><span class="token punctuation">;</span>        doubleLinkList<span class="token punctuation">.</span><span class="token function">addByOrder</span><span class="token punctuation">(</span>heroNode5<span class="token punctuation">)</span><span class="token punctuation">;</span>        doubleLinkList<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//ä¿®æ”¹</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"ä¿®æ”¹åé“¾è¡¨æƒ…å†µ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        doubleLinkList<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HeroNode2</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">"adå¸Œ"</span><span class="token punctuation">,</span><span class="token string">"å¯’å†°"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        doubleLinkList<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token comment">//åˆ é™¤</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"åˆ é™¤åé“¾è¡¨æƒ…å†µ"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        doubleLinkList<span class="token punctuation">.</span><span class="token function">del</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        doubleLinkList<span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">DoubleLinkList</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token class-name">HeroNode2</span> head <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HeroNode2</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">,</span> <span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">HeroNode2</span> <span class="token function">getHead</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> head<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//éå†åŒå‘é“¾è¡¨</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">list</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºç©º</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>head<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"é“¾è¡¨ä¸ºç©º,æ²¡æœ‰æ•°æ®~~~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å¤´èŠ‚ç‚¹ä¸èƒ½åŠ¨å†æ¬¡ä½¿ç”¨è¾…åŠ©å˜é‡tempæ¥éå†</span>        <span class="token class-name">HeroNode2</span> temp <span class="token operator">=</span> head<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token comment">//åˆ¤æ–­æ˜¯å¦åˆ°æœ€å</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>temp <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//è¾“å‡ºèŠ‚ç‚¹ä¿¡æ¯</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token comment">//å°†tempåç§»</span>            temp <span class="token operator">=</span> temp<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//æ·»åŠ ä¸€ä¸ªèŠ‚ç‚¹åˆ°åŒå‘é“¾è¡¨çš„æœ€å</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token class-name">HeroNode2</span> heroNode<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//å› ä¸ºheadèŠ‚ç‚¹ä¸èƒ½åŠ¨,æ‰€ä»¥éœ€è¦ä¸€ä¸ªè¾…åŠ©èŠ‚ç‚¹å˜é‡temp</span>        <span class="token class-name">HeroNode2</span> temp <span class="token operator">=</span> head<span class="token punctuation">;</span>        <span class="token comment">//éå†é“¾è¡¨,æ‰¾åˆ°æœ€å</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>temp<span class="token punctuation">.</span>next <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            temp <span class="token operator">=</span> temp<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å½“é€€å‡ºwhileå¾ªç¯æ—¶tempå°±æŒ‡å‘äº†é“¾è¡¨çš„æœ€å</span>        temp<span class="token punctuation">.</span>next <span class="token operator">=</span> heroNode<span class="token punctuation">;</span>        heroNode<span class="token punctuation">.</span>pre <span class="token operator">=</span> temp<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addByOrder</span><span class="token punctuation">(</span><span class="token class-name">HeroNode2</span> heroNode<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//å†æ¬¡ä½¿ç”¨è¾…åŠ©èŠ‚ç‚¹æ¥å¸®åŠ©æˆ‘ä»¬æ‰¾åˆ°æ·»åŠ çš„ä½ç½®</span>        <span class="token comment">//å› ä¸ºå•é“¾è¡¨,å› ä¸ºæˆ‘ä»¬æ‰¾åˆ°temp æ˜¯ä½äºæ·»åŠ ä½ç½®çš„å‰ä¸€ä¸ªèŠ‚ç‚¹,å¦åˆ™æ’å…¥ä¸äº†(1,,,4 è‹¥æ’å…¥2çš„è¯tempè¦æ‰¾çš„æ˜¯1)</span>        <span class="token class-name">HeroNode2</span> temp <span class="token operator">=</span> head<span class="token punctuation">;</span>        <span class="token keyword">boolean</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//flag æ ‡å¿—ç”¨äºåˆ¤æ–­æ·»åŠ çš„ç¼–å·æ˜¯å¦å·²ç»å­˜åœ¨,é»˜è®¤æœªfalse</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>temp<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//è¯´æ˜å·²ç»éå†åˆ°æœ€åä¸€ä¸ªèŠ‚ç‚¹ ç›´æ¥åœ¨æœ€åæ’å…¥å³å¯</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>temp<span class="token punctuation">.</span>next<span class="token punctuation">.</span>no <span class="token operator">></span> heroNode<span class="token punctuation">.</span>no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//ä½ç½®æ‰¾åˆ°,å°±åœ¨tempçš„åé¢æ’å…¥ heroNode(2) æ·»åŠ åœ¨tempå’Œtemp.next(4)ä¹‹é—´</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>temp<span class="token punctuation">.</span>next<span class="token punctuation">.</span>no <span class="token operator">==</span> heroNode<span class="token punctuation">.</span>no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">//ç¼–å·å­˜åœ¨</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            temp <span class="token operator">=</span> temp<span class="token punctuation">.</span>next<span class="token punctuation">;</span> <span class="token comment">//ä¸Šé¢ä¸‰ä¸ªæ¡ä»¶éƒ½ä¸æˆç«‹ åç§» éå†å½“å‰é“¾è¡¨</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//åˆ¤æ–­flag çš„å€¼</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"å‡†å¤‡æ’å…¥è‹±é›„çš„ç¼–å· %d å·²ç»å­˜åœ¨,ä¸èƒ½æ·»åŠ \n"</span><span class="token punctuation">,</span> heroNode<span class="token punctuation">.</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token comment">//æ’å…¥åˆ°tempåé¢</span>            heroNode<span class="token punctuation">.</span>next <span class="token operator">=</span> temp<span class="token punctuation">.</span>next<span class="token punctuation">;</span>            temp<span class="token punctuation">.</span>next <span class="token operator">=</span> heroNode<span class="token punctuation">;</span>            temp<span class="token punctuation">.</span>next<span class="token punctuation">.</span>pre <span class="token operator">=</span> heroNode<span class="token punctuation">;</span>            heroNode<span class="token punctuation">.</span>pre <span class="token operator">=</span> temp<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ä¿®æ”¹ä¸€ä¸ªèŠ‚ç‚¹çš„å†…å®¹ å’Œå•å‘é“¾è¡¨ä¸€æ ·</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">update</span><span class="token punctuation">(</span><span class="token class-name">HeroNode2</span> newHeroNode<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>head<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"é“¾è¡¨ä¸ºç©º"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//æ ¹æ®noç¼–å·,æ‰¾åˆ°éœ€è¦ä¿®æ”¹çš„èŠ‚ç‚¹ å®šä¹‰è¾…åŠ©å˜é‡</span>        <span class="token class-name">HeroNode2</span> temp <span class="token operator">=</span> head<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token keyword">boolean</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>temp <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>temp<span class="token punctuation">.</span>no <span class="token operator">==</span> newHeroNode<span class="token punctuation">.</span>no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//æ‰¾åˆ°äº†</span>                flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            temp <span class="token operator">=</span> temp<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//æ ¹æ®flag åˆ¤æ–­æ˜¯å¦æ‰¾åˆ°éœ€è¦ä¿®æ”¹çš„èŠ‚ç‚¹</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>flag<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            temp<span class="token punctuation">.</span>name <span class="token operator">=</span> newHeroNode<span class="token punctuation">.</span>name<span class="token punctuation">;</span>            temp<span class="token punctuation">.</span>nickname <span class="token operator">=</span> newHeroNode<span class="token punctuation">.</span>nickname<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æ²¡æœ‰æ‰¾åˆ°ç¼–å·%d çš„èŠ‚ç‚¹,ä¸èƒ½ä¿®æ”¹\n"</span><span class="token punctuation">,</span> newHeroNode<span class="token punctuation">.</span>no<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ä»åŒå‘é“¾è¡¨ä¸­åˆ é™¤èŠ‚ç‚¹</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">del</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>head<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"é“¾è¡¨ä¸ºç©º~~"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">HeroNode2</span> temp <span class="token operator">=</span> head<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token keyword">boolean</span> flag <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span> <span class="token comment">//æ ‡å¿—æ˜¯å¦æ‰¾åˆ°åˆ é™¤èŠ‚ç‚¹</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span>temp <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>temp<span class="token punctuation">.</span>no <span class="token operator">==</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token comment">//æ‰¾åˆ°å¾…åˆ é™¤èŠ‚ç‚¹çš„å‰ä¸€ä¸ªèŠ‚ç‚¹temp</span>                flag <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            temp <span class="token operator">=</span> temp<span class="token punctuation">.</span>next<span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            temp<span class="token punctuation">.</span>pre<span class="token punctuation">.</span>next <span class="token operator">=</span> temp<span class="token punctuation">.</span>next<span class="token punctuation">;</span>            <span class="token comment">//å¦‚æœæ˜¯æœ€åiä¸€ä¸ªèŠ‚ç‚¹ã€‚ä¸éœ€è¦æ‰§è¡Œè¿™å¥è¯</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>temp<span class="token punctuation">.</span>next <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                temp<span class="token punctuation">.</span>next<span class="token punctuation">.</span>pre <span class="token operator">=</span> temp<span class="token punctuation">.</span>pre<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"è¦åˆ é™¤çš„ %d èŠ‚ç‚¹ä¸å­˜åœ¨\n"</span><span class="token punctuation">,</span> no<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">HeroNode2</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> no<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> nickname<span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">HeroNode2</span> next<span class="token punctuation">;</span> <span class="token comment">//æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span>    <span class="token keyword">public</span> <span class="token class-name">HeroNode2</span> pre<span class="token punctuation">;</span>    <span class="token comment">//æ„é€ å™¨</span>    <span class="token keyword">public</span> <span class="token class-name">HeroNode2</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">,</span> <span class="token class-name">String</span> name<span class="token punctuation">,</span> <span class="token class-name">String</span> nickname<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>no <span class="token operator">=</span> no<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>nickname <span class="token operator">=</span> nickname<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//ä¸ºäº†æ˜¾ç¤ºæ–¹æ³• é‡å†™toString</span>    <span class="token annotation punctuation">@Override</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> <span class="token string">"HeroNode&#123;"</span> <span class="token operator">+</span>                <span class="token string">"no="</span> <span class="token operator">+</span> no <span class="token operator">+</span>                <span class="token string">", name='"</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>                <span class="token string">", nickname='"</span> <span class="token operator">+</span> nickname <span class="token operator">+</span> <span class="token string">'\''</span> <span class="token operator">+</span>                <span class="token string">'&#125;'</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="3-3-å•å‘ç¯å½¢é“¾è¡¨"><a href="#3-3-å•å‘ç¯å½¢é“¾è¡¨" class="headerlink" title="3.3 å•å‘ç¯å½¢é“¾è¡¨"></a>3.3 å•å‘ç¯å½¢é“¾è¡¨</h4><p><img src="https://img-blog.csdnimg.cn/614ec237f9c6446fb5b09cb4a612fe38.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAd2VpeGluXzQ1MjAwNzM5,size_20,color_FFFFFF,t_70,g_se,x_16" alt="å•å‘ç¯å½¢é“¾è¡¨"></p><p>çº¦ç‘Ÿå¤«é—®é¢˜ç¤ºæ„å›¾:</p><p><img src="https://img-blog.csdnimg.cn/65514aefff8645d9843a9c9ee7bc37c0.png" alt="çº¦ç‘Ÿå¤«é—®é¢˜ç¤ºæ„å›¾"></p><ul><li><p>Josephu é—®é¢˜ä¸ºï¼šè®¾ç¼–å·ä¸º1ï¼Œ2ï¼Œâ€¦ nçš„nä¸ªäººå›´åä¸€åœˆï¼Œçº¦å®šç¼–å·ä¸ºkï¼ˆ1&lt;=k&lt;=nï¼‰çš„äººä»1å¼€å§‹æŠ¥æ•°ï¼Œæ•°åˆ°m çš„é‚£ä¸ªäººå‡ºåˆ—ï¼Œå®ƒçš„ä¸‹ä¸€ä½åˆä»1å¼€å§‹æŠ¥æ•°ï¼Œæ•°åˆ°mçš„é‚£ä¸ªäººåˆå‡ºåˆ—ï¼Œä¾æ¬¡ç±»æ¨ï¼Œç›´åˆ°æ‰€æœ‰äººå‡ºåˆ—ä¸ºæ­¢ï¼Œç”±æ­¤äº§ç”Ÿä¸€ä¸ªå‡ºé˜Ÿç¼–å·çš„åºåˆ—ã€‚</p></li><li><p>ç”¨ä¸€ä¸ªä¸å¸¦å¤´ç»“ç‚¹çš„å¾ªç¯é“¾è¡¨æ¥å¤„ç†Josephu é—®é¢˜ï¼šå…ˆæ„æˆä¸€ä¸ªæœ‰nä¸ªç»“ç‚¹çš„å•å¾ªç¯é“¾è¡¨ï¼Œç„¶åç”±kç»“ç‚¹èµ·ä»1å¼€å§‹è®¡æ•°ï¼Œè®¡åˆ°mæ—¶ï¼Œå¯¹åº”ç»“ç‚¹ä»é“¾è¡¨ä¸­åˆ é™¤ï¼Œç„¶åå†ä»è¢«åˆ é™¤ç»“ç‚¹çš„ä¸‹ä¸€ä¸ªç»“ç‚¹åˆä»1å¼€å§‹è®¡æ•°ï¼Œç›´åˆ°æœ€åä¸€ä¸ªç»“ç‚¹ä»é“¾è¡¨ä¸­åˆ é™¤ç®—æ³•ç»“æŸã€‚</p></li><li><p>çº¦ç‘Ÿå¤«åˆ›å»ºç¯å½¢é“¾è¡¨å›¾è§£:(æ¯åˆ›å»ºä¸€ä¸ªé»„çº¿é‡æ–°æŒ‡å‘)</p></li></ul><p><img src="https://img-blog.csdnimg.cn/36c4b5c528c94b8da8b3d7f18131363e.png" alt="åˆ›å»ºç¯å½¢é“¾è¡¨æ€è·¯å›¾è§£"></p><p>æ€è·¯:</p><ul><li>å…ˆåˆ›å»ºç¬¬ä¸€ä¸ªèŠ‚ç‚¹,è®©firstæŒ‡å‘è¯¥èŠ‚ç‚¹,å¹¶å½¢æˆç¯å½¢</li><li>åé¢æ¯åˆ›å»ºä¸€ä¸ªèŠ‚ç‚¹,å°±æŠŠè¯¥èŠ‚ç‚¹åŠ å…¥åˆ°å·²æœ‰çš„ç¯å½¢é“¾è¡¨ä¸­å³å¯</li></ul><p>éå†:</p><ul><li>å…ˆè®©ä¸€ä¸ªè¾…åŠ©æŒ‡é’ˆ(å˜é‡)curBoy,æŒ‡å‘firstèŠ‚ç‚¹</li><li>ç„¶åé€šè¿‡ä¸€ä¸ªwhileå¾ªç¯éå†è¯¥ç¯å½¢é“¾è¡¨å³å¯curBoy,next == firstç»“æŸ</li></ul><p>çº¦ç‘Ÿå¤«å°å­©å‡ºåœˆå›¾è§£:</p><ul><li>åˆ›å»ºä¸€ä¸ªè¾…åŠ©æŒ‡é’ˆhelper,äº‹å…ˆåº”è¯¥æŒ‡å‘ç¯å½¢é“¾è¡¨çš„æœ€åè¿™ä¸ªèŠ‚ç‚¹</li></ul><p><img src="https://img-blog.csdnimg.cn/eeb9ea73c6a14134a752125b9d539bc0.png" alt="åˆå§‹çŠ¶æ€"></p><ul><li>å°å­©æŠ¥æ•°å‰,å…ˆè®©firstå’Œhelperç§»åŠ¨k-1æ¬¡</li><li>å½“å°å­©æŠ¥æ•°æ—¶,è®©firstå’ŒhelperæŒ‡é’ˆåŒæ—¶ç§»åŠ¨m-1æ¬¡</li></ul><p><img src="https://img-blog.csdnimg.cn/99ad0a54d9504752b485b4e2e1b71307.png" alt="ç§»åŠ¨m-1æ¬¡"></p><ul><li>è¿™æ—¶å°±å¯ä»¥å°†firstæŒ‡å‘å°å­©å‡ºåœˆçš„èŠ‚ç‚¹<ul><li>first = first.next</li><li>helper.next = first</li></ul></li></ul><p><img src="https://img-blog.csdnimg.cn/8d6fc81894b14c62ac126c2f846ae839.png" alt="å°å­©å‡ºåœˆåŠ¨ä½œ"></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> josepfu <span class="token punctuation">&#123;</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token class-name">CircleSingleLinkedList</span> circleSingleLinkedList <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CircleSingleLinkedList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        circleSingleLinkedList<span class="token punctuation">.</span><span class="token function">addBoy</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        circleSingleLinkedList<span class="token punctuation">.</span><span class="token function">showBoy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        circleSingleLinkedList<span class="token punctuation">.</span><span class="token function">countBoy</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//5ä¸ªäºº,1å¼€å§‹æŠ¥æ•°,æ•°2ä¸‹</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">CircleSingleLinkedList</span> <span class="token punctuation">&#123;</span>    <span class="token comment">//åˆ›å»ºä¸€ä¸ªfirstèŠ‚ç‚¹,å½“å‰æ²¡æœ‰ç¼–å·</span>    <span class="token keyword">private</span> <span class="token class-name">Boy</span> first <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>    <span class="token comment">//æ·»åŠ å°å­©èŠ‚ç‚¹,æ„æˆç¯å½¢åˆ—è¡¨</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addBoy</span><span class="token punctuation">(</span><span class="token keyword">int</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>nums <span class="token operator">&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"numsçš„å€¼ä¸æ­£ç¡®"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">Boy</span> curBoy <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">//è¾…åŠ©æŒ‡é’ˆ,ç”¨æ¥æ„å»ºç¯å½¢åˆ—è¡¨</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> nums<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">Boy</span> boy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Boy</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                first <span class="token operator">=</span> boy<span class="token punctuation">;</span>                first<span class="token punctuation">.</span><span class="token function">setNext</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//æ„æˆç¯</span>                curBoy <span class="token operator">=</span> first<span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>                curBoy<span class="token punctuation">.</span><span class="token function">setNext</span><span class="token punctuation">(</span>boy<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//æŒ‡å‘ä¸‹ä¸€ä¸ªboy ä¸Šé¢çš„çº¿è¿ä¸Šäº†</span>                boy<span class="token punctuation">.</span><span class="token function">setNext</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æŒ‡åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹  ä¸‹é¢çš„çº¿è¿ä¸Šäº†</span>                curBoy <span class="token operator">=</span> boy<span class="token punctuation">;</span> <span class="token comment">//æŒ‡å‘ä¸‹ä¸€ä¸ªboy æŒ‡é’ˆæŒ‡ä¸Šå»äº†</span>            <span class="token punctuation">&#125;</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">//éå†å½“å‰ç¯å½¢é“¾è¡¨</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">showBoy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>first <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"é“¾è¡¨ä¸ºç©º"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//first ä¸èƒ½åŠ¨,ä»ç„¶ä½¿ç”¨è¾…åŠ©æŒ‡é’ˆå®Œæˆéå†</span>        <span class="token class-name">Boy</span> curBoy <span class="token operator">=</span> first<span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"å°å­©çš„ç¼–å· %d \n"</span><span class="token punctuation">,</span> curBoy<span class="token punctuation">.</span><span class="token function">getNo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>curBoy<span class="token punctuation">.</span><span class="token function">getNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> first<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//éå†å®Œæ¯•</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            curBoy <span class="token operator">=</span> curBoy<span class="token punctuation">.</span><span class="token function">getNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//curBoyåç§»</span>        <span class="token punctuation">&#125;</span>    <span class="token punctuation">&#125;</span>    <span class="token comment">/**     * æ ¹æ®ç”¨æˆ·è¾“å…¥è®¡ç®—å‡ºåœˆçš„é¡ºåº     *     * @param startNo  ä»ç¬¬å‡ ä¸ªå°å­©å¼€å§‹æ•°æ•°     * @param countNum è¡¨ç¤ºæ•°è®°ä¸‹     * @param nums     æœ€åˆæœ‰å¤šå°‘ä¸ªå°å­©åœ¨åœˆä¸­     */</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">countBoy</span><span class="token punctuation">(</span><span class="token keyword">int</span> startNo<span class="token punctuation">,</span> <span class="token keyword">int</span> countNum<span class="token punctuation">,</span> <span class="token keyword">int</span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token comment">//å…ˆå¯¹æ•°æ®è¿›è¡Œæ ¡éªŒ</span>        <span class="token keyword">if</span> <span class="token punctuation">(</span>first <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> startNo <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">||</span> startNo <span class="token operator">></span> nums<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">"å‚æ•°è¾“å…¥æœ‰è¯¯,æ¸…é‡æ–°è¾“å…¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token keyword">return</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//åˆ›å»ºè¾…åŠ©æŒ‡é’ˆ,å¸®åŠ©å®Œæˆå°å­©å‡ºåœˆ äº‹å…ˆåº”æŒ‡å‘ç¯å½¢é“¾è¡¨çš„æœ€åè¿™ä¸ªèŠ‚ç‚¹</span>        <span class="token class-name">Boy</span> helper <span class="token operator">=</span> first<span class="token punctuation">;</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>helper<span class="token punctuation">.</span><span class="token function">getNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> first<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            helper <span class="token operator">=</span> helper<span class="token punctuation">.</span><span class="token function">getNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å°å­©æŠ¥æ•°å‰,å…ˆè®©firstå’Œhelperç§»åŠ¨k-1æ¬¡</span>        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> startNo <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            first <span class="token operator">=</span> first<span class="token punctuation">.</span><span class="token function">getNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            helper <span class="token operator">=</span> helper<span class="token punctuation">.</span><span class="token function">getNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token comment">//å½“å°å­©æŠ¥æ•°æ—¶,è®©firstå’ŒhelperæŒ‡é’ˆåŒæ—¶ç§»åŠ¨m-1æ¬¡</span>        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>            <span class="token keyword">if</span> <span class="token punctuation">(</span>helper <span class="token operator">==</span> first<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">//åœˆä¸­åªæœ‰ä¸€äºº</span>                <span class="token keyword">break</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> countNum <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>                first <span class="token operator">=</span> first<span class="token punctuation">.</span><span class="token function">getNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>                helper <span class="token operator">=</span> helper<span class="token punctuation">.</span><span class="token function">getNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            <span class="token punctuation">&#125;</span>            <span class="token comment">//firstæŒ‡å‘çš„èŠ‚ç‚¹å°±æ˜¯å°å­©å‡ºåœˆçš„èŠ‚ç‚¹</span>            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"å°å­©%då‡ºåœˆ\n"</span><span class="token punctuation">,</span> first<span class="token punctuation">.</span><span class="token function">getNo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            first <span class="token operator">=</span> first<span class="token punctuation">.</span><span class="token function">getNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>            helper<span class="token punctuation">.</span><span class="token function">setNext</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">&#125;</span>        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"æœ€åç•™åœ¨åœˆä¸­çš„å°å­©ç¼–å·%d\n"</span><span class="token punctuation">,</span> helper<span class="token punctuation">.</span><span class="token function">getNo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token keyword">class</span> <span class="token class-name">Boy</span> <span class="token punctuation">&#123;</span>    <span class="token keyword">private</span> <span class="token keyword">int</span> no<span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token class-name">Boy</span> next<span class="token punctuation">;</span><span class="token comment">//æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ é»˜è®¤null</span>    <span class="token keyword">public</span> <span class="token class-name">Boy</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>no <span class="token operator">=</span> no<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">getNo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> no<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setNo</span><span class="token punctuation">(</span><span class="token keyword">int</span> no<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>no <span class="token operator">=</span> no<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token class-name">Boy</span> <span class="token function">getNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">return</span> next<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">setNext</span><span class="token punctuation">(</span><span class="token class-name">Boy</span> next<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>        <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">=</span> next<span class="token punctuation">;</span>    <span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®ç»“æ„å’Œç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å‘½é¢˜é€»è¾‘çš„åŸºæœ¬æ¦‚å¿µ</title>
      <link href="/2021-09-19-ming-ti-luo-ji-de-ji-ben-gai-nian.html"/>
      <url>/2021-09-19-ming-ti-luo-ji-de-ji-ben-gai-nian.html</url>
      
        <content type="html"><![CDATA[<h3 id="æ•°ç†é€»è¾‘"><a href="#æ•°ç†é€»è¾‘" class="headerlink" title=" æ•°ç†é€»è¾‘"></a><center> æ•°ç†é€»è¾‘</h3><h4 id="1-å‘½é¢˜é€»è¾‘çš„åŸºæœ¬æ¦‚å¿µ"><a href="#1-å‘½é¢˜é€»è¾‘çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1. å‘½é¢˜é€»è¾‘çš„åŸºæœ¬æ¦‚å¿µ"></a>1. å‘½é¢˜é€»è¾‘çš„åŸºæœ¬æ¦‚å¿µ</h4><h5 id="1-1å‘½é¢˜ä¸è”ç»“è¯"><a href="#1-1å‘½é¢˜ä¸è”ç»“è¯" class="headerlink" title="1.1å‘½é¢˜ä¸è”ç»“è¯"></a>1.1å‘½é¢˜ä¸è”ç»“è¯</h5><ul><li><p>å¦å®šè”ç»“è¯  ï¹</p></li><li><p>åˆå–è”ç»“è¯  âˆ§</p></li><li><p>æå–è”ç»“è¯  âˆ¨</p></li><li><p>è•´å«è”ç»“è¯  â†’</p></li><li><p>ç­‰ä»·è”ç»“è¯  â†”</p><center>è”ç»“è¯ï¹,âˆ§,âˆ¨,â†’,â†”çš„å®šä¹‰</li></ul><table><thead><tr><th align="center">p  |  q</th><th align="center">ï¹p</th><th align="center">pâˆ§q</th><th align="center">pâˆ¨q</th><th align="center">pâ†’q</th><th align="center">pâ†”q</th></tr></thead><tbody><tr><td align="center">0      0</td><td align="center">1</td><td align="center">0</td><td align="center">0</td><td align="center">1</td><td align="center">1</td></tr><tr><td align="center">0      1</td><td align="center">1</td><td align="center">0</td><td align="center">1</td><td align="center">1</td><td align="center">0</td></tr><tr><td align="center">1      0</td><td align="center">0</td><td align="center">0</td><td align="center">1</td><td align="center">0</td><td align="center">0</td></tr><tr><td align="center">1     1</td><td align="center">0</td><td align="center">1</td><td align="center">1</td><td align="center">1</td><td align="center">1</td></tr></tbody></table><h4 id="1-2-å‘½é¢˜å…¬å¼æå…¶èµ‹å€¼"><a href="#1-2-å‘½é¢˜å…¬å¼æå…¶èµ‹å€¼" class="headerlink" title="1.2 å‘½é¢˜å…¬å¼æå…¶èµ‹å€¼"></a>1.2 å‘½é¢˜å…¬å¼æå…¶èµ‹å€¼</h4><ul><li><p>è‹¥å…¬å¼Aæ˜¯å•ä¸ªçš„å‘½é¢˜å˜é¡¹,åˆ™ç§°Aä¸º0å±‚å…¬å¼</p></li><li><p>è‹¥æŒ‡å®šçš„ä¸€ç»„å€¼ä½¿Aä¸º1,åˆ™ç§°ä¸ºè¿™ç»„å€¼ä¸ºAçš„<font color="#dd0000">æˆçœŸèµ‹å€¼</font> ;è‹¥ä½¿Aä¸º0,åˆ™ç§°è¿™ç»„å€¼ä¸ºAçš„ <font color="#dd0000">æˆå‡èµ‹å€¼</font> </p></li><li><p>å°†å‘½é¢˜å…¬å¼Aåœ¨æ‰€æœ‰èµ‹å€¼ä¸‹å–å€¼æƒ…å†µåˆ—æˆè¡¨,ç§°ä½œAçš„<font color="#dd0000">çœŸå€¼è¡¨</font></p></li><li><p>è®¾Aæœªä»»ä¸€å‘½é¢˜å…¬å¼</p><ul><li><p>è‹¥Aåœ¨å®ƒçš„å„ç§èµ‹å€¼ä¸‹å–å€¼å‡ä¸ºçœŸ,åˆ™ç§°Aä¸º<font color="#dd0000">é‡è¨€å¼</font>æˆ–<font color="#dd0000">æ°¸çœŸå¼</font></p></li><li><p>è‹¥Aåœ¨å®ƒçš„å„ç§èµ‹å€¼ä¸‹å–å€¼å‡ä¸ºçœŸ,åˆ™ç§°Aä¸º<font color="#dd0000">çŸ›ç›¾å¼</font>æˆ–<font color="#dd0000">æ°¸å‡å¼</font></p></li><li><p>è‹¥Aä¸æ˜¯çŸ›ç›¾å¼,åˆ™ç§°Aä¸º<font color="#dd0000">å¯æ»¡è¶³å¼</font></p></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç¦»æ•£æ•°å­¦ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°ç†é€»è¾‘ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¾®æœºåŸç†ä¸æ¥å£æŠ€æœ¯</title>
      <link href="/2021-09-19-wei-ji-yuan-li-he-jie-kou-ji-zhu.html"/>
      <url>/2021-09-19-wei-ji-yuan-li-he-jie-kou-ji-zhu.html</url>
      
        <content type="html"><![CDATA[<h3 id="1-è¿›åˆ¶è½¬æ¢æ€»ç»“æ–¹æ³•"><a href="#1-è¿›åˆ¶è½¬æ¢æ€»ç»“æ–¹æ³•" class="headerlink" title="1.è¿›åˆ¶è½¬æ¢æ€»ç»“æ–¹æ³•"></a>1.è¿›åˆ¶è½¬æ¢æ€»ç»“æ–¹æ³•</h3><h4 id="1-1-åè¿›åˆ¶è½¬æ¢éåè¿›åˆ¶"><a href="#1-1-åè¿›åˆ¶è½¬æ¢éåè¿›åˆ¶" class="headerlink" title="1.1  åè¿›åˆ¶è½¬æ¢éåè¿›åˆ¶"></a>1.1  åè¿›åˆ¶è½¬æ¢éåè¿›åˆ¶</h4><p>æ€»ç»“:  åè¿›åˆ¶è½¬æ¢å‡ è¿›åˆ¶å°±æ‹¿è¿™ä¸ªæ•°é™¤ä»¥å‡ å–ä½™,çŸ¥é“å•†ä¸º0,ç„¶åå€’å™å†™ä¸‹æ¥å³å¯!<br>ç¤ºä¾‹å›¾:</p><p>   <img src="https://exp-picture.cdn.bcebos.com/3fe32442a07aa0107f5e7f8bbfbb19efa35f3ec1.jpg?x-bce-process=image/resize,m_lfit,w_500,limit_1/format,f_jpg/quality,q_80" alt="åè¿›åˆ¶è½¬äºŒè¿›åˆ¶"></p><h4 id="1-2-åè¿›åˆ¶å°æ•°éƒ¨åˆ†è½¬æ¢éåè¿›åˆ¶"><a href="#1-2-åè¿›åˆ¶å°æ•°éƒ¨åˆ†è½¬æ¢éåè¿›åˆ¶" class="headerlink" title="1.2 åè¿›åˆ¶å°æ•°éƒ¨åˆ†è½¬æ¢éåè¿›åˆ¶"></a>1.2 åè¿›åˆ¶å°æ•°éƒ¨åˆ†è½¬æ¢éåè¿›åˆ¶</h4><p>æ€»ç»“: åè¿›åˆ¶è½¬æ¢å‡ è¿›åˆ¶çš„å°æ•°éƒ¨åˆ†å°±æ‹¿è¿™ä¸ªæ•°çš„å°æ•°éƒ¨åˆ†ä¹˜ä»¥å‡ ,å¾—åˆ°çš„æ•´æ•°éƒ¨åˆ†æ­£åºå†™åˆ°0.åé¢å³å¯<br>æ–¹æ³•ï¼š</p><p>1ã€ä¹˜2å–æ•´æ³•ï¼Œå³å°†å°æ•°éƒ¨åˆ†ä¹˜ä»¥2ï¼Œç„¶åå–æ•´æ•°éƒ¨åˆ†ï¼Œå‰©ä¸‹çš„å°æ•°éƒ¨åˆ†ç»§ç»­ä¹˜ä»¥2ï¼Œç„¶åå–æ•´æ•°éƒ¨åˆ†ï¼Œå‰©ä¸‹çš„å°æ•°éƒ¨åˆ†åˆä¹˜ä»¥2ï¼Œä¸€ç›´å–åˆ°å°æ•°éƒ¨åˆ† ã€‚</p><p>2.ä¸ºé›¶ä¸ºæ­¢ã€‚å¦‚æœæ°¸è¿œä¸èƒ½ä¸ºé›¶ï¼Œå°±åŒåè¿›åˆ¶æ•°çš„å››èˆäº”å…¥ä¸€æ ·ï¼ŒæŒ‰ç…§è¦æ±‚ä¿ç•™å¤šå°‘ä½å°æ•°æ—¶ï¼Œå°±æ ¹æ®åé¢ä¸€ä½æ˜¯0è¿˜æ˜¯1ï¼Œå–èˆï¼Œå¦‚æœæ˜¯é›¶ï¼Œèˆæ‰ï¼Œå¦‚æœæ˜¯1ï¼Œå‘å…¥ä¸€ä½ã€‚æ¢å¥è¯è¯´å°±æ˜¯0èˆ1å…¥ã€‚è¯»æ•°è¦ä»å‰é¢çš„æ•´æ•°è¯»åˆ°åé¢çš„æ•´æ•°ã€‚</p><p>ä¸‹é¢ä¸¾ä¾‹ï¼š<br>ä¾‹1ï¼šå°†0.125æ¢ç®—ä¸ºäºŒè¿›åˆ¶<br>å¾—å‡ºç»“æœï¼šå°†0.125æ¢ç®—ä¸ºäºŒè¿›åˆ¶ï¼ˆ0.001ï¼‰2 ã€‚</p><p>åˆ†æï¼š</p><ul><li>ç¬¬ä¸€æ­¥ï¼Œå°†0.125ä¹˜ä»¥2ï¼Œå¾—0.25,åˆ™æ•´æ•°éƒ¨åˆ†ä¸º0,å°æ•°éƒ¨åˆ†ä¸º0.25ã€‚</li><li>ç¬¬äºŒæ­¥, å°†å°æ•°éƒ¨åˆ†0.25ä¹˜ä»¥2,å¾—0.5,åˆ™æ•´æ•°éƒ¨åˆ†ä¸º0,å°æ•°éƒ¨åˆ†ä¸º0.5ã€‚</li><li>ç¬¬ä¸‰æ­¥, å°†å°æ•°éƒ¨åˆ†0.5ä¹˜ä»¥2,å¾—1.0,åˆ™æ•´æ•°éƒ¨åˆ†ä¸º1,å°æ•°éƒ¨åˆ†ä¸º0.0ã€‚</li><li>ç¬¬å››æ­¥,è¯»æ•°,ä»ç¬¬ä¸€ä½è¯»èµ·,è¯»åˆ°æœ€åä¸€ä½,å³ä¸º0.001ã€‚</li></ul><p><img src="https://iknow-pic.cdn.bcebos.com/e850352ac65c1038d8ca332ebc119313b17e89a2" alt="6.125è½¬æ¢æˆäºŒè¿›åˆ¶"></p><h4 id="1-3-è´Ÿæ•´æ•°è½¬æ¢æˆäºŒè¿›åˆ¶"><a href="#1-3-è´Ÿæ•´æ•°è½¬æ¢æˆäºŒè¿›åˆ¶" class="headerlink" title="1.3 è´Ÿæ•´æ•°è½¬æ¢æˆäºŒè¿›åˆ¶"></a>1.3 è´Ÿæ•´æ•°è½¬æ¢æˆäºŒè¿›åˆ¶</h4><p>æ–¹æ³•ï¼šå…ˆæ˜¯å°†å¯¹åº”çš„æ­£æ•´æ•°è½¬æ¢æˆäºŒè¿›åˆ¶åï¼Œå¯¹äºŒè¿›åˆ¶å–åï¼Œç„¶åå¯¹ç»“æœå†åŠ ä¸€ã€‚è¿˜ä»¥42ä¸ºä¾‹ï¼Œè´Ÿæ•´æ•°å°±æ˜¯-42ï¼Œå¦‚å›¾4æ‰€ç¤ºä¸ºæ–¹æ³•è§£é‡Šã€‚æœ€åå³ä¸ºï¼šï¼ˆ-42ï¼‰10=ï¼ˆ11010110ï¼‰2ã€‚<br><img src="https://iknow-pic.cdn.bcebos.com/11385343fbf2b2111d5e78a2c48065380dd78eee" alt="-42è½¬æ¢æˆäºŒè¿›åˆ¶"></p><h4 id="1-4-æ­£æ•´æ•°äºŒè¿›åˆ¶è½¬æ¢ä¸ºåè¿›åˆ¶"><a href="#1-4-æ­£æ•´æ•°äºŒè¿›åˆ¶è½¬æ¢ä¸ºåè¿›åˆ¶" class="headerlink" title="1.4 æ­£æ•´æ•°äºŒè¿›åˆ¶è½¬æ¢ä¸ºåè¿›åˆ¶"></a>1.4 æ­£æ•´æ•°äºŒè¿›åˆ¶è½¬æ¢ä¸ºåè¿›åˆ¶</h4><p>æ–¹æ³•: é¦–å…ˆå°†äºŒè¿›åˆ¶æ•°è¡¥é½ä½æ•°ï¼Œé¦–ä½å¦‚æœæ˜¯0å°±ä»£è¡¨æ˜¯æ­£æ•´æ•°ï¼Œå¦‚æœé¦–ä½æ˜¯1åˆ™ä»£è¡¨æ˜¯è´Ÿæ•´æ•°ã€‚å…ˆçœ‹é¦–ä½æ˜¯0çš„æ­£æ•´æ•°ï¼Œè¡¥é½ä½æ•°ä»¥åï¼Œå°†äºŒè¿›åˆ¶ä¸­çš„ä½æ•°åˆ†åˆ«å°†ä¸‹è¾¹å¯¹åº”çš„å€¼ç›¸ä¹˜ï¼Œç„¶åç›¸åŠ å¾—åˆ°çš„å°±ä¸ºåè¿›åˆ¶ï¼Œæ¯”å¦‚1010è½¬æ¢ä¸ºåè¿›åˆ¶ã€‚ </p><p><img src="https://iknow-pic.cdn.bcebos.com/fd039245d688d43f7eff6c1e731ed21b0ff43b8c?x-bce-process=image/resize,m_lfit,w_600,h_800,limit_1/quality,q_85/format,f_jpg" alt="1010è½¬æ¢æˆåè¿›åˆ¶"></p><h4 id="1-5-è´Ÿæ•´æ•°äºŒè¿›åˆ¶è½¬æ¢ä¸ºåè¿›åˆ¶"><a href="#1-5-è´Ÿæ•´æ•°äºŒè¿›åˆ¶è½¬æ¢ä¸ºåè¿›åˆ¶" class="headerlink" title="1.5 è´Ÿæ•´æ•°äºŒè¿›åˆ¶è½¬æ¢ä¸ºåè¿›åˆ¶"></a>1.5 è´Ÿæ•´æ•°äºŒè¿›åˆ¶è½¬æ¢ä¸ºåè¿›åˆ¶</h4><p>æ–¹æ³•: è‹¥äºŒè¿›åˆ¶è¡¥è¶³ä½æ•°åé¦–ä½ä¸º1æ—¶ï¼Œå°±éœ€è¦å…ˆå–åå†æ¢ç®—ï¼šä¾‹å¦‚ï¼Œ11101011ï¼Œé¦–ä½ä¸º1ï¼Œé‚£ä¹ˆå°±å…ˆå–åå§ï¼š-00010100ï¼Œç„¶åç®—ä¸€ä¸‹10100å¯¹åº”çš„åè¿›åˆ¶ä¸º20ï¼Œæ‰€ä»¥å¯¹åº”çš„åè¿›åˆ¶ä¸º-20ã€‚</p><p><img src="https://iknow-pic.cdn.bcebos.com/838ba61ea8d3fd1f9cbe5fd63e4e251f94ca5fa3?x-bce-process=image/resize,m_lfit,w_600,h_800,limit_1/quality,q_85/format,f_jpg" alt="11101011"></p><h4 id="1-6-å°çŸ¥è¯†ç‚¹"><a href="#1-6-å°çŸ¥è¯†ç‚¹" class="headerlink" title="1.6 å°çŸ¥è¯†ç‚¹"></a>1.6 å°çŸ¥è¯†ç‚¹</h4><ol><li>è¡¨ç¤ºäºŒè¿›åˆ¶æ•°æ—¶,åé¢å¿…é¡»åŠ åç¼€B.</li><li>è¡¨ç¤ºåå…­è¿›åˆ¶æ•°æ—¶,åé¢å¿…é¡»åŠ åç¼€H.</li><li>è¡¨ç¤ºå…«è¿›åˆ¶æ•°æ—¶,åé¢å¿…é¡»åŠ åç¼€Oæˆ–Q.</li></ol><h4 id="1-7-äºŒè¿›åˆ¶ç›¸å‡"><a href="#1-7-äºŒè¿›åˆ¶ç›¸å‡" class="headerlink" title="1.7 äºŒè¿›åˆ¶ç›¸å‡"></a>1.7 äºŒè¿›åˆ¶ç›¸å‡</h4><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token number">101001</span>B  <span class="token operator">-</span><span class="token number">011010</span>B<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>    <span class="token number">001111</span>B    <span class="token number">0</span><span class="token operator">-</span><span class="token number">1</span> å‘å‰é¢é‡åˆ°çš„ç¬¬ä¸€ä¸ªçš„<span class="token number">1</span>å€Ÿä½å˜æˆ<span class="token number">2</span><span class="token operator">-</span><span class="token number">1</span>å¹¶æŠŠé€”ä¸­çš„<span class="token number">0</span>éƒ½æ”¹ä¸º<span class="token number">1</span><span class="token punctuation">,</span>ä¸”<span class="token number">1</span>å˜ä¸º<span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h3 id="2-æœºå™¨ç "><a href="#2-æœºå™¨ç " class="headerlink" title="2.æœºå™¨ç "></a>2.æœºå™¨ç </h3><h4 id="2-1åŸç "><a href="#2-1åŸç " class="headerlink" title="2.1åŸç "></a>2.1åŸç </h4><p>æ­£æ•°çš„ç¬¦å·ä½ç”¨0è¡¨ç¤º,è´Ÿæ•°çš„ç¬¦å·ä½ç”¨1è¡¨ç¤º,å…¶ä½™ä½ä¸ºæ•°å€¼,è¿™ç§è¡¨ç¤ºæ–¹æ³•ç§°ä¸º<strong>åŸç </strong></p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token class-name">X</span> <span class="token number">105</span> <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">></span> <span class="token number">1101001</span>B<span class="token class-name">X</span> <span class="token operator">=</span> <span class="token operator">+</span><span class="token number">105</span> <span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token class-name">X</span><span class="token punctuation">]</span>åŸ <span class="token operator">=</span> <span class="token number">0110</span> <span class="token number">1001</span>B<span class="token class-name">X</span> <span class="token operator">=</span> <span class="token operator">-</span> <span class="token number">105</span> <span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token class-name">X</span><span class="token punctuation">]</span>åŸ <span class="token operator">=</span> <span class="token number">1110</span> <span class="token number">1001</span>B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><h4 id="2-2åç "><a href="#2-2åç " class="headerlink" title="2.2åç "></a>2.2åç </h4><p>æ­£æ•°çš„åç ä¸åŸç ç›¸åŒ,æœ€é«˜ä½ä¸ºç¬¦å·ä½,ç”¨0è¡¨ç¤º,å…¶ä½™ä½ä¸ºæ•°å€¼</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token punctuation">[</span><span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">]</span>å <span class="token operator">=</span> <span class="token number">0000</span> <span class="token number">0100</span>B<span class="token punctuation">[</span><span class="token number">31</span><span class="token punctuation">]</span>å <span class="token operator">=</span> <span class="token number">0001</span> <span class="token number">1111</span>B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>è´Ÿæ•°åç ä¸ºå®ƒçš„æ­£æ•°æŒ‰ä½å–å,å°±æ˜¯è¿åŒç¬¦å·ä½ä¸€åŒå–å</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span>å <span class="token operator">=</span> <span class="token number">1111</span> <span class="token number">1011</span>B<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">31</span><span class="token punctuation">]</span>å <span class="token operator">=</span> <span class="token number">1110</span> <span class="token number">0000</span>B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><p>æ‰€ä»¥,8ä½äºŒè¿›åˆ¶æ•°è¡¨ç¤ºçš„åç èŒƒå›´ä¸º-127~+127,å½“å¸¦ç¬¦å·æ•°ç”¨åç è¡¨ç¤ºæ—¶,æœ€é«˜ä½ä¸ºç¬¦å·æ•°,å½“ä»–ä¸ºæ­£æ•°æ—¶,å7ä½ä¸ºçœŸæ­£çš„å€¼,å½“å®ƒä¸ºè´Ÿæ•°æ—¶,å7ä¸ºè¦å–åæ‰èƒ½å¾—åˆ°çœŸæ­£çš„å€¼</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token punctuation">[</span><span class="token class-name">X</span><span class="token punctuation">]</span>å <span class="token operator">=</span> <span class="token number">1001</span> <span class="token number">0100</span>B<span class="token punctuation">[</span><span class="token class-name">X</span><span class="token punctuation">]</span>çœŸå€¼ <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">[</span><span class="token number">1101011</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">107</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h4 id="2-3è¡¥ç "><a href="#2-3è¡¥ç " class="headerlink" title="2.3è¡¥ç "></a>2.3è¡¥ç </h4><p>æ­£æ•°çš„è¡¥ç è¡¨ç¤ºä¸åŸç ç›¸åŒ,æœ€é«˜ä½ä¸ºç¬¦å·ä½,ç”¨0è¡¨ç¤º,å…¶ä½™ä½ä¸ºçœŸå€¼,è´Ÿæ•°çš„è¡¥ç æœ€é«˜ä½ä¸º1,æ•°å€¼éƒ¨åˆ†ç”±ä»–çš„åç å†åŠ 1å½¢æˆ</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token punctuation">[</span><span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">]</span>åŸ <span class="token operator">=</span> <span class="token number">0000</span> <span class="token number">0100</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">]</span>å <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">]</span>è¡¥<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span>åŸ <span class="token operator">=</span> <span class="token number">1000</span> <span class="token number">0100</span>B<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span>å <span class="token operator">=</span> <span class="token number">1111</span> <span class="token number">1011</span>B   <span class="token punctuation">(</span>æ­£æ•°æŒ‰ä½å–å<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span>è¡¥ <span class="token operator">=</span> <span class="token number">1111</span> <span class="token number">1100</span>B<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><h3 id="è¡¥ç â€“-gt-çœŸæ•°"><a href="#è¡¥ç â€“-gt-çœŸæ•°" class="headerlink" title="è¡¥ç â€“&gt;çœŸæ•°"></a>è¡¥ç â€“&gt;çœŸæ•°</h3><p>å½“ç¬¦å·ä½ç”¨è¡¥ç è¡¨ç¤ºæ—¶,æœ€é«˜ä½æ˜¯ç¬¦å·ä½,å½“ç¬¦å·ä½æ˜¯0æ—¶,è¡¨ç¤ºæ­£æ•°,å7ä½ä¸ºå…¶çœŸæ­£çš„æ•°;å½“ç¬¦å·ä½æ˜¯1æ—¶,è¡¨ç¤ºè´Ÿæ•°,è¦å°†å7ä½æœ€ä½ä½å‡1,æ±‚å¾—åç ,åœ¨æŒ‰ä½å–å,æ‰èƒ½å¾—åˆ°çœŸæ­£çš„æ•°(<strong>çœŸæ•°</strong>)</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// å·²çŸ¥[X]è¡¥ = 10010100B,æ±‚Xçš„åç å’ŒåŸç </span><span class="token punctuation">[</span><span class="token class-name">X</span><span class="token punctuation">]</span>å <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token class-name">X</span><span class="token punctuation">]</span>è¡¥<span class="token operator">-</span><span class="token number">1</span> <span class="token operator">=</span> <span class="token number">1001</span> <span class="token number">0100</span>B<span class="token operator">-</span><span class="token number">1</span> <span class="token operator">=</span> <span class="token number">1001</span> <span class="token number">0011</span>B<span class="token punctuation">[</span><span class="token class-name">X</span><span class="token punctuation">]</span>åŸ <span class="token operator">=</span> <span class="token number">1110</span> <span class="token number">1100</span>B<span class="token class-name">X</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">110</span> <span class="token number">1100</span>B <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token operator">+</span><span class="token number">32</span><span class="token operator">+</span><span class="token number">8</span><span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token number">10</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">108</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><p>å¼•è¿›è¡¥ç å,å¯ä»¥å°†è¡¥ç è¿åŒç¬¦å·ä½ä¸€èµ·çœ‹åšä¸€ä¸ªæ•°,å„ä½çš„æƒéƒ½æ˜¯2çš„iæ¬¡æ–¹,ä½†æœ€é«˜ä½ä¸º0æ—¶è¡¨ç¤ºæ­£æ•°,ä¸º1æ—¶è¡¨ç¤ºè´Ÿæ•°,å…¶ä½™ä¸ºæ•°å€¼</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">128</span><span class="token punctuation">]</span>è¡¥ <span class="token operator">=</span> <span class="token number">1000</span> <span class="token number">0000</span>B <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">128</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span>æœ€é«˜ä½çš„æƒä¸º<span class="token number">2</span>çš„<span class="token number">7</span>æ¬¡æ–¹ <span class="token operator">=</span> <span class="token number">128</span><span class="token punctuation">,</span>åŒç†<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">]</span>è¡¥ <span class="token operator">=</span> <span class="token number">1111</span> <span class="token number">1100</span>B <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">128</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token operator">+</span><span class="token number">32</span><span class="token operator">+</span><span class="token number">16</span><span class="token operator">+</span><span class="token number">8</span><span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">4</span><span class="token punctuation">[</span><span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">]</span>è¡¥ <span class="token operator">=</span> <span class="token number">0000</span> <span class="token number">0100</span>B <span class="token operator">=</span> <span class="token number">4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><p>æ‰€ä»¥, <font color=green>ä»»ä½•ä¸€ä¸ªæ•°ç”¨è¡¥ç è¡¨ç¤ºå,éƒ½å¯ä»¥çœ‹æˆâ€è¿åŒç¬¦å·ä½çš„æ•°â€</font>.ç¬¦å·ä½ä¹Ÿä¸€èµ·å‚åŠ è¿ç®—,ä¸€ä¸ªæ•°å‡å»å¦ä¸€ä¸ªæ•°æ—¶,åªè¦åŠ ä¸Šå…¶è¡¥ç å³å¯.</p><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// æ±‚7-19=? å¯ä»¥ç”¨7+[-19]è¡¥æ¥å®Œæˆ</span><span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span>è¡¥ <span class="token operator">=</span> <span class="token number">00000111</span>B<span class="token punctuation">[</span><span class="token operator">+</span><span class="token number">19</span><span class="token punctuation">]</span>è¡¥ <span class="token operator">=</span> <span class="token number">00010011</span>B<span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">19</span><span class="token punctuation">]</span>è¡¥ <span class="token operator">=</span> <span class="token number">11101101</span>B  <span class="token number">0000</span> <span class="token number">0111</span>B <span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span>è¡¥<span class="token operator">+</span> <span class="token number">1110</span> <span class="token number">1101</span>B <span class="token punctuation">[</span><span class="token operator">-</span><span class="token number">19</span><span class="token punctuation">]</span>è¡¥<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>  <span class="token number">11110100</span>B <span class="token operator">=</span> <span class="token function">F4H</span><span class="token punctuation">(</span>å’Œ<span class="token punctuation">)</span>å’Œçš„è¡¥ç  <span class="token operator">=</span> F4H <span class="token operator">=</span> <span class="token number">1111</span> <span class="token number">0100</span>Bå’Œçš„åç  <span class="token operator">=</span> F4H <span class="token operator">=</span> <span class="token number">1111</span> <span class="token number">0011</span>Bå’Œçš„åŸç  <span class="token operator">=</span> <span class="token number">1000</span> <span class="token number">1100</span>B å…¶çœŸå€¼æœª<span class="token operator">-</span><span class="token number">12</span>å¯è§<span class="token punctuation">,</span><span class="token number">7</span><span class="token operator">+</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">19</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">12.</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h3 id="3-å¾®å¤„ç†å™¨çš„ç»“æ„å’Œå·¥ä½œæ¨¡å¼"><a href="#3-å¾®å¤„ç†å™¨çš„ç»“æ„å’Œå·¥ä½œæ¨¡å¼" class="headerlink" title="3.å¾®å¤„ç†å™¨çš„ç»“æ„å’Œå·¥ä½œæ¨¡å¼"></a>3.å¾®å¤„ç†å™¨çš„ç»“æ„å’Œå·¥ä½œæ¨¡å¼</h3><ul><li>8080/8088 CPUå¯ç›´æ¥å¯»å€<font color=green>1MB</font>ä¸ªå†…å­˜å•å…ƒ,<font color=green>64kb</font>ä¸ªI/Oç«¯å£,ä»–ä»¬çš„å¤–éƒ¨æ•°æ®æ€»çº¿åˆ†åˆ«æœ‰<font color=green>16,8</font>æ ¹.</li><li>CF : è¿›è¡Œç®—æ•°åŠ å‡æ³•è¿ç®—æ—¶,æœ€é«˜ä½å‘å‰ä¸€ä½<font color=green>äº§ç”Ÿè¿›ä½æˆ–å€Ÿä½</font>æ—¶,CF=1,å¦ä¸ºCD=0</li><li>PF : è¿ç®—ç»“æœä½å…«ä½æœ‰<font color=green>å¶æ•°</font>ä¸ª1åˆ™CF=1,æœ‰<font color=green>å¥‡æ•°</font>ä¸ª1åˆ™CF=0</li><li>AF : åœ¨8ä½åŠ å‡è¿ç®—ä¸­,<font color=green>è‹¥ä½4ä½å‘é«˜4ä½æœ‰è¿›ä½æˆ–å€Ÿä½</font>,AF=1,å¦åˆ™AF=0,=<strong>è¿™ä¸ªç»“æœåªåœ¨BCDæ•°è¿ç®—æ—¶æ‰æœ‰æ„ä¹‰</strong> (BCDæ•°: ç”¨4ä½2è¿›åˆ¶æ•°è¡¨ç¤º10è¿›åˆ¶ eg: 0001ï¼1  0010ï¼2 )</li><li>ZF : è‹¥<font color=green>å‡æ³•è¿ç®—ç»“æœ</font>ä¸º0,ZF=1å¦åˆ™ZF=0.ZF æ ‡å¿—å¸¸ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰,è‹¥ç›¸ç­‰,ç›¸å‡åZF=1,è‹¥ä¸ç­‰åˆ™ZF=0</li><li>SF : è‹¥<font color=green>è¿ç®—ç»“æœ(8ä½,ä¸ç®—è¿›çš„é‚£ä¸€ä½)æœ€é«˜ä½</font>ä¸º1,åˆ™SF=1,è¡¨ç¤ºè¯¥æ•°ä¸ºè´Ÿæ•°,å¦åˆ™SF=0,è¡¨ç¤ºè¯¥æ•°ä¸ºæ­£æ•°</li><li>OF : è‹¥è¿ç®—ç»“æœè¶…å‡ºæœºå™¨æ‰€èƒ½è¡¨ç¤ºçš„èŒƒå›´,è¿ç®—ç»“æœæ˜¯é”™è¯¯çš„<font color=green>(ä¸¤ä¸ªæ­£(è´Ÿ)æ•°ç›¸åŠ ä¸ºè´Ÿ(æ­£)æ•°</font>é”™è¯¯(åŒå·ç›¸å‡è‚¯å®šä¸º0,å¼‚å·ç›¸å‡è‚¯å®šä¸º1))å°±ç§°ä¸ºæº¢å‡ºOF=1,å¦åˆ™OF=0</li><li>8086CPUå†…éƒ¨ç”±<font color=green>æ‰§è¡Œå•å…ƒEU</font>å’Œ<font color=green>æ€»çº¿æ¥å£å•å…ƒBIU</font>ç»„æˆã€‚<ul><li>ä¸»è¦åŠŸèƒ½ä¸º:æ‰§è¡Œå•å…ƒEUè´Ÿè´£æ‰§è¡ŒæŒ‡ä»¤.å®ƒç”±ç®—æ•°é€»è¾‘å•å…ƒã€é€šç”¨å¯„å­˜å™¨ç»„ã€ä»£ç ã€å¯¹å…¶è¯‘ç åäº§ç”Ÿå®ŒæˆæŒ‡ä»¤æ‰€éœ€è¦çš„æ§åˆ¶ä¿¡æ¯ã€‚</li><li>æ€»çº¿æ¥å£å•å…ƒBIUè´Ÿè´£CPUä¸å¯„å­˜å™¨å’ŒI/O æ¥å£ä¹‹é—´çš„ä¿¡æ¯ä¼ é€’</li></ul></li></ul><ol><li>ä¸¤ä¸ªå¸¦ç¬¦å·æ•° 10110100B å’Œ 11000111B ç›¸åŠ ,è¿ç®—åå„æ ‡å¿—çš„å€¼ç­‰äºå¤šå°‘,å“ªäº›æ ‡å¿—æ˜¯æœ‰æ„ä¹‰çš„?å¦‚æœå§è¿™ä¸¤ä¸ªæ•°å½“æˆæ— ç¬¦å·æ•°,ç›¸åŠ åå“ªäº›æ ‡å¿—ä½æ˜¯æœ‰æ„ä¹‰çš„?</li></ol><pre class="line-numbers language-java" data-language="java"><code class="language-java">  <span class="token number">10110100</span>B<span class="token operator">+</span> <span class="token number">11000111</span>B<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token number">1</span> <span class="token number">01111011</span>BCF<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>æœ‰è¿›ä½PF<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>ç»“æœæœ‰å¶æ•°ä¸ª<span class="token number">1</span>AF<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>æ— åŠè¿›ä½<span class="token punctuation">,</span>éBCDç è¿ç®—<span class="token punctuation">,</span>æ— æ„ä¹‰ZF<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>ç»“æœé<span class="token number">0</span>SF<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>ç»“æœä¸ºæ­£æ•°OF<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>æº¢å‡º<span class="token punctuation">(</span>ä¸¤ä¸ªè´Ÿæ•°ç›¸åŠ <span class="token punctuation">,</span>ç»“æœä¸ºæ­£æ•°<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> ä¸¤ä¸ªæ— ç¬¦å·æ•°<span class="token punctuation">(</span>åªæœ‰æ­£æ•°<span class="token punctuation">,</span>æ²¡æœ‰è´Ÿæ•°<span class="token punctuation">)</span><span class="token operator">:</span>ä¸è€ƒè™‘SFå’ŒOFæ ‡å¿—  <span class="token number">10110100</span>B<span class="token operator">+</span> <span class="token number">11000111</span>B<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token number">1</span> <span class="token number">01111011</span>BCF<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>æœ‰è¿›ä½PF<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span>ç»“æœæœ‰å¶æ•°ä¸ª<span class="token number">1</span>ZF<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">,</span>ç»“æœé<span class="token number">0</span>AFã€SFã€OFæ— æ„ä¹‰<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>å·²çŸ¥æ®µåœ°å€:åç§»åœ°å€åˆ†åˆ«ä¸ºå¦‚ä¸‹æ•°å€¼,ä»–ä»¬çš„ç‰©ç†åœ°å€å„æ˜¯ä»€ä¹ˆ?</li></ol><p>ï¼ˆ1ï¼‰1200ï¼š3500H    ï¼ˆ2ï¼‰FF00ï¼š0458H    ï¼ˆ3ï¼‰3A60ï¼š0100H</p><p>è¿ç®—æ–¹æ³•ï¼š</p><ul><li>å…ˆå°†ç¬¬ä¸€ä¸ªå¯„å­˜å™¨çš„æ•°å€¼Ã—16,å³åé¢åŠ ä¸ª0. </li><li>å†å°†å®ƒç¬¬äºŒä¸ªå¯„å­˜å™¨ä¸­çš„åç§»é‡ç›¸åŠ å³å¯</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java">  <span class="token number">12000</span>H        ff000H      <span class="token number">3</span>A600H<span class="token operator">+</span>  <span class="token number">3500</span>H     <span class="token operator">+</span>   <span class="token number">0458</span>H    <span class="token operator">+</span>  <span class="token number">0100</span>h<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>  <span class="token number">15500</span>H       <span class="token number">0F</span>F458H      <span class="token number">3</span>A700H<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>æ®µåŸºåœ°å€è£…å…¥å¦‚ä¸‹æ•°å€¼,åˆ™æ¯æ®µçš„èµ·å§‹åœ°å€å’Œç»“æŸåœ°å€å„æ˜¯ä»€ä¹ˆ?</li></ol><p>ï¼ˆ1ï¼‰1200H      ï¼ˆ2ï¼‰3F05H        ï¼ˆ3ï¼‰0FFEH</p><p>è¿ç®—æ–¹æ³•ï¼š16è¿›åˆ¶(0-F) F:15  é€¢16è¿›1</p><ul><li>èµ·å§‹åœ°å€: æ®µåŸºåœ°å€Ã—16,å³åé¢åŠ ä¸ª0</li><li>ç»“æŸåœ°å€: æ®µåŸºåœ°å€Ã—16+FFFFH</li></ul><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token number">12000</span>H <span class="token operator">~</span> <span class="token number">21F</span>FFH     <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token number">3F</span><span class="token number">050</span>H <span class="token operator">~</span> <span class="token number">4F</span><span class="token number">04F</span>H     <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token number">0F</span>FE0H <span class="token operator">~</span> <span class="token number">1F</span>FDFH    <span class="token number">12000</span>H                  <span class="token number">3F</span><span class="token number">050</span>H                  <span class="token number">0F</span>FE0H<span class="token operator">+</span>    FFFFH               <span class="token operator">+</span>   FFFFH               <span class="token operator">+</span>   FFFFH<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>    <span class="token number">21F</span>FFH                  <span class="token number">4F</span><span class="token number">04F</span>H                  <span class="token number">1F</span>FDFH<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="4"><li>è®¾SS:SP = 2000:0300H,åˆ™å †æ ˆåœ¨å†…å­˜ä¸­çš„ç‰©ç†åœ°å€èŒƒå›´æ˜¯ä»€ä¹ˆ?æ‰§è¡Œä¸¤æ¡pushæŒ‡ä»¤å,SS:SP=?å†æ‰§è¡Œä¸€æ¡POPæŒ‡ä»¤å,SS:SP=?</li></ol><pre class="line-numbers language-java" data-language="java"><code class="language-java">ä¹Ÿå°±æ˜¯æ±‚ç‰©ç†åœ°å€<span class="token operator">:</span> <span class="token number">20000</span>H <span class="token operator">~</span> <span class="token number">202f</span>fHå…¥æ ˆ<span class="token operator">:</span>SS<span class="token operator">:</span>SP<span class="token operator">:</span> <span class="token number">2000</span><span class="token operator">:</span><span class="token number">02F</span>CH    <span class="token number">0300</span>H              <span class="token operator">-</span>  <span class="token number">0004</span>H <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>    <span class="token number">02F</span>CHå‡ºæ ˆ<span class="token operator">:</span>SS<span class="token operator">:</span>SP<span class="token operator">:</span> <span class="token number">2000</span><span class="token operator">:</span><span class="token number">02F</span>EH    <span class="token number">02F</span>CH <span class="token operator">+</span>  <span class="token number">0002</span>H <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>    <span class="token number">02F</span>EH<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="5"><li>8086å·¥ä½œäºæœ€å°æ¨¡å¼æ—¶,æ‰§è¡Œå­˜å‚¨å™¨è¯»æ€»çº¿å‘¨æœŸ,T1~T4å‘¨æœŸä¸­ä¸»è¦å®Œæˆå“ªäº›å·¥ä½œ?</li></ol><ul><li><p>T1: M/*IO,åœ°å€å‡ºç°20ä½çš„åœ°å€</p></li><li><p>T2: AD15â€“AD0 åœ°å€æ’¤é”€,æˆé«˜é˜»,A19â€“A16ä¼ è¾“çŠ¶æ€ä¿¡æ¯</p></li><li><p>T3: é‡‡æ ·READYä¿¡æ¯,å¦‚ä¸º1åˆ™CPUè¯»å–æ•°æ®,å¦åˆ™æ’å…¥ç­‰å¾…å‘¨æœŸ</p></li><li><p>T4: æ•°æ®ä»æ•°æ®æ€»çº¿ä¸Šæ’¤é”€</p></li></ul><h3 id="4-8086çš„å¯»å€æ–¹å¼å’ŒæŒ‡ä»¤ç³»ç»Ÿ"><a href="#4-8086çš„å¯»å€æ–¹å¼å’ŒæŒ‡ä»¤ç³»ç»Ÿ" class="headerlink" title="4.8086çš„å¯»å€æ–¹å¼å’ŒæŒ‡ä»¤ç³»ç»Ÿ"></a>4.8086çš„å¯»å€æ–¹å¼å’ŒæŒ‡ä»¤ç³»ç»Ÿ</h3><p><img src="https://img-blog.csdnimg.cn/0c1c7d9e10fa468e80946079b9472631.png" alt="å¯»å€æ–¹å¼åˆ¤æ–­"></p><p><img src="https://img-blog.csdnimg.cn/2ad3be2d094a498aa01126bce95dc7ce.png" alt="æŒ‡ä»¤åˆ¤æ–­"></p><ol><li>å·²çŸ¥:DS=1000H,BX=0200H,SI=02H,å†…å­˜ 10200H ~ 10205Hå•å…ƒçš„å†…å®¹åˆ†åˆ«ä¸º10H,2AH,3CH46H,59H,6BH.ä¸‹åˆ—æ¯æ¡æŒ‡ä»¤æ‰§è¡Œå®ŒåAXå¯„å­˜å™¨çš„å†…å®¹å„æ˜¯ä»€ä¹ˆ?</li></ol><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">// æ–¹æ³•: (6): 0200+02+02=0204H  ç„¶åä»å†…å®¹ 0-5 ä¸­æ•°åˆ°ä¸‹æ ‡ç¬¬å››ä¸ª(ä¹Ÿå°±æ˜¯ç¬¬äº”ä¸ªæ•°) ç„¶åç­”æ¡ˆå°±æ˜¯åé¢é‚£ä¸ªæ•°åŠ æ•°åˆ°çš„é‚£ä¸ªæ•°,å³ 6B59H</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token class-name">MOV</span> AX <span class="token punctuation">,</span> <span class="token number">0200</span>H     <span class="token number">0200</span>H      <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token class-name">MOV</span> AX <span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">200</span>H<span class="token punctuation">]</span>       <span class="token number">2</span>A10H<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token class-name">MOV</span> AX <span class="token punctuation">,</span> <span class="token class-name">BX</span>        <span class="token number">0200</span>H      <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token class-name">MOV</span> AX <span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">[</span>BX<span class="token punctuation">]</span>        <span class="token number">5946</span>H<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token class-name">MOV</span> AX <span class="token punctuation">,</span> <span class="token punctuation">[</span>BX<span class="token operator">+</span>SI<span class="token punctuation">]</span>   <span class="token number">463</span>CH      <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token class-name">MOV</span> AX <span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">[</span>BX<span class="token operator">+</span>SI<span class="token punctuation">]</span>     <span class="token number">6</span>B59H<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre><ol start="2"><li>è®¾DS=1000Hï¼ŒES=2000Hï¼ŒSS=3500Hï¼ŒSI=00A0Hï¼ŒDI=0024Hï¼ŒBX=0100Hï¼ŒBP=0200Hï¼Œæ•°æ®æ®µä¸­å˜é‡åä¸º VAL çš„åç§»åœ°å€å€¼ä¸º 0030Hï¼Œè¯•è¯´æ˜ä¸‹åˆ—æºæ“ä½œæ•°å­—æ®µçš„å¯»å€æ–¹å¼æ˜¯ä»€ä¹ˆ?ç‰©ç†åœ°å€å€¼æ˜¯å¤šå°‘?</li></ol><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token comment">//æ–¹æ³•: æœ‰BX,SI ç›´æ¥ç”¨DS=1000HÃ—16=10000H,å†åŠ ä¸Šåé¢å¯¹åº”çš„å€¼å³å¯</span><span class="token comment">//      æœ‰ES ç›´æ¥ç”¨ES=2000HÃ—16=20000H,å†åŠ ä¸Šåé¢å¯¹åº”çš„å€¼å³å¯</span><span class="token comment">//      æœ‰BP ç›´æ¥ç”¨SS=3500HÃ—16=35000H,å†åŠ ä¸Šåé¢å¯¹åº”çš„å€¼å³å¯</span><span class="token comment">// æ€»ç»“: BP ç”¨ SS ES ç”¨ ES å…¶ä½™éƒ½ç”¨ DS</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>MOV AXï¼Œ<span class="token punctuation">[</span><span class="token number">100</span>H<span class="token punctuation">]</span>      ç›´æ¥<span class="token punctuation">,</span><span class="token number">10100</span>H        <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>MOV AXï¼ŒVAL             ç›´æ¥ï¼Œ<span class="token number">10030</span>H<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>MOV AXï¼Œ<span class="token punctuation">[</span>BX<span class="token punctuation">]</span>        å¯„å­˜å™¨é—´æ¥<span class="token punctuation">,</span><span class="token number">10100</span>H <span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>MOV AXï¼ŒES<span class="token operator">:</span><span class="token punctuation">[</span>BX<span class="token punctuation">]</span>         å¯„å­˜å™¨é—´æ¥ï¼Œ<span class="token number">20100</span>H<span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>MOV AXï¼Œ<span class="token punctuation">[</span>SI<span class="token punctuation">]</span>        å¯„å­˜å™¨é—´æ¥<span class="token punctuation">,</span><span class="token number">100</span>A0H        <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>MOV AXï¼Œ<span class="token punctuation">[</span>BX<span class="token operator">+</span><span class="token number">10</span>H<span class="token punctuation">]</span>        å¯„å­˜å™¨ç›¸å¯¹ï¼Œ<span class="token number">10110</span>H<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>MOV AXï¼Œ<span class="token punctuation">[</span>BP<span class="token punctuation">]</span>        å¯„å­˜å™¨é—´æ¥<span class="token punctuation">,</span><span class="token number">35200</span>H        <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>MOV AXï¼ŒVAL<span class="token punctuation">[</span>BP<span class="token operator">+</span>SI<span class="token punctuation">]</span>     ç›¸å¯¹åŸºå€å˜å€ï¼Œ<span class="token number">352D</span><span class="token number">0</span>H<span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span>MOV AXï¼ŒVAL<span class="token punctuation">[</span>BX<span class="token operator">+</span>DI<span class="token punctuation">]</span>  ç›¸å¯¹åŸºå€å˜å€<span class="token punctuation">,</span><span class="token number">10154</span>H      <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>MOV AXï¼Œ<span class="token punctuation">[</span>BP<span class="token operator">+</span>DI<span class="token punctuation">]</span>        åŸºå€å˜å€ï¼Œ<span class="token number">35224</span>H<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ol start="3"><li>å·²çŸ¥ AX=2508Hï¼ŒBX=0F36Hï¼ŒCX=0004Hï¼ŒDX=1864Hï¼Œæ±‚ä¸‹åˆ—æ¯æ¡æŒ‡ä»¤æ‰§è¡Œåçš„ç»“æœæ˜¯ä»€ä¹ˆ?æ ‡å¿—ä½ CF ç­‰äºä»€ä¹ˆ?    <strong>AX(2508H) = AH(25H)+AL(08H)</strong>           </li></ol><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token class-name">AND</span> AH<span class="token punctuation">,</span>CL<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token class-name">OR</span> BL<span class="token punctuation">,</span><span class="token number">30</span>H <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token class-name">NOT</span> AX<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span> <span class="token class-name">XOR</span> CX<span class="token punctuation">,</span><span class="token number">0F</span>FFOH    <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span> <span class="token class-name">TEST</span> DH<span class="token punctuation">,</span><span class="token number">0F</span>H      <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token class-name">CMP</span> CX<span class="token punctuation">,</span><span class="token number">00</span>H<span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span> <span class="token class-name">SHR</span> DX<span class="token punctuation">,</span>CL        <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token class-name">SAR</span> AL<span class="token punctuation">,</span><span class="token number">1</span>         <span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> <span class="token class-name">SHL</span> BH<span class="token punctuation">,</span>CL<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token class-name">SAL</span> AX<span class="token punctuation">,</span><span class="token number">1</span>        <span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token class-name">RCL</span> BX<span class="token punctuation">,</span><span class="token number">1</span>        <span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> <span class="token class-name">ROR</span> DX<span class="token punctuation">,</span>CL<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> AH <span class="token operator">=</span> <span class="token number">25</span>H  CL <span class="token operator">=</span> <span class="token number">04</span>H        <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>     BL <span class="token operator">=</span> <span class="token number">36</span>H                  <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>   AX <span class="token operator">=</span> <span class="token number">2508</span>H    <span class="token number">100101</span>B                           <span class="token number">110110</span>B             <span class="token punctuation">(</span>å–å<span class="token punctuation">)</span> <span class="token number">00100101</span>B <span class="token number">00001000</span>B      <span class="token operator">*</span> <span class="token number">000100</span>B                   <span class="token punctuation">(</span>âˆ¨<span class="token punctuation">)</span>    <span class="token number">110000</span>B                    <span class="token number">11011010</span>B <span class="token number">11110111</span>B<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>               <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>            <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>          <span class="token number">000100</span>B <span class="token operator">=</span> <span class="token number">04</span>H                     <span class="token number">110110</span>B  <span class="token operator">=</span> <span class="token number">36</span>H                   DAF7H<span class="token number">04</span>æ›¿æ¢AHçš„<span class="token number">25</span> <span class="token operator">:</span> AX <span class="token operator">=</span> <span class="token number">0408</span>H         <span class="token number">36</span>æ›¿æ¢BLçš„<span class="token number">36</span> <span class="token operator">:</span> BX <span class="token operator">=</span> <span class="token number">0F</span><span class="token number">36</span>H      AXå³åŸ<span class="token number">2508</span>Hçš„BCDæ•°è½¬<span class="token number">2</span>è¿›åˆ¶å–åï¼Œä¸ºDAF7H<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>  å¼‚æˆ–è¿ç®—                  <span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>     é€»è¾‘ä¸è¿ç®—                <span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span>    æ¯”è¾ƒ    <span class="token number">0000</span> <span class="token number">0000</span> <span class="token number">0000</span> <span class="token number">0100</span>B              <span class="token number">00011000</span>B                       <span class="token number">0004</span>H  <span class="token number">0</span> <span class="token number">1111</span> <span class="token number">1111</span> <span class="token number">1111</span> <span class="token number">0000</span>B      <span class="token punctuation">(</span>âˆ§<span class="token punctuation">)</span>    <span class="token number">00001111</span>B                  <span class="token operator">-</span>     <span class="token number">00</span>H<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>         <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>            <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>        <span class="token number">1111</span> <span class="token number">1111</span> <span class="token number">1111</span> <span class="token number">0100</span>B              <span class="token number">00001000</span>B                       <span class="token number">0004</span>Hæºæ“ä½œæ•°å’Œç›®çš„æ“ä½œæ•°è½¬æ¢ä¸ºBCDç        ä¸¤æ“ä½œæ•°é€»è¾‘ä¸è¿ç®—ç»“æœäºŒè¿›åˆ¶       å°†ç›®çš„æ“ä½œæ•°å‡å»æºæ“ä½œæ•°ï¼Œç»“æœä¸è¿”å›åˆ°ç›®çš„çš„äºŒè¿›åˆ¶æ•°ï¼Œå¹¶è¿›è¡Œå¼‚æˆ–è¿ç®—ã€‚          æ•°æœ‰<span class="token number">1</span>ï¼Œé›¶æ ‡å¿—ä½ZFå–<span class="token number">0</span><span class="token punctuation">,</span>ç»“æœä¸è¿”å›ã€‚  æ“ä½œæ•°ï¼Œä»…å°†ç»“æœåæ˜ åœ¨æ ‡å¿—ä½ã€‚      CX<span class="token operator">=</span><span class="token number">0F</span>FF4Hã€‚                      DX<span class="token operator">=</span><span class="token number">01864</span>H                      CX<span class="token operator">=</span><span class="token number">0004</span>H<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>     <span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span>  é€»è¾‘å³ç§»                  <span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> AL <span class="token operator">=</span> <span class="token number">08</span>H                       <span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span> BH <span class="token operator">=</span> <span class="token number">0F</span>H CL <span class="token operator">=</span> <span class="token number">04</span>H   æœ€ä½ä½è¿›å…¥CFï¼Œæœ€é«˜ä½è¡¥<span class="token number">0.</span>           <span class="token number">1000</span>B å³ç§»ä¸€ä½                     <span class="token number">1111</span>B å·¦ç§»å››ä½   <span class="token number">1864</span><span class="token operator">/</span><span class="token number">2</span><span class="token operator">^</span><span class="token number">4</span><span class="token operator">=</span><span class="token number">0186</span>H                    <span class="token number">100</span>B <span class="token punctuation">(</span><span class="token number">04</span>H<span class="token punctuation">)</span>                       <span class="token number">11110000</span>B  <span class="token punctuation">(</span>F0H<span class="token punctuation">)</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>               <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>                <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>        DX<span class="token operator">=</span><span class="token number">0186</span>H                    <span class="token number">04</span>Hæ›¿æ¢ALçš„<span class="token number">08</span>Hå³å¯ <span class="token operator">:</span> AX <span class="token operator">=</span> <span class="token number">2504</span>H      F0æ›¿æ¢BHçš„<span class="token number">0F</span>å³å¯ BX <span class="token operator">:</span> F036H<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span>                <span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>  ç®—æ•°å·¦ç§»                 <span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>  è¿›ä½çš„å¾ªç¯å·¦ç§»                 <span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span> å¾ªç¯å³ç§»   AX<span class="token operator">=</span><span class="token number">2508</span>H                           BX<span class="token operator">=</span><span class="token number">0F</span><span class="token number">36</span>H                        DX<span class="token operator">=</span><span class="token number">1864</span>H CL<span class="token operator">=</span><span class="token number">04</span>H<span class="token operator">=</span><span class="token number">2</span><span class="token operator">^</span><span class="token number">4</span><span class="token operator">=</span><span class="token number">16</span> <span class="token operator">*</span>       <span class="token number">2</span>                          <span class="token operator">*</span>       <span class="token number">2</span>                         DX<span class="token operator">=</span><span class="token number">1864</span>H<span class="token operator">/</span><span class="token number">16</span><span class="token operator">=</span><span class="token number">186</span>H<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token number">.4</span>  <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>               <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>               <span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>       <span class="token number">1</span>ä»£è¡¨å·¦ç§»ä¸€ä½ï¼Œå³<span class="token operator">*</span><span class="token number">2</span><span class="token operator">^</span><span class="token number">1</span>               <span class="token number">1</span>ä»£è¡¨å·¦ç§»ä¸€ä½ï¼Œå³<span class="token operator">*</span><span class="token number">2</span><span class="token operator">^</span><span class="token number">1</span>                     AX<span class="token operator">=</span><span class="token number">4</span>A10H                      BX<span class="token operator">=</span><span class="token number">1E6</span>CH                        å¾ªç¯å³ç§»å°†ä½™æ•°æ”¾åœ¨æœ€å·¦è¾¹ï¼Œ<span class="token number">4186</span>H<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li><strong>ä¸­æ–­æŒ‡ä»¤</strong>æ˜¯æŒ‡è®¡ç®—æœºåœ¨æ‰§è¡Œæ­£å¸¸çš„ç¨‹åºæ—¶,ç”±äºæŸäº›äº‹ä»¶çš„å‘ç”Ÿ,éœ€è¦æš‚æ—¶ä¸­æ­¢å½“å‰ç¨‹åºçš„è¿è¡Œ,è½¬åˆ°ä¸­æ–­æœåŠ¡ç¨‹åºå»ä¸ºä¸´æ—¶å‘ç”Ÿçš„äº‹ä»¶æœåŠ¡,ç»ˆç«¯æœåŠ¡ç¨‹åºæ‰§è¡Œå®Œæ¯•å,åˆè¿”å›æ­£å¸¸ç¨‹åºç»§ç»­è¿è¡Œ,è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºä¸­æ–­</li><li><strong>æ±‡ç¼–è¯­è¨€</strong>ä¹Ÿç§°ä¸ºç¬¦å·è¯­è¨€,ç”¨åŠ©è®°ç¬¦æ¥ä»£æ›¿äºŒè¿›åˆ¶çš„æœºå™¨æŒ‡ä»¤æ“ä½œç ,æ˜¯ä¸€ç³»åˆ—æŒ‡ä»¤åŠŸèƒ½çš„è‹±æ–‡ç¼©å†™</li><li><strong>ä½</strong>:äºŒè¿›åˆ¶æ•°çš„æ¯ä¸€ä½æ˜¯ç»„æˆäºŒè¿›åˆ¶ä¿¡æ¯çš„æœ€å°å•ä½</li><li><strong>å­—èŠ‚</strong>:8ä¸ªäºŒè¿›åˆ¶ä¿¡æ¯ç»„æˆçš„ä¸€ä¸ªå•ä½ç§°ä¸º1ä¸ªå­—èŠ‚</li><li><strong>å­—</strong>:16ä¸ªäºŒè¿›åˆ¶ä¹Ÿå°±æ˜¯ä¸¤ä¸ªå­—èŠ‚</li><li><strong>å­—é•¿</strong>:å†³å®šè®¡ç®—æœºå†…éƒ¨ä¸€æ¬¡èƒ½å¤„ç†äºŒè¿›åˆ¶ä»£ç çš„ä½æ•°</li><li><strong>ASCAII</strong>:ç”¨7ä½ä»£ç æ¥è¡¨ç¤ºè®¡ç®—æœºä¸­å­˜å‚¨çš„å­—æ¯æ•°ç»„å­—ç¬¦</li><li>äºŒè¿›åˆ¶ä»£ç ä»¥æŒ‡ä»¤ç»„çš„å½¢å¼å­˜å‚¨åœ¨è®¡ç®—æœºä¸­ç§°ä¸º<strong>ç¨‹åº</strong></li><li><strong>è®¡ç®—æœºåŸºæœ¬ç»„æˆ</strong>:è¿ç®—å™¨æ§åˆ¶å™¨å­˜å‚¨å™¨,è¾“å…¥è®¾å¤‡è¾“å‡ºè®¾å¤‡</li><li>ä¸€å°è®¡ç®—æœºæ‰€èƒ½è¯†åˆ«å’Œæ‰§è¡Œçš„å…¨éƒ¨æŒ‡ä»¤ç§°ä¸ºè¯¥æœºå™¨çš„<strong>æŒ‡ä»¤é›†</strong></li><li>ç”¨äºŒè¿›åˆ¶å½¢å¼è¡¨ç¤ºçš„æŒ‡ä»¤ç§°ä¸º<strong>æœºå™¨ç </strong></li><li>æ¯ä¸ªå•å…ƒæœ‰ä¸€ä¸ªç»å¯¹åœ°å€ç§°ä¸º<strong>ç‰©ç†åœ°å€</strong> èŒƒå›´ 00000~fffffh</li><li>20ä½ç‰©ç†åœ°å€ = æ®µåŸºåœ°å€*16+16ä½åç§»åœ°å€</li><li>8086æœ€åŸºæœ¬çš„å·¥ä½œæ˜¯å¯¹å­˜å‚¨å™¨æˆ–ioç«¯å£è¿›è¡Œè¯»å†™æ“ä½œ</li><li>Cpuå®Œæˆä¸€æ¬¡è®¿é—®å­˜å‚¨å™¨æˆ–ioç«¯å£çš„æ—¶é—´ç§°ä¸ºæ€»çº¿å‘¨æœŸ,æ‰§è¡Œä¸€æ¡æŒ‡ä»¤çš„æ—¶é—´ç§°ä¸º<strong>æŒ‡ä»¤å‘¨æœŸ</strong></li><li>æ¯æ¡æŒ‡ä»¤çš„é•¿çŸ­ä¸åŒ,ä¸€ä¸ªæŒ‡ä»¤å‘¨æœŸå¯ä»¥æœ‰ä¸€ä¸ªæˆ–å‡ ä¸ªæ€»çº¿å‘¨æœŸç»„æˆ</li><li><strong>æŒ‡ä»¤æ–¹å¼</strong>æ˜¯æŒ‡ä»¤ä¸­è¯´æ˜æ“ä½œæ•°æ‰€åœ¨åœ°å€çš„æ–¹æ³•</li></ul>]]></content>
      
      
      <categories>
          
          <category> å¾®æœºåŸç† </category>
          
      </categories>
      
      
        <tags>
            
            <tag> åŸºç¡€ç†è®º </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>IDEA&amp;Pycharmé…ç½®</title>
      <link href="/2021-09-19-idea-pycharm-pei-zhi.html"/>
      <url>/2021-09-19-idea-pycharm-pei-zhi.html</url>
      
        <content type="html"><![CDATA[<h3 id="IntelliJ-IDEA"><a href="#IntelliJ-IDEA" class="headerlink" title="IntelliJ IDEA"></a>IntelliJ IDEA</h3><h4 id="IDEA-æäº¤-git"><a href="#IDEA-æäº¤-git" class="headerlink" title="IDEA æäº¤ git"></a>IDEA æäº¤ git</h4><ol><li>åˆ›å»ºä¸€ä¸ªç©ºé¡¹ç›®</li><li>ç‚¹å‡»å¦‚å›¾æ‰€ç¤º</li></ol><p><img src="https://img-blog.csdnimg.cn/275115ac9cc843d0bdb001d8ec7f0fc4.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAd2VpeGluXzQ1MjAwNzM5,size_20,color_FFFFFF,t_70,g_se,x_16" alt="åˆ›å»º mercurial å­˜å‚¨åº“"></p><ol start="3"><li>ä¸‹ä¸€æ­¥ ç‚¹å‡»å¦‚å›¾æ‰€ç¤º</li></ol><p><img src="https://img-blog.csdnimg.cn/f6324e3f89684acb9f4216baf29aeeae.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAd2VpeGluXzQ1MjAwNzM5,size_20,color_FFFFFF,t_70,g_se,x_16" alt="add+ commit "></p><ol start="4"><li>å†ç‚¹å‡»å¦‚å›¾æ‰€ç¤º<br><img src="https://img-blog.csdnimg.cn/e1718aea99f04c18b72bc675d042700f.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAd2VpeGluXzQ1MjAwNzM5,size_20,color_FFFFFF,t_70,g_se,x_16" alt="pushä»£ç åˆ°git"></li><li>æç¤ºè¾“å…¥ä»“åº“åœ°å€ è¾“å…¥å³å¯æäº¤ä»£ç ,å¦‚å›¾æ‰€ç¤º</li></ol><p><img src="https://img-blog.csdnimg.cn/1abec00e879f4c90a48272844a9acbf9.png?x-oss-process=image/watermark,type_ZHJvaWRzYW5zZmFsbGJhY2s,shadow_50,text_Q1NETiBAd2VpeGluXzQ1MjAwNzM5,size_20,color_FFFFFF,t_70,g_se,x_16" alt="æµ‹è¯•æˆåŠŸ"></p><h4 id="ä¿®æ”¹æ–‡ä»¶åå†æ¬¡æäº¤git"><a href="#ä¿®æ”¹æ–‡ä»¶åå†æ¬¡æäº¤git" class="headerlink" title="ä¿®æ”¹æ–‡ä»¶åå†æ¬¡æäº¤git"></a>ä¿®æ”¹æ–‡ä»¶åå†æ¬¡æäº¤git</h4><p><img src="https://img-blog.csdnimg.cn/f8a993960b39472a85dcf99b3bbb25ee.png" alt="Commit File"><br><img src="https://img-blog.csdnimg.cn/0251244461204053a324587d08ce2a34.png" alt="Commit and Push"><br><img src="https://img-blog.csdnimg.cn/b19f6e0a3b414d199afc15a99e9983be.png" alt="Push"></p><hr><h4 id="IDEA-ç”Ÿæˆåºåˆ—åŒ–ç‰ˆæœ¬å·"><a href="#IDEA-ç”Ÿæˆåºåˆ—åŒ–ç‰ˆæœ¬å·" class="headerlink" title="IDEA ç”Ÿæˆåºåˆ—åŒ–ç‰ˆæœ¬å·"></a>IDEA ç”Ÿæˆåºåˆ—åŒ–ç‰ˆæœ¬å·</h4><p><img src="https://img-blog.csdnimg.cn/270faca20fed451a87502d4781967295.png" alt="IDEA ç”Ÿæˆåºåˆ—åŒ–ç‰ˆæœ¬å·é…ç½®"></p><p><img src="https://img-blog.csdnimg.cn/2fc708f00ac24de19ccba5941278938f.png" alt="ALT+Enter"></p><h4 id="debug"><a href="#debug" class="headerlink" title="debug"></a>debug</h4><p><img src="https://img-blog.csdnimg.cn/1be31dc81d6e40c3a47694178ac0e1ac.png" alt="debugèœå•æ "></p><p><code>Show Execution Point (Alt + F10)</code>ï¼šå¦‚æœä½ çš„å…‰æ ‡åœ¨å…¶å®ƒè¡Œæˆ–å…¶å®ƒé¡µé¢ï¼Œç‚¹å‡»è¿™ä¸ªæŒ‰é’®å¯è·³è½¬åˆ°å½“å‰ä»£ç æ‰§è¡Œçš„è¡Œã€‚</p><p> <code>Step Over (F8)</code>ï¼šæ­¥è¿‡ï¼Œä¸€è¡Œä¸€è¡Œåœ°å¾€ä¸‹èµ°ï¼Œå¦‚æœè¿™ä¸€è¡Œä¸Šæœ‰æ–¹æ³•ä¸ä¼šè¿›å…¥æ–¹æ³•ã€‚</p><p><code>Step Into (F7)</code>ï¼šæ­¥å…¥ï¼Œå¦‚æœå½“å‰è¡Œæœ‰æ–¹æ³•ï¼Œå¯ä»¥è¿›å…¥æ–¹æ³•å†…éƒ¨ï¼Œä¸€èˆ¬ç”¨äºè¿›å…¥è‡ªå®šä¹‰æ–¹æ³•å†…ï¼Œä¸ä¼šè¿›å…¥å®˜æ–¹ç±»åº“çš„æ–¹æ³•ã€‚</p><p><code> Force Step Into (Alt + Shift + F7)</code>ï¼šå¼ºåˆ¶æ­¥å…¥ï¼Œèƒ½è¿›å…¥ä»»ä½•æ–¹æ³•ï¼ŒæŸ¥çœ‹åº•å±‚æºç çš„æ—¶å€™å¯ä»¥ç”¨è¿™ä¸ªè¿›å…¥å®˜æ–¹ç±»åº“çš„æ–¹æ³•ã€‚</p><p><code>Step Out (Shift + F8)</code>ï¼šæ­¥å‡ºï¼Œä»æ­¥å…¥çš„æ–¹æ³•å†…é€€å‡ºåˆ°æ–¹æ³•è°ƒç”¨å¤„ï¼Œæ­¤æ—¶æ–¹æ³•å·²æ‰§è¡Œå®Œæ¯•ï¼Œåªæ˜¯è¿˜æ²¡æœ‰å®Œæˆèµ‹å€¼ã€‚</p><p><code> Drop Frame (é»˜è®¤æ— )</code>ï¼šå›é€€æ–­ç‚¹ï¼Œåé¢ç« èŠ‚è¯¦ç»†è¯´æ˜ã€‚</p><p><code> Run to Cursor (Alt + F9)</code>ï¼šè¿è¡Œåˆ°å…‰æ ‡å¤„ï¼Œä½ å¯ä»¥å°†å…‰æ ‡å®šä½åˆ°ä½ éœ€è¦æŸ¥çœ‹çš„é‚£ä¸€è¡Œï¼Œç„¶åä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ï¼Œä»£ç ä¼šè¿è¡Œè‡³å…‰æ ‡è¡Œï¼Œè€Œä¸éœ€è¦æ‰“æ–­ç‚¹ã€‚</p><p><code>Evaluate Expression (Alt + F8)</code>ï¼šè®¡ç®—è¡¨è¾¾å¼ã€‚</p><h4 id="é…ç½®tomcat"><a href="#é…ç½®tomcat" class="headerlink" title="é…ç½®tomcat"></a>é…ç½®tomcat</h4><p><img src="https://img-blog.csdnimg.cn/440c0c61e40d4ab3a942650f4ec95c0d.png" alt="tomcat"></p><p>[run-editConfiguration]</p><p><img src="https://img-blog.csdnimg.cn/53125e8cdd14499da0f448e742469393.png" alt="æ·»åŠ tomcat"></p><p><img src="https://img-blog.csdnimg.cn/dd64e71c531c4e9da5c2d62824c1d5fe.png" alt="tomcat"></p><p>[file-new moudle]</p><p><img src="https://img-blog.csdnimg.cn/9cce40a873cd4257bab02706f4f865fe.png" alt="åˆ›å»ºé¡¹ç›®"></p><p><img src="https://img-blog.csdnimg.cn/661c88634bc74a21a36981983521050a.png" alt="æŒ‡å®šé¡¹ç›®"></p><h4 id="mavené¡¹ç›®ç®¡ç†"><a href="#mavené¡¹ç›®ç®¡ç†" class="headerlink" title="mavené¡¹ç›®ç®¡ç†"></a>mavené¡¹ç›®ç®¡ç†</h4><ul><li>åŒå‡»ctrlï¼Œé€‰æ‹©é¡¹ç›®ï¼Œæ‰§è¡Œå‘½ä»¤</li></ul><p><img src="https://img-blog.csdnimg.cn/c85e7ccc818e4ea3b173442f15fcab9f.png" alt="mavené¡¹ç›®ç®¡ç†æ“ä½œ"></p><h4 id="åˆ›å»ºspringbooté¡¹ç›®å¤±è´¥"><a href="#åˆ›å»ºspringbooté¡¹ç›®å¤±è´¥" class="headerlink" title="åˆ›å»ºspringbooté¡¹ç›®å¤±è´¥"></a>åˆ›å»ºspringbooté¡¹ç›®å¤±è´¥</h4><ul><li>é€‰æ‹©ç”¨é˜¿é‡Œäº‘åœ°å€(<a href="http://start.aliyun.com/)%E5%88%9B%E5%BB%BA%E5%8D%B3%E5%8F%AF">http://start.aliyun.com/)åˆ›å»ºå³å¯</a></li></ul><p><img src="https://img-blog.csdnimg.cn/c25170d406c84c34b969ca39c22d35f6.png" alt="æ›´æ¢åœ°å€"></p><h4 id="æ³¨è§£ç”Ÿæ•ˆæ¿€æ´»"><a href="#æ³¨è§£ç”Ÿæ•ˆæ¿€æ´»" class="headerlink" title="æ³¨è§£ç”Ÿæ•ˆæ¿€æ´»"></a>æ³¨è§£ç”Ÿæ•ˆæ¿€æ´»</h4><p><img src="https://img-blog.csdnimg.cn/98627ba52f8847edab68300ccdf05e3f.png" alt="æ³¨è§£ç”Ÿæ•ˆæ¿€æ´»"></p><h4 id="File-Typeæ–‡ä»¶è¿‡æ»¤"><a href="#File-Typeæ–‡ä»¶è¿‡æ»¤" class="headerlink" title="File Typeæ–‡ä»¶è¿‡æ»¤"></a>File Typeæ–‡ä»¶è¿‡æ»¤</h4><p><img src="https://img-blog.csdnimg.cn/99484db1e56340b599d188bf2090d63a.png" alt="File Typeæ–‡ä»¶è¿‡æ»¤"></p><h4 id="è§£å†³ï¼šError-java-æ— æ•ˆçš„æºå‘è¡Œç‰ˆ-12"><a href="#è§£å†³ï¼šError-java-æ— æ•ˆçš„æºå‘è¡Œç‰ˆ-12" class="headerlink" title="è§£å†³ï¼šError:java: æ— æ•ˆçš„æºå‘è¡Œç‰ˆ: 12"></a>è§£å†³ï¼šError:java: æ— æ•ˆçš„æºå‘è¡Œç‰ˆ: 12</h4><ul><li>æŒ‰ä½ Ctrl+alt+shift+s</li></ul><p><img src="https://img-blog.csdnimg.cn/2fae7ab95b124f50a3bdcbbcfef86b7b.png" alt="ç¬¬ä¸€æ­¥"><br><img src="https://img-blog.csdnimg.cn/21a06f0300644108b7613b4a33a86948.png" alt="ç¬¬äºŒæ­¥"><br><img src="https://img-blog.csdnimg.cn/04e12282bbca4c6d899a5c68afbddb8f.png" alt="ç¬¬ä¸‰æ­¥"></p><h4 id="å¯åŠ¨çƒ­éƒ¨ç½²"><a href="#å¯åŠ¨çƒ­éƒ¨ç½²" class="headerlink" title="å¯åŠ¨çƒ­éƒ¨ç½²"></a>å¯åŠ¨çƒ­éƒ¨ç½²</h4><ul><li>æ·»åŠ devtoolsä¾èµ–</li></ul><pre class="line-numbers language-XML" data-language="XML"><code class="language-XML">&lt;dependency&gt;    &lt;groupId&gt;org.springframework.boot&lt;&#x2F;groupId&gt;    &lt;artifactId&gt;spring-boot-devtools&lt;&#x2F;artifactId&gt;    &lt;scope&gt;runtime&lt;&#x2F;scope&gt;    &lt;optional&gt;true&lt;&#x2F;optional&gt;&lt;&#x2F;dependency&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><ul><li>çƒ­å¯åŠ¨æ’ä»¶</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">></span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">></span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fork</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fork</span><span class="token punctuation">></span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>addResources</span><span class="token punctuation">></span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>addResources</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">></span></span>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p><img src="https://img-blog.csdnimg.cn/2568153f3cce4a948edb703442ed6174.png" alt="å¯åŠ¨ABCD"></p><ul><li>Ctrl + shift + Alt + / é€‰æ‹© register</li></ul><p><img src="https://img-blog.csdnimg.cn/8903f77558b24d31af28daf4495a20d4.png" alt="å‹¾é€‰å³å¯"></p><ul><li>é‡å¯IDEA</li></ul><h3 id="Pycharm"><a href="#Pycharm" class="headerlink" title="Pycharm"></a>Pycharm</h3><h4 id="Pycharmåˆ›å»ºé¡¹ç›®"><a href="#Pycharmåˆ›å»ºé¡¹ç›®" class="headerlink" title="Pycharmåˆ›å»ºé¡¹ç›®"></a>Pycharmåˆ›å»ºé¡¹ç›®</h4><p><img src="https://img-blog.csdnimg.cn/78cd2f5a52bd4b56a07a9b94edb1a500.png" alt="ç¬¬ä¸€æ­¥"></p><p><img src="https://img-blog.csdnimg.cn/80d88ea4b77346cbb4df6c997e11871e.png" alt="ç¬¬äºŒæ­¥"></p><p><img src="https://img-blog.csdnimg.cn/576c07c52e8b447480707cc72840b226.png" alt="Create"></p><ul><li>å®‰è£…ç±»åº“çš„è¯ç›´æ¥cmdä¸­å®‰è£…å³å¯,å®‰è£…å®Œåå°±åœ¨anacondaä¸­äº†</li></ul><h4 id="SpringBootæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ–‡ä¹±ç "><a href="#SpringBootæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ–‡ä¹±ç " class="headerlink" title="SpringBootæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ–‡ä¹±ç "></a>SpringBootæ ¸å¿ƒé…ç½®æ–‡ä»¶ä¸­æ–‡ä¹±ç </h4><p><img src="https://img-blog.csdnimg.cn/99e0aa91457349ea822b89387d3c11df.png" alt="UTF-8 + âˆš"></p><h3 id="Pycharm-æäº¤git"><a href="#Pycharm-æäº¤git" class="headerlink" title="Pycharm æäº¤git"></a>Pycharm æäº¤git</h3><p><img src="https://img-blog.csdnimg.cn/5bcd42352f734a6e9ebf5003158f8ec2.png" alt="é…ç½®GIT executableåœ°å€"></p><p><img src="https://img-blog.csdnimg.cn/4f220ddb6dc24cfba3d99205964af5ed.png" alt="åˆ›å»ºtokens"></p><p><img src="https://img-blog.csdnimg.cn/d432dcc0bbef44a49a67ca68541fddf8.png" alt="è¾“å…¥åˆ›å»ºçš„å¯†é’¥å¹¶æµ‹è¯•"></p><p><img src="https://img-blog.csdnimg.cn/986af89f7d4c46a8b13ab19739653951.png" alt="åˆ›å»ºgitä»“åº“"></p><h4 id="ä½¿ç”¨pycharmè°ƒç”¨å…¶ä»–ç±»ä¸­çš„å‡½æ•°"><a href="#ä½¿ç”¨pycharmè°ƒç”¨å…¶ä»–ç±»ä¸­çš„å‡½æ•°" class="headerlink" title="ä½¿ç”¨pycharmè°ƒç”¨å…¶ä»–ç±»ä¸­çš„å‡½æ•°"></a>ä½¿ç”¨pycharmè°ƒç”¨å…¶ä»–ç±»ä¸­çš„å‡½æ•°</h4><p><img src="https://img-blog.csdnimg.cn/c4497cd45e01405c9300f53afaa43fc8.png" alt="Import function"></p><hr><h4 id="PyCharmä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜"><a href="#PyCharmä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜" class="headerlink" title="PyCharmä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜"></a>PyCharmä½¿ç”¨è¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜</h4><ul><li><p>ä½¿ç”¨pycharmå®‰è£…ç±»åº“æ—¶å®‰è£…å¤±è´¥,å¿…é¡»ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒæ‰èƒ½å®‰è£…æœ¬åœ°çš„ä¸è¡Œ</p></li><li><p>å¦‚æœè¦æœ¬åœ°å®‰è£…çš„è¯éœ€è¦åˆ°Scriptsç›®å½•ä¸‹ä½¿ç”¨pip install æ‰è¡Œ</p></li></ul><h3 id="Maven"><a href="#Maven" class="headerlink" title="Maven"></a>Maven</h3><ul><li>é˜¿é‡Œäº‘é•œåƒ F:\ideaMaven\apache-maven-3.6.3\conf\settings.xml</li></ul><pre class="line-numbers language-xml" data-language="xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirror</span><span class="token punctuation">></span></span>          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span><span class="token punctuation">></span></span>nexus-aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>id</span><span class="token punctuation">></span></span>     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mirrorOf</span><span class="token punctuation">></span></span>*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirrorOf</span><span class="token punctuation">></span></span>       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>Nexus aliyun<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>url</span><span class="token punctuation">></span></span>http://maven.aliyun.com/nexus/content/groups/public<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>url</span><span class="token punctuation">></span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mirror</span><span class="token punctuation">></span></span>  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      
      
      <categories>
          
          <category> ç³»ç»Ÿé…ç½® </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
            <tag> IDEA </tag>
            
            <tag> Pycharm </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
